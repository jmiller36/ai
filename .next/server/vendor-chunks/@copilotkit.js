/*
 * ATTENTION: An "eval-source-map" devtool has been used.
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file with attached SourceMaps in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
exports.id = "vendor-chunks/@copilotkit";
exports.ids = ["vendor-chunks/@copilotkit"];
exports.modules = {

/***/ "(ssr)/./node_modules/@copilotkit/react-ui/dist/index.css":
/*!**********************************************************!*\
  !*** ./node_modules/@copilotkit/react-ui/dist/index.css ***!
  \**********************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (\"a18ed77cf86f\");\nif (false) {}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvQGNvcGlsb3RraXQvcmVhY3QtdWkvZGlzdC9pbmRleC5jc3MiLCJtYXBwaW5ncyI6Ijs7OztBQUFBLGlFQUFlLGNBQWM7QUFDN0IsSUFBSSxLQUFVLEVBQUUsRUFBdUIiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9leGFtcGxlLXRvZG9zLWFwcC8uL25vZGVfbW9kdWxlcy9AY29waWxvdGtpdC9yZWFjdC11aS9kaXN0L2luZGV4LmNzcz8yNDQwIl0sInNvdXJjZXNDb250ZW50IjpbImV4cG9ydCBkZWZhdWx0IFwiYTE4ZWQ3N2NmODZmXCJcbmlmIChtb2R1bGUuaG90KSB7IG1vZHVsZS5ob3QuYWNjZXB0KCkgfVxuIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/@copilotkit/react-ui/dist/index.css\n");

/***/ }),

/***/ "(rsc)/./node_modules/@copilotkit/runtime/dist/index.js":
/*!********************************************************!*\
  !*** ./node_modules/@copilotkit/runtime/dist/index.js ***!
  \********************************************************/
/***/ ((module, __unused_webpack_exports, __webpack_require__) => {

eval("var __create = Object.create;\nvar __defProp = Object.defineProperty;\nvar __getOwnPropDesc = Object.getOwnPropertyDescriptor;\nvar __getOwnPropNames = Object.getOwnPropertyNames;\nvar __getProtoOf = Object.getPrototypeOf;\nvar __hasOwnProp = Object.prototype.hasOwnProperty;\nvar __name = (target, value) => __defProp(target, \"name\", { value, configurable: true });\nvar __commonJS = (cb, mod) => function __require() {\n  return mod || (0, cb[__getOwnPropNames(cb)[0]])((mod = { exports: {} }).exports, mod), mod.exports;\n};\nvar __export = (target, all) => {\n  for (var name in all)\n    __defProp(target, name, { get: all[name], enumerable: true });\n};\nvar __copyProps = (to, from3, except, desc) => {\n  if (from3 && typeof from3 === \"object\" || typeof from3 === \"function\") {\n    for (let key of __getOwnPropNames(from3))\n      if (!__hasOwnProp.call(to, key) && key !== except)\n        __defProp(to, key, { get: () => from3[key], enumerable: !(desc = __getOwnPropDesc(from3, key)) || desc.enumerable });\n  }\n  return to;\n};\nvar __toESM = (mod, isNodeMode, target) => (target = mod != null ? __create(__getProtoOf(mod)) : {}, __copyProps(\n  // If the importer is in node compatibility mode or this is not an ESM\n  // file that has been converted to a CommonJS file using a Babel-\n  // compatible transform (i.e. \"__esModule\" has not been set), then set\n  // \"default\" to the CommonJS \"module.exports\" for node compatibility.\n  isNodeMode || !mod || !mod.__esModule ? __defProp(target, \"default\", { value: mod, enumerable: true }) : target,\n  mod\n));\nvar __toCommonJS = (mod) => __copyProps(__defProp({}, \"__esModule\", { value: true }), mod);\n\n// package.json\nvar require_package = __commonJS({\n  \"package.json\"(exports, module2) {\n    module2.exports = {\n      name: \"@copilotkit/runtime\",\n      private: false,\n      homepage: \"https://github.com/CopilotKit/CopilotKit\",\n      repository: {\n        type: \"git\",\n        url: \"https://github.com/CopilotKit/CopilotKit.git\"\n      },\n      publishConfig: {\n        access: \"public\"\n      },\n      version: \"1.3.0\",\n      sideEffects: false,\n      main: \"./dist/index.js\",\n      module: \"./dist/index.mjs\",\n      exports: {\n        \".\": \"./dist/index.js\"\n      },\n      types: \"./dist/index.d.ts\",\n      license: \"MIT\",\n      scripts: {\n        build: 'tsup --onSuccess \"pnpm run generate-graphql-schema\"',\n        dev: 'tsup --watch --onSuccess \"pnpm run generate-graphql-schema\"',\n        test: \"jest --passWithNoTests\",\n        \"check-types\": \"tsc --noEmit\",\n        clean: \"rm -rf .turbo && rm -rf node_modules && rm -rf dist && rm -rf .next && rm -rf __snapshots__\",\n        \"generate-graphql-schema\": \"rm -rf __snapshots__ && ts-node ./scripts/generate-gql-schema.ts\"\n      },\n      devDependencies: {\n        \"@swc/core\": \"1.5.28\",\n        \"@types/express\": \"^4.17.21\",\n        \"@types/jest\": \"^29.5.4\",\n        \"@types/node\": \"^18.11.17\",\n        \"@whatwg-node/server\": \"^0.9.34\",\n        eslint: \"^8.56.0\",\n        \"eslint-config-custom\": \"workspace:*\",\n        jest: \"^29.6.4\",\n        nodemon: \"^3.1.3\",\n        \"ts-jest\": \"^29.1.1\",\n        \"ts-node\": \"^10.9.2\",\n        tsconfig: \"workspace:*\",\n        tsup: \"^6.7.0\",\n        typescript: \"^5.2.3\"\n      },\n      dependencies: {\n        \"@anthropic-ai/sdk\": \"^0.27.3\",\n        \"@copilotkit/shared\": \"workspace:*\",\n        \"@google/generative-ai\": \"^0.11.2\",\n        \"@graphql-yoga/plugin-defer-stream\": \"^3.3.1\",\n        \"@langchain/community\": \"^0.0.53\",\n        \"@langchain/core\": \"^0.1.61\",\n        \"@langchain/openai\": \"^0.0.28\",\n        \"class-transformer\": \"^0.5.1\",\n        express: \"^4.19.2\",\n        graphql: \"^16.8.1\",\n        \"graphql-scalars\": \"^1.23.0\",\n        \"graphql-yoga\": \"^5.3.1\",\n        \"groq-sdk\": \"^0.5.0\",\n        langchain: \"^0.1.36\",\n        openai: \"^4.50.0\",\n        pino: \"^9.2.0\",\n        \"pino-pretty\": \"^11.2.1\",\n        \"reflect-metadata\": \"^0.2.2\",\n        rxjs: \"^7.8.1\",\n        \"type-graphql\": \"2.0.0-rc.1\",\n        zod: \"^3.23.3\"\n      },\n      keywords: [\n        \"copilotkit\",\n        \"copilot\",\n        \"react\",\n        \"nextjs\",\n        \"nodejs\",\n        \"ai\",\n        \"assistant\",\n        \"javascript\",\n        \"automation\",\n        \"textarea\"\n      ]\n    };\n  }\n});\n\n// src/index.ts\nvar src_exports = {};\n__export(src_exports, {\n  AnthropicAdapter: () => AnthropicAdapter,\n  CopilotRuntime: () => CopilotRuntime,\n  GoogleGenerativeAIAdapter: () => GoogleGenerativeAIAdapter,\n  GroqAdapter: () => GroqAdapter,\n  GuardrailsValidationFailureResponse: () => GuardrailsValidationFailureResponse,\n  LangChainAdapter: () => LangChainAdapter,\n  MessageStreamInterruptedResponse: () => MessageStreamInterruptedResponse,\n  OpenAIAdapter: () => OpenAIAdapter,\n  OpenAIAssistantAdapter: () => OpenAIAssistantAdapter,\n  RemoteChain: () => RemoteChain,\n  UnifyAdapter: () => UnifyAdapter,\n  UnknownErrorResponse: () => UnknownErrorResponse,\n  buildSchema: () => buildSchema,\n  config: () => config,\n  copilotRuntimeNestEndpoint: () => copilotRuntimeNestEndpoint,\n  copilotRuntimeNextJSAppRouterEndpoint: () => copilotRuntimeNextJSAppRouterEndpoint,\n  copilotRuntimeNextJSPagesRouterEndpoint: () => copilotRuntimeNextJSPagesRouterEndpoint,\n  copilotRuntimeNodeExpressEndpoint: () => copilotRuntimeNodeExpressEndpoint,\n  copilotRuntimeNodeHttpEndpoint: () => copilotRuntimeNodeHttpEndpoint,\n  createContext: () => createContext,\n  flattenToolCallsNoDuplicates: () => flattenToolCallsNoDuplicates,\n  getCommonConfig: () => getCommonConfig\n});\nmodule.exports = __toCommonJS(src_exports);\nvar import_reflect_metadata = __webpack_require__(/*! reflect-metadata */ \"(rsc)/./node_modules/reflect-metadata/Reflect.js\");\n\n// src/lib/runtime/copilot-runtime.ts\nvar import_shared9 = __webpack_require__(/*! @copilotkit/shared */ \"(rsc)/./node_modules/@copilotkit/shared/dist/index.js\");\n\n// src/service-adapters/langchain/langserve.ts\nvar import_remote = __webpack_require__(/*! langchain/runnables/remote */ \"(rsc)/./node_modules/langchain/runnables/remote.cjs\");\nvar RemoteChain = class {\n  name;\n  description;\n  chainUrl;\n  parameters;\n  parameterType;\n  constructor(options) {\n    this.name = options.name;\n    this.description = options.description;\n    this.chainUrl = options.chainUrl;\n    this.parameters = options.parameters;\n    this.parameterType = options.parameterType || \"multi\";\n  }\n  async toAction() {\n    if (!this.parameters) {\n      await this.inferLangServeParameters();\n    }\n    return {\n      name: this.name,\n      description: this.description,\n      parameters: this.parameters,\n      handler: async (args) => {\n        const runnable = new import_remote.RemoteRunnable({\n          url: this.chainUrl\n        });\n        let input;\n        if (this.parameterType === \"single\") {\n          input = args[Object.keys(args)[0]];\n        } else {\n          input = args;\n        }\n        return await runnable.invoke(input);\n      }\n    };\n  }\n  async inferLangServeParameters() {\n    const supportedTypes = [\n      \"string\",\n      \"number\",\n      \"boolean\"\n    ];\n    let schemaUrl = this.chainUrl.replace(/\\/+$/, \"\") + \"/input_schema\";\n    let schema = await fetch(schemaUrl).then((res) => res.json()).catch(() => {\n      throw new Error(\"Failed to fetch langserve schema at \" + schemaUrl);\n    });\n    if (supportedTypes.includes(schema.type)) {\n      this.parameterType = \"single\";\n      this.parameters = [\n        {\n          name: \"input\",\n          type: schema.type,\n          description: \"The input to the chain\"\n        }\n      ];\n    } else if (schema.type === \"object\") {\n      this.parameterType = \"multi\";\n      this.parameters = Object.keys(schema.properties).map((key) => {\n        var _a;\n        let property = schema.properties[key];\n        if (!supportedTypes.includes(property.type)) {\n          throw new Error(\"Unsupported schema type\");\n        }\n        return {\n          name: key,\n          type: property.type,\n          description: property.description || \"\",\n          required: ((_a = schema.required) == null ? void 0 : _a.includes(key)) || false\n        };\n      });\n    } else {\n      throw new Error(\"Unsupported schema type\");\n    }\n  }\n};\n__name(RemoteChain, \"RemoteChain\");\n\n// src/service-adapters/openai/openai-adapter.ts\nvar import_openai = __toESM(__webpack_require__(/*! openai */ \"(rsc)/./node_modules/openai/index.js\"));\n\n// src/graphql/types/base/index.ts\nvar import_type_graphql = __webpack_require__(/*! type-graphql */ \"(rsc)/./node_modules/type-graphql/build/cjs/index.js\");\nfunction _ts_decorate(decorators, target, key, desc) {\n  var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n  if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\")\n    r = Reflect.decorate(decorators, target, key, desc);\n  else\n    for (var i = decorators.length - 1; i >= 0; i--)\n      if (d = decorators[i])\n        r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n  return c > 3 && r && Object.defineProperty(target, key, r), r;\n}\n__name(_ts_decorate, \"_ts_decorate\");\nfunction _ts_metadata(k, v) {\n  if (typeof Reflect === \"object\" && typeof Reflect.metadata === \"function\")\n    return Reflect.metadata(k, v);\n}\n__name(_ts_metadata, \"_ts_metadata\");\nvar BaseMessage = class {\n  id;\n  createdAt;\n};\n__name(BaseMessage, \"BaseMessage\");\n_ts_decorate([\n  (0, import_type_graphql.Field)(() => String),\n  _ts_metadata(\"design:type\", String)\n], BaseMessage.prototype, \"id\", void 0);\n_ts_decorate([\n  (0, import_type_graphql.Field)(() => Date),\n  _ts_metadata(\"design:type\", typeof Date === \"undefined\" ? Object : Date)\n], BaseMessage.prototype, \"createdAt\", void 0);\nBaseMessage = _ts_decorate([\n  (0, import_type_graphql.InputType)()\n], BaseMessage);\n\n// src/graphql/types/converted/index.ts\nvar TextMessage = class extends BaseMessage {\n  content;\n  role;\n};\n__name(TextMessage, \"TextMessage\");\nvar ActionExecutionMessage = class extends BaseMessage {\n  name;\n  arguments;\n  scope;\n};\n__name(ActionExecutionMessage, \"ActionExecutionMessage\");\nvar ResultMessage = class extends BaseMessage {\n  actionExecutionId;\n  actionName;\n  result;\n};\n__name(ResultMessage, \"ResultMessage\");\nvar AgentStateMessage = class extends BaseMessage {\n  threadId;\n  agentName;\n  nodeName;\n  runId;\n  active;\n  role;\n  state;\n  running;\n};\n__name(AgentStateMessage, \"AgentStateMessage\");\n\n// src/service-adapters/openai/utils.ts\nfunction limitMessagesToTokenCount(messages, tools, model, maxTokens) {\n  maxTokens || (maxTokens = maxTokensForOpenAIModel(model));\n  const result = [];\n  const toolsNumTokens = countToolsTokens(model, tools);\n  if (toolsNumTokens > maxTokens) {\n    throw new Error(`Too many tokens in function definitions: ${toolsNumTokens} > ${maxTokens}`);\n  }\n  maxTokens -= toolsNumTokens;\n  for (const message of messages) {\n    if (message.role === \"system\") {\n      const numTokens = countMessageTokens(model, message);\n      maxTokens -= numTokens;\n      if (maxTokens < 0) {\n        throw new Error(\"Not enough tokens for system message.\");\n      }\n    }\n  }\n  let cutoff = false;\n  const reversedMessages = [\n    ...messages\n  ].reverse();\n  for (const message of reversedMessages) {\n    if (message.role === \"system\") {\n      result.unshift(message);\n      continue;\n    } else if (cutoff) {\n      continue;\n    }\n    let numTokens = countMessageTokens(model, message);\n    if (maxTokens < numTokens) {\n      cutoff = true;\n      continue;\n    }\n    result.unshift(message);\n    maxTokens -= numTokens;\n  }\n  return result;\n}\n__name(limitMessagesToTokenCount, \"limitMessagesToTokenCount\");\nfunction maxTokensForOpenAIModel(model) {\n  return maxTokensByModel[model] || DEFAULT_MAX_TOKENS;\n}\n__name(maxTokensForOpenAIModel, \"maxTokensForOpenAIModel\");\nvar DEFAULT_MAX_TOKENS = 128e3;\nvar maxTokensByModel = {\n  // GPT-4\n  \"gpt-4o\": 128e3,\n  \"gpt-4o-2024-05-13\": 128e3,\n  \"gpt-4-turbo\": 128e3,\n  \"gpt-4-turbo-2024-04-09\": 128e3,\n  \"gpt-4-0125-preview\": 128e3,\n  \"gpt-4-turbo-preview\": 128e3,\n  \"gpt-4-1106-preview\": 128e3,\n  \"gpt-4-vision-preview\": 128e3,\n  \"gpt-4-1106-vision-preview\": 128e3,\n  \"gpt-4-32k\": 32768,\n  \"gpt-4-32k-0613\": 32768,\n  \"gpt-4-32k-0314\": 32768,\n  \"gpt-4\": 8192,\n  \"gpt-4-0613\": 8192,\n  \"gpt-4-0314\": 8192,\n  // GPT-3.5\n  \"gpt-3.5-turbo-0125\": 16385,\n  \"gpt-3.5-turbo\": 16385,\n  \"gpt-3.5-turbo-1106\": 16385,\n  \"gpt-3.5-turbo-instruct\": 4096,\n  \"gpt-3.5-turbo-16k\": 16385,\n  \"gpt-3.5-turbo-0613\": 4096,\n  \"gpt-3.5-turbo-16k-0613\": 16385,\n  \"gpt-3.5-turbo-0301\": 4097\n};\nfunction countToolsTokens(model, tools) {\n  if (tools.length === 0) {\n    return 0;\n  }\n  const json = JSON.stringify(tools);\n  return countTokens(model, json);\n}\n__name(countToolsTokens, \"countToolsTokens\");\nfunction countMessageTokens(model, message) {\n  return countTokens(model, message.content || \"\");\n}\n__name(countMessageTokens, \"countMessageTokens\");\nfunction countTokens(model, text) {\n  return text.length / 3;\n}\n__name(countTokens, \"countTokens\");\nfunction convertActionInputToOpenAITool(action) {\n  return {\n    type: \"function\",\n    function: {\n      name: action.name,\n      description: action.description,\n      parameters: JSON.parse(action.jsonSchema)\n    }\n  };\n}\n__name(convertActionInputToOpenAITool, \"convertActionInputToOpenAITool\");\nfunction convertMessageToOpenAIMessage(message) {\n  if (message instanceof TextMessage) {\n    return {\n      role: message.role,\n      content: message.content\n    };\n  } else if (message instanceof ActionExecutionMessage) {\n    return {\n      role: \"assistant\",\n      tool_calls: [\n        {\n          id: message.id,\n          type: \"function\",\n          function: {\n            name: message.name,\n            arguments: JSON.stringify(message.arguments)\n          }\n        }\n      ]\n    };\n  } else if (message instanceof ResultMessage) {\n    return {\n      role: \"tool\",\n      content: message.result,\n      tool_call_id: message.actionExecutionId\n    };\n  }\n}\n__name(convertMessageToOpenAIMessage, \"convertMessageToOpenAIMessage\");\nfunction convertSystemMessageToAssistantAPI(message) {\n  return {\n    ...message,\n    ...message.role === \"system\" && {\n      role: \"assistant\",\n      content: \"THE FOLLOWING MESSAGE IS A SYSTEM MESSAGE: \" + message.content\n    }\n  };\n}\n__name(convertSystemMessageToAssistantAPI, \"convertSystemMessageToAssistantAPI\");\n\n// src/service-adapters/openai/openai-adapter.ts\nvar import_shared = __webpack_require__(/*! @copilotkit/shared */ \"(rsc)/./node_modules/@copilotkit/shared/dist/index.js\");\nvar DEFAULT_MODEL = \"gpt-4o\";\nvar OpenAIAdapter = class {\n  model = DEFAULT_MODEL;\n  disableParallelToolCalls = false;\n  _openai;\n  get openai() {\n    return this._openai;\n  }\n  constructor(params) {\n    this._openai = (params == null ? void 0 : params.openai) || new import_openai.default({});\n    if (params == null ? void 0 : params.model) {\n      this.model = params.model;\n    }\n    this.disableParallelToolCalls = (params == null ? void 0 : params.disableParallelToolCalls) || false;\n  }\n  async process(request) {\n    const { threadId, model = this.model, messages, actions, eventSource, forwardedParameters } = request;\n    const tools = actions.map(convertActionInputToOpenAITool);\n    let openaiMessages = messages.map(convertMessageToOpenAIMessage);\n    openaiMessages = limitMessagesToTokenCount(openaiMessages, tools, model);\n    let toolChoice = forwardedParameters == null ? void 0 : forwardedParameters.toolChoice;\n    if ((forwardedParameters == null ? void 0 : forwardedParameters.toolChoice) === \"function\") {\n      toolChoice = {\n        type: \"function\",\n        function: {\n          name: forwardedParameters.toolChoiceFunctionName\n        }\n      };\n    }\n    const stream = this.openai.beta.chat.completions.stream({\n      model,\n      stream: true,\n      messages: openaiMessages,\n      ...tools.length > 0 && {\n        tools\n      },\n      ...(forwardedParameters == null ? void 0 : forwardedParameters.maxTokens) && {\n        max_tokens: forwardedParameters.maxTokens\n      },\n      ...(forwardedParameters == null ? void 0 : forwardedParameters.stop) && {\n        stop: forwardedParameters.stop\n      },\n      ...toolChoice && {\n        tool_choice: toolChoice\n      },\n      ...this.disableParallelToolCalls && {\n        parallel_tool_calls: false\n      }\n    });\n    eventSource.stream(async (eventStream$) => {\n      var _a, _b;\n      let mode = null;\n      for await (const chunk of stream) {\n        const toolCall = (_a = chunk.choices[0].delta.tool_calls) == null ? void 0 : _a[0];\n        const content = chunk.choices[0].delta.content;\n        if (mode === \"message\" && (toolCall == null ? void 0 : toolCall.id)) {\n          mode = null;\n          eventStream$.sendTextMessageEnd();\n        } else if (mode === \"function\" && (toolCall === void 0 || (toolCall == null ? void 0 : toolCall.id))) {\n          mode = null;\n          eventStream$.sendActionExecutionEnd();\n        }\n        if (mode === null) {\n          if (toolCall == null ? void 0 : toolCall.id) {\n            mode = \"function\";\n            eventStream$.sendActionExecutionStart(toolCall.id, toolCall.function.name);\n          } else if (content) {\n            mode = \"message\";\n            eventStream$.sendTextMessageStart(chunk.id);\n          }\n        }\n        if (mode === \"message\" && content) {\n          eventStream$.sendTextMessageContent(content);\n        } else if (mode === \"function\" && ((_b = toolCall == null ? void 0 : toolCall.function) == null ? void 0 : _b.arguments)) {\n          eventStream$.sendActionExecutionArgs(toolCall.function.arguments);\n        }\n      }\n      if (mode === \"message\") {\n        eventStream$.sendTextMessageEnd();\n      } else if (mode === \"function\") {\n        eventStream$.sendActionExecutionEnd();\n      }\n      eventStream$.complete();\n    });\n    return {\n      threadId: threadId || (0, import_shared.randomId)()\n    };\n  }\n};\n__name(OpenAIAdapter, \"OpenAIAdapter\");\n\n// src/service-adapters/langchain/utils.ts\nvar import_messages = __webpack_require__(/*! @langchain/core/messages */ \"(rsc)/./node_modules/@langchain/core/messages.cjs\");\nvar import_tools = __webpack_require__(/*! @langchain/core/tools */ \"(rsc)/./node_modules/@langchain/core/tools.cjs\");\nvar import_zod = __webpack_require__(/*! zod */ \"(rsc)/./node_modules/zod/lib/index.js\");\nvar import_shared2 = __webpack_require__(/*! @copilotkit/shared */ \"(rsc)/./node_modules/@copilotkit/shared/dist/index.js\");\nfunction convertMessageToLangChainMessage(message) {\n  if (message instanceof TextMessage) {\n    if (message.role == \"user\") {\n      return new import_messages.HumanMessage(message.content);\n    } else if (message.role == \"assistant\") {\n      return new import_messages.AIMessage(message.content);\n    } else if (message.role === \"system\") {\n      return new import_messages.SystemMessage(message.content);\n    }\n  } else if (message instanceof ActionExecutionMessage) {\n    return new import_messages.AIMessage({\n      content: \"\",\n      tool_calls: [\n        {\n          id: message.id,\n          args: message.arguments,\n          name: message.name\n        }\n      ]\n    });\n  } else if (message instanceof ResultMessage) {\n    return new import_messages.ToolMessage({\n      content: message.result,\n      tool_call_id: message.actionExecutionId\n    });\n  }\n}\n__name(convertMessageToLangChainMessage, \"convertMessageToLangChainMessage\");\nfunction convertJsonSchemaToZodSchema(jsonSchema, required) {\n  if (jsonSchema.type === \"object\") {\n    const spec = {};\n    for (const [key, value] of Object.entries(jsonSchema.properties)) {\n      spec[key] = convertJsonSchemaToZodSchema(value, jsonSchema.required ? jsonSchema.required.includes(key) : false);\n    }\n    let schema = import_zod.z.object(spec);\n    return !required ? schema.optional() : schema;\n  } else if (jsonSchema.type === \"string\") {\n    let schema = import_zod.z.string().describe(jsonSchema.description);\n    return !required ? schema.optional() : schema;\n  } else if (jsonSchema.type === \"number\") {\n    let schema = import_zod.z.number().describe(jsonSchema.description);\n    return !required ? schema.optional() : schema;\n  } else if (jsonSchema.type === \"boolean\") {\n    let schema = import_zod.z.boolean().describe(jsonSchema.description);\n    return !required ? schema.optional() : schema;\n  } else if (jsonSchema.type === \"array\") {\n    let itemSchema = convertJsonSchemaToZodSchema(jsonSchema.items, false);\n    let schema = import_zod.z.array(itemSchema);\n    return !required ? schema.optional() : schema;\n  }\n}\n__name(convertJsonSchemaToZodSchema, \"convertJsonSchemaToZodSchema\");\nfunction convertActionInputToLangChainTool(actionInput) {\n  return new import_tools.DynamicStructuredTool({\n    name: actionInput.name,\n    description: actionInput.description,\n    schema: convertJsonSchemaToZodSchema(JSON.parse(actionInput.jsonSchema), true),\n    func: async () => {\n      return \"\";\n    }\n  });\n}\n__name(convertActionInputToLangChainTool, \"convertActionInputToLangChainTool\");\nfunction getConstructorName(object) {\n  if (object && typeof object === \"object\" && object.constructor && object.constructor.name) {\n    return object.constructor.name;\n  }\n  return \"\";\n}\n__name(getConstructorName, \"getConstructorName\");\nfunction isAIMessage(message) {\n  return getConstructorName(message) === \"AIMessage\";\n}\n__name(isAIMessage, \"isAIMessage\");\nfunction isAIMessageChunk(message) {\n  return getConstructorName(message) === \"AIMessageChunk\";\n}\n__name(isAIMessageChunk, \"isAIMessageChunk\");\nfunction isBaseMessageChunk(message) {\n  return getConstructorName(message) === \"BaseMessageChunk\";\n}\n__name(isBaseMessageChunk, \"isBaseMessageChunk\");\nfunction maybeSendActionExecutionResultIsMessage(eventStream$, actionExecution) {\n  if (actionExecution) {\n    eventStream$.sendActionExecutionResult(actionExecution.id, actionExecution.name, \"Sending a message\");\n  }\n}\n__name(maybeSendActionExecutionResultIsMessage, \"maybeSendActionExecutionResultIsMessage\");\nasync function streamLangChainResponse({ result, eventStream$, actionExecution }) {\n  var _a, _b, _c, _d, _e, _f, _g, _h;\n  if (typeof result === \"string\") {\n    if (!actionExecution) {\n      eventStream$.sendTextMessage((0, import_shared2.randomId)(), result);\n    } else {\n      eventStream$.sendActionExecutionResult(actionExecution.id, actionExecution.name, result);\n    }\n  } else if (isAIMessage(result)) {\n    maybeSendActionExecutionResultIsMessage(eventStream$, actionExecution);\n    if (result.content) {\n      eventStream$.sendTextMessage((0, import_shared2.randomId)(), result.content);\n    }\n    for (const toolCall of result.tool_calls) {\n      eventStream$.sendActionExecution(toolCall.id || (0, import_shared2.randomId)(), toolCall.name, JSON.stringify(toolCall.args));\n    }\n  } else if (isBaseMessageChunk(result)) {\n    maybeSendActionExecutionResultIsMessage(eventStream$, actionExecution);\n    if ((_a = result.lc_kwargs) == null ? void 0 : _a.content) {\n      eventStream$.sendTextMessage((0, import_shared2.randomId)(), result.content);\n    }\n    if ((_b = result.lc_kwargs) == null ? void 0 : _b.tool_calls) {\n      for (const toolCall of (_c = result.lc_kwargs) == null ? void 0 : _c.tool_calls) {\n        eventStream$.sendActionExecution(toolCall.id || (0, import_shared2.randomId)(), toolCall.name, JSON.stringify(toolCall.args));\n      }\n    }\n  } else if (result && \"getReader\" in result) {\n    maybeSendActionExecutionResultIsMessage(eventStream$, actionExecution);\n    let reader = result.getReader();\n    let mode = null;\n    while (true) {\n      try {\n        const { done, value } = await reader.read();\n        let toolCallName = void 0;\n        let toolCallId = void 0;\n        let toolCallArgs = void 0;\n        let hasToolCall = false;\n        let content = value == null ? void 0 : value.content;\n        if (isAIMessageChunk(value)) {\n          let chunk = (_d = value.tool_call_chunks) == null ? void 0 : _d[0];\n          toolCallName = chunk == null ? void 0 : chunk.name;\n          toolCallId = chunk == null ? void 0 : chunk.id;\n          toolCallArgs = chunk == null ? void 0 : chunk.args;\n          hasToolCall = chunk != void 0;\n        } else if (isBaseMessageChunk(value)) {\n          let chunk = (_f = (_e = value.additional_kwargs) == null ? void 0 : _e.tool_calls) == null ? void 0 : _f[0];\n          toolCallName = (_g = chunk == null ? void 0 : chunk.function) == null ? void 0 : _g.name;\n          toolCallId = chunk == null ? void 0 : chunk.id;\n          toolCallArgs = (_h = chunk == null ? void 0 : chunk.function) == null ? void 0 : _h.arguments;\n          hasToolCall = (chunk == null ? void 0 : chunk.function) != void 0;\n        }\n        if (mode === \"message\" && (toolCallId || done)) {\n          mode = null;\n          eventStream$.sendTextMessageEnd();\n        } else if (mode === \"function\" && (!hasToolCall || done)) {\n          mode = null;\n          eventStream$.sendActionExecutionEnd();\n        }\n        if (done) {\n          break;\n        }\n        if (mode === null) {\n          if (hasToolCall) {\n            mode = \"function\";\n            eventStream$.sendActionExecutionStart(toolCallId, toolCallName);\n          } else if (content) {\n            mode = \"message\";\n            eventStream$.sendTextMessageStart((0, import_shared2.randomId)());\n          }\n        }\n        if (mode === \"message\" && content) {\n          eventStream$.sendTextMessageContent(content);\n        } else if (mode === \"function\" && toolCallArgs) {\n          eventStream$.sendActionExecutionArgs(toolCallArgs);\n        }\n      } catch (error) {\n        console.error(\"Error reading from stream\", error);\n        break;\n      }\n    }\n  } else if (actionExecution) {\n    eventStream$.sendActionExecutionResult(actionExecution.id, actionExecution.name, encodeResult(result));\n  } else {\n    throw new Error(\"Invalid return type from LangChain function.\");\n  }\n  eventStream$.complete();\n}\n__name(streamLangChainResponse, \"streamLangChainResponse\");\nfunction encodeResult(result) {\n  if (result === void 0) {\n    return \"\";\n  } else if (typeof result === \"string\") {\n    return result;\n  } else {\n    return JSON.stringify(result);\n  }\n}\n__name(encodeResult, \"encodeResult\");\n\n// src/service-adapters/langchain/langchain-adapter.ts\nvar import_shared3 = __webpack_require__(/*! @copilotkit/shared */ \"(rsc)/./node_modules/@copilotkit/shared/dist/index.js\");\nvar LangChainAdapter = class {\n  options;\n  /**\n  * To use LangChain as a backend, provide a handler function to the adapter with your custom LangChain logic.\n  */\n  constructor(options) {\n    this.options = options;\n  }\n  async process(request) {\n    const { eventSource, model, actions, messages, threadId, runId } = request;\n    const result = await this.options.chainFn({\n      messages: messages.map(convertMessageToLangChainMessage),\n      tools: actions.map(convertActionInputToLangChainTool),\n      model,\n      threadId,\n      runId\n    });\n    eventSource.stream(async (eventStream$) => {\n      await streamLangChainResponse({\n        result,\n        eventStream$\n      });\n    });\n    return {\n      threadId: threadId || (0, import_shared3.randomId)()\n    };\n  }\n};\n__name(LangChainAdapter, \"LangChainAdapter\");\n\n// src/service-adapters/google/google-genai-adapter.ts\nvar import_generative_ai = __webpack_require__(/*! @google/generative-ai */ \"(rsc)/./node_modules/@google/generative-ai/dist/index.js\");\n\n// src/service-adapters/google/utils.ts\nfunction convertMessageToGoogleGenAIMessage(message) {\n  if (message instanceof TextMessage) {\n    const role = {\n      user: \"user\",\n      assistant: \"model\",\n      system: \"user\"\n    }[message.role];\n    const text = message.role === \"system\" ? \"THE FOLLOWING MESSAGE IS A SYSTEM MESSAGE: \" + message.content : message.content;\n    return {\n      role,\n      parts: [\n        {\n          text\n        }\n      ]\n    };\n  } else if (message instanceof ActionExecutionMessage) {\n    return {\n      role: \"model\",\n      parts: [\n        {\n          functionCall: {\n            name: message.name,\n            args: message.arguments\n          }\n        }\n      ]\n    };\n  } else if (message instanceof ResultMessage) {\n    return {\n      role: \"function\",\n      parts: [\n        {\n          functionResponse: {\n            name: message.actionName,\n            response: {\n              name: message.actionName,\n              content: tryParseJson(message.result)\n            }\n          }\n        }\n      ]\n    };\n  }\n}\n__name(convertMessageToGoogleGenAIMessage, \"convertMessageToGoogleGenAIMessage\");\nfunction transformActionToGoogleGenAITool(action) {\n  const name = action.name;\n  const description = action.description;\n  const parameters = JSON.parse(action.jsonSchema);\n  const transformProperties = /* @__PURE__ */ __name((props) => {\n    for (const key in props) {\n      if (props[key].type) {\n        props[key].type = props[key].type.toUpperCase();\n      }\n      if (props[key].properties) {\n        transformProperties(props[key].properties);\n      }\n    }\n  }, \"transformProperties\");\n  transformProperties(parameters);\n  return {\n    functionDeclarations: [\n      {\n        name,\n        description,\n        parameters\n      }\n    ]\n  };\n}\n__name(transformActionToGoogleGenAITool, \"transformActionToGoogleGenAITool\");\nfunction tryParseJson(str) {\n  if (!str) {\n    return \"\";\n  }\n  try {\n    return JSON.parse(str);\n  } catch (e) {\n    return str;\n  }\n}\n__name(tryParseJson, \"tryParseJson\");\n\n// src/service-adapters/google/google-genai-adapter.ts\nvar import_shared4 = __webpack_require__(/*! @copilotkit/shared */ \"(rsc)/./node_modules/@copilotkit/shared/dist/index.js\");\nvar GoogleGenerativeAIAdapter = class {\n  model;\n  constructor(options) {\n    if (options == null ? void 0 : options.model) {\n      this.model = options.model;\n    } else {\n      const genAI = new import_generative_ai.GoogleGenerativeAI(process.env[\"GOOGLE_API_KEY\"]);\n      this.model = genAI.getGenerativeModel({\n        model: \"gemini-pro\"\n      });\n    }\n  }\n  async process(request) {\n    const { messages, actions, eventSource } = request;\n    const history = messages.slice(1, -1).map(convertMessageToGoogleGenAIMessage);\n    const currentMessage = convertMessageToGoogleGenAIMessage(messages.at(-1));\n    if (!currentMessage) {\n      throw new Error(\"No current message\");\n    }\n    let systemMessage;\n    const firstMessage = messages.at(0);\n    if (firstMessage instanceof TextMessage && firstMessage.role === \"system\") {\n      systemMessage = firstMessage.content.trim();\n    } else {\n      throw new Error(\"First message is not a system message\");\n    }\n    const tools = actions.map(transformActionToGoogleGenAITool);\n    const isFirstGenGeminiPro = this.model.model === \"gemini-pro\" || this.model.model === \"models/gemini-pro\";\n    const chat = this.model.startChat({\n      history: [\n        ...history,\n        // gemini-pro does not support system instructions, so we need to add them to the history\n        ...isFirstGenGeminiPro ? [\n          {\n            role: \"user\",\n            parts: [\n              {\n                text: systemMessage\n              }\n            ]\n          }\n        ] : []\n      ],\n      // only gemini-1.5-pro-latest and later supports setting system instructions\n      ...isFirstGenGeminiPro ? {} : {\n        systemInstruction: {\n          role: \"user\",\n          parts: [\n            {\n              text: systemMessage\n            }\n          ]\n        }\n      },\n      tools\n    });\n    const result = await chat.sendMessageStream(currentMessage.parts);\n    eventSource.stream(async (eventStream$) => {\n      let isTextMessage = false;\n      for await (const chunk of result.stream) {\n        const chunkText = chunk.text();\n        if (chunkText === \"\") {\n          continue;\n        }\n        if (!isTextMessage) {\n          isTextMessage = true;\n          eventStream$.sendTextMessageStart((0, import_shared4.randomId)());\n        }\n        eventStream$.sendTextMessageContent(chunkText);\n      }\n      if (isTextMessage) {\n        eventStream$.sendTextMessageEnd();\n      }\n      let calls = (await result.response).functionCalls();\n      if (calls) {\n        for (let call of calls) {\n          eventStream$.sendActionExecution((0, import_shared4.randomId)(), call.name, JSON.stringify(replaceNewlinesInObject(call.args)));\n        }\n      }\n      eventStream$.complete();\n    });\n    return {\n      threadId: request.threadId || (0, import_shared4.randomId)()\n    };\n  }\n};\n__name(GoogleGenerativeAIAdapter, \"GoogleGenerativeAIAdapter\");\nfunction replaceNewlinesInObject(obj) {\n  if (typeof obj === \"string\") {\n    return obj.replace(/\\\\\\\\n/g, \"\\n\");\n  } else if (Array.isArray(obj)) {\n    return obj.map(replaceNewlinesInObject);\n  } else if (typeof obj === \"object\" && obj !== null) {\n    const newObj = {};\n    for (const key in obj) {\n      if (obj.hasOwnProperty(key)) {\n        newObj[key] = replaceNewlinesInObject(obj[key]);\n      }\n    }\n    return newObj;\n  }\n  return obj;\n}\n__name(replaceNewlinesInObject, \"replaceNewlinesInObject\");\n\n// src/service-adapters/openai/openai-assistant-adapter.ts\nvar import_openai2 = __toESM(__webpack_require__(/*! openai */ \"(rsc)/./node_modules/openai/index.js\"));\nvar OpenAIAssistantAdapter = class {\n  openai;\n  codeInterpreterEnabled;\n  assistantId;\n  fileSearchEnabled;\n  disableParallelToolCalls;\n  constructor(params) {\n    this.openai = params.openai || new import_openai2.default({});\n    this.codeInterpreterEnabled = params.codeInterpreterEnabled === false || true;\n    this.fileSearchEnabled = params.fileSearchEnabled === false || true;\n    this.assistantId = params.assistantId;\n    this.disableParallelToolCalls = (params == null ? void 0 : params.disableParallelToolCalls) || false;\n  }\n  async process(request) {\n    const { messages, actions, eventSource, runId, forwardedParameters } = request;\n    let threadId = request.threadId || (await this.openai.beta.threads.create()).id;\n    const lastMessage = messages.at(-1);\n    let nextRunId = void 0;\n    if (lastMessage instanceof ResultMessage && runId) {\n      nextRunId = await this.submitToolOutputs(threadId, runId, messages, eventSource);\n    } else if (lastMessage instanceof TextMessage) {\n      nextRunId = await this.submitUserMessage(threadId, messages, actions, eventSource, forwardedParameters);\n    } else {\n      throw new Error(\"No actionable message found in the messages\");\n    }\n    return {\n      threadId,\n      runId: nextRunId\n    };\n  }\n  async submitToolOutputs(threadId, runId, messages, eventSource) {\n    let run = await this.openai.beta.threads.runs.retrieve(threadId, runId);\n    if (!run.required_action) {\n      throw new Error(\"No tool outputs required\");\n    }\n    const toolCallsIds = run.required_action.submit_tool_outputs.tool_calls.map((toolCall) => toolCall.id);\n    const resultMessages = messages.filter((message) => message instanceof ResultMessage && toolCallsIds.includes(message.actionExecutionId));\n    if (toolCallsIds.length != resultMessages.length) {\n      throw new Error(\"Number of function results does not match the number of tool calls\");\n    }\n    const toolOutputs = resultMessages.map((message) => {\n      return {\n        tool_call_id: message.actionExecutionId,\n        output: message.result\n      };\n    });\n    const stream = this.openai.beta.threads.runs.submitToolOutputsStream(threadId, runId, {\n      tool_outputs: toolOutputs,\n      ...this.disableParallelToolCalls && {\n        parallel_tool_calls: false\n      }\n    });\n    await this.streamResponse(stream, eventSource);\n    return runId;\n  }\n  async submitUserMessage(threadId, messages, actions, eventSource, forwardedParameters) {\n    messages = [\n      ...messages\n    ];\n    const instructionsMessage = messages.shift();\n    const instructions = instructionsMessage instanceof TextMessage ? instructionsMessage.content : \"\";\n    const userMessage = messages.map(convertMessageToOpenAIMessage).map(convertSystemMessageToAssistantAPI).at(-1);\n    if (userMessage.role !== \"user\") {\n      throw new Error(\"No user message found\");\n    }\n    await this.openai.beta.threads.messages.create(threadId, {\n      role: \"user\",\n      content: userMessage.content\n    });\n    const openaiTools = actions.map(convertActionInputToOpenAITool);\n    const tools = [\n      ...openaiTools,\n      ...this.codeInterpreterEnabled ? [\n        {\n          type: \"code_interpreter\"\n        }\n      ] : [],\n      ...this.fileSearchEnabled ? [\n        {\n          type: \"file_search\"\n        }\n      ] : []\n    ];\n    let stream = this.openai.beta.threads.runs.stream(threadId, {\n      assistant_id: this.assistantId,\n      instructions,\n      tools,\n      ...(forwardedParameters == null ? void 0 : forwardedParameters.maxTokens) && {\n        max_completion_tokens: forwardedParameters.maxTokens\n      },\n      ...this.disableParallelToolCalls && {\n        parallel_tool_calls: false\n      }\n    });\n    await this.streamResponse(stream, eventSource);\n    return getRunIdFromStream(stream);\n  }\n  async streamResponse(stream, eventSource) {\n    eventSource.stream(async (eventStream$) => {\n      var _a, _b, _c, _d, _e, _f;\n      let inFunctionCall = false;\n      for await (const chunk of stream) {\n        switch (chunk.event) {\n          case \"thread.message.created\":\n            if (inFunctionCall) {\n              eventStream$.sendActionExecutionEnd();\n            }\n            eventStream$.sendTextMessageStart(chunk.data.id);\n            break;\n          case \"thread.message.delta\":\n            if (((_a = chunk.data.delta.content) == null ? void 0 : _a[0].type) === \"text\") {\n              eventStream$.sendTextMessageContent((_b = chunk.data.delta.content) == null ? void 0 : _b[0].text.value);\n            }\n            break;\n          case \"thread.message.completed\":\n            eventStream$.sendTextMessageEnd();\n            break;\n          case \"thread.run.step.delta\":\n            let toolCallId;\n            let toolCallName;\n            let toolCallArgs;\n            if (chunk.data.delta.step_details.type === \"tool_calls\" && ((_c = chunk.data.delta.step_details.tool_calls) == null ? void 0 : _c[0].type) === \"function\") {\n              toolCallId = (_d = chunk.data.delta.step_details.tool_calls) == null ? void 0 : _d[0].id;\n              toolCallName = (_e = chunk.data.delta.step_details.tool_calls) == null ? void 0 : _e[0].function.name;\n              toolCallArgs = (_f = chunk.data.delta.step_details.tool_calls) == null ? void 0 : _f[0].function.arguments;\n            }\n            if (toolCallName && toolCallId) {\n              if (inFunctionCall) {\n                eventStream$.sendActionExecutionEnd();\n              }\n              inFunctionCall = true;\n              eventStream$.sendActionExecutionStart(toolCallId, toolCallName);\n            } else if (toolCallArgs) {\n              eventStream$.sendActionExecutionArgs(toolCallArgs);\n            }\n            break;\n        }\n      }\n      if (inFunctionCall) {\n        eventStream$.sendActionExecutionEnd();\n      }\n      eventStream$.complete();\n    });\n  }\n};\n__name(OpenAIAssistantAdapter, \"OpenAIAssistantAdapter\");\nfunction getRunIdFromStream(stream) {\n  return new Promise((resolve, reject) => {\n    let runIdGetter = /* @__PURE__ */ __name((event) => {\n      if (event.event === \"thread.run.created\") {\n        const runId = event.data.id;\n        stream.off(\"event\", runIdGetter);\n        resolve(runId);\n      }\n    }, \"runIdGetter\");\n    stream.on(\"event\", runIdGetter);\n  });\n}\n__name(getRunIdFromStream, \"getRunIdFromStream\");\n\n// src/service-adapters/unify/unify-adapter.ts\nvar import_openai3 = __toESM(__webpack_require__(/*! openai */ \"(rsc)/./node_modules/openai/index.js\"));\nvar import_shared5 = __webpack_require__(/*! @copilotkit/shared */ \"(rsc)/./node_modules/@copilotkit/shared/dist/index.js\");\nvar UnifyAdapter = class {\n  apiKey;\n  model;\n  start;\n  constructor(options) {\n    if (options == null ? void 0 : options.apiKey) {\n      this.apiKey = options.apiKey;\n    } else {\n      this.apiKey = \"UNIFY_API_KEY\";\n    }\n    this.model = options == null ? void 0 : options.model;\n    this.start = true;\n  }\n  async process(request) {\n    const tools = request.actions.map(convertActionInputToOpenAITool);\n    const openai = new import_openai3.default({\n      apiKey: this.apiKey,\n      baseURL: \"https://api.unify.ai/v0/\"\n    });\n    const messages = request.messages.map(convertMessageToOpenAIMessage);\n    const stream = await openai.chat.completions.create({\n      model: this.model,\n      messages,\n      stream: true,\n      ...tools.length > 0 && {\n        tools\n      }\n    });\n    let model = null;\n    request.eventSource.stream(async (eventStream$) => {\n      var _a, _b;\n      let mode = null;\n      for await (const chunk of stream) {\n        if (this.start) {\n          model = chunk.model;\n          eventStream$.sendTextMessageStart((0, import_shared5.randomId)());\n          eventStream$.sendTextMessageContent(`Model used: ${model}\n`);\n          eventStream$.sendTextMessageEnd();\n          this.start = false;\n        }\n        const toolCall = (_a = chunk.choices[0].delta.tool_calls) == null ? void 0 : _a[0];\n        const content = chunk.choices[0].delta.content;\n        if (mode === \"message\" && (toolCall == null ? void 0 : toolCall.id)) {\n          mode = null;\n          eventStream$.sendTextMessageEnd();\n        } else if (mode === \"function\" && (toolCall === void 0 || (toolCall == null ? void 0 : toolCall.id))) {\n          mode = null;\n          eventStream$.sendActionExecutionEnd();\n        }\n        if (mode === null) {\n          if (toolCall == null ? void 0 : toolCall.id) {\n            mode = \"function\";\n            eventStream$.sendActionExecutionStart(toolCall.id, toolCall.function.name);\n          } else if (content) {\n            mode = \"message\";\n            eventStream$.sendTextMessageStart(chunk.id);\n          }\n        }\n        if (mode === \"message\" && content) {\n          eventStream$.sendTextMessageContent(content);\n        } else if (mode === \"function\" && ((_b = toolCall == null ? void 0 : toolCall.function) == null ? void 0 : _b.arguments)) {\n          eventStream$.sendActionExecutionArgs(toolCall.function.arguments);\n        }\n      }\n      if (mode === \"message\") {\n        eventStream$.sendTextMessageEnd();\n      } else if (mode === \"function\") {\n        eventStream$.sendActionExecutionEnd();\n      }\n      eventStream$.complete();\n    });\n    return {\n      threadId: request.threadId || (0, import_shared5.randomId)()\n    };\n  }\n};\n__name(UnifyAdapter, \"UnifyAdapter\");\n\n// src/service-adapters/groq/groq-adapter.ts\nvar import_groq_sdk = __webpack_require__(/*! groq-sdk */ \"(rsc)/./node_modules/groq-sdk/index.js\");\nvar import_shared6 = __webpack_require__(/*! @copilotkit/shared */ \"(rsc)/./node_modules/@copilotkit/shared/dist/index.js\");\nvar DEFAULT_MODEL2 = \"llama3-groq-70b-8192-tool-use-preview\";\nvar GroqAdapter = class {\n  model = DEFAULT_MODEL2;\n  disableParallelToolCalls = false;\n  _groq;\n  get groq() {\n    return this._groq;\n  }\n  constructor(params) {\n    this._groq = (params == null ? void 0 : params.groq) || new import_groq_sdk.Groq({});\n    if (params == null ? void 0 : params.model) {\n      this.model = params.model;\n    }\n    this.disableParallelToolCalls = (params == null ? void 0 : params.disableParallelToolCalls) || false;\n  }\n  async process(request) {\n    const { threadId, model = this.model, messages, actions, eventSource, forwardedParameters } = request;\n    const tools = actions.map(convertActionInputToOpenAITool);\n    let openaiMessages = messages.map(convertMessageToOpenAIMessage);\n    openaiMessages = limitMessagesToTokenCount(openaiMessages, tools, model);\n    let toolChoice = forwardedParameters == null ? void 0 : forwardedParameters.toolChoice;\n    if ((forwardedParameters == null ? void 0 : forwardedParameters.toolChoice) === \"function\") {\n      toolChoice = {\n        type: \"function\",\n        function: {\n          name: forwardedParameters.toolChoiceFunctionName\n        }\n      };\n    }\n    const stream = await this.groq.chat.completions.create({\n      model,\n      stream: true,\n      messages: openaiMessages,\n      ...tools.length > 0 && {\n        tools\n      },\n      ...(forwardedParameters == null ? void 0 : forwardedParameters.maxTokens) && {\n        max_tokens: forwardedParameters.maxTokens\n      },\n      ...(forwardedParameters == null ? void 0 : forwardedParameters.stop) && {\n        stop: forwardedParameters.stop\n      },\n      ...toolChoice && {\n        tool_choice: toolChoice\n      },\n      ...this.disableParallelToolCalls && {\n        parallel_tool_calls: false\n      }\n    });\n    eventSource.stream(async (eventStream$) => {\n      var _a, _b;\n      let mode = null;\n      for await (const chunk of stream) {\n        const toolCall = (_a = chunk.choices[0].delta.tool_calls) == null ? void 0 : _a[0];\n        const content = chunk.choices[0].delta.content;\n        if (mode === \"message\" && (toolCall == null ? void 0 : toolCall.id)) {\n          mode = null;\n          eventStream$.sendTextMessageEnd();\n        } else if (mode === \"function\" && (toolCall === void 0 || (toolCall == null ? void 0 : toolCall.id))) {\n          mode = null;\n          eventStream$.sendActionExecutionEnd();\n        }\n        if (mode === null) {\n          if (toolCall == null ? void 0 : toolCall.id) {\n            mode = \"function\";\n            eventStream$.sendActionExecutionStart(toolCall.id, toolCall.function.name);\n          } else if (content) {\n            mode = \"message\";\n            eventStream$.sendTextMessageStart(chunk.id);\n          }\n        }\n        if (mode === \"message\" && content) {\n          eventStream$.sendTextMessageContent(content);\n        } else if (mode === \"function\" && ((_b = toolCall == null ? void 0 : toolCall.function) == null ? void 0 : _b.arguments)) {\n          eventStream$.sendActionExecutionArgs(toolCall.function.arguments);\n        }\n      }\n      if (mode === \"message\") {\n        eventStream$.sendTextMessageEnd();\n      } else if (mode === \"function\") {\n        eventStream$.sendActionExecutionEnd();\n      }\n      eventStream$.complete();\n    });\n    return {\n      threadId: threadId || (0, import_shared6.randomId)()\n    };\n  }\n};\n__name(GroqAdapter, \"GroqAdapter\");\n\n// src/service-adapters/anthropic/anthropic-adapter.ts\nvar import_sdk = __toESM(__webpack_require__(/*! @anthropic-ai/sdk */ \"(rsc)/./node_modules/@anthropic-ai/sdk/index.js\"));\n\n// src/service-adapters/anthropic/utils.ts\nfunction limitMessagesToTokenCount2(messages, tools, model, maxTokens) {\n  maxTokens || (maxTokens = MAX_TOKENS);\n  const result = [];\n  const toolsNumTokens = countToolsTokens2(model, tools);\n  if (toolsNumTokens > maxTokens) {\n    throw new Error(`Too many tokens in function definitions: ${toolsNumTokens} > ${maxTokens}`);\n  }\n  maxTokens -= toolsNumTokens;\n  for (const message of messages) {\n    if (message.role === \"system\") {\n      const numTokens = countMessageTokens2(model, message);\n      maxTokens -= numTokens;\n      if (maxTokens < 0) {\n        throw new Error(\"Not enough tokens for system message.\");\n      }\n    }\n  }\n  let cutoff = false;\n  const reversedMessages = [\n    ...messages\n  ].reverse();\n  for (const message of reversedMessages) {\n    if (message.role === \"system\") {\n      result.unshift(message);\n      continue;\n    } else if (cutoff) {\n      continue;\n    }\n    let numTokens = countMessageTokens2(model, message);\n    if (maxTokens < numTokens) {\n      cutoff = true;\n      continue;\n    }\n    result.unshift(message);\n    maxTokens -= numTokens;\n  }\n  return result;\n}\n__name(limitMessagesToTokenCount2, \"limitMessagesToTokenCount\");\nvar MAX_TOKENS = 128e3;\nfunction countToolsTokens2(model, tools) {\n  if (tools.length === 0) {\n    return 0;\n  }\n  const json = JSON.stringify(tools);\n  return countTokens2(model, json);\n}\n__name(countToolsTokens2, \"countToolsTokens\");\nfunction countMessageTokens2(model, message) {\n  return countTokens2(model, JSON.stringify(message.content) || \"\");\n}\n__name(countMessageTokens2, \"countMessageTokens\");\nfunction countTokens2(model, text) {\n  return text.length / 3;\n}\n__name(countTokens2, \"countTokens\");\nfunction convertActionInputToAnthropicTool(action) {\n  return {\n    name: action.name,\n    description: action.description,\n    input_schema: JSON.parse(action.jsonSchema)\n  };\n}\n__name(convertActionInputToAnthropicTool, \"convertActionInputToAnthropicTool\");\nfunction convertMessageToAnthropicMessage(message) {\n  if (message instanceof TextMessage) {\n    if (message.role === \"system\") {\n      return {\n        role: \"assistant\",\n        content: [\n          {\n            type: \"text\",\n            text: \"THE FOLLOWING MESSAGE IS A SYSTEM MESSAGE: \" + message.content\n          }\n        ]\n      };\n    } else {\n      return {\n        role: message.role === \"user\" ? \"user\" : \"assistant\",\n        content: [\n          {\n            type: \"text\",\n            text: message.content\n          }\n        ]\n      };\n    }\n  } else if (message instanceof ActionExecutionMessage) {\n    return {\n      role: \"assistant\",\n      content: [\n        {\n          id: message.id,\n          type: \"tool_use\",\n          input: message.arguments,\n          name: message.name\n        }\n      ]\n    };\n  } else if (message instanceof ResultMessage) {\n    return {\n      role: \"user\",\n      content: [\n        {\n          type: \"tool_result\",\n          content: message.result,\n          tool_use_id: message.actionExecutionId\n        }\n      ]\n    };\n  }\n}\n__name(convertMessageToAnthropicMessage, \"convertMessageToAnthropicMessage\");\nfunction groupAnthropicMessagesByRole(messageParams) {\n  return messageParams.reduce((acc, message) => {\n    const lastGroup = acc[acc.length - 1];\n    if (lastGroup && lastGroup.role === message.role) {\n      lastGroup.content = lastGroup.content.concat(message.content);\n    } else {\n      acc.push({\n        role: message.role,\n        content: [\n          ...message.content\n        ]\n      });\n    }\n    return acc;\n  }, []);\n}\n__name(groupAnthropicMessagesByRole, \"groupAnthropicMessagesByRole\");\n\n// src/service-adapters/anthropic/anthropic-adapter.ts\nvar import_shared7 = __webpack_require__(/*! @copilotkit/shared */ \"(rsc)/./node_modules/@copilotkit/shared/dist/index.js\");\nvar DEFAULT_MODEL3 = \"claude-3-opus-20240229\";\nvar AnthropicAdapter = class {\n  model = DEFAULT_MODEL3;\n  _anthropic;\n  get anthropic() {\n    return this._anthropic;\n  }\n  constructor(params) {\n    this._anthropic = (params == null ? void 0 : params.anthropic) || new import_sdk.default({});\n    if (params == null ? void 0 : params.model) {\n      this.model = params.model;\n    }\n  }\n  async process(request) {\n    const { threadId, model = this.model, messages: rawMessages, actions, eventSource, forwardedParameters } = request;\n    const tools = actions.map(convertActionInputToAnthropicTool);\n    const messages = [\n      ...rawMessages\n    ];\n    const instructionsMessage = messages.shift();\n    const instructions = instructionsMessage instanceof TextMessage ? instructionsMessage.content : \"\";\n    let anthropicMessages = messages.map(convertMessageToAnthropicMessage);\n    anthropicMessages = limitMessagesToTokenCount2(anthropicMessages, tools, model);\n    anthropicMessages = groupAnthropicMessagesByRole(anthropicMessages);\n    let toolChoice = forwardedParameters == null ? void 0 : forwardedParameters.toolChoice;\n    if ((forwardedParameters == null ? void 0 : forwardedParameters.toolChoice) === \"function\") {\n      toolChoice = {\n        type: \"tool\",\n        name: forwardedParameters.toolChoiceFunctionName\n      };\n    }\n    const stream = this.anthropic.messages.create({\n      system: instructions,\n      model: this.model,\n      messages: anthropicMessages,\n      max_tokens: (forwardedParameters == null ? void 0 : forwardedParameters.maxTokens) || 1024,\n      ...tools.length > 0 && {\n        tools\n      },\n      ...toolChoice && {\n        tool_choice: toolChoice\n      },\n      stream: true\n    });\n    eventSource.stream(async (eventStream$) => {\n      let mode = null;\n      let didOutputText = false;\n      let currentMessageId = (0, import_shared7.randomId)();\n      let currentToolCallId = (0, import_shared7.randomId)();\n      let filterThinkingTextBuffer = new FilterThinkingTextBuffer();\n      for await (const chunk of await stream) {\n        if (chunk.type === \"message_start\") {\n          currentMessageId = chunk.message.id;\n        } else if (chunk.type === \"content_block_start\") {\n          if (chunk.content_block.type === \"text\") {\n            didOutputText = false;\n            filterThinkingTextBuffer.reset();\n            mode = \"message\";\n          } else if (chunk.content_block.type === \"tool_use\") {\n            currentToolCallId = chunk.content_block.id;\n            eventStream$.sendActionExecutionStart(currentToolCallId, chunk.content_block.name);\n            mode = \"function\";\n          }\n        } else if (chunk.type === \"content_block_delta\") {\n          if (chunk.delta.type === \"text_delta\") {\n            const text = filterThinkingTextBuffer.onTextChunk(chunk.delta.text);\n            if (text.length > 0) {\n              if (!didOutputText) {\n                eventStream$.sendTextMessageStart(currentMessageId);\n                didOutputText = true;\n              }\n              eventStream$.sendTextMessageContent(text);\n            }\n          } else if (chunk.delta.type === \"input_json_delta\") {\n            eventStream$.sendActionExecutionArgs(chunk.delta.partial_json);\n          }\n        } else if (chunk.type === \"content_block_stop\") {\n          if (mode === \"message\") {\n            if (didOutputText) {\n              eventStream$.sendTextMessageEnd();\n            }\n          } else if (mode === \"function\") {\n            eventStream$.sendActionExecutionEnd();\n          }\n        }\n      }\n      eventStream$.complete();\n    });\n    return {\n      threadId: threadId || (0, import_shared7.randomId)()\n    };\n  }\n};\n__name(AnthropicAdapter, \"AnthropicAdapter\");\nvar THINKING_TAG = \"<thinking>\";\nvar THINKING_TAG_END = \"</thinking>\";\nvar FilterThinkingTextBuffer = /* @__PURE__ */ __name(class FilterThinkingTextBuffer2 {\n  buffer;\n  didFilterThinkingTag = false;\n  constructor() {\n    this.buffer = \"\";\n  }\n  onTextChunk(text) {\n    this.buffer += text;\n    if (this.didFilterThinkingTag) {\n      return text;\n    }\n    const potentialTag = this.buffer.slice(0, THINKING_TAG.length);\n    if (THINKING_TAG.startsWith(potentialTag)) {\n      if (this.buffer.includes(THINKING_TAG_END)) {\n        const end = this.buffer.indexOf(THINKING_TAG_END);\n        const filteredText = this.buffer.slice(end + THINKING_TAG_END.length);\n        this.buffer = filteredText;\n        this.didFilterThinkingTag = true;\n        return filteredText;\n      } else {\n        return \"\";\n      }\n    }\n    return text;\n  }\n  reset() {\n    this.buffer = \"\";\n    this.didFilterThinkingTag = false;\n  }\n}, \"FilterThinkingTextBuffer\");\n\n// src/service-adapters/events.ts\nvar import_rxjs2 = __webpack_require__(/*! rxjs */ \"(rsc)/./node_modules/rxjs/dist/esm5/index.js\");\n\n// src/lib/telemetry-client.ts\nvar import_shared8 = __webpack_require__(/*! @copilotkit/shared */ \"(rsc)/./node_modules/@copilotkit/shared/dist/index.js\");\nvar packageJson = require_package();\nvar telemetryClient = new import_shared8.TelemetryClient({\n  packageName: packageJson.name,\n  packageVersion: packageJson.version\n});\nvar telemetry_client_default = telemetryClient;\n\n// src/agents/langgraph/event-source.ts\nvar import_rxjs = __webpack_require__(/*! rxjs */ \"(rsc)/./node_modules/rxjs/dist/esm5/index.js\");\n\n// src/agents/langgraph/events.ts\nvar LangGraphEventTypes;\n(function(LangGraphEventTypes2) {\n  LangGraphEventTypes2[\"OnChainStart\"] = \"on_chain_start\";\n  LangGraphEventTypes2[\"OnChainStream\"] = \"on_chain_stream\";\n  LangGraphEventTypes2[\"OnChainEnd\"] = \"on_chain_end\";\n  LangGraphEventTypes2[\"OnChatModelStart\"] = \"on_chat_model_start\";\n  LangGraphEventTypes2[\"OnChatModelStream\"] = \"on_chat_model_stream\";\n  LangGraphEventTypes2[\"OnChatModelEnd\"] = \"on_chat_model_end\";\n  LangGraphEventTypes2[\"OnToolStart\"] = \"on_tool_start\";\n  LangGraphEventTypes2[\"OnToolEnd\"] = \"on_tool_end\";\n  LangGraphEventTypes2[\"OnCopilotKitStateSync\"] = \"on_copilotkit_state_sync\";\n})(LangGraphEventTypes || (LangGraphEventTypes = {}));\n\n// src/agents/langgraph/event-source.ts\nvar RemoteLangGraphEventSource = class {\n  eventStream$ = new import_rxjs.ReplaySubject();\n  async streamResponse(response) {\n    const reader = response.body.getReader();\n    const decoder = new TextDecoder();\n    let buffer = [];\n    const eventStream$ = this.eventStream$;\n    function flushBuffer() {\n      const currentBuffer = buffer.join(\"\");\n      if (currentBuffer.trim().length === 0) {\n        return;\n      }\n      const parts = currentBuffer.split(\"\\n\");\n      if (parts.length === 0) {\n        return;\n      }\n      const lastPartIsComplete = currentBuffer.endsWith(\"\\n\");\n      buffer = [];\n      if (!lastPartIsComplete) {\n        buffer.push(parts.pop());\n      }\n      parts.map((part) => part.trim()).filter((part) => part != \"\").forEach((part) => {\n        eventStream$.next(JSON.parse(part));\n      });\n    }\n    __name(flushBuffer, \"flushBuffer\");\n    while (true) {\n      const { done, value } = await reader.read();\n      if (!done) {\n        buffer.push(decoder.decode(value, {\n          stream: true\n        }));\n      }\n      flushBuffer();\n      if (done) {\n        break;\n      }\n    }\n    eventStream$.complete();\n  }\n  processLangGraphEvents() {\n    return this.eventStream$.pipe((0, import_rxjs.scan)((acc, event) => {\n      var _a, _b, _c, _d, _e, _f, _g, _h;\n      if (event.event === LangGraphEventTypes.OnChatModelStream) {\n        if ((_c = (_b = (_a = event.data) == null ? void 0 : _a.chunk) == null ? void 0 : _b.kwargs) == null ? void 0 : _c.tool_call_chunks) {\n          acc.prevToolCallId = acc.toolCallId;\n          acc.toolCallId = (_d = event.data.chunk.kwargs) == null ? void 0 : _d.id;\n          if ((_e = event.data.chunk.kwargs.tool_call_chunks[0]) == null ? void 0 : _e.name) {\n            acc.toolCallName = event.data.chunk.kwargs.tool_call_chunks[0].name;\n          }\n        }\n        acc.prevMessageId = acc.messageId;\n        acc.messageId = (_h = (_g = (_f = event.data) == null ? void 0 : _f.chunk) == null ? void 0 : _g.kwargs) == null ? void 0 : _h.id;\n      } else {\n        acc.prevToolCallId = acc.toolCallId;\n        acc.toolCallId = null;\n        acc.prevMessageId = acc.messageId;\n        acc.messageId = null;\n        acc.toolCallName = null;\n      }\n      acc.event = event;\n      return acc;\n    }, {\n      event: null,\n      toolCallId: null,\n      prevToolCallId: null,\n      messageId: null,\n      toolCallName: null,\n      prevMessageId: null\n    }), (0, import_rxjs.mergeMap)((eventWithState) => {\n      var _a, _b, _c, _d, _e, _f, _g, _h, _i, _j;\n      const events = [];\n      let shouldEmitMessages = false;\n      let shouldEmitToolCalls = false;\n      if (eventWithState.event.event == LangGraphEventTypes.OnChatModelStream) {\n        if ((_a = eventWithState.event.tags) == null ? void 0 : _a.includes(\"copilotkit:emit-tool-calls\")) {\n          shouldEmitToolCalls = true;\n        }\n        if ((_b = eventWithState.event.tags) == null ? void 0 : _b.includes(\"copilotkit:emit-messages\")) {\n          shouldEmitMessages = true;\n        }\n      }\n      if (eventWithState.prevToolCallId !== null && eventWithState.prevToolCallId !== eventWithState.toolCallId && shouldEmitToolCalls) {\n        events.push({\n          type: RuntimeEventTypes.ActionExecutionEnd\n        });\n      }\n      if (eventWithState.prevMessageId !== null && eventWithState.prevMessageId !== eventWithState.messageId && shouldEmitMessages) {\n        events.push({\n          type: RuntimeEventTypes.TextMessageEnd\n        });\n      }\n      switch (eventWithState.event.event) {\n        case LangGraphEventTypes.OnCopilotKitStateSync:\n          events.push({\n            type: RuntimeEventTypes.AgentStateMessage,\n            threadId: eventWithState.event.thread_id,\n            role: eventWithState.event.role,\n            agentName: eventWithState.event.agent_name,\n            nodeName: eventWithState.event.node_name,\n            runId: eventWithState.event.run_id,\n            active: eventWithState.event.active,\n            state: JSON.stringify(eventWithState.event.state),\n            running: eventWithState.event.running\n          });\n          break;\n        case LangGraphEventTypes.OnToolEnd:\n          break;\n        case LangGraphEventTypes.OnChatModelStream:\n          if (eventWithState.toolCallId !== null && eventWithState.prevToolCallId !== eventWithState.toolCallId) {\n            if (shouldEmitToolCalls) {\n              events.push({\n                type: RuntimeEventTypes.ActionExecutionStart,\n                actionExecutionId: eventWithState.toolCallId,\n                actionName: eventWithState.toolCallName,\n                scope: \"client\"\n              });\n            }\n          } else if (eventWithState.messageId !== null && eventWithState.prevMessageId !== eventWithState.messageId) {\n            if (shouldEmitMessages) {\n              events.push({\n                type: RuntimeEventTypes.TextMessageStart,\n                messageId: eventWithState.messageId\n              });\n            }\n          }\n          const args = (_g = (_f = (_e = (_d = (_c = eventWithState.event.data) == null ? void 0 : _c.chunk) == null ? void 0 : _d.kwargs) == null ? void 0 : _e.tool_call_chunks) == null ? void 0 : _f[0]) == null ? void 0 : _g.args;\n          const content = (_j = (_i = (_h = eventWithState.event.data) == null ? void 0 : _h.chunk) == null ? void 0 : _i.kwargs) == null ? void 0 : _j.content;\n          if (args) {\n            if (shouldEmitToolCalls) {\n              events.push({\n                type: RuntimeEventTypes.ActionExecutionArgs,\n                args\n              });\n            }\n          } else if (eventWithState.messageId !== null && content) {\n            if (shouldEmitMessages) {\n              events.push({\n                type: RuntimeEventTypes.TextMessageContent,\n                content\n              });\n            }\n          }\n          break;\n      }\n      return events;\n    }));\n  }\n};\n__name(RemoteLangGraphEventSource, \"RemoteLangGraphEventSource\");\n\n// src/lib/runtime/remote-actions.ts\nfunction isLangGraphAgentAction(action) {\n  if (!action) {\n    return false;\n  }\n  return typeof action.langGraphAgentHandler === \"function\";\n}\n__name(isLangGraphAgentAction, \"isLangGraphAgentAction\");\nfunction createHeaders(onBeforeRequest, graphqlContext) {\n  const headers = {\n    \"Content-Type\": \"application/json\"\n  };\n  if (onBeforeRequest) {\n    const { headers: additionalHeaders } = onBeforeRequest({\n      ctx: graphqlContext\n    });\n    if (additionalHeaders) {\n      Object.assign(headers, additionalHeaders);\n    }\n  }\n  return headers;\n}\n__name(createHeaders, \"createHeaders\");\nasync function fetchRemoteInfo({ url, onBeforeRequest, graphqlContext, logger: logger2 }) {\n  logger2.debug({\n    url\n  }, \"Fetching actions from url\");\n  const headers = createHeaders(onBeforeRequest, graphqlContext);\n  const response = await fetch(`${url}/info`, {\n    method: \"POST\",\n    headers,\n    body: JSON.stringify({\n      properties: graphqlContext.properties\n    })\n  });\n  if (!response.ok) {\n    logger2.error({\n      url,\n      status: response.status,\n      body: await response.text()\n    }, \"Failed to fetch actions from url\");\n    return [];\n  }\n  const json = await response.json();\n  logger2.debug({\n    json\n  }, \"Fetched actions from url\");\n  return json;\n}\n__name(fetchRemoteInfo, \"fetchRemoteInfo\");\nfunction constructRemoteActions({ json, url, onBeforeRequest, graphqlContext, logger: logger2, messages, agentStates }) {\n  const actions = json[\"actions\"].map((action) => ({\n    name: action.name,\n    description: action.description,\n    parameters: action.parameters,\n    handler: async (args) => {\n      logger2.debug({\n        actionName: action.name,\n        args\n      }, \"Executing remote action\");\n      const headers = createHeaders(onBeforeRequest, graphqlContext);\n      telemetry_client_default.capture(\"oss.runtime.remote_action_executed\", {});\n      const response = await fetch(`${url}/actions/execute`, {\n        method: \"POST\",\n        headers,\n        body: JSON.stringify({\n          name: action.name,\n          arguments: args,\n          properties: graphqlContext.properties\n        })\n      });\n      if (!response.ok) {\n        logger2.error({\n          url,\n          status: response.status,\n          body: await response.text()\n        }, \"Failed to execute remote action\");\n        return \"Failed to execute remote action\";\n      }\n      const requestResult = await response.json();\n      const result = requestResult[\"result\"];\n      logger2.debug({\n        actionName: action.name,\n        result\n      }, \"Executed remote action\");\n      return result;\n    }\n  }));\n  const agents = json[\"agents\"].map((agent) => ({\n    name: agent.name,\n    description: agent.description,\n    parameters: [],\n    handler: async (_args) => {\n    },\n    langGraphAgentHandler: async ({ name, actionInputsWithoutAgents, threadId, nodeName }) => {\n      var _a;\n      logger2.debug({\n        actionName: agent.name\n      }, \"Executing remote agent\");\n      const headers = createHeaders(onBeforeRequest, graphqlContext);\n      telemetry_client_default.capture(\"oss.runtime.remote_action_executed\", {});\n      let state = {};\n      if (agentStates) {\n        const jsonState = (_a = agentStates.find((state2) => state2.agentName === name)) == null ? void 0 : _a.state;\n        if (jsonState) {\n          state = JSON.parse(jsonState);\n        }\n      }\n      const response = await fetch(`${url}/agents/execute`, {\n        method: \"POST\",\n        headers,\n        body: JSON.stringify({\n          name,\n          threadId,\n          nodeName,\n          messages,\n          state,\n          properties: graphqlContext.properties,\n          actions: actionInputsWithoutAgents.map((action) => ({\n            name: action.name,\n            description: action.description,\n            parameters: JSON.parse(action.jsonSchema)\n          }))\n        })\n      });\n      if (!response.ok) {\n        logger2.error({\n          url,\n          status: response.status,\n          body: await response.text()\n        }, \"Failed to execute remote agent\");\n        throw new Error(\"Failed to execute remote agent\");\n      }\n      const eventSource = new RemoteLangGraphEventSource();\n      eventSource.streamResponse(response);\n      return eventSource.processLangGraphEvents();\n    }\n  }));\n  return [\n    ...actions,\n    ...agents\n  ];\n}\n__name(constructRemoteActions, \"constructRemoteActions\");\nasync function setupRemoteActions({ remoteActionDefinitions, graphqlContext, messages, agentStates }) {\n  const logger2 = graphqlContext.logger.child({\n    component: \"remote-actions.fetchRemoteActions\"\n  });\n  logger2.debug({\n    remoteActionDefinitions\n  }, \"Fetching remote actions\");\n  const filtered = remoteActionDefinitions.filter((value, index, self) => index === self.findIndex((t) => t.url === value.url));\n  const result = await Promise.all(filtered.map(async (actionDefinition) => {\n    const json = await fetchRemoteInfo({\n      url: actionDefinition.url,\n      onBeforeRequest: actionDefinition.onBeforeRequest,\n      graphqlContext,\n      logger: logger2.child({\n        component: \"remote-actions.fetchActionsFromUrl\",\n        actionDefinition\n      })\n    });\n    return constructRemoteActions({\n      json,\n      messages,\n      url: actionDefinition.url,\n      onBeforeRequest: actionDefinition.onBeforeRequest,\n      graphqlContext,\n      logger: logger2.child({\n        component: \"remote-actions.constructActions\",\n        actionDefinition\n      }),\n      agentStates\n    });\n  }));\n  return result.flat();\n}\n__name(setupRemoteActions, \"setupRemoteActions\");\n\n// src/service-adapters/events.ts\nvar RuntimeEventTypes;\n(function(RuntimeEventTypes2) {\n  RuntimeEventTypes2[\"TextMessageStart\"] = \"TextMessageStart\";\n  RuntimeEventTypes2[\"TextMessageContent\"] = \"TextMessageContent\";\n  RuntimeEventTypes2[\"TextMessageEnd\"] = \"TextMessageEnd\";\n  RuntimeEventTypes2[\"ActionExecutionStart\"] = \"ActionExecutionStart\";\n  RuntimeEventTypes2[\"ActionExecutionArgs\"] = \"ActionExecutionArgs\";\n  RuntimeEventTypes2[\"ActionExecutionEnd\"] = \"ActionExecutionEnd\";\n  RuntimeEventTypes2[\"ActionExecutionResult\"] = \"ActionExecutionResult\";\n  RuntimeEventTypes2[\"AgentStateMessage\"] = \"AgentStateMessage\";\n})(RuntimeEventTypes || (RuntimeEventTypes = {}));\nvar RuntimeEventSubject = class extends import_rxjs2.ReplaySubject {\n  constructor() {\n    super();\n  }\n  sendTextMessageStart(messageId) {\n    this.next({\n      type: \"TextMessageStart\",\n      messageId\n    });\n  }\n  sendTextMessageContent(content) {\n    this.next({\n      type: \"TextMessageContent\",\n      content\n    });\n  }\n  sendTextMessageEnd() {\n    this.next({\n      type: \"TextMessageEnd\"\n    });\n  }\n  sendTextMessage(messageId, content) {\n    this.sendTextMessageStart(messageId);\n    this.sendTextMessageContent(content);\n    this.sendTextMessageEnd();\n  }\n  sendActionExecutionStart(actionExecutionId, actionName) {\n    this.next({\n      type: \"ActionExecutionStart\",\n      actionExecutionId,\n      actionName\n    });\n  }\n  sendActionExecutionArgs(args) {\n    this.next({\n      type: \"ActionExecutionArgs\",\n      args\n    });\n  }\n  sendActionExecutionEnd() {\n    this.next({\n      type: \"ActionExecutionEnd\"\n    });\n  }\n  sendActionExecution(actionExecutionId, toolName, args) {\n    this.sendActionExecutionStart(actionExecutionId, toolName);\n    this.sendActionExecutionArgs(args);\n    this.sendActionExecutionEnd();\n  }\n  sendActionExecutionResult(actionExecutionId, actionName, result) {\n    this.next({\n      type: \"ActionExecutionResult\",\n      actionName,\n      actionExecutionId,\n      result\n    });\n  }\n  sendAgentStateMessage(threadId, agentName, nodeName, runId, active, role, state, running) {\n    this.next({\n      type: \"AgentStateMessage\",\n      threadId,\n      agentName,\n      nodeName,\n      runId,\n      active,\n      role,\n      state,\n      running\n    });\n  }\n};\n__name(RuntimeEventSubject, \"RuntimeEventSubject\");\nvar RuntimeEventSource = class {\n  eventStream$ = new RuntimeEventSubject();\n  callback;\n  async stream(callback) {\n    this.callback = callback;\n  }\n  processRuntimeEvents({ serverSideActions, guardrailsResult$, actionInputsWithoutAgents }) {\n    this.callback(this.eventStream$).catch((error) => {\n      console.error(\"Error in event source callback\", error);\n    });\n    return this.eventStream$.pipe(\n      // mark tools for server side execution\n      (0, import_rxjs2.map)((event) => {\n        if (event.type === \"ActionExecutionStart\") {\n          if (event.scope !== \"passThrough\") {\n            event.scope = serverSideActions.find((action) => action.name === event.actionName) ? \"server\" : \"client\";\n          }\n        }\n        return event;\n      }),\n      // track state\n      (0, import_rxjs2.scan)((acc, event) => {\n        acc = {\n          ...acc\n        };\n        if (event.type === \"ActionExecutionStart\") {\n          acc.callActionServerSide = event.scope === \"server\";\n          acc.args = \"\";\n          acc.actionExecutionId = event.actionExecutionId;\n          if (acc.callActionServerSide) {\n            acc.action = serverSideActions.find((action) => action.name === event.actionName);\n          }\n        } else if (event.type === \"ActionExecutionArgs\") {\n          acc.args += event.args;\n        }\n        acc.event = event;\n        return acc;\n      }, {\n        event: null,\n        callActionServerSide: false,\n        args: \"\",\n        actionExecutionId: null,\n        action: null\n      }),\n      (0, import_rxjs2.concatMap)((eventWithState) => {\n        if (eventWithState.event.type === \"ActionExecutionEnd\" && eventWithState.callActionServerSide) {\n          const toolCallEventStream$ = new RuntimeEventSubject();\n          executeAction(toolCallEventStream$, guardrailsResult$ ? guardrailsResult$ : null, eventWithState.action, eventWithState.args, eventWithState.actionExecutionId, actionInputsWithoutAgents).catch((error) => {\n            console.error(error);\n          });\n          telemetry_client_default.capture(\"oss.runtime.server_action_executed\", {});\n          return (0, import_rxjs2.concat)((0, import_rxjs2.of)(eventWithState.event), toolCallEventStream$);\n        } else {\n          return (0, import_rxjs2.of)(eventWithState.event);\n        }\n      })\n    );\n  }\n};\n__name(RuntimeEventSource, \"RuntimeEventSource\");\nasync function executeAction(eventStream$, guardrailsResult$, action, actionArguments, actionExecutionId, actionInputsWithoutAgents) {\n  var _a;\n  if (guardrailsResult$) {\n    const { status } = await (0, import_rxjs2.firstValueFrom)(guardrailsResult$);\n    if (status === \"denied\") {\n      eventStream$.complete();\n      return;\n    }\n  }\n  let args = [];\n  if (actionArguments) {\n    args = JSON.parse(actionArguments);\n  }\n  if (isLangGraphAgentAction(action)) {\n    eventStream$.sendActionExecutionResult(actionExecutionId, action.name, `${action.name} agent started`);\n    const stream = await action.langGraphAgentHandler({\n      name: action.name,\n      actionInputsWithoutAgents\n    });\n    (0, import_rxjs2.from)(stream).subscribe({\n      next: (event) => eventStream$.next(event),\n      error: (err) => console.error(\"Error in stream\", err),\n      complete: () => eventStream$.complete()\n    });\n  } else {\n    const result = await ((_a = action.handler) == null ? void 0 : _a.call(action, args));\n    await streamLangChainResponse({\n      result,\n      eventStream$,\n      actionExecution: {\n        name: action.name,\n        id: actionExecutionId\n      }\n    });\n  }\n}\n__name(executeAction, \"executeAction\");\n\n// src/service-adapters/conversion.ts\nvar import_class_transformer = __webpack_require__(/*! class-transformer */ \"(rsc)/./node_modules/class-transformer/esm5/index.js\");\nfunction convertGqlInputToMessages(inputMessages) {\n  const messages = [];\n  for (const message of inputMessages) {\n    if (message.textMessage) {\n      messages.push((0, import_class_transformer.plainToInstance)(TextMessage, {\n        id: message.id,\n        createdAt: message.createdAt,\n        role: message.textMessage.role,\n        content: message.textMessage.content\n      }));\n    } else if (message.actionExecutionMessage) {\n      messages.push((0, import_class_transformer.plainToInstance)(ActionExecutionMessage, {\n        id: message.id,\n        createdAt: message.createdAt,\n        name: message.actionExecutionMessage.name,\n        arguments: JSON.parse(message.actionExecutionMessage.arguments),\n        scope: message.actionExecutionMessage.scope\n      }));\n    } else if (message.resultMessage) {\n      messages.push((0, import_class_transformer.plainToInstance)(ResultMessage, {\n        id: message.id,\n        createdAt: message.createdAt,\n        actionExecutionId: message.resultMessage.actionExecutionId,\n        actionName: message.resultMessage.actionName,\n        result: message.resultMessage.result\n      }));\n    } else if (message.agentStateMessage) {\n      messages.push((0, import_class_transformer.plainToInstance)(AgentStateMessage, {\n        id: message.id,\n        threadId: message.agentStateMessage.threadId,\n        createdAt: message.createdAt,\n        agentName: message.agentStateMessage.agentName,\n        nodeName: message.agentStateMessage.nodeName,\n        runId: message.agentStateMessage.runId,\n        active: message.agentStateMessage.active,\n        role: message.agentStateMessage.role,\n        state: JSON.parse(message.agentStateMessage.state),\n        running: message.agentStateMessage.running\n      }));\n    }\n  }\n  return messages;\n}\n__name(convertGqlInputToMessages, \"convertGqlInputToMessages\");\n\n// src/lib/runtime/copilot-runtime.ts\nvar import_rxjs3 = __webpack_require__(/*! rxjs */ \"(rsc)/./node_modules/rxjs/dist/esm5/index.js\");\nvar CopilotRuntime = class {\n  actions;\n  remoteActionDefinitions;\n  langserve = [];\n  onBeforeRequest;\n  onAfterRequest;\n  constructor(params) {\n    var _a, _b;\n    this.actions = (params == null ? void 0 : params.actions) || [];\n    for (const chain of (params == null ? void 0 : params.langserve) || []) {\n      const remoteChain = new RemoteChain(chain);\n      this.langserve.push(remoteChain.toAction());\n    }\n    this.remoteActionDefinitions = (params == null ? void 0 : params.remoteActions) || [];\n    this.onBeforeRequest = (_a = params == null ? void 0 : params.middleware) == null ? void 0 : _a.onBeforeRequest;\n    this.onAfterRequest = (_b = params == null ? void 0 : params.middleware) == null ? void 0 : _b.onAfterRequest;\n  }\n  async processRuntimeRequest(request) {\n    var _a;\n    const { serviceAdapter, messages: rawMessages, actions: clientSideActionsInput, threadId, runId, outputMessagesPromise, graphqlContext, forwardedParameters, agentSession, url } = request;\n    if (agentSession) {\n      return this.processAgentRequest(request);\n    }\n    const messages = rawMessages.filter((message) => !message.agentStateMessage);\n    const inputMessages = convertGqlInputToMessages(messages);\n    const serverSideActions = await this.getServerSideActions(request);\n    const serverSideActionsInput = serverSideActions.map((action) => ({\n      name: action.name,\n      description: action.description,\n      jsonSchema: JSON.stringify((0, import_shared9.actionParametersToJsonSchema)(action.parameters))\n    }));\n    const actionInputs = flattenToolCallsNoDuplicates([\n      ...serverSideActionsInput,\n      ...clientSideActionsInput\n    ]);\n    await ((_a = this.onBeforeRequest) == null ? void 0 : _a.call(this, {\n      threadId,\n      runId,\n      inputMessages,\n      properties: graphqlContext.properties,\n      url\n    }));\n    try {\n      const eventSource = new RuntimeEventSource();\n      const result = await serviceAdapter.process({\n        messages: inputMessages,\n        actions: actionInputs,\n        threadId,\n        runId,\n        eventSource,\n        forwardedParameters\n      });\n      outputMessagesPromise.then((outputMessages) => {\n        var _a2;\n        (_a2 = this.onAfterRequest) == null ? void 0 : _a2.call(this, {\n          threadId: result.threadId,\n          runId: result.runId,\n          inputMessages,\n          outputMessages,\n          properties: graphqlContext.properties,\n          url\n        });\n      }).catch((_error) => {\n      });\n      return {\n        threadId: result.threadId,\n        runId: result.runId,\n        eventSource,\n        serverSideActions,\n        actionInputsWithoutAgents: actionInputs.filter((action) => (\n          // TODO-AGENTS: do not exclude ALL server side actions\n          !serverSideActions.find((serverSideAction) => serverSideAction.name == action.name)\n        ))\n      };\n    } catch (error) {\n      console.error(\"Error getting response:\", error);\n      throw error;\n    }\n  }\n  async processAgentRequest(request) {\n    var _a;\n    const { messages: rawMessages, outputMessagesPromise, graphqlContext, agentSession } = request;\n    const { threadId = (0, import_shared9.randomId)(), agentName, nodeName } = agentSession;\n    const serverSideActions = await this.getServerSideActions(request);\n    const messages = convertGqlInputToMessages(rawMessages);\n    const agent = serverSideActions.find((action) => action.name === agentName && isLangGraphAgentAction(action));\n    if (!agent) {\n      throw new Error(`Agent ${agentName} not found`);\n    }\n    const serverSideActionsInput = serverSideActions.filter((action) => !isLangGraphAgentAction(action)).map((action) => ({\n      name: action.name,\n      description: action.description,\n      jsonSchema: JSON.stringify((0, import_shared9.actionParametersToJsonSchema)(action.parameters))\n    }));\n    const actionInputsWithoutAgents = flattenToolCallsNoDuplicates([\n      ...serverSideActionsInput,\n      ...request.actions\n    ]);\n    await ((_a = this.onBeforeRequest) == null ? void 0 : _a.call(this, {\n      threadId,\n      runId: void 0,\n      inputMessages: messages,\n      properties: graphqlContext.properties\n    }));\n    try {\n      const eventSource = new RuntimeEventSource();\n      const stream = await agent.langGraphAgentHandler({\n        name: agentName,\n        threadId,\n        nodeName,\n        actionInputsWithoutAgents\n      });\n      eventSource.stream(async (eventStream$) => {\n        (0, import_rxjs3.from)(stream).subscribe({\n          next: (event) => eventStream$.next(event),\n          error: (err) => console.error(\"Error in stream\", err),\n          complete: () => eventStream$.complete()\n        });\n      });\n      outputMessagesPromise.then((outputMessages) => {\n        var _a2;\n        (_a2 = this.onAfterRequest) == null ? void 0 : _a2.call(this, {\n          threadId,\n          runId: void 0,\n          inputMessages: messages,\n          outputMessages,\n          properties: graphqlContext.properties\n        });\n      }).catch((_error) => {\n      });\n      return {\n        threadId,\n        runId: void 0,\n        eventSource,\n        serverSideActions: [],\n        actionInputsWithoutAgents\n      };\n    } catch (error) {\n      console.error(\"Error getting response:\", error);\n      throw error;\n    }\n  }\n  async getServerSideActions(request) {\n    const { messages: rawMessages, graphqlContext, agentStates, url } = request;\n    const inputMessages = convertGqlInputToMessages(rawMessages);\n    const langserveFunctions = [];\n    for (const chainPromise of this.langserve) {\n      try {\n        const chain = await chainPromise;\n        langserveFunctions.push(chain);\n      } catch (error) {\n        console.error(\"Error loading langserve chain:\", error);\n      }\n    }\n    const remoteActions = await setupRemoteActions({\n      remoteActionDefinitions: this.remoteActionDefinitions,\n      graphqlContext,\n      messages: inputMessages,\n      agentStates\n    });\n    const configuredActions = typeof this.actions === \"function\" ? this.actions({\n      properties: graphqlContext.properties,\n      url\n    }) : this.actions;\n    return [\n      ...configuredActions,\n      ...langserveFunctions,\n      ...remoteActions\n    ];\n  }\n};\n__name(CopilotRuntime, \"CopilotRuntime\");\nfunction flattenToolCallsNoDuplicates(toolsByPriority) {\n  let allTools = [];\n  const allToolNames = [];\n  for (const tool of toolsByPriority) {\n    if (!allToolNames.includes(tool.name)) {\n      allTools.push(tool);\n      allToolNames.push(tool.name);\n    }\n  }\n  return allTools;\n}\n__name(flattenToolCallsNoDuplicates, \"flattenToolCallsNoDuplicates\");\n\n// src/lib/integrations/shared.ts\nvar import_type_graphql16 = __webpack_require__(/*! type-graphql */ \"(rsc)/./node_modules/type-graphql/build/cjs/index.js\");\n\n// src/graphql/resolvers/copilot.resolver.ts\nvar import_type_graphql15 = __webpack_require__(/*! type-graphql */ \"(rsc)/./node_modules/type-graphql/build/cjs/index.js\");\nvar import_rxjs4 = __webpack_require__(/*! rxjs */ \"(rsc)/./node_modules/rxjs/dist/esm5/index.js\");\n\n// src/graphql/inputs/generate-copilot-response.input.ts\nvar import_type_graphql11 = __webpack_require__(/*! type-graphql */ \"(rsc)/./node_modules/type-graphql/build/cjs/index.js\");\n\n// src/graphql/inputs/message.input.ts\nvar import_type_graphql3 = __webpack_require__(/*! type-graphql */ \"(rsc)/./node_modules/type-graphql/build/cjs/index.js\");\n\n// src/graphql/types/enums.ts\nvar import_type_graphql2 = __webpack_require__(/*! type-graphql */ \"(rsc)/./node_modules/type-graphql/build/cjs/index.js\");\nvar MessageRole;\n(function(MessageRole2) {\n  MessageRole2[\"user\"] = \"user\";\n  MessageRole2[\"assistant\"] = \"assistant\";\n  MessageRole2[\"system\"] = \"system\";\n})(MessageRole || (MessageRole = {}));\nvar ActionExecutionScope;\n(function(ActionExecutionScope2) {\n  ActionExecutionScope2[\"server\"] = \"server\";\n  ActionExecutionScope2[\"client\"] = \"client\";\n  ActionExecutionScope2[\"passThrough\"] = \"passThrough\";\n})(ActionExecutionScope || (ActionExecutionScope = {}));\nvar CopilotRequestType;\n(function(CopilotRequestType2) {\n  CopilotRequestType2[\"Chat\"] = \"Chat\";\n  CopilotRequestType2[\"Task\"] = \"Task\";\n  CopilotRequestType2[\"TextareaCompletion\"] = \"TextareaCompletion\";\n  CopilotRequestType2[\"TextareaPopover\"] = \"TextareaPopover\";\n  CopilotRequestType2[\"Suggestion\"] = \"Suggestion\";\n})(CopilotRequestType || (CopilotRequestType = {}));\n(0, import_type_graphql2.registerEnumType)(MessageRole, {\n  name: \"MessageRole\",\n  description: \"The role of the message\"\n});\n(0, import_type_graphql2.registerEnumType)(ActionExecutionScope, {\n  name: \"ActionExecutionScope\",\n  description: \"The scope of the action\"\n});\n(0, import_type_graphql2.registerEnumType)(CopilotRequestType, {\n  name: \"CopilotRequestType\",\n  description: \"The type of Copilot request\"\n});\n\n// src/graphql/inputs/message.input.ts\nfunction _ts_decorate2(decorators, target, key, desc) {\n  var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n  if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\")\n    r = Reflect.decorate(decorators, target, key, desc);\n  else\n    for (var i = decorators.length - 1; i >= 0; i--)\n      if (d = decorators[i])\n        r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n  return c > 3 && r && Object.defineProperty(target, key, r), r;\n}\n__name(_ts_decorate2, \"_ts_decorate\");\nfunction _ts_metadata2(k, v) {\n  if (typeof Reflect === \"object\" && typeof Reflect.metadata === \"function\")\n    return Reflect.metadata(k, v);\n}\n__name(_ts_metadata2, \"_ts_metadata\");\nvar MessageInput = class extends BaseMessage {\n  textMessage;\n  actionExecutionMessage;\n  resultMessage;\n  agentStateMessage;\n};\n__name(MessageInput, \"MessageInput\");\n_ts_decorate2([\n  (0, import_type_graphql3.Field)(() => TextMessageInput, {\n    nullable: true\n  }),\n  _ts_metadata2(\"design:type\", typeof TextMessageInput === \"undefined\" ? Object : TextMessageInput)\n], MessageInput.prototype, \"textMessage\", void 0);\n_ts_decorate2([\n  (0, import_type_graphql3.Field)(() => ActionExecutionMessageInput, {\n    nullable: true\n  }),\n  _ts_metadata2(\"design:type\", typeof ActionExecutionMessageInput === \"undefined\" ? Object : ActionExecutionMessageInput)\n], MessageInput.prototype, \"actionExecutionMessage\", void 0);\n_ts_decorate2([\n  (0, import_type_graphql3.Field)(() => ResultMessageInput, {\n    nullable: true\n  }),\n  _ts_metadata2(\"design:type\", typeof ResultMessageInput === \"undefined\" ? Object : ResultMessageInput)\n], MessageInput.prototype, \"resultMessage\", void 0);\n_ts_decorate2([\n  (0, import_type_graphql3.Field)(() => AgentStateMessageInput, {\n    nullable: true\n  }),\n  _ts_metadata2(\"design:type\", typeof AgentStateMessageInput === \"undefined\" ? Object : AgentStateMessageInput)\n], MessageInput.prototype, \"agentStateMessage\", void 0);\nMessageInput = _ts_decorate2([\n  (0, import_type_graphql3.InputType)()\n], MessageInput);\nvar TextMessageInput = class {\n  content;\n  role;\n};\n__name(TextMessageInput, \"TextMessageInput\");\n_ts_decorate2([\n  (0, import_type_graphql3.Field)(() => String),\n  _ts_metadata2(\"design:type\", String)\n], TextMessageInput.prototype, \"content\", void 0);\n_ts_decorate2([\n  (0, import_type_graphql3.Field)(() => MessageRole),\n  _ts_metadata2(\"design:type\", typeof MessageRole === \"undefined\" ? Object : MessageRole)\n], TextMessageInput.prototype, \"role\", void 0);\nTextMessageInput = _ts_decorate2([\n  (0, import_type_graphql3.InputType)()\n], TextMessageInput);\nvar ActionExecutionMessageInput = class {\n  name;\n  arguments;\n  scope;\n};\n__name(ActionExecutionMessageInput, \"ActionExecutionMessageInput\");\n_ts_decorate2([\n  (0, import_type_graphql3.Field)(() => String),\n  _ts_metadata2(\"design:type\", String)\n], ActionExecutionMessageInput.prototype, \"name\", void 0);\n_ts_decorate2([\n  (0, import_type_graphql3.Field)(() => String),\n  _ts_metadata2(\"design:type\", String)\n], ActionExecutionMessageInput.prototype, \"arguments\", void 0);\n_ts_decorate2([\n  (0, import_type_graphql3.Field)(() => ActionExecutionScope),\n  _ts_metadata2(\"design:type\", typeof ActionExecutionScope === \"undefined\" ? Object : ActionExecutionScope)\n], ActionExecutionMessageInput.prototype, \"scope\", void 0);\nActionExecutionMessageInput = _ts_decorate2([\n  (0, import_type_graphql3.InputType)()\n], ActionExecutionMessageInput);\nvar ResultMessageInput = class {\n  actionExecutionId;\n  actionName;\n  result;\n};\n__name(ResultMessageInput, \"ResultMessageInput\");\n_ts_decorate2([\n  (0, import_type_graphql3.Field)(() => String),\n  _ts_metadata2(\"design:type\", String)\n], ResultMessageInput.prototype, \"actionExecutionId\", void 0);\n_ts_decorate2([\n  (0, import_type_graphql3.Field)(() => String),\n  _ts_metadata2(\"design:type\", String)\n], ResultMessageInput.prototype, \"actionName\", void 0);\n_ts_decorate2([\n  (0, import_type_graphql3.Field)(() => String),\n  _ts_metadata2(\"design:type\", String)\n], ResultMessageInput.prototype, \"result\", void 0);\nResultMessageInput = _ts_decorate2([\n  (0, import_type_graphql3.InputType)()\n], ResultMessageInput);\nvar AgentStateMessageInput = class {\n  threadId;\n  agentName;\n  role;\n  state;\n  running;\n  nodeName;\n  runId;\n  active;\n};\n__name(AgentStateMessageInput, \"AgentStateMessageInput\");\n_ts_decorate2([\n  (0, import_type_graphql3.Field)(() => String),\n  _ts_metadata2(\"design:type\", String)\n], AgentStateMessageInput.prototype, \"threadId\", void 0);\n_ts_decorate2([\n  (0, import_type_graphql3.Field)(() => String),\n  _ts_metadata2(\"design:type\", String)\n], AgentStateMessageInput.prototype, \"agentName\", void 0);\n_ts_decorate2([\n  (0, import_type_graphql3.Field)(() => MessageRole),\n  _ts_metadata2(\"design:type\", typeof MessageRole === \"undefined\" ? Object : MessageRole)\n], AgentStateMessageInput.prototype, \"role\", void 0);\n_ts_decorate2([\n  (0, import_type_graphql3.Field)(() => String),\n  _ts_metadata2(\"design:type\", String)\n], AgentStateMessageInput.prototype, \"state\", void 0);\n_ts_decorate2([\n  (0, import_type_graphql3.Field)(() => Boolean),\n  _ts_metadata2(\"design:type\", Boolean)\n], AgentStateMessageInput.prototype, \"running\", void 0);\n_ts_decorate2([\n  (0, import_type_graphql3.Field)(() => String),\n  _ts_metadata2(\"design:type\", String)\n], AgentStateMessageInput.prototype, \"nodeName\", void 0);\n_ts_decorate2([\n  (0, import_type_graphql3.Field)(() => String),\n  _ts_metadata2(\"design:type\", String)\n], AgentStateMessageInput.prototype, \"runId\", void 0);\n_ts_decorate2([\n  (0, import_type_graphql3.Field)(() => Boolean),\n  _ts_metadata2(\"design:type\", Boolean)\n], AgentStateMessageInput.prototype, \"active\", void 0);\nAgentStateMessageInput = _ts_decorate2([\n  (0, import_type_graphql3.InputType)()\n], AgentStateMessageInput);\n\n// src/graphql/inputs/frontend.input.ts\nvar import_type_graphql5 = __webpack_require__(/*! type-graphql */ \"(rsc)/./node_modules/type-graphql/build/cjs/index.js\");\n\n// src/graphql/inputs/action.input.ts\nvar import_type_graphql4 = __webpack_require__(/*! type-graphql */ \"(rsc)/./node_modules/type-graphql/build/cjs/index.js\");\nfunction _ts_decorate3(decorators, target, key, desc) {\n  var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n  if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\")\n    r = Reflect.decorate(decorators, target, key, desc);\n  else\n    for (var i = decorators.length - 1; i >= 0; i--)\n      if (d = decorators[i])\n        r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n  return c > 3 && r && Object.defineProperty(target, key, r), r;\n}\n__name(_ts_decorate3, \"_ts_decorate\");\nfunction _ts_metadata3(k, v) {\n  if (typeof Reflect === \"object\" && typeof Reflect.metadata === \"function\")\n    return Reflect.metadata(k, v);\n}\n__name(_ts_metadata3, \"_ts_metadata\");\nvar ActionInput = class {\n  name;\n  description;\n  jsonSchema;\n};\n__name(ActionInput, \"ActionInput\");\n_ts_decorate3([\n  (0, import_type_graphql4.Field)(() => String),\n  _ts_metadata3(\"design:type\", String)\n], ActionInput.prototype, \"name\", void 0);\n_ts_decorate3([\n  (0, import_type_graphql4.Field)(() => String),\n  _ts_metadata3(\"design:type\", String)\n], ActionInput.prototype, \"description\", void 0);\n_ts_decorate3([\n  (0, import_type_graphql4.Field)(() => String),\n  _ts_metadata3(\"design:type\", String)\n], ActionInput.prototype, \"jsonSchema\", void 0);\nActionInput = _ts_decorate3([\n  (0, import_type_graphql4.InputType)()\n], ActionInput);\n\n// src/graphql/inputs/frontend.input.ts\nfunction _ts_decorate4(decorators, target, key, desc) {\n  var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n  if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\")\n    r = Reflect.decorate(decorators, target, key, desc);\n  else\n    for (var i = decorators.length - 1; i >= 0; i--)\n      if (d = decorators[i])\n        r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n  return c > 3 && r && Object.defineProperty(target, key, r), r;\n}\n__name(_ts_decorate4, \"_ts_decorate\");\nfunction _ts_metadata4(k, v) {\n  if (typeof Reflect === \"object\" && typeof Reflect.metadata === \"function\")\n    return Reflect.metadata(k, v);\n}\n__name(_ts_metadata4, \"_ts_metadata\");\nvar FrontendInput = class {\n  toDeprecate_fullContext;\n  actions;\n  url;\n};\n__name(FrontendInput, \"FrontendInput\");\n_ts_decorate4([\n  (0, import_type_graphql5.Field)(() => String, {\n    nullable: true\n  }),\n  _ts_metadata4(\"design:type\", String)\n], FrontendInput.prototype, \"toDeprecate_fullContext\", void 0);\n_ts_decorate4([\n  (0, import_type_graphql5.Field)(() => [\n    ActionInput\n  ]),\n  _ts_metadata4(\"design:type\", Array)\n], FrontendInput.prototype, \"actions\", void 0);\n_ts_decorate4([\n  (0, import_type_graphql5.Field)(() => String, {\n    nullable: true\n  }),\n  _ts_metadata4(\"design:type\", String)\n], FrontendInput.prototype, \"url\", void 0);\nFrontendInput = _ts_decorate4([\n  (0, import_type_graphql5.InputType)()\n], FrontendInput);\n\n// src/graphql/inputs/cloud.input.ts\nvar import_type_graphql7 = __webpack_require__(/*! type-graphql */ \"(rsc)/./node_modules/type-graphql/build/cjs/index.js\");\n\n// src/graphql/inputs/cloud-guardrails.input.ts\nvar import_type_graphql6 = __webpack_require__(/*! type-graphql */ \"(rsc)/./node_modules/type-graphql/build/cjs/index.js\");\nfunction _ts_decorate5(decorators, target, key, desc) {\n  var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n  if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\")\n    r = Reflect.decorate(decorators, target, key, desc);\n  else\n    for (var i = decorators.length - 1; i >= 0; i--)\n      if (d = decorators[i])\n        r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n  return c > 3 && r && Object.defineProperty(target, key, r), r;\n}\n__name(_ts_decorate5, \"_ts_decorate\");\nfunction _ts_metadata5(k, v) {\n  if (typeof Reflect === \"object\" && typeof Reflect.metadata === \"function\")\n    return Reflect.metadata(k, v);\n}\n__name(_ts_metadata5, \"_ts_metadata\");\nvar GuardrailsRuleInput = class {\n  allowList = [];\n  denyList = [];\n};\n__name(GuardrailsRuleInput, \"GuardrailsRuleInput\");\n_ts_decorate5([\n  (0, import_type_graphql6.Field)(() => [\n    String\n  ], {\n    nullable: true\n  }),\n  _ts_metadata5(\"design:type\", Array)\n], GuardrailsRuleInput.prototype, \"allowList\", void 0);\n_ts_decorate5([\n  (0, import_type_graphql6.Field)(() => [\n    String\n  ], {\n    nullable: true\n  }),\n  _ts_metadata5(\"design:type\", Array)\n], GuardrailsRuleInput.prototype, \"denyList\", void 0);\nGuardrailsRuleInput = _ts_decorate5([\n  (0, import_type_graphql6.InputType)()\n], GuardrailsRuleInput);\nvar GuardrailsInput = class {\n  inputValidationRules;\n};\n__name(GuardrailsInput, \"GuardrailsInput\");\n_ts_decorate5([\n  (0, import_type_graphql6.Field)(() => GuardrailsRuleInput, {\n    nullable: false\n  }),\n  _ts_metadata5(\"design:type\", typeof GuardrailsRuleInput === \"undefined\" ? Object : GuardrailsRuleInput)\n], GuardrailsInput.prototype, \"inputValidationRules\", void 0);\nGuardrailsInput = _ts_decorate5([\n  (0, import_type_graphql6.InputType)()\n], GuardrailsInput);\n\n// src/graphql/inputs/cloud.input.ts\nfunction _ts_decorate6(decorators, target, key, desc) {\n  var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n  if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\")\n    r = Reflect.decorate(decorators, target, key, desc);\n  else\n    for (var i = decorators.length - 1; i >= 0; i--)\n      if (d = decorators[i])\n        r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n  return c > 3 && r && Object.defineProperty(target, key, r), r;\n}\n__name(_ts_decorate6, \"_ts_decorate\");\nfunction _ts_metadata6(k, v) {\n  if (typeof Reflect === \"object\" && typeof Reflect.metadata === \"function\")\n    return Reflect.metadata(k, v);\n}\n__name(_ts_metadata6, \"_ts_metadata\");\nvar CloudInput = class {\n  guardrails;\n};\n__name(CloudInput, \"CloudInput\");\n_ts_decorate6([\n  (0, import_type_graphql7.Field)(() => GuardrailsInput, {\n    nullable: true\n  }),\n  _ts_metadata6(\"design:type\", typeof GuardrailsInput === \"undefined\" ? Object : GuardrailsInput)\n], CloudInput.prototype, \"guardrails\", void 0);\nCloudInput = _ts_decorate6([\n  (0, import_type_graphql7.InputType)()\n], CloudInput);\n\n// src/graphql/inputs/forwarded-parameters.input.ts\nvar import_type_graphql8 = __webpack_require__(/*! type-graphql */ \"(rsc)/./node_modules/type-graphql/build/cjs/index.js\");\nfunction _ts_decorate7(decorators, target, key, desc) {\n  var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n  if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\")\n    r = Reflect.decorate(decorators, target, key, desc);\n  else\n    for (var i = decorators.length - 1; i >= 0; i--)\n      if (d = decorators[i])\n        r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n  return c > 3 && r && Object.defineProperty(target, key, r), r;\n}\n__name(_ts_decorate7, \"_ts_decorate\");\nfunction _ts_metadata7(k, v) {\n  if (typeof Reflect === \"object\" && typeof Reflect.metadata === \"function\")\n    return Reflect.metadata(k, v);\n}\n__name(_ts_metadata7, \"_ts_metadata\");\nvar ForwardedParametersInput = class {\n  model;\n  maxTokens;\n  stop;\n  toolChoice;\n  toolChoiceFunctionName;\n};\n__name(ForwardedParametersInput, \"ForwardedParametersInput\");\n_ts_decorate7([\n  (0, import_type_graphql8.Field)(() => String, {\n    nullable: true\n  }),\n  _ts_metadata7(\"design:type\", String)\n], ForwardedParametersInput.prototype, \"model\", void 0);\n_ts_decorate7([\n  (0, import_type_graphql8.Field)(() => Number, {\n    nullable: true\n  }),\n  _ts_metadata7(\"design:type\", Number)\n], ForwardedParametersInput.prototype, \"maxTokens\", void 0);\n_ts_decorate7([\n  (0, import_type_graphql8.Field)(() => [\n    String\n  ], {\n    nullable: true\n  }),\n  _ts_metadata7(\"design:type\", Array)\n], ForwardedParametersInput.prototype, \"stop\", void 0);\n_ts_decorate7([\n  (0, import_type_graphql8.Field)(() => String, {\n    nullable: true\n  }),\n  _ts_metadata7(\"design:type\", typeof String === \"undefined\" ? Object : String)\n], ForwardedParametersInput.prototype, \"toolChoice\", void 0);\n_ts_decorate7([\n  (0, import_type_graphql8.Field)(() => String, {\n    nullable: true\n  }),\n  _ts_metadata7(\"design:type\", String)\n], ForwardedParametersInput.prototype, \"toolChoiceFunctionName\", void 0);\nForwardedParametersInput = _ts_decorate7([\n  (0, import_type_graphql8.InputType)()\n], ForwardedParametersInput);\n\n// src/graphql/inputs/agent-session.input.ts\nvar import_type_graphql9 = __webpack_require__(/*! type-graphql */ \"(rsc)/./node_modules/type-graphql/build/cjs/index.js\");\nfunction _ts_decorate8(decorators, target, key, desc) {\n  var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n  if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\")\n    r = Reflect.decorate(decorators, target, key, desc);\n  else\n    for (var i = decorators.length - 1; i >= 0; i--)\n      if (d = decorators[i])\n        r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n  return c > 3 && r && Object.defineProperty(target, key, r), r;\n}\n__name(_ts_decorate8, \"_ts_decorate\");\nfunction _ts_metadata8(k, v) {\n  if (typeof Reflect === \"object\" && typeof Reflect.metadata === \"function\")\n    return Reflect.metadata(k, v);\n}\n__name(_ts_metadata8, \"_ts_metadata\");\nvar AgentSessionInput = class {\n  agentName;\n  threadId;\n  nodeName;\n};\n__name(AgentSessionInput, \"AgentSessionInput\");\n_ts_decorate8([\n  (0, import_type_graphql9.Field)(() => String),\n  _ts_metadata8(\"design:type\", String)\n], AgentSessionInput.prototype, \"agentName\", void 0);\n_ts_decorate8([\n  (0, import_type_graphql9.Field)(() => String, {\n    nullable: true\n  }),\n  _ts_metadata8(\"design:type\", String)\n], AgentSessionInput.prototype, \"threadId\", void 0);\n_ts_decorate8([\n  (0, import_type_graphql9.Field)(() => String, {\n    nullable: true\n  }),\n  _ts_metadata8(\"design:type\", String)\n], AgentSessionInput.prototype, \"nodeName\", void 0);\nAgentSessionInput = _ts_decorate8([\n  (0, import_type_graphql9.InputType)()\n], AgentSessionInput);\n\n// src/graphql/inputs/agent-state.input.ts\nvar import_type_graphql10 = __webpack_require__(/*! type-graphql */ \"(rsc)/./node_modules/type-graphql/build/cjs/index.js\");\nfunction _ts_decorate9(decorators, target, key, desc) {\n  var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n  if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\")\n    r = Reflect.decorate(decorators, target, key, desc);\n  else\n    for (var i = decorators.length - 1; i >= 0; i--)\n      if (d = decorators[i])\n        r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n  return c > 3 && r && Object.defineProperty(target, key, r), r;\n}\n__name(_ts_decorate9, \"_ts_decorate\");\nfunction _ts_metadata9(k, v) {\n  if (typeof Reflect === \"object\" && typeof Reflect.metadata === \"function\")\n    return Reflect.metadata(k, v);\n}\n__name(_ts_metadata9, \"_ts_metadata\");\nvar AgentStateInput = class {\n  agentName;\n  state;\n};\n__name(AgentStateInput, \"AgentStateInput\");\n_ts_decorate9([\n  (0, import_type_graphql10.Field)(() => String),\n  _ts_metadata9(\"design:type\", String)\n], AgentStateInput.prototype, \"agentName\", void 0);\n_ts_decorate9([\n  (0, import_type_graphql10.Field)(() => String),\n  _ts_metadata9(\"design:type\", String)\n], AgentStateInput.prototype, \"state\", void 0);\nAgentStateInput = _ts_decorate9([\n  (0, import_type_graphql10.InputType)()\n], AgentStateInput);\n\n// src/graphql/inputs/generate-copilot-response.input.ts\nfunction _ts_decorate10(decorators, target, key, desc) {\n  var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n  if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\")\n    r = Reflect.decorate(decorators, target, key, desc);\n  else\n    for (var i = decorators.length - 1; i >= 0; i--)\n      if (d = decorators[i])\n        r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n  return c > 3 && r && Object.defineProperty(target, key, r), r;\n}\n__name(_ts_decorate10, \"_ts_decorate\");\nfunction _ts_metadata10(k, v) {\n  if (typeof Reflect === \"object\" && typeof Reflect.metadata === \"function\")\n    return Reflect.metadata(k, v);\n}\n__name(_ts_metadata10, \"_ts_metadata\");\nvar GenerateCopilotResponseMetadataInput = class {\n  requestType;\n};\n__name(GenerateCopilotResponseMetadataInput, \"GenerateCopilotResponseMetadataInput\");\n_ts_decorate10([\n  (0, import_type_graphql11.Field)(() => CopilotRequestType, {\n    nullable: true\n  }),\n  _ts_metadata10(\"design:type\", typeof CopilotRequestType === \"undefined\" ? Object : CopilotRequestType)\n], GenerateCopilotResponseMetadataInput.prototype, \"requestType\", void 0);\nGenerateCopilotResponseMetadataInput = _ts_decorate10([\n  (0, import_type_graphql11.InputType)()\n], GenerateCopilotResponseMetadataInput);\nvar GenerateCopilotResponseInput = class {\n  metadata;\n  threadId;\n  runId;\n  messages;\n  frontend;\n  cloud;\n  forwardedParameters;\n  agentSession;\n  agentState;\n  agentStates;\n};\n__name(GenerateCopilotResponseInput, \"GenerateCopilotResponseInput\");\n_ts_decorate10([\n  (0, import_type_graphql11.Field)(() => GenerateCopilotResponseMetadataInput, {\n    nullable: false\n  }),\n  _ts_metadata10(\"design:type\", typeof GenerateCopilotResponseMetadataInput === \"undefined\" ? Object : GenerateCopilotResponseMetadataInput)\n], GenerateCopilotResponseInput.prototype, \"metadata\", void 0);\n_ts_decorate10([\n  (0, import_type_graphql11.Field)(() => String, {\n    nullable: true\n  }),\n  _ts_metadata10(\"design:type\", String)\n], GenerateCopilotResponseInput.prototype, \"threadId\", void 0);\n_ts_decorate10([\n  (0, import_type_graphql11.Field)(() => String, {\n    nullable: true\n  }),\n  _ts_metadata10(\"design:type\", String)\n], GenerateCopilotResponseInput.prototype, \"runId\", void 0);\n_ts_decorate10([\n  (0, import_type_graphql11.Field)(() => [\n    MessageInput\n  ]),\n  _ts_metadata10(\"design:type\", Array)\n], GenerateCopilotResponseInput.prototype, \"messages\", void 0);\n_ts_decorate10([\n  (0, import_type_graphql11.Field)(() => FrontendInput),\n  _ts_metadata10(\"design:type\", typeof FrontendInput === \"undefined\" ? Object : FrontendInput)\n], GenerateCopilotResponseInput.prototype, \"frontend\", void 0);\n_ts_decorate10([\n  (0, import_type_graphql11.Field)(() => CloudInput, {\n    nullable: true\n  }),\n  _ts_metadata10(\"design:type\", typeof CloudInput === \"undefined\" ? Object : CloudInput)\n], GenerateCopilotResponseInput.prototype, \"cloud\", void 0);\n_ts_decorate10([\n  (0, import_type_graphql11.Field)(() => ForwardedParametersInput, {\n    nullable: true\n  }),\n  _ts_metadata10(\"design:type\", typeof ForwardedParametersInput === \"undefined\" ? Object : ForwardedParametersInput)\n], GenerateCopilotResponseInput.prototype, \"forwardedParameters\", void 0);\n_ts_decorate10([\n  (0, import_type_graphql11.Field)(() => AgentSessionInput, {\n    nullable: true\n  }),\n  _ts_metadata10(\"design:type\", typeof AgentSessionInput === \"undefined\" ? Object : AgentSessionInput)\n], GenerateCopilotResponseInput.prototype, \"agentSession\", void 0);\n_ts_decorate10([\n  (0, import_type_graphql11.Field)(() => AgentStateInput, {\n    nullable: true\n  }),\n  _ts_metadata10(\"design:type\", typeof AgentStateInput === \"undefined\" ? Object : AgentStateInput)\n], GenerateCopilotResponseInput.prototype, \"agentState\", void 0);\n_ts_decorate10([\n  (0, import_type_graphql11.Field)(() => [\n    AgentStateInput\n  ], {\n    nullable: true\n  }),\n  _ts_metadata10(\"design:type\", Array)\n], GenerateCopilotResponseInput.prototype, \"agentStates\", void 0);\nGenerateCopilotResponseInput = _ts_decorate10([\n  (0, import_type_graphql11.InputType)()\n], GenerateCopilotResponseInput);\n\n// src/graphql/types/copilot-response.type.ts\nvar import_type_graphql14 = __webpack_require__(/*! type-graphql */ \"(rsc)/./node_modules/type-graphql/build/cjs/index.js\");\n\n// src/graphql/types/message-status.type.ts\nvar import_type_graphql12 = __webpack_require__(/*! type-graphql */ \"(rsc)/./node_modules/type-graphql/build/cjs/index.js\");\nfunction _ts_decorate11(decorators, target, key, desc) {\n  var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n  if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\")\n    r = Reflect.decorate(decorators, target, key, desc);\n  else\n    for (var i = decorators.length - 1; i >= 0; i--)\n      if (d = decorators[i])\n        r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n  return c > 3 && r && Object.defineProperty(target, key, r), r;\n}\n__name(_ts_decorate11, \"_ts_decorate\");\nfunction _ts_metadata11(k, v) {\n  if (typeof Reflect === \"object\" && typeof Reflect.metadata === \"function\")\n    return Reflect.metadata(k, v);\n}\n__name(_ts_metadata11, \"_ts_metadata\");\nvar MessageStatusCode;\n(function(MessageStatusCode2) {\n  MessageStatusCode2[\"Pending\"] = \"pending\";\n  MessageStatusCode2[\"Success\"] = \"success\";\n  MessageStatusCode2[\"Failed\"] = \"failed\";\n})(MessageStatusCode || (MessageStatusCode = {}));\n(0, import_type_graphql12.registerEnumType)(MessageStatusCode, {\n  name: \"MessageStatusCode\"\n});\nvar BaseMessageStatus = /* @__PURE__ */ __name(class BaseMessageStatus2 {\n  code;\n}, \"BaseMessageStatus\");\n_ts_decorate11([\n  (0, import_type_graphql12.Field)(() => MessageStatusCode),\n  _ts_metadata11(\"design:type\", String)\n], BaseMessageStatus.prototype, \"code\", void 0);\nBaseMessageStatus = _ts_decorate11([\n  (0, import_type_graphql12.ObjectType)()\n], BaseMessageStatus);\nvar PendingMessageStatus = class extends BaseMessageStatus {\n  code = \"pending\";\n};\n__name(PendingMessageStatus, \"PendingMessageStatus\");\nPendingMessageStatus = _ts_decorate11([\n  (0, import_type_graphql12.ObjectType)()\n], PendingMessageStatus);\nvar SuccessMessageStatus = class extends BaseMessageStatus {\n  code = \"success\";\n};\n__name(SuccessMessageStatus, \"SuccessMessageStatus\");\nSuccessMessageStatus = _ts_decorate11([\n  (0, import_type_graphql12.ObjectType)()\n], SuccessMessageStatus);\nvar FailedMessageStatus = class extends BaseMessageStatus {\n  code = \"failed\";\n  reason;\n};\n__name(FailedMessageStatus, \"FailedMessageStatus\");\n_ts_decorate11([\n  (0, import_type_graphql12.Field)(() => String),\n  _ts_metadata11(\"design:type\", String)\n], FailedMessageStatus.prototype, \"reason\", void 0);\nFailedMessageStatus = _ts_decorate11([\n  (0, import_type_graphql12.ObjectType)()\n], FailedMessageStatus);\nvar MessageStatusUnion = (0, import_type_graphql12.createUnionType)({\n  name: \"MessageStatus\",\n  types: () => [\n    PendingMessageStatus,\n    SuccessMessageStatus,\n    FailedMessageStatus\n  ]\n});\n\n// src/graphql/types/response-status.type.ts\nvar import_graphql_scalars = __webpack_require__(/*! graphql-scalars */ \"(rsc)/./node_modules/graphql-scalars/cjs/index.js\");\nvar import_type_graphql13 = __webpack_require__(/*! type-graphql */ \"(rsc)/./node_modules/type-graphql/build/cjs/index.js\");\nfunction _ts_decorate12(decorators, target, key, desc) {\n  var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n  if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\")\n    r = Reflect.decorate(decorators, target, key, desc);\n  else\n    for (var i = decorators.length - 1; i >= 0; i--)\n      if (d = decorators[i])\n        r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n  return c > 3 && r && Object.defineProperty(target, key, r), r;\n}\n__name(_ts_decorate12, \"_ts_decorate\");\nfunction _ts_metadata12(k, v) {\n  if (typeof Reflect === \"object\" && typeof Reflect.metadata === \"function\")\n    return Reflect.metadata(k, v);\n}\n__name(_ts_metadata12, \"_ts_metadata\");\nvar ResponseStatusCode;\n(function(ResponseStatusCode2) {\n  ResponseStatusCode2[\"Pending\"] = \"pending\";\n  ResponseStatusCode2[\"Success\"] = \"success\";\n  ResponseStatusCode2[\"Failed\"] = \"failed\";\n})(ResponseStatusCode || (ResponseStatusCode = {}));\n(0, import_type_graphql13.registerEnumType)(ResponseStatusCode, {\n  name: \"ResponseStatusCode\"\n});\nvar BaseResponseStatus = /* @__PURE__ */ __name(class BaseResponseStatus2 {\n  code;\n}, \"BaseResponseStatus\");\n_ts_decorate12([\n  (0, import_type_graphql13.Field)(() => ResponseStatusCode),\n  _ts_metadata12(\"design:type\", String)\n], BaseResponseStatus.prototype, \"code\", void 0);\nBaseResponseStatus = _ts_decorate12([\n  (0, import_type_graphql13.InterfaceType)({\n    resolveType(value) {\n      if (value.code === \"success\") {\n        return SuccessResponseStatus;\n      } else if (value.code === \"failed\") {\n        return FailedResponseStatus;\n      } else if (value.code === \"pending\") {\n        return PendingResponseStatus;\n      }\n      return void 0;\n    }\n  }),\n  (0, import_type_graphql13.ObjectType)()\n], BaseResponseStatus);\nvar PendingResponseStatus = class extends BaseResponseStatus {\n  code = \"pending\";\n};\n__name(PendingResponseStatus, \"PendingResponseStatus\");\nPendingResponseStatus = _ts_decorate12([\n  (0, import_type_graphql13.ObjectType)({\n    implements: BaseResponseStatus\n  })\n], PendingResponseStatus);\nvar SuccessResponseStatus = class extends BaseResponseStatus {\n  code = \"success\";\n};\n__name(SuccessResponseStatus, \"SuccessResponseStatus\");\nSuccessResponseStatus = _ts_decorate12([\n  (0, import_type_graphql13.ObjectType)({\n    implements: BaseResponseStatus\n  })\n], SuccessResponseStatus);\nvar FailedResponseStatusReason;\n(function(FailedResponseStatusReason2) {\n  FailedResponseStatusReason2[\"GUARDRAILS_VALIDATION_FAILED\"] = \"GUARDRAILS_VALIDATION_FAILED\";\n  FailedResponseStatusReason2[\"MESSAGE_STREAM_INTERRUPTED\"] = \"MESSAGE_STREAM_INTERRUPTED\";\n  FailedResponseStatusReason2[\"UNKNOWN_ERROR\"] = \"UNKNOWN_ERROR\";\n})(FailedResponseStatusReason || (FailedResponseStatusReason = {}));\n(0, import_type_graphql13.registerEnumType)(FailedResponseStatusReason, {\n  name: \"FailedResponseStatusReason\"\n});\nvar FailedResponseStatus = class extends BaseResponseStatus {\n  code = \"failed\";\n  reason;\n  details = null;\n};\n__name(FailedResponseStatus, \"FailedResponseStatus\");\n_ts_decorate12([\n  (0, import_type_graphql13.Field)(() => FailedResponseStatusReason),\n  _ts_metadata12(\"design:type\", String)\n], FailedResponseStatus.prototype, \"reason\", void 0);\n_ts_decorate12([\n  (0, import_type_graphql13.Field)(() => import_graphql_scalars.GraphQLJSON, {\n    nullable: true\n  }),\n  _ts_metadata12(\"design:type\", typeof Record === \"undefined\" ? Object : Record)\n], FailedResponseStatus.prototype, \"details\", void 0);\nFailedResponseStatus = _ts_decorate12([\n  (0, import_type_graphql13.ObjectType)({\n    implements: BaseResponseStatus\n  })\n], FailedResponseStatus);\nvar ResponseStatusUnion = (0, import_type_graphql13.createUnionType)({\n  name: \"ResponseStatus\",\n  types: () => [\n    PendingResponseStatus,\n    SuccessResponseStatus,\n    FailedResponseStatus\n  ]\n});\n\n// src/graphql/types/copilot-response.type.ts\nfunction _ts_decorate13(decorators, target, key, desc) {\n  var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n  if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\")\n    r = Reflect.decorate(decorators, target, key, desc);\n  else\n    for (var i = decorators.length - 1; i >= 0; i--)\n      if (d = decorators[i])\n        r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n  return c > 3 && r && Object.defineProperty(target, key, r), r;\n}\n__name(_ts_decorate13, \"_ts_decorate\");\nfunction _ts_metadata13(k, v) {\n  if (typeof Reflect === \"object\" && typeof Reflect.metadata === \"function\")\n    return Reflect.metadata(k, v);\n}\n__name(_ts_metadata13, \"_ts_metadata\");\nvar BaseMessageOutput = /* @__PURE__ */ __name(class BaseMessageOutput2 {\n  id;\n  createdAt;\n  status;\n}, \"BaseMessageOutput\");\n_ts_decorate13([\n  (0, import_type_graphql14.Field)(() => String),\n  _ts_metadata13(\"design:type\", String)\n], BaseMessageOutput.prototype, \"id\", void 0);\n_ts_decorate13([\n  (0, import_type_graphql14.Field)(() => Date),\n  _ts_metadata13(\"design:type\", typeof Date === \"undefined\" ? Object : Date)\n], BaseMessageOutput.prototype, \"createdAt\", void 0);\n_ts_decorate13([\n  (0, import_type_graphql14.Field)(() => MessageStatusUnion),\n  _ts_metadata13(\"design:type\", Object)\n], BaseMessageOutput.prototype, \"status\", void 0);\nBaseMessageOutput = _ts_decorate13([\n  (0, import_type_graphql14.InterfaceType)({\n    resolveType(value) {\n      if (value.hasOwnProperty(\"content\")) {\n        return TextMessageOutput;\n      } else if (value.hasOwnProperty(\"name\")) {\n        return ActionExecutionMessageOutput;\n      } else if (value.hasOwnProperty(\"result\")) {\n        return ResultMessageOutput;\n      } else if (value.hasOwnProperty(\"state\")) {\n        return AgentStateMessageOutput;\n      }\n      return void 0;\n    }\n  })\n], BaseMessageOutput);\nvar TextMessageOutput = class {\n  role;\n  content;\n};\n__name(TextMessageOutput, \"TextMessageOutput\");\n_ts_decorate13([\n  (0, import_type_graphql14.Field)(() => MessageRole),\n  _ts_metadata13(\"design:type\", typeof MessageRole === \"undefined\" ? Object : MessageRole)\n], TextMessageOutput.prototype, \"role\", void 0);\n_ts_decorate13([\n  (0, import_type_graphql14.Field)(() => [\n    String\n  ]),\n  _ts_metadata13(\"design:type\", Array)\n], TextMessageOutput.prototype, \"content\", void 0);\nTextMessageOutput = _ts_decorate13([\n  (0, import_type_graphql14.ObjectType)({\n    implements: BaseMessageOutput\n  })\n], TextMessageOutput);\nvar ActionExecutionMessageOutput = class {\n  name;\n  scope;\n  arguments;\n};\n__name(ActionExecutionMessageOutput, \"ActionExecutionMessageOutput\");\n_ts_decorate13([\n  (0, import_type_graphql14.Field)(() => String),\n  _ts_metadata13(\"design:type\", String)\n], ActionExecutionMessageOutput.prototype, \"name\", void 0);\n_ts_decorate13([\n  (0, import_type_graphql14.Field)(() => ActionExecutionScope),\n  _ts_metadata13(\"design:type\", typeof ActionExecutionScope === \"undefined\" ? Object : ActionExecutionScope)\n], ActionExecutionMessageOutput.prototype, \"scope\", void 0);\n_ts_decorate13([\n  (0, import_type_graphql14.Field)(() => [\n    String\n  ]),\n  _ts_metadata13(\"design:type\", Array)\n], ActionExecutionMessageOutput.prototype, \"arguments\", void 0);\nActionExecutionMessageOutput = _ts_decorate13([\n  (0, import_type_graphql14.ObjectType)({\n    implements: BaseMessageOutput\n  })\n], ActionExecutionMessageOutput);\nvar ResultMessageOutput = class {\n  actionExecutionId;\n  actionName;\n  result;\n};\n__name(ResultMessageOutput, \"ResultMessageOutput\");\n_ts_decorate13([\n  (0, import_type_graphql14.Field)(() => String),\n  _ts_metadata13(\"design:type\", String)\n], ResultMessageOutput.prototype, \"actionExecutionId\", void 0);\n_ts_decorate13([\n  (0, import_type_graphql14.Field)(() => String),\n  _ts_metadata13(\"design:type\", String)\n], ResultMessageOutput.prototype, \"actionName\", void 0);\n_ts_decorate13([\n  (0, import_type_graphql14.Field)(() => String),\n  _ts_metadata13(\"design:type\", String)\n], ResultMessageOutput.prototype, \"result\", void 0);\nResultMessageOutput = _ts_decorate13([\n  (0, import_type_graphql14.ObjectType)({\n    implements: BaseMessageOutput\n  })\n], ResultMessageOutput);\nvar AgentStateMessageOutput = class {\n  threadId;\n  agentName;\n  nodeName;\n  runId;\n  active;\n  role;\n  state;\n  running;\n};\n__name(AgentStateMessageOutput, \"AgentStateMessageOutput\");\n_ts_decorate13([\n  (0, import_type_graphql14.Field)(() => String),\n  _ts_metadata13(\"design:type\", String)\n], AgentStateMessageOutput.prototype, \"threadId\", void 0);\n_ts_decorate13([\n  (0, import_type_graphql14.Field)(() => String),\n  _ts_metadata13(\"design:type\", String)\n], AgentStateMessageOutput.prototype, \"agentName\", void 0);\n_ts_decorate13([\n  (0, import_type_graphql14.Field)(() => String),\n  _ts_metadata13(\"design:type\", String)\n], AgentStateMessageOutput.prototype, \"nodeName\", void 0);\n_ts_decorate13([\n  (0, import_type_graphql14.Field)(() => String),\n  _ts_metadata13(\"design:type\", String)\n], AgentStateMessageOutput.prototype, \"runId\", void 0);\n_ts_decorate13([\n  (0, import_type_graphql14.Field)(() => Boolean),\n  _ts_metadata13(\"design:type\", Boolean)\n], AgentStateMessageOutput.prototype, \"active\", void 0);\n_ts_decorate13([\n  (0, import_type_graphql14.Field)(() => MessageRole),\n  _ts_metadata13(\"design:type\", typeof MessageRole === \"undefined\" ? Object : MessageRole)\n], AgentStateMessageOutput.prototype, \"role\", void 0);\n_ts_decorate13([\n  (0, import_type_graphql14.Field)(() => String),\n  _ts_metadata13(\"design:type\", String)\n], AgentStateMessageOutput.prototype, \"state\", void 0);\n_ts_decorate13([\n  (0, import_type_graphql14.Field)(() => Boolean),\n  _ts_metadata13(\"design:type\", Boolean)\n], AgentStateMessageOutput.prototype, \"running\", void 0);\nAgentStateMessageOutput = _ts_decorate13([\n  (0, import_type_graphql14.ObjectType)({\n    implements: BaseMessageOutput\n  })\n], AgentStateMessageOutput);\nvar CopilotResponse = class {\n  threadId;\n  status;\n  runId;\n  messages;\n};\n__name(CopilotResponse, \"CopilotResponse\");\n_ts_decorate13([\n  (0, import_type_graphql14.Field)(() => String),\n  _ts_metadata13(\"design:type\", String)\n], CopilotResponse.prototype, \"threadId\", void 0);\n_ts_decorate13([\n  (0, import_type_graphql14.Field)(() => ResponseStatusUnion),\n  _ts_metadata13(\"design:type\", Object)\n], CopilotResponse.prototype, \"status\", void 0);\n_ts_decorate13([\n  (0, import_type_graphql14.Field)({\n    nullable: true\n  }),\n  _ts_metadata13(\"design:type\", String)\n], CopilotResponse.prototype, \"runId\", void 0);\n_ts_decorate13([\n  (0, import_type_graphql14.Field)(() => [\n    BaseMessageOutput\n  ]),\n  _ts_metadata13(\"design:type\", Array)\n], CopilotResponse.prototype, \"messages\", void 0);\nCopilotResponse = _ts_decorate13([\n  (0, import_type_graphql14.ObjectType)()\n], CopilotResponse);\n\n// src/graphql/resolvers/copilot.resolver.ts\nvar import_graphql_yoga = __webpack_require__(/*! graphql-yoga */ \"(rsc)/./node_modules/graphql-yoga/cjs/index.js\");\nvar import_graphql_scalars2 = __webpack_require__(/*! graphql-scalars */ \"(rsc)/./node_modules/graphql-scalars/cjs/index.js\");\nvar import_class_transformer2 = __webpack_require__(/*! class-transformer */ \"(rsc)/./node_modules/class-transformer/esm5/index.js\");\nvar import_graphql = __webpack_require__(/*! graphql */ \"(rsc)/./node_modules/graphql/index.mjs\");\n\n// src/utils/failed-response-status-reasons.ts\nvar GuardrailsValidationFailureResponse = class extends FailedResponseStatus {\n  reason = FailedResponseStatusReason.GUARDRAILS_VALIDATION_FAILED;\n  constructor({ guardrailsReason }) {\n    super();\n    this.details = {\n      guardrailsReason\n    };\n  }\n};\n__name(GuardrailsValidationFailureResponse, \"GuardrailsValidationFailureResponse\");\nvar MessageStreamInterruptedResponse = class extends FailedResponseStatus {\n  reason = FailedResponseStatusReason.MESSAGE_STREAM_INTERRUPTED;\n  constructor({ messageId }) {\n    super();\n    this.details = {\n      messageId,\n      description: \"Check the message for mode details\"\n    };\n  }\n};\n__name(MessageStreamInterruptedResponse, \"MessageStreamInterruptedResponse\");\nvar UnknownErrorResponse = class extends FailedResponseStatus {\n  reason = FailedResponseStatusReason.UNKNOWN_ERROR;\n  constructor({ description }) {\n    super();\n    this.details = {\n      description\n    };\n  }\n};\n__name(UnknownErrorResponse, \"UnknownErrorResponse\");\n\n// src/graphql/resolvers/copilot.resolver.ts\nvar import_shared10 = __webpack_require__(/*! @copilotkit/shared */ \"(rsc)/./node_modules/@copilotkit/shared/dist/index.js\");\nfunction _ts_decorate14(decorators, target, key, desc) {\n  var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n  if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\")\n    r = Reflect.decorate(decorators, target, key, desc);\n  else\n    for (var i = decorators.length - 1; i >= 0; i--)\n      if (d = decorators[i])\n        r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n  return c > 3 && r && Object.defineProperty(target, key, r), r;\n}\n__name(_ts_decorate14, \"_ts_decorate\");\nfunction _ts_metadata14(k, v) {\n  if (typeof Reflect === \"object\" && typeof Reflect.metadata === \"function\")\n    return Reflect.metadata(k, v);\n}\n__name(_ts_metadata14, \"_ts_metadata\");\nfunction _ts_param(paramIndex, decorator) {\n  return function(target, key) {\n    decorator(target, key, paramIndex);\n  };\n}\n__name(_ts_param, \"_ts_param\");\nvar invokeGuardrails = /* @__PURE__ */ __name(async ({ baseUrl, copilotCloudPublicApiKey, data, onResult, onError }) => {\n  var _a;\n  if (data.messages.length && ((_a = data.messages[data.messages.length - 1].textMessage) == null ? void 0 : _a.role) === MessageRole.user) {\n    const messages = data.messages.filter((m) => m.textMessage !== void 0 && (m.textMessage.role === MessageRole.user || m.textMessage.role === MessageRole.assistant)).map((m) => ({\n      role: m.textMessage.role,\n      content: m.textMessage.content\n    }));\n    const lastMessage = messages[messages.length - 1];\n    const restOfMessages = messages.slice(0, -1);\n    const body = {\n      input: lastMessage.content,\n      validTopics: data.cloud.guardrails.inputValidationRules.allowList,\n      invalidTopics: data.cloud.guardrails.inputValidationRules.denyList,\n      messages: restOfMessages\n    };\n    const guardrailsResult = await fetch(`${baseUrl}/guardrails/validate`, {\n      method: \"POST\",\n      headers: {\n        \"Content-Type\": \"application/json\",\n        \"X-CopilotCloud-Public-API-Key\": copilotCloudPublicApiKey\n      },\n      body: JSON.stringify(body)\n    });\n    if (guardrailsResult.ok) {\n      const resultJson = await guardrailsResult.json();\n      onResult(resultJson);\n    } else {\n      onError(await guardrailsResult.json());\n    }\n  }\n}, \"invokeGuardrails\");\nvar CopilotResolver = class {\n  async hello() {\n    return \"Hello World\";\n  }\n  async generateCopilotResponse(ctx, data, properties) {\n    var _a, _b, _c;\n    telemetry_client_default.capture(\"oss.runtime.copilot_request_created\", {\n      \"cloud.guardrails.enabled\": ((_a = data.cloud) == null ? void 0 : _a.guardrails) !== void 0,\n      requestType: data.metadata.requestType\n    });\n    let logger2 = ctx.logger.child({\n      component: \"CopilotResolver.generateCopilotResponse\"\n    });\n    logger2.debug({\n      data\n    }, \"Generating Copilot response\");\n    if (properties) {\n      logger2.debug(\"Properties provided, merging with context properties\");\n      ctx.properties = {\n        ...ctx.properties,\n        ...properties\n      };\n    }\n    const copilotRuntime = ctx._copilotkit.runtime;\n    const serviceAdapter = ctx._copilotkit.serviceAdapter;\n    let copilotCloudPublicApiKey = null;\n    let copilotCloudBaseUrl;\n    if (data.cloud) {\n      logger2 = logger2.child({\n        cloud: true\n      });\n      logger2.debug(\"Cloud configuration provided, checking for public API key in headers\");\n      const key = ctx.request.headers.get(\"x-copilotcloud-public-api-key\");\n      if (key) {\n        logger2.debug(\"Public API key found in headers\");\n        copilotCloudPublicApiKey = key;\n      } else {\n        logger2.error(\"Public API key not found in headers\");\n        throw new import_graphql.GraphQLError(\"X-CopilotCloud-Public-API-Key header is required\");\n      }\n      if (process.env.COPILOT_CLOUD_BASE_URL) {\n        copilotCloudBaseUrl = process.env.COPILOT_CLOUD_BASE_URL;\n      } else if ((_b = ctx._copilotkit.cloud) == null ? void 0 : _b.baseUrl) {\n        copilotCloudBaseUrl = (_c = ctx._copilotkit.cloud) == null ? void 0 : _c.baseUrl;\n      } else {\n        copilotCloudBaseUrl = \"https://api.cloud.copilotkit.ai\";\n      }\n      logger2 = logger2.child({\n        copilotCloudBaseUrl\n      });\n    }\n    logger2.debug(\"Setting up subjects\");\n    const responseStatus$ = new import_rxjs4.ReplaySubject();\n    const interruptStreaming$ = new import_rxjs4.ReplaySubject();\n    const guardrailsResult$ = new import_rxjs4.ReplaySubject();\n    let outputMessages = [];\n    let resolveOutputMessagesPromise;\n    let rejectOutputMessagesPromise;\n    const outputMessagesPromise = new Promise((resolve, reject) => {\n      resolveOutputMessagesPromise = resolve;\n      rejectOutputMessagesPromise = reject;\n    });\n    logger2.debug(\"Processing\");\n    const { eventSource, threadId = (0, import_shared10.randomId)(), runId, serverSideActions, actionInputsWithoutAgents } = await copilotRuntime.processRuntimeRequest({\n      serviceAdapter,\n      messages: data.messages,\n      actions: data.frontend.actions,\n      threadId: data.threadId,\n      runId: data.runId,\n      publicApiKey: void 0,\n      outputMessagesPromise,\n      graphqlContext: ctx,\n      forwardedParameters: data.forwardedParameters,\n      agentSession: data.agentSession,\n      agentStates: data.agentStates,\n      url: data.frontend.url\n    });\n    logger2.debug(\"Event source created, creating response\");\n    const response = {\n      threadId,\n      runId,\n      status: (0, import_rxjs4.firstValueFrom)(responseStatus$),\n      messages: new import_graphql_yoga.Repeater(async (pushMessage, stopStreamingMessages) => {\n        var _a2, _b2;\n        logger2.debug(\"Messages repeater created\");\n        if ((_a2 = data.cloud) == null ? void 0 : _a2.guardrails) {\n          logger2 = logger2.child({\n            guardrails: true\n          });\n          logger2.debug(\"Guardrails is enabled, validating input\");\n          invokeGuardrails({\n            baseUrl: copilotCloudBaseUrl,\n            copilotCloudPublicApiKey,\n            data,\n            onResult: (result) => {\n              logger2.debug({\n                status: result.status\n              }, \"Guardrails validation done\");\n              guardrailsResult$.next(result);\n              if (result.status === \"denied\") {\n                responseStatus$.next(new GuardrailsValidationFailureResponse({\n                  guardrailsReason: result.reason\n                }));\n                interruptStreaming$.next({\n                  reason: `Interrupted due to Guardrails validation failure. Reason: ${result.reason}`\n                });\n                outputMessages = [\n                  (0, import_class_transformer2.plainToInstance)(TextMessage, {\n                    id: (0, import_shared10.randomId)(),\n                    createdAt: /* @__PURE__ */ new Date(),\n                    content: result.reason,\n                    role: MessageRole.assistant\n                  })\n                ];\n                resolveOutputMessagesPromise(outputMessages);\n              }\n            },\n            onError: (err) => {\n              logger2.error({\n                err\n              }, \"Error in guardrails validation\");\n              responseStatus$.next(new UnknownErrorResponse({\n                description: `An unknown error has occurred in the guardrails validation`\n              }));\n              interruptStreaming$.next({\n                reason: `Interrupted due to unknown error in guardrails validation`\n              });\n              rejectOutputMessagesPromise(err);\n            }\n          });\n        }\n        let eventStreamSubscription;\n        const eventStream = eventSource.processRuntimeEvents({\n          serverSideActions,\n          guardrailsResult$: ((_b2 = data.cloud) == null ? void 0 : _b2.guardrails) ? guardrailsResult$ : null,\n          actionInputsWithoutAgents: actionInputsWithoutAgents.filter(\n            // TODO-AGENTS: do not exclude ALL server side actions\n            (action) => !serverSideActions.find((serverSideAction) => serverSideAction.name == action.name)\n          )\n        }).pipe(\n          // shareReplay() ensures that later subscribers will see the whole stream instead of\n          // just the events that were emitted after the subscriber was added.\n          (0, import_rxjs4.shareReplay)(),\n          (0, import_rxjs4.finalize)(() => {\n            logger2.debug(\"Event stream finalized\");\n          })\n        );\n        logger2.debug(\"Event stream created, subscribing to event stream\");\n        eventStreamSubscription = eventStream.subscribe({\n          next: async (event) => {\n            switch (event.type) {\n              case RuntimeEventTypes.TextMessageStart:\n                const textMessageContentStream = eventStream.pipe(\n                  // skip until this message start event\n                  (0, import_rxjs4.skipWhile)((e) => e !== event),\n                  // take until the message end event\n                  (0, import_rxjs4.takeWhile)((e) => e.type != RuntimeEventTypes.TextMessageEnd)\n                );\n                const streamingTextStatus = new import_rxjs4.Subject();\n                const messageId = (0, import_shared10.randomId)();\n                pushMessage({\n                  id: messageId,\n                  status: (0, import_rxjs4.firstValueFrom)(streamingTextStatus),\n                  createdAt: /* @__PURE__ */ new Date(),\n                  role: MessageRole.assistant,\n                  content: new import_graphql_yoga.Repeater(async (pushTextChunk, stopStreamingText) => {\n                    logger2.debug(\"Text message content repeater created\");\n                    const textChunks = [];\n                    let textSubscription;\n                    interruptStreaming$.pipe((0, import_rxjs4.shareReplay)(), (0, import_rxjs4.take)(1), (0, import_rxjs4.tap)(({ reason, messageId: messageId2 }) => {\n                      logger2.debug({\n                        reason,\n                        messageId: messageId2\n                      }, \"Text streaming interrupted\");\n                      streamingTextStatus.next((0, import_class_transformer2.plainToInstance)(FailedMessageStatus, {\n                        reason\n                      }));\n                      responseStatus$.next(new MessageStreamInterruptedResponse({\n                        messageId: messageId2\n                      }));\n                      stopStreamingText();\n                      textSubscription == null ? void 0 : textSubscription.unsubscribe();\n                    })).subscribe();\n                    logger2.debug(\"Subscribing to text message content stream\");\n                    textSubscription = textMessageContentStream.subscribe({\n                      next: async (e) => {\n                        if (e.type == RuntimeEventTypes.TextMessageContent) {\n                          await pushTextChunk(e.content);\n                          textChunks.push(e.content);\n                        }\n                      },\n                      error: (err) => {\n                        logger2.error({\n                          err\n                        }, \"Error in text message content stream\");\n                        interruptStreaming$.next({\n                          reason: \"Error streaming message content\",\n                          messageId\n                        });\n                        stopStreamingText();\n                        textSubscription == null ? void 0 : textSubscription.unsubscribe();\n                      },\n                      complete: () => {\n                        logger2.debug(\"Text message content stream completed\");\n                        streamingTextStatus.next(new SuccessMessageStatus());\n                        stopStreamingText();\n                        textSubscription == null ? void 0 : textSubscription.unsubscribe();\n                        outputMessages.push((0, import_class_transformer2.plainToInstance)(TextMessage, {\n                          id: messageId,\n                          createdAt: /* @__PURE__ */ new Date(),\n                          content: textChunks.join(\"\"),\n                          role: MessageRole.assistant\n                        }));\n                      }\n                    });\n                  })\n                });\n                break;\n              case RuntimeEventTypes.ActionExecutionStart:\n                logger2.debug(\"Action execution start event received\");\n                const actionExecutionArgumentStream = eventStream.pipe((0, import_rxjs4.skipWhile)((e) => e !== event), (0, import_rxjs4.takeWhile)((e) => e.type != RuntimeEventTypes.ActionExecutionEnd));\n                const streamingArgumentsStatus = new import_rxjs4.Subject();\n                pushMessage({\n                  id: event.actionExecutionId,\n                  status: (0, import_rxjs4.firstValueFrom)(streamingArgumentsStatus),\n                  createdAt: /* @__PURE__ */ new Date(),\n                  name: event.actionName,\n                  scope: event.scope,\n                  arguments: new import_graphql_yoga.Repeater(async (pushArgumentsChunk, stopStreamingArguments) => {\n                    logger2.debug(\"Action execution argument stream created\");\n                    const argumentChunks = [];\n                    let actionExecutionArgumentSubscription;\n                    actionExecutionArgumentSubscription = actionExecutionArgumentStream.subscribe({\n                      next: async (e) => {\n                        if (e.type == RuntimeEventTypes.ActionExecutionArgs) {\n                          await pushArgumentsChunk(e.args);\n                          argumentChunks.push(e.args);\n                        }\n                      },\n                      error: (err) => {\n                        logger2.error({\n                          err\n                        }, \"Error in action execution argument stream\");\n                        streamingArgumentsStatus.next((0, import_class_transformer2.plainToInstance)(FailedMessageStatus, {\n                          reason: \"An unknown error has occurred in the action execution argument stream\"\n                        }));\n                        stopStreamingArguments();\n                        actionExecutionArgumentSubscription == null ? void 0 : actionExecutionArgumentSubscription.unsubscribe();\n                      },\n                      complete: () => {\n                        logger2.debug(\"Action execution argument stream completed\");\n                        streamingArgumentsStatus.next(new SuccessMessageStatus());\n                        stopStreamingArguments();\n                        actionExecutionArgumentSubscription == null ? void 0 : actionExecutionArgumentSubscription.unsubscribe();\n                        outputMessages.push((0, import_class_transformer2.plainToInstance)(ActionExecutionMessage, {\n                          id: event.actionExecutionId,\n                          createdAt: /* @__PURE__ */ new Date(),\n                          name: event.actionName,\n                          scope: event.scope,\n                          arguments: argumentChunks.join(\"\")\n                        }));\n                      }\n                    });\n                  })\n                });\n                break;\n              case RuntimeEventTypes.ActionExecutionResult:\n                logger2.debug({\n                  result: event.result\n                }, \"Action execution result event received\");\n                pushMessage({\n                  id: (0, import_shared10.randomId)(),\n                  status: new SuccessMessageStatus(),\n                  createdAt: /* @__PURE__ */ new Date(),\n                  actionExecutionId: event.actionExecutionId,\n                  actionName: event.actionName,\n                  result: event.result\n                });\n                outputMessages.push((0, import_class_transformer2.plainToInstance)(ResultMessage, {\n                  id: (0, import_shared10.randomId)(),\n                  createdAt: /* @__PURE__ */ new Date(),\n                  actionExecutionId: event.actionExecutionId,\n                  actionName: event.actionName,\n                  result: event.result\n                }));\n                break;\n              case RuntimeEventTypes.AgentStateMessage:\n                logger2.debug({\n                  event\n                }, \"Agent message event received\");\n                pushMessage({\n                  id: (0, import_shared10.randomId)(),\n                  status: new SuccessMessageStatus(),\n                  threadId: event.threadId,\n                  agentName: event.agentName,\n                  nodeName: event.nodeName,\n                  runId: event.runId,\n                  active: event.active,\n                  state: event.state,\n                  running: event.running,\n                  role: MessageRole.assistant,\n                  createdAt: /* @__PURE__ */ new Date()\n                });\n                outputMessages.push((0, import_class_transformer2.plainToInstance)(AgentStateMessage, {\n                  id: (0, import_shared10.randomId)(),\n                  threadId: event.threadId,\n                  agentName: event.agentName,\n                  nodeName: event.nodeName,\n                  runId: event.runId,\n                  active: event.active,\n                  state: event.state,\n                  running: event.running,\n                  role: MessageRole.assistant,\n                  createdAt: /* @__PURE__ */ new Date()\n                }));\n                break;\n            }\n          },\n          error: (err) => {\n            logger2.error({\n              err\n            }, \"Error in event stream\");\n            responseStatus$.next(new UnknownErrorResponse({\n              description: `An unknown error has occurred in the event stream`\n            }));\n            eventStreamSubscription == null ? void 0 : eventStreamSubscription.unsubscribe();\n            stopStreamingMessages();\n            rejectOutputMessagesPromise(err);\n          },\n          complete: async () => {\n            var _a3;\n            logger2.debug(\"Event stream completed\");\n            if ((_a3 = data.cloud) == null ? void 0 : _a3.guardrails) {\n              logger2.debug(\"Guardrails is enabled, waiting for guardrails result\");\n              await (0, import_rxjs4.firstValueFrom)(guardrailsResult$);\n            }\n            responseStatus$.next(new SuccessResponseStatus());\n            eventStreamSubscription == null ? void 0 : eventStreamSubscription.unsubscribe();\n            stopStreamingMessages();\n            resolveOutputMessagesPromise(outputMessages);\n          }\n        });\n      })\n    };\n    return response;\n  }\n};\n__name(CopilotResolver, \"CopilotResolver\");\n_ts_decorate14([\n  (0, import_type_graphql15.Query)(() => String),\n  _ts_metadata14(\"design:type\", Function),\n  _ts_metadata14(\"design:paramtypes\", []),\n  _ts_metadata14(\"design:returntype\", Promise)\n], CopilotResolver.prototype, \"hello\", null);\n_ts_decorate14([\n  (0, import_type_graphql15.Mutation)(() => CopilotResponse),\n  _ts_param(0, (0, import_type_graphql15.Ctx)()),\n  _ts_param(1, (0, import_type_graphql15.Arg)(\"data\")),\n  _ts_param(2, (0, import_type_graphql15.Arg)(\"properties\", () => import_graphql_scalars2.GraphQLJSONObject, {\n    nullable: true\n  })),\n  _ts_metadata14(\"design:type\", Function),\n  _ts_metadata14(\"design:paramtypes\", [\n    typeof GraphQLContext === \"undefined\" ? Object : GraphQLContext,\n    typeof GenerateCopilotResponseInput === \"undefined\" ? Object : GenerateCopilotResponseInput,\n    typeof CopilotRequestContextProperties === \"undefined\" ? Object : CopilotRequestContextProperties\n  ]),\n  _ts_metadata14(\"design:returntype\", Promise)\n], CopilotResolver.prototype, \"generateCopilotResponse\", null);\nCopilotResolver = _ts_decorate14([\n  (0, import_type_graphql15.Resolver)(() => CopilotResponse)\n], CopilotResolver);\n\n// src/lib/integrations/shared.ts\nvar import_plugin_defer_stream = __webpack_require__(/*! @graphql-yoga/plugin-defer-stream */ \"(rsc)/./node_modules/@graphql-yoga/plugin-defer-stream/cjs/index.js\");\n\n// src/lib/logger.ts\nvar import_pino = __toESM(__webpack_require__(/*! pino */ \"(rsc)/./node_modules/pino/pino.js\"));\nvar import_pino_pretty = __toESM(__webpack_require__(/*! pino-pretty */ \"(rsc)/./node_modules/pino-pretty/index.js\"));\nfunction createLogger(options) {\n  const { level, component } = options || {};\n  const stream = (0, import_pino_pretty.default)({\n    colorize: true\n  });\n  const logger2 = (0, import_pino.default)({\n    level: process.env.LOG_LEVEL || level || \"error\",\n    redact: {\n      paths: [\n        \"pid\",\n        \"hostname\"\n      ],\n      remove: true\n    }\n  }, stream);\n  if (component) {\n    return logger2.child({\n      component\n    });\n  } else {\n    return logger2;\n  }\n}\n__name(createLogger, \"createLogger\");\n\n// src/lib/integrations/shared.ts\nvar logger = createLogger();\nasync function createContext(initialContext, copilotKitContext, contextLogger, properties = {}) {\n  logger.debug({\n    copilotKitContext\n  }, \"Creating GraphQL context\");\n  const ctx = {\n    ...initialContext,\n    _copilotkit: {\n      ...copilotKitContext\n    },\n    properties: {\n      ...properties\n    },\n    logger: contextLogger\n  };\n  return ctx;\n}\n__name(createContext, \"createContext\");\nfunction buildSchema(options = {}) {\n  logger.debug(\"Building GraphQL schema...\");\n  const schema = (0, import_type_graphql16.buildSchemaSync)({\n    resolvers: [\n      CopilotResolver\n    ],\n    emitSchemaFile: options.emitSchemaFile\n  });\n  logger.debug(\"GraphQL schema built successfully\");\n  return schema;\n}\n__name(buildSchema, \"buildSchema\");\nfunction getCommonConfig(options) {\n  var _a;\n  const logLevel = process.env.LOG_LEVEL || options.logLevel || \"error\";\n  const logger2 = createLogger({\n    level: logLevel,\n    component: \"getCommonConfig\"\n  });\n  const contextLogger = createLogger({\n    level: logLevel\n  });\n  if (options.cloud) {\n    telemetry_client_default.setCloudConfiguration({\n      publicApiKey: options.cloud.publicApiKey,\n      baseUrl: options.cloud.baseUrl\n    });\n  }\n  if ((_a = options.properties) == null ? void 0 : _a._copilotkit) {\n    telemetry_client_default.setGlobalProperties({\n      _copilotkit: {\n        ...options.properties._copilotkit\n      }\n    });\n  }\n  telemetry_client_default.setGlobalProperties({\n    runtime: {\n      serviceAdapter: options.serviceAdapter.constructor.name\n    }\n  });\n  return {\n    logging: createLogger({\n      component: \"Yoga GraphQL\",\n      level: logLevel\n    }),\n    schema: buildSchema(),\n    plugins: [\n      (0, import_plugin_defer_stream.useDeferStream)()\n    ],\n    context: (ctx) => createContext(ctx, options, contextLogger, options.properties)\n  };\n}\n__name(getCommonConfig, \"getCommonConfig\");\n\n// src/lib/integrations/nextjs/app-router.ts\nvar import_graphql_yoga2 = __webpack_require__(/*! graphql-yoga */ \"(rsc)/./node_modules/graphql-yoga/cjs/index.js\");\nfunction copilotRuntimeNextJSAppRouterEndpoint(options) {\n  var _a;\n  const commonConfig = getCommonConfig(options);\n  telemetry_client_default.setGlobalProperties({\n    runtime: {\n      framework: \"nextjs-app-router\"\n    }\n  });\n  if ((_a = options.properties) == null ? void 0 : _a._copilotkit) {\n    telemetry_client_default.setGlobalProperties({\n      _copilotkit: options.properties._copilotkit\n    });\n  }\n  telemetry_client_default.capture(\"oss.runtime.instance_created\", {});\n  const logger2 = commonConfig.logging;\n  logger2.debug(\"Creating NextJS App Router endpoint\");\n  const yoga = (0, import_graphql_yoga2.createYoga)({\n    ...commonConfig,\n    graphqlEndpoint: options.endpoint,\n    fetchAPI: {\n      Response: globalThis.Response\n    }\n  });\n  return {\n    handleRequest: yoga,\n    GET: yoga,\n    POST: yoga,\n    OPTIONS: yoga\n  };\n}\n__name(copilotRuntimeNextJSAppRouterEndpoint, \"copilotRuntimeNextJSAppRouterEndpoint\");\n\n// src/lib/integrations/nextjs/pages-router.ts\nvar import_graphql_yoga3 = __webpack_require__(/*! graphql-yoga */ \"(rsc)/./node_modules/graphql-yoga/cjs/index.js\");\nvar config = {\n  api: {\n    bodyParser: false\n  }\n};\nfunction copilotRuntimeNextJSPagesRouterEndpoint(options) {\n  var _a;\n  const commonConfig = getCommonConfig(options);\n  telemetry_client_default.setGlobalProperties({\n    runtime: {\n      framework: \"nextjs-pages-router\"\n    }\n  });\n  if ((_a = options.properties) == null ? void 0 : _a._copilotkit) {\n    telemetry_client_default.setGlobalProperties({\n      _copilotkit: options.properties._copilotkit\n    });\n  }\n  telemetry_client_default.capture(\"oss.runtime.instance_created\", {});\n  const logger2 = commonConfig.logging;\n  logger2.debug(\"Creating NextJS Pages Router endpoint\");\n  const yoga = (0, import_graphql_yoga3.createYoga)({\n    ...commonConfig,\n    graphqlEndpoint: options.endpoint\n  });\n  return yoga;\n}\n__name(copilotRuntimeNextJSPagesRouterEndpoint, \"copilotRuntimeNextJSPagesRouterEndpoint\");\n\n// src/lib/integrations/node-http/index.ts\nvar import_graphql_yoga4 = __webpack_require__(/*! graphql-yoga */ \"(rsc)/./node_modules/graphql-yoga/cjs/index.js\");\nfunction copilotRuntimeNodeHttpEndpoint(options) {\n  var _a;\n  const commonConfig = getCommonConfig(options);\n  telemetry_client_default.setGlobalProperties({\n    runtime: {\n      framework: \"node-http\"\n    }\n  });\n  if ((_a = options.properties) == null ? void 0 : _a._copilotkit) {\n    telemetry_client_default.setGlobalProperties({\n      _copilotkit: options.properties._copilotkit\n    });\n  }\n  telemetry_client_default.capture(\"oss.runtime.instance_created\", {});\n  const logger2 = commonConfig.logging;\n  logger2.debug(\"Creating Node HTTP endpoint\");\n  const yoga = (0, import_graphql_yoga4.createYoga)({\n    ...commonConfig,\n    graphqlEndpoint: options.endpoint\n  });\n  return yoga;\n}\n__name(copilotRuntimeNodeHttpEndpoint, \"copilotRuntimeNodeHttpEndpoint\");\n\n// src/lib/integrations/node-express/index.ts\nfunction copilotRuntimeNodeExpressEndpoint(options) {\n  telemetry_client_default.setGlobalProperties({\n    runtime: {\n      framework: \"node-express\"\n    }\n  });\n  telemetry_client_default.capture(\"oss.runtime.instance_created\", {});\n  return copilotRuntimeNodeHttpEndpoint(options);\n}\n__name(copilotRuntimeNodeExpressEndpoint, \"copilotRuntimeNodeExpressEndpoint\");\n\n// src/lib/integrations/nest/index.ts\nfunction copilotRuntimeNestEndpoint(options) {\n  telemetry_client_default.setGlobalProperties({\n    runtime: {\n      framework: \"nest\"\n    }\n  });\n  telemetry_client_default.capture(\"oss.runtime.instance_created\", {});\n  return copilotRuntimeNodeHttpEndpoint(options);\n}\n__name(copilotRuntimeNestEndpoint, \"copilotRuntimeNestEndpoint\");\n// Annotate the CommonJS export names for ESM import in node:\n0 && (0);\n//# sourceMappingURL=index.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9ub2RlX21vZHVsZXMvQGNvcGlsb3RraXQvcnVudGltZS9kaXN0L2luZGV4LmpzIiwibWFwcGluZ3MiOiJBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLDREQUE0RCwyQkFBMkI7QUFDdkY7QUFDQSwyREFBMkQsYUFBYTtBQUN4RTtBQUNBO0FBQ0E7QUFDQSw4QkFBOEIsa0NBQWtDO0FBQ2hFO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSw2QkFBNkIsOEZBQThGO0FBQzNIO0FBQ0E7QUFDQTtBQUNBLG1HQUFtRztBQUNuRztBQUNBO0FBQ0E7QUFDQTtBQUNBLHlFQUF5RSw4QkFBOEI7QUFDdkc7QUFDQTtBQUNBLG9EQUFvRCxrQkFBa0IsYUFBYTs7QUFFbkY7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxPQUFPO0FBQ1A7QUFDQTtBQUNBLE9BQU87QUFDUDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxPQUFPO0FBQ1A7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsT0FBTztBQUNQO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLE9BQU87QUFDUDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLE9BQU87QUFDUDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsQ0FBQzs7QUFFRDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLENBQUM7QUFDRDtBQUNBLDhCQUE4QixtQkFBTyxDQUFDLDBFQUFrQjs7QUFFeEQ7QUFDQSxxQkFBcUIsbUJBQU8sQ0FBQyxpRkFBb0I7O0FBRWpEO0FBQ0Esb0JBQW9CLG1CQUFPLENBQUMsdUZBQTRCO0FBQ3hEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQSxVQUFVO0FBQ1Y7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLE1BQU07QUFDTjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLE9BQU87QUFDUCxNQUFNO0FBQ047QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBLDRCQUE0QixtQkFBTyxDQUFDLG9EQUFROztBQUU1QztBQUNBLDBCQUEwQixtQkFBTyxDQUFDLDBFQUFjO0FBQ2hEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSx3Q0FBd0MsUUFBUTtBQUNoRDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsZ0VBQWdFLGdCQUFnQixJQUFJLFVBQVU7QUFDOUY7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxNQUFNO0FBQ047QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsSUFBSTtBQUNKO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsSUFBSTtBQUNKO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBLG9CQUFvQixtQkFBTyxDQUFDLGlGQUFvQjtBQUNoRDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSw0RkFBNEY7QUFDNUY7QUFDQTtBQUNBO0FBQ0E7QUFDQTtB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QUFDTDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsSUFBSTtBQUNKO0FBQ0EsSUFBSTtBQUNKO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQSw2QkFBNkIsbUJBQU8sQ0FBQyxvREFBUTtBQUM3QztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGdFQUFnRTtBQUNoRTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxZQUFZLDZEQUE2RDtBQUN6RTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsTUFBTTtBQUNOO0FBQ0EsTUFBTTtBQUNOO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLE9BQU87QUFDUDtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFD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O0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsUUFBUTtBQUNSO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLENBQUM7O0FBRUQ7QUFDQSxtQkFBbUIsbUJBQU8sQ0FBQywwREFBTTs7QUFFakM7QUFDQSxxQkFBcUIsbUJBQU8sQ0FBQyxpRkFBb0I7QUFDakQ7QUFDQTtBQUNBO0FBQ0E7QUFDQSxDQUFDO0FBQ0Q7O0FBRUE7QUFDQSxrQkFBa0IsbUJBQU8sQ0FBQywwREFBTTs7QUFFaEM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsQ0FBQyxrREFBa0Q7O0FBRW5EO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLE9BQU87QUFDUDtBQUNBO0FBQ0E7QUFDQSxjQUFjLGNBQWM7QUFDNUI7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFFBQVE7QUFDUjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNB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QTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBLDJCQUEyQixtQkFBTyxDQUFDLDBFQUFjOztBQUVqRDtBQUNBLDJCQUEyQixtQkFBTyxDQUFDLDBFQUFjO0FBQ2pEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSx3Q0FBd0MsUUFBUTtBQUNoRDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSx3Q0FBd0MsUUFBUTtBQUNoRDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQSwyQkFBMkIsbUJBQU8sQ0FBQywwRUFBYzs7QUFFakQ7QUFDQSwyQkFBMkIsbUJBQU8sQ0FBQywwRUFBYztBQUNqRDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esd0NBQXdDLFFBQVE7QUFDaEQ7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSx3Q0FBd0MsUUFBUTtBQUNoRDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQSwyQkFBMkIsbUJBQU8sQ0FBQywwRUFBYztBQUNqRDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esd0NBQXdDLFFBQVE7QUFDaEQ7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQSwyQkFBMkIsbUJBQU8sQ0FBQywwRUFBYztBQUNqRDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esd0NBQXdDLFFBQVE7QUFDaEQ7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQSw0QkFBNEIsbUJBQU8sQ0FBQywwRUFBYztBQUNsRDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esd0NBQXdDLFFBQVE7QUFDaEQ7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSx3Q0FBd0MsUUFBUTtBQUNoRDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQSw0QkFBNEIsbUJBQU8sQ0FBQywwRUFBYzs7QUFFbEQ7QUFDQSw0QkFBNEIsbUJBQU8sQ0FBQywwRUFBYztBQUNsRDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esd0NBQXdDLFFBQVE7QUFDaEQ7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsQ0FBQyw4Q0FBOEM7QUFDL0M7QUFDQTtBQUNBLENBQUM7QUFDRDtBQUNBO0FBQ0EsQ0FBQztBQUNEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsQ0FBQzs7QUFFRDtBQUNBLDZCQUE2QixtQkFBTyxDQUFDLDBFQUFpQjtBQUN0RCw0QkFBNEIsbUJBQU8sQ0FBQywwRUFBYztBQUNsRDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esd0NBQXdDLFFBQVE7QUFDaEQ7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsQ0FBQyxnREFBZ0Q7QUFDakQ7QUFDQTtBQUNBLENBQUM7QUFDRDtBQUNBO0FBQ0EsQ0FBQztBQUNEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFFBQVE7QUFDUjtBQUNBLFFBQVE7QUFDUjtBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxDQUFDLGdFQUFnRTtBQUNqRTtBQUNBO0FBQ0EsQ0FBQztBQUNEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLENBQUM7O0FBRUQ7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esd0NBQXdDLFFBQVE7QUFDaEQ7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLENBQUM7QUFDRDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsUUFBUTtBQUNSO0FBQ0EsUUFBUTtBQUNSO0FBQ0EsUUFBUTtBQUNSO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQSwwQkFBMEIsbUJBQU8sQ0FBQyxvRUFBYztBQUNoRCw4QkFBOEIsbUJBQU8sQ0FBQywwRUFBaUI7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TyxDQUFDLG9FQUFjO0FBQ2pEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBLHFFQUFxRTtBQUNyRTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQSwyQkFBMkIsbUJBQU8sQ0FBQyxvRUFBYztBQUNqRDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0EscUVBQXFFO0FBQ3JFO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBOztBQUVBO0FBQ0EsMkJBQTJCLG1CQUFPLENBQUMsb0VBQWM7QUFDakQ7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0EscUVBQXFFO0FBQ3JFO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSCxxRUFBcUU7QUFDckU7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSCxxRUFBcUU7QUFDckU7QUFDQTtBQUNBO0FBQ0E7QUFDQSxNQUFNLENBdUJMO0FBQ0QiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9leGFtcGxlLXRvZG9zLWFwcC8uL25vZGVfbW9kdWxlcy9AY29waWxvdGtpdC9ydW50aW1lL2Rpc3QvaW5kZXguanM/ZjExMiJdLCJzb3VyY2VzQ29udGVudCI6WyJ2YXIgX19jcmVhdGUgPSBPYmplY3QuY3JlYXRlO1xudmFyIF9fZGVmUHJvcCA9IE9iamVjdC5kZWZpbmVQcm9wZXJ0eTtcbnZhciBfX2dldE93blByb3BEZXNjID0gT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcjtcbnZhciBfX2dldE93blByb3BOYW1lcyA9IE9iamVjdC5nZXRPd25Qcm9wZXJ0eU5hbWVzO1xudmFyIF9fZ2V0UHJvdG9PZiA9IE9iamVjdC5nZXRQcm90b3R5cGVPZjtcbnZhciBfX2hhc093blByb3AgPSBPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5O1xudmFyIF9fbmFtZSA9ICh0YXJnZXQsIHZhbHVlKSA9PiBfX2RlZlByb3AodGFyZ2V0LCBcIm5hbWVcIiwgeyB2YWx1ZSwgY29uZmlndXJhYmxlOiB0cnVlIH0pO1xudmFyIF9fY29tbW9uSlMgPSAoY2IsIG1vZCkgPT4gZnVuY3Rpb24gX19yZXF1aXJlKCkge1xuICByZXR1cm4gbW9kIHx8ICgwLCBjYltfX2dldE93blByb3BOYW1lcyhjYilbMF1dKSgobW9kID0geyBleHBvcnRzOiB7fSB9KS5leHBvcnRzLCBtb2QpLCBtb2QuZXhwb3J0cztcbn07XG52YXIgX19leHBvcnQgPSAodGFyZ2V0LCBhbGwpID0+IHtcbiAgZm9yICh2YXIgbmFtZSBpbiBhbGwpXG4gICAgX19kZWZQcm9wKHRhcmdldCwgbmFtZSwgeyBnZXQ6IGFsbFtuYW1lXSwgZW51bWVyYWJsZTogdHJ1ZSB9KTtcbn07XG52YXIgX19jb3B5UHJvcHMgPSAodG8sIGZyb20zLCBleGNlcHQsIGRlc2MpID0+IHtcbiAgaWYgKGZyb20zICYmIHR5cGVvZiBmcm9tMyA9PT0gXCJvYmplY3RcIiB8fCB0eXBlb2YgZnJvbTMgPT09IFwiZnVuY3Rpb25cIikge1xuICAgIGZvciAobGV0IGtleSBvZiBfX2dldE93blByb3BOYW1lcyhmcm9tMykpXG4gICAgICBpZiAoIV9faGFzT3duUHJvcC5jYWxsKHRvLCBrZXkpICYmIGtleSAhPT0gZXhjZXB0KVxuICAgICAgICBfX2RlZlByb3AodG8sIGtleSwgeyBnZXQ6ICgpID0+IGZyb20zW2tleV0sIGVudW1lcmFibGU6ICEoZGVzYyA9IF9fZ2V0T3duUHJvcERlc2MoZnJvbTMsIGtleSkpIHx8IGRlc2MuZW51bWVyYWJsZSB9KTtcbiAgfVxuICByZXR1cm4gdG87XG59O1xudmFyIF9fdG9FU00gPSAobW9kLCBpc05vZGVNb2RlLCB0YXJnZXQpID0+ICh0YXJnZXQgPSBtb2QgIT0gbnVsbCA/IF9fY3JlYXRlKF9fZ2V0UHJvdG9PZihtb2QpKSA6IHt9LCBfX2NvcHlQcm9wcyhcbiAgLy8gSWYgdGhlIGltcG9ydGVyIGlzIGluIG5vZGUgY29tcGF0aWJpbGl0eSBtb2RlIG9yIHRoaXMgaXMgbm90IGFuIEVTTVxuICAvLyBmaWxlIHRoYXQgaGFzIGJlZW4gY29udmVydGVkIHRvIGEgQ29tbW9uSlMgZmlsZSB1c2luZyBhIEJhYmVsLVxuICAvLyBjb21wYXRpYmxlIHRyYW5zZm9ybSAoaS5lLiBcIl9fZXNNb2R1bGVcIiBoYXMgbm90IGJlZW4gc2V0KSwgdGhlbiBzZXRcbiAgLy8gXCJkZWZhdWx0XCIgdG8gdGhlIENvbW1vbkpTIFwibW9kdWxlLmV4cG9ydHNcIiBmb3Igbm9kZSBjb21wYXRpYmlsaXR5LlxuICBpc05vZGVNb2RlIHx8ICFtb2QgfHwgIW1vZC5fX2VzTW9kdWxlID8gX19kZWZQcm9wKHRhcmdldCwgXCJkZWZhdWx0XCIsIHsgdmFsdWU6IG1vZCwgZW51bWVyYWJsZTogdHJ1ZSB9KSA6IHRhcmdldCxcbiAgbW9kXG4pKTtcbnZhciBfX3RvQ29tbW9uSlMgPSAobW9kKSA9PiBfX2NvcHlQcm9wcyhfX2RlZlByb3Aoe30sIFwiX19lc01vZHVsZVwiLCB7IHZhbHVlOiB0cnVlIH0pLCBtb2QpO1xuXG4vLyBwYWNrYWdlLmpzb25cbnZhciByZXF1aXJlX3BhY2thZ2UgPSBfX2NvbW1vbkpTKHtcbiAgXCJwYWNrYWdlLmpzb25cIihleHBvcnRzLCBtb2R1bGUyKSB7XG4gICAgbW9kdWxlMi5leHBvcnRzID0ge1xuICAgICAgbmFtZTogXCJAY29waWxvdGtpdC9ydW50aW1lXCIsXG4gICAgICBwcml2YXRlOiBmYWxzZSxcbiAgICAgIGhvbWVwYWdlOiBcImh0dHBzOi8vZ2l0aHViLmNvbS9Db3BpbG90S2l0L0NvcGlsb3RLaXRcIixcbiAgICAgIHJlcG9zaXRvcnk6IHtcbiAgICAgICAgdHlwZTogXCJnaXRcIixcbiAgICAgICAgdXJsOiBcImh0dHBzOi8vZ2l0aHViLmNvbS9Db3BpbG90S2l0L0NvcGlsb3RLaXQuZ2l0XCJcbiAgICAgIH0sXG4gICAgICBwdWJsaXNoQ29uZmlnOiB7XG4gICAgICAgIGFjY2VzczogXCJwdWJsaWNcIlxuICAgICAgfSxcbiAgICAgIHZlcnNpb246IFwiMS4zLjBcIixcbiAgICAgIHNpZGVFZmZlY3RzOiBmYWxzZSxcbiAgICAgIG1haW46IFwiLi9kaXN0L2luZGV4LmpzXCIsXG4gICAgICBtb2R1bGU6IFwiLi9kaXN0L2luZGV4Lm1qc1wiLFxuICAgICAgZXhwb3J0czoge1xuICAgICAgICBcIi5cIjogXCIuL2Rpc3QvaW5kZXguanNcIlxuICAgICAgfSxcbiAgICAgIHR5cGVzOiBcIi4vZGlzdC9pbmRleC5kLnRzXCIsXG4gICAgICBsaWNlbnNlOiBcIk1JVFwiLFxuICAgICAgc2NyaXB0czoge1xuICAgICAgICBidWlsZDogJ3RzdXAgLS1vblN1Y2Nlc3MgXCJwbnBtIHJ1biBnZW5lcmF0ZS1ncmFwaHFsLXNjaGVtYVwiJyxcbiAgICAgICAgZGV2OiAndHN1cCAtLXdhdGNoIC0tb25TdWNjZXNzIFwicG5wbSBydW4gZ2VuZXJhdGUtZ3JhcGhxbC1zY2hlbWFcIicsXG4gICAgICAgIHRlc3Q6IFwiamVzdCAtLXBhc3NXaXRoTm9UZXN0c1wiLFxuICAgICAgICBcImNoZWNrLXR5cGVzXCI6IFwidHNjIC0tbm9FbWl0XCIsXG4gICAgICAgIGNsZWFuOiBcInJtIC1yZiAudHVyYm8gJiYgcm0gLXJmIG5vZGVfbW9kdWxlcyAmJiBybSAtcmYgZGlzdCAmJiBybSAtcmYgLm5leHQgJiYgcm0gLXJmIF9fc25hcHNob3RzX19cIixcbiAgICAgICAgXCJnZW5lcmF0ZS1ncmFwaHFsLXNjaGVtYVwiOiBcInJtIC1yZiBfX3NuYXBzaG90c19fICYmIHRzLW5vZGUgLi9zY3JpcHRzL2dlbmVyYXRlLWdxbC1zY2hlbWEudHNcIlxuICAgICAgfSxcbiAgICAgIGRldkRlcGVuZGVuY2llczoge1xuICAgICAgICBcIkBzd2MvY29yZVwiOiBcIjEuNS4yOFwiLFxuICAgICAgICBcIkB0eXBlcy9leHByZXNzXCI6IFwiXjQuMTcuMjFcIixcbiAgICAgICAgXCJAdHlwZXMvamVzdFwiOiBcIl4yOS41LjRcIixcbiAgICAgICAgXCJAdHlwZXMvbm9kZVwiOiBcIl4xOC4xMS4xN1wiLFxuICAgICAgICBcIkB3aGF0d2ctbm9kZS9zZXJ2ZXJcIjogXCJeMC45LjM0XCIsXG4gICAgICAgIGVzbGludDogXCJeOC41Ni4wXCIsXG4gICAgICAgIFwiZXNsaW50LWNvbmZpZy1jdXN0b21cIjogXCJ3b3Jrc3BhY2U6KlwiLFxuICAgICAgICBqZXN0OiBcIl4yOS42LjRcIixcbiAgICAgICAgbm9kZW1vbjogXCJeMy4xLjNcIixcbiAgICAgICAgXCJ0cy1qZXN0XCI6IFwiXjI5LjEuMVwiLFxuICAgICAgICBcInRzLW5vZGVcIjogXCJeMTAuOS4yXCIsXG4gICAgICAgIHRzY29uZmlnOiBcIndvcmtzcGFjZToqXCIsXG4gICAgICAgIHRzdXA6IFwiXjYuNy4wXCIsXG4gICAgICAgIHR5cGVzY3JpcHQ6IFwiXjUuMi4zXCJcbiAgICAgIH0sXG4gICAgICBkZXBlbmRlbmNpZXM6IHtcbiAgICAgICAgXCJAYW50aHJvcGljLWFpL3Nka1wiOiBcIl4wLjI3LjNcIixcbiAgICAgICAgXCJAY29waWxvdGtpdC9zaGFyZWRcIjogXCJ3b3Jrc3BhY2U6KlwiLFxuICAgICAgICBcIkBnb29nbGUvZ2VuZXJhdGl2ZS1haVwiOiBcIl4wLjExLjJcIixcbiAgICAgICAgXCJAZ3JhcGhxbC15b2dhL3BsdWdpbi1kZWZlci1zdHJlYW1cIjogXCJeMy4zLjFcIixcbiAgICAgICAgXCJAbGFuZ2NoYWluL2NvbW11bml0eVwiOiBcIl4wLjAuNTNcIixcbiAgICAgICAgXCJAbGFuZ2NoYWluL2NvcmVcIjogXCJeMC4xLjYxXCIsXG4gICAgICAgIFwiQGxhbmdjaGFpbi9vcGVuYWlcIjogXCJeMC4wLjI4XCIsXG4gICAgICAgIFwiY2xhc3MtdHJhbnNmb3JtZXJcIjogXCJeMC41LjFcIixcbiAgICAgICAgZXhwcmVzczogXCJeNC4xOS4yXCIsXG4gICAgICAgIGdyYXBocWw6IFwiXjE2LjguMVwiLFxuICAgICAgICBcImdyYXBocWwtc2NhbGFyc1wiOiBcIl4xLjIzLjBcIixcbiAgICAgICAgXCJncmFwaHFsLXlvZ2FcIjogXCJeNS4zLjFcIixcbiAgICAgICAgXCJncm9xLXNka1wiOiBcIl4wLjUuMFwiLFxuICAgICAgICBsYW5nY2hhaW46IFwiXjAuMS4zNlwiLFxuICAgICAgICBvcGVuYWk6IFwiXjQuNTAuMFwiLFxuICAgICAgICBwaW5vOiBcIl45LjIuMFwiLFxuICAgICAgICBcInBpbm8tcHJldHR5XCI6IFwiXjExLjIuMVwiLFxuICAgICAgICBcInJlZmxlY3QtbWV0YWRhdGFcIjogXCJeMC4yLjJcIixcbiAgICAgICAgcnhqczogXCJeNy44LjFcIixcbiAgICAgICAgXCJ0eXBlLWdyYXBocWxcIjogXCIyLjAuMC1yYy4xXCIsXG4gICAgICAgIHpvZDogXCJeMy4yMy4zXCJcbiAgICAgIH0sXG4gICAgICBrZXl3b3JkczogW1xuICAgICAgICBcImNvcGlsb3RraXRcIixcbiAgICAgICAgXCJjb3BpbG90XCIsXG4gICAgICAgIFwicmVhY3RcIixcbiAgICAgICAgXCJuZXh0anNcIixcbiAgICAgICAgXCJub2RlanNcIixcbiAgICAgICAgXCJhaVwiLFxuICAgICAgICBcImFzc2lzdGFudFwiLFxuICAgICAgICBcImphdmFzY3JpcHRcIixcbiAgICAgICAgXCJhdXRvbWF0aW9uXCIsXG4gICAgICAgIFwidGV4dGFyZWFcIlxuICAgICAgXVxuICAgIH07XG4gIH1cbn0pO1xuXG4vLyBzcmMvaW5kZXgudHNcbnZhciBzcmNfZXhwb3J0cyA9IHt9O1xuX19leHBvcnQoc3JjX2V4cG9ydHMsIHtcbiAgQW50aHJvcGljQWRhcHRlcjogKCkgPT4gQW50aHJvcGljQWRhcHRlcixcbiAgQ29waWxvdFJ1bnRpbWU6ICgpID0+IENvcGlsb3RSdW50aW1lLFxuICBHb29nbGVHZW5lcmF0aXZlQUlBZGFwdGVyOiAoKSA9PiBHb29nbGVHZW5lcmF0aXZlQUlBZGFwdGVyLFxuICBHcm9xQWRhcHRlcjogKCkgPT4gR3JvcUFkYXB0ZXIsXG4gIEd1YXJkcmFpbHNWYWxpZGF0aW9uRmFpbHVyZVJlc3BvbnNlOiAoKSA9PiBHdWFyZHJhaWxzVmFsaWRhdGlvbkZhaWx1cmVSZXNwb25zZSxcbiAgTGFuZ0NoYWluQWRhcHRlcjogKCkgPT4gTGFuZ0NoYWluQWRhcHRlcixcbiAgTWVzc2FnZVN0cmVhbUludGVycnVwdGVkUmVzcG9uc2U6ICgpID0+IE1lc3NhZ2VTdHJlYW1JbnRlcnJ1cHRlZFJlc3BvbnNlLFxuICBPcGVuQUlBZGFwdGVyOiAoKSA9PiBPcGVuQUlBZGFwdGVyLFxuICBPcGVuQUlBc3Npc3RhbnRBZGFwdGVyOiAoKSA9PiBPcGVuQUlBc3Npc3RhbnRBZGFwdGVyLFxuICBSZW1vdGVDaGFpbjogKCkgPT4gUmVtb3RlQ2hhaW4sXG4gIFVuaWZ5QWRhcHRlcjogKCkgPT4gVW5pZnlBZGFwdGVyLFxuICBVbmtub3duRXJyb3JSZXNwb25zZTogKCkgPT4gVW5rbm93bkVycm9yUmVzcG9uc2UsXG4gIGJ1aWxkU2NoZW1hOiAoKSA9PiBidWlsZFNjaGVtYSxcbiAgY29uZmlnOiAoKSA9PiBjb25maWcsXG4gIGNvcGlsb3RSdW50aW1lTmVzdEVuZHBvaW50OiAoKSA9PiBjb3BpbG90UnVudGltZU5lc3RFbmRwb2ludCxcbiAgY29waWxvdFJ1bnRpbWVOZXh0SlNBcHBSb3V0ZXJFbmRwb2ludDogKCkgPT4gY29waWxvdFJ1bnRpbWVOZXh0SlNBcHBSb3V0ZXJFbmRwb2ludCxcbiAgY29waWxvdFJ1bnRpbWVOZXh0SlNQYWdlc1JvdXRlckVuZHBvaW50OiAoKSA9PiBjb3BpbG90UnVudGltZU5leHRKU1BhZ2VzUm91dGVyRW5kcG9pbnQsXG4gIGNvcGlsb3RSdW50aW1lTm9kZUV4cHJlc3NFbmRwb2ludDogKCkgPT4gY29waWxvdFJ1bnRpbWVOb2RlRXhwcmVzc0VuZHBvaW50LFxuICBjb3BpbG90UnVudGltZU5vZGVIdHRwRW5kcG9pbnQ6ICgpID0+IGNvcGlsb3RSdW50aW1lTm9kZUh0dHBFbmRwb2ludCxcbiAgY3JlYXRlQ29udGV4dDogKCkgPT4gY3JlYXRlQ29udGV4dCxcbiAgZmxhdHRlblRvb2xDYWxsc05vRHVwbGljYXRlczogKCkgPT4gZmxhdHRlblRvb2xDYWxsc05vRHVwbGljYXRlcyxcbiAgZ2V0Q29tbW9uQ29uZmlnOiAoKSA9PiBnZXRDb21tb25Db25maWdcbn0pO1xubW9kdWxlLmV4cG9ydHMgPSBfX3RvQ29tbW9uSlMoc3JjX2V4cG9ydHMpO1xudmFyIGltcG9ydF9yZWZsZWN0X21ldGFkYXRhID0gcmVxdWlyZShcInJlZmxlY3QtbWV0YWRhdGFcIik7XG5cbi8vIHNyYy9saWIvcnVudGltZS9jb3BpbG90LXJ1bnRpbWUudHNcbnZhciBpbXBvcnRfc2hhcmVkOSA9IHJlcXVpcmUoXCJAY29waWxvdGtpdC9zaGFyZWRcIik7XG5cbi8vIHNyYy9zZXJ2aWNlLWFkYXB0ZXJzL2xhbmdjaGFpbi9sYW5nc2VydmUudHNcbnZhciBpbXBvcnRfcmVtb3RlID0gcmVxdWlyZShcImxhbmdjaGFpbi9ydW5uYWJsZXMvcmVtb3RlXCIpO1xudmFyIFJlbW90ZUNoYWluID0gY2xhc3Mge1xuICBuYW1lO1xuICBkZXNjcmlwdGlvbjtcbiAgY2hhaW5Vcmw7XG4gIHBhcmFtZXRlcnM7XG4gIHBhcmFtZXRlclR5cGU7XG4gIGNvbnN0cnVjdG9yKG9wdGlvbnMpIHtcbiAgICB0aGlzLm5hbWUgPSBvcHRpb25zLm5hbWU7XG4gICAgdGhpcy5kZXNjcmlwdGlvbiA9IG9wdGlvbnMuZGVzY3JpcHRpb247XG4gICAgdGhpcy5jaGFpblVybCA9IG9wdGlvbnMuY2hhaW5Vcmw7XG4gICAgdGhpcy5wYXJhbWV0ZXJzID0gb3B0aW9ucy5wYXJhbWV0ZXJzO1xuICAgIHRoaXMucGFyYW1ldGVyVHlwZSA9IG9wdGlvbnMucGFyYW1ldGVyVHlwZSB8fCBcIm11bHRpXCI7XG4gIH1cbiAgYXN5bmMgdG9BY3Rpb24oKSB7XG4gICAgaWYgKCF0aGlzLnBhcmFtZXRlcnMpIHtcbiAgICAgIGF3YWl0IHRoaXMuaW5mZXJMYW5nU2VydmVQYXJhbWV0ZXJzKCk7XG4gICAgfVxuICAgIHJldHVybiB7XG4gICAgICBuYW1lOiB0aGlzLm5hbWUsXG4gICAgICBkZXNjcmlwdGlvbjogdGhpcy5kZXNjcmlwdGlvbixcbiAgICAgIHBhcmFtZXRlcnM6IHRoaXMucGFyYW1ldGVycyxcbiAgICAgIGhhbmRsZXI6IGFzeW5jIChhcmdzKSA9PiB7XG4gICAgICAgIGNvbnN0IHJ1bm5hYmxlID0gbmV3IGltcG9ydF9yZW1vdGUuUmVtb3RlUnVubmFibGUoe1xuICAgICAgICAgIHVybDogdGhpcy5jaGFpblVybFxuICAgICAgICB9KTtcbiAgICAgICAgbGV0IGlucHV0O1xuICAgICAgICBpZiAodGhpcy5wYXJhbWV0ZXJUeXBlID09PSBcInNpbmdsZVwiKSB7XG4gICAgICAgICAgaW5wdXQgPSBhcmdzW09iamVjdC5rZXlzKGFyZ3MpWzBdXTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBpbnB1dCA9IGFyZ3M7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIGF3YWl0IHJ1bm5hYmxlLmludm9rZShpbnB1dCk7XG4gICAgICB9XG4gICAgfTtcbiAgfVxuICBhc3luYyBpbmZlckxhbmdTZXJ2ZVBhcmFtZXRlcnMoKSB7XG4gICAgY29uc3Qgc3VwcG9ydGVkVHlwZXMgPSBbXG4gICAgICBcInN0cmluZ1wiLFxuICAgICAgXCJudW1iZXJcIixcbiAgICAgIFwiYm9vbGVhblwiXG4gICAgXTtcbiAgICBsZXQgc2NoZW1hVXJsID0gdGhpcy5jaGFpblVybC5yZXBsYWNlKC9cXC8rJC8sIFwiXCIpICsgXCIvaW5wdXRfc2NoZW1hXCI7XG4gICAgbGV0IHNjaGVtYSA9IGF3YWl0IGZldGNoKHNjaGVtYVVybCkudGhlbigocmVzKSA9PiByZXMuanNvbigpKS5jYXRjaCgoKSA9PiB7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoXCJGYWlsZWQgdG8gZmV0Y2ggbGFuZ3NlcnZlIHNjaGVtYSBhdCBcIiArIHNjaGVtYVVybCk7XG4gICAgfSk7XG4gICAgaWYgKHN1cHBvcnRlZFR5cGVzLmluY2x1ZGVzKHNjaGVtYS50eXBlKSkge1xuICAgICAgdGhpcy5wYXJhbWV0ZXJUeXBlID0gXCJzaW5nbGVcIjtcbiAgICAgIHRoaXMucGFyYW1ldGVycyA9IFtcbiAgICAgICAge1xuICAgICAgICAgIG5hbWU6IFwiaW5wdXRcIixcbiAgICAgICAgICB0eXBlOiBzY2hlbWEudHlwZSxcbiAgICAgICAgICBkZXNjcmlwdGlvbjogXCJUaGUgaW5wdXQgdG8gdGhlIGNoYWluXCJcbiAgICAgICAgfVxuICAgICAgXTtcbiAgICB9IGVsc2UgaWYgKHNjaGVtYS50eXBlID09PSBcIm9iamVjdFwiKSB7XG4gICAgICB0aGlzLnBhcmFtZXRlclR5cGUgPSBcIm11bHRpXCI7XG4gICAgICB0aGlzLnBhcmFtZXRlcnMgPSBPYmplY3Qua2V5cyhzY2hlbWEucHJvcGVydGllcykubWFwKChrZXkpID0+IHtcbiAgICAgICAgdmFyIF9hO1xuICAgICAgICBsZXQgcHJvcGVydHkgPSBzY2hlbWEucHJvcGVydGllc1trZXldO1xuICAgICAgICBpZiAoIXN1cHBvcnRlZFR5cGVzLmluY2x1ZGVzKHByb3BlcnR5LnR5cGUpKSB7XG4gICAgICAgICAgdGhyb3cgbmV3IEVycm9yKFwiVW5zdXBwb3J0ZWQgc2NoZW1hIHR5cGVcIik7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICBuYW1lOiBrZXksXG4gICAgICAgICAgdHlwZTogcHJvcGVydHkudHlwZSxcbiAgICAgICAgICBkZXNjcmlwdGlvbjogcHJvcGVydHkuZGVzY3JpcHRpb24gfHwgXCJcIixcbiAgICAgICAgICByZXF1aXJlZDogKChfYSA9IHNjaGVtYS5yZXF1aXJlZCkgPT0gbnVsbCA/IHZvaWQgMCA6IF9hLmluY2x1ZGVzKGtleSkpIHx8IGZhbHNlXG4gICAgICAgIH07XG4gICAgICB9KTtcbiAgICB9IGVsc2Uge1xuICAgICAgdGhyb3cgbmV3IEVycm9yKFwiVW5zdXBwb3J0ZWQgc2NoZW1hIHR5cGVcIik7XG4gICAgfVxuICB9XG59O1xuX19uYW1lKFJlbW90ZUNoYWluLCBcIlJlbW90ZUNoYWluXCIpO1xuXG4vLyBzcmMvc2VydmljZS1hZGFwdGVycy9vcGVuYWkvb3BlbmFpLWFkYXB0ZXIudHNcbnZhciBpbXBvcnRfb3BlbmFpID0gX190b0VTTShyZXF1aXJlKFwib3BlbmFpXCIpKTtcblxuLy8gc3JjL2dyYXBocWwvdHlwZXMvYmFzZS9pbmRleC50c1xudmFyIGltcG9ydF90eXBlX2dyYXBocWwgPSByZXF1aXJlKFwidHlwZS1ncmFwaHFsXCIpO1xuZnVuY3Rpb24gX3RzX2RlY29yYXRlKGRlY29yYXRvcnMsIHRhcmdldCwga2V5LCBkZXNjKSB7XG4gIHZhciBjID0gYXJndW1lbnRzLmxlbmd0aCwgciA9IGMgPCAzID8gdGFyZ2V0IDogZGVzYyA9PT0gbnVsbCA/IGRlc2MgPSBPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKHRhcmdldCwga2V5KSA6IGRlc2MsIGQ7XG4gIGlmICh0eXBlb2YgUmVmbGVjdCA9PT0gXCJvYmplY3RcIiAmJiB0eXBlb2YgUmVmbGVjdC5kZWNvcmF0ZSA9PT0gXCJmdW5jdGlvblwiKVxuICAgIHIgPSBSZWZsZWN0LmRlY29yYXRlKGRlY29yYXRvcnMsIHRhcmdldCwga2V5LCBkZXNjKTtcbiAgZWxzZVxuICAgIGZvciAodmFyIGkgPSBkZWNvcmF0b3JzLmxlbmd0aCAtIDE7IGkgPj0gMDsgaS0tKVxuICAgICAgaWYgKGQgPSBkZWNvcmF0b3JzW2ldKVxuICAgICAgICByID0gKGMgPCAzID8gZChyKSA6IGMgPiAzID8gZCh0YXJnZXQsIGtleSwgcikgOiBkKHRhcmdldCwga2V5KSkgfHwgcjtcbiAgcmV0dXJuIGMgPiAzICYmIHIgJiYgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRhcmdldCwga2V5LCByKSwgcjtcbn1cbl9fbmFtZShfdHNfZGVjb3JhdGUsIFwiX3RzX2RlY29yYXRlXCIpO1xuZnVuY3Rpb24gX3RzX21ldGFkYXRhKGssIHYpIHtcbiAgaWYgKHR5cGVvZiBSZWZsZWN0ID09PSBcIm9iamVjdFwiICYmIHR5cGVvZiBSZWZsZWN0Lm1ldGFkYXRhID09PSBcImZ1bmN0aW9uXCIpXG4gICAgcmV0dXJuIFJlZmxlY3QubWV0YWRhdGEoaywgdik7XG59XG5fX25hbWUoX3RzX21ldGFkYXRhLCBcIl90c19tZXRhZGF0YVwiKTtcbnZhciBCYXNlTWVzc2FnZSA9IGNsYXNzIHtcbiAgaWQ7XG4gIGNyZWF0ZWRBdDtcbn07XG5fX25hbWUoQmFzZU1lc3NhZ2UsIFwiQmFzZU1lc3NhZ2VcIik7XG5fdHNfZGVjb3JhdGUoW1xuICAoMCwgaW1wb3J0X3R5cGVfZ3JhcGhxbC5GaWVsZCkoKCkgPT4gU3RyaW5nKSxcbiAgX3RzX21ldGFkYXRhKFwiZGVzaWduOnR5cGVcIiwgU3RyaW5nKVxuXSwgQmFzZU1lc3NhZ2UucHJvdG90eXBlLCBcImlkXCIsIHZvaWQgMCk7XG5fdHNfZGVjb3JhdGUoW1xuICAoMCwgaW1wb3J0X3R5cGVfZ3JhcGhxbC5GaWVsZCkoKCkgPT4gRGF0ZSksXG4gIF90c19tZXRhZGF0YShcImRlc2lnbjp0eXBlXCIsIHR5cGVvZiBEYXRlID09PSBcInVuZGVmaW5lZFwiID8gT2JqZWN0IDogRGF0ZSlcbl0sIEJhc2VNZXNzYWdlLnByb3RvdHlwZSwgXCJjcmVhdGVkQXRcIiwgdm9pZCAwKTtcbkJhc2VNZXNzYWdlID0gX3RzX2RlY29yYXRlKFtcbiAgKDAsIGltcG9ydF90eXBlX2dyYXBocWwuSW5wdXRUeXBlKSgpXG5dLCBCYXNlTWVzc2FnZSk7XG5cbi8vIHNyYy9ncmFwaHFsL3R5cGVzL2NvbnZlcnRlZC9pbmRleC50c1xudmFyIFRleHRNZXNzYWdlID0gY2xhc3MgZXh0ZW5kcyBCYXNlTWVzc2FnZSB7XG4gIGNvbnRlbnQ7XG4gIHJvbGU7XG59O1xuX19uYW1lKFRleHRNZXNzYWdlLCBcIlRleHRNZXNzYWdlXCIpO1xudmFyIEFjdGlvbkV4ZWN1dGlvbk1lc3NhZ2UgPSBjbGFzcyBleHRlbmRzIEJhc2VNZXNzYWdlIHtcbiAgbmFtZTtcbiAgYXJndW1lbnRzO1xuICBzY29wZTtcbn07XG5fX25hbWUoQWN0aW9uRXhlY3V0aW9uTWVzc2FnZSwgXCJBY3Rpb25FeGVjdXRpb25NZXNzYWdlXCIpO1xudmFyIFJlc3VsdE1lc3NhZ2UgPSBjbGFzcyBleHRlbmRzIEJhc2VNZXNzYWdlIHtcbiAgYWN0aW9uRXhlY3V0aW9uSWQ7XG4gIGFjdGlvbk5hbWU7XG4gIHJlc3VsdDtcbn07XG5fX25hbWUoUmVzdWx0TWVzc2FnZSwgXCJSZXN1bHRNZXNzYWdlXCIpO1xudmFyIEFnZW50U3RhdGVNZXNzYWdlID0gY2xhc3MgZXh0ZW5kcyBCYXNlTWVzc2FnZSB7XG4gIHRocmVhZElkO1xuICBhZ2VudE5hbWU7XG4gIG5vZGVOYW1lO1xuICBydW5JZDtcbiAgYWN0aXZlO1xuICByb2xlO1xuICBzdGF0ZTtcbiAgcnVubmluZztcbn07XG5fX25hbWUoQWdlbnRTdGF0ZU1lc3NhZ2UsIFwiQWdlbnRTdGF0ZU1lc3NhZ2VcIik7XG5cbi8vIHNyYy9zZXJ2aWNlLWFkYXB0ZXJzL29wZW5haS91dGlscy50c1xuZnVuY3Rpb24gbGltaXRNZXNzYWdlc1RvVG9rZW5Db3VudChtZXNzYWdlcywgdG9vbHMsIG1vZGVsLCBtYXhUb2tlbnMpIHtcbiAgbWF4VG9rZW5zIHx8IChtYXhUb2tlbnMgPSBtYXhUb2tlbnNGb3JPcGVuQUlNb2RlbChtb2RlbCkpO1xuICBjb25zdCByZXN1bHQgPSBbXTtcbiAgY29uc3QgdG9vbHNOdW1Ub2tlbnMgPSBjb3VudFRvb2xzVG9rZW5zKG1vZGVsLCB0b29scyk7XG4gIGlmICh0b29sc051bVRva2VucyA+IG1heFRva2Vucykge1xuICAgIHRocm93IG5ldyBFcnJvcihgVG9vIG1hbnkgdG9rZW5zIGluIGZ1bmN0aW9uIGRlZmluaXRpb25zOiAke3Rvb2xzTnVtVG9rZW5zfSA+ICR7bWF4VG9rZW5zfWApO1xuICB9XG4gIG1heFRva2VucyAtPSB0b29sc051bVRva2VucztcbiAgZm9yIChjb25zdCBtZXNzYWdlIG9mIG1lc3NhZ2VzKSB7XG4gICAgaWYgKG1lc3NhZ2Uucm9sZSA9PT0gXCJzeXN0ZW1cIikge1xuICAgICAgY29uc3QgbnVtVG9rZW5zID0gY291bnRNZXNzYWdlVG9rZW5zKG1vZGVsLCBtZXNzYWdlKTtcbiAgICAgIG1heFRva2VucyAtPSBudW1Ub2tlbnM7XG4gICAgICBpZiAobWF4VG9rZW5zIDwgMCkge1xuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXCJOb3QgZW5vdWdoIHRva2VucyBmb3Igc3lzdGVtIG1lc3NhZ2UuXCIpO1xuICAgICAgfVxuICAgIH1cbiAgfVxuICBsZXQgY3V0b2ZmID0gZmFsc2U7XG4gIGNvbnN0IHJldmVyc2VkTWVzc2FnZXMgPSBbXG4gICAgLi4ubWVzc2FnZXNcbiAgXS5yZXZlcnNlKCk7XG4gIGZvciAoY29uc3QgbWVzc2FnZSBvZiByZXZlcnNlZE1lc3NhZ2VzKSB7XG4gICAgaWYgKG1lc3NhZ2Uucm9sZSA9PT0gXCJzeXN0ZW1cIikge1xuICAgICAgcmVzdWx0LnVuc2hpZnQobWVzc2FnZSk7XG4gICAgICBjb250aW51ZTtcbiAgICB9IGVsc2UgaWYgKGN1dG9mZikge1xuICAgICAgY29udGludWU7XG4gICAgfVxuICAgIGxldCBudW1Ub2tlbnMgPSBjb3VudE1lc3NhZ2VUb2tlbnMobW9kZWwsIG1lc3NhZ2UpO1xuICAgIGlmIChtYXhUb2tlbnMgPCBudW1Ub2tlbnMpIHtcbiAgICAgIGN1dG9mZiA9IHRydWU7XG4gICAgICBjb250aW51ZTtcbiAgICB9XG4gICAgcmVzdWx0LnVuc2hpZnQobWVzc2FnZSk7XG4gICAgbWF4VG9rZW5zIC09IG51bVRva2VucztcbiAgfVxuICByZXR1cm4gcmVzdWx0O1xufVxuX19uYW1lKGxpbWl0TWVzc2FnZXNUb1Rva2VuQ291bnQsIFwibGltaXRNZXNzYWdlc1RvVG9rZW5Db3VudFwiKTtcbmZ1bmN0aW9uIG1heFRva2Vuc0Zvck9wZW5BSU1vZGVsKG1vZGVsKSB7XG4gIHJldHVybiBtYXhUb2tlbnNCeU1vZGVsW21vZGVsXSB8fCBERUZBVUxUX01BWF9UT0tFTlM7XG59XG5fX25hbWUobWF4VG9rZW5zRm9yT3BlbkFJTW9kZWwsIFwibWF4VG9rZW5zRm9yT3BlbkFJTW9kZWxcIik7XG52YXIgREVGQVVMVF9NQVhfVE9LRU5TID0gMTI4ZTM7XG52YXIgbWF4VG9rZW5zQnlNb2RlbCA9IHtcbiAgLy8gR1BULTRcbiAgXCJncHQtNG9cIjogMTI4ZTMsXG4gIFwiZ3B0LTRvLTIwMjQtMDUtMTNcIjogMTI4ZTMsXG4gIFwiZ3B0LTQtdHVyYm9cIjogMTI4ZTMsXG4gIFwiZ3B0LTQtdHVyYm8tMjAyNC0wNC0wOVwiOiAxMjhlMyxcbiAgXCJncHQtNC0wMTI1LXByZXZpZXdcIjogMTI4ZTMsXG4gIFwiZ3B0LTQtdHVyYm8tcHJldmlld1wiOiAxMjhlMyxcbiAgXCJncHQtNC0xMTA2LXByZXZpZXdcIjogMTI4ZTMsXG4gIFwiZ3B0LTQtdmlzaW9uLXByZXZpZXdcIjogMTI4ZTMsXG4gIFwiZ3B0LTQtMTEwNi12aXNpb24tcHJldmlld1wiOiAxMjhlMyxcbiAgXCJncHQtNC0zMmtcIjogMzI3NjgsXG4gIFwiZ3B0LTQtMzJrLTA2MTNcIjogMzI3NjgsXG4gIFwiZ3B0LTQtMzJrLTAzMTRcIjogMzI3NjgsXG4gIFwiZ3B0LTRcIjogODE5MixcbiAgXCJncHQtNC0wNjEzXCI6IDgxOTIsXG4gIFwiZ3B0LTQtMDMxNFwiOiA4MTkyLFxuICAvLyBHUFQtMy41XG4gIFwiZ3B0LTMuNS10dXJiby0wMTI1XCI6IDE2Mzg1LFxuICBcImdwdC0zLjUtdHVyYm9cIjogMTYzODUsXG4gIFwiZ3B0LTMuNS10dXJiby0xMTA2XCI6IDE2Mzg1LFxuICBcImdwdC0zLjUtdHVyYm8taW5zdHJ1Y3RcIjogNDA5NixcbiAgXCJncHQtMy41LXR1cmJvLTE2a1wiOiAxNjM4NSxcbiAgXCJncHQtMy41LXR1cmJvLTA2MTNcIjogNDA5NixcbiAgXCJncHQtMy41LXR1cmJvLTE2ay0wNjEzXCI6IDE2Mzg1LFxuICBcImdwdC0zLjUtdHVyYm8tMDMwMVwiOiA0MDk3XG59O1xuZnVuY3Rpb24gY291bnRUb29sc1Rva2Vucyhtb2RlbCwgdG9vbHMpIHtcbiAgaWYgKHRvb2xzLmxlbmd0aCA9PT0gMCkge1xuICAgIHJldHVybiAwO1xuICB9XG4gIGNvbnN0IGpzb24gPSBKU09OLnN0cmluZ2lmeSh0b29scyk7XG4gIHJldHVybiBjb3VudFRva2Vucyhtb2RlbCwganNvbik7XG59XG5fX25hbWUoY291bnRUb29sc1Rva2VucywgXCJjb3VudFRvb2xzVG9rZW5zXCIpO1xuZnVuY3Rpb24gY291bnRNZXNzYWdlVG9rZW5zKG1vZGVsLCBtZXNzYWdlKSB7XG4gIHJldHVybiBjb3VudFRva2Vucyhtb2RlbCwgbWVzc2FnZS5jb250ZW50IHx8IFwiXCIpO1xufVxuX19uYW1lKGNvdW50TWVzc2FnZVRva2VucywgXCJjb3VudE1lc3NhZ2VUb2tlbnNcIik7XG5mdW5jdGlvbiBjb3VudFRva2Vucyhtb2RlbCwgdGV4dCkge1xuICByZXR1cm4gdGV4dC5sZW5ndGggLyAzO1xufVxuX19uYW1lKGNvdW50VG9rZW5zLCBcImNvdW50VG9rZW5zXCIpO1xuZnVuY3Rpb24gY29udmVydEFjdGlvbklucHV0VG9PcGVuQUlUb29sKGFjdGlvbikge1xuICByZXR1cm4ge1xuICAgIHR5cGU6IFwiZnVuY3Rpb25cIixcbiAgICBmdW5jdGlvbjoge1xuICAgICAgbmFtZTogYWN0aW9uLm5hbWUsXG4gICAgICBkZXNjcmlwdGlvbjogYWN0aW9uLmRlc2NyaXB0aW9uLFxuICAgICAgcGFyYW1ldGVyczogSlNPTi5wYXJzZShhY3Rpb24uanNvblNjaGVtYSlcbiAgICB9XG4gIH07XG59XG5fX25hbWUoY29udmVydEFjdGlvbklucHV0VG9PcGVuQUlUb29sLCBcImNvbnZlcnRBY3Rpb25JbnB1dFRvT3BlbkFJVG9vbFwiKTtcbmZ1bmN0aW9uIGNvbnZlcnRNZXNzYWdlVG9PcGVuQUlNZXNzYWdlKG1lc3NhZ2UpIHtcbiAgaWYgKG1lc3NhZ2UgaW5zdGFuY2VvZiBUZXh0TWVzc2FnZSkge1xuICAgIHJldHVybiB7XG4gICAgICByb2xlOiBtZXNzYWdlLnJvbGUsXG4gICAgICBjb250ZW50OiBtZXNzYWdlLmNvbnRlbnRcbiAgICB9O1xuICB9IGVsc2UgaWYgKG1lc3NhZ2UgaW5zdGFuY2VvZiBBY3Rpb25FeGVjdXRpb25NZXNzYWdlKSB7XG4gICAgcmV0dXJuIHtcbiAgICAgIHJvbGU6IFwiYXNzaXN0YW50XCIsXG4gICAgICB0b29sX2NhbGxzOiBbXG4gICAgICAgIHtcbiAgICAgICAgICBpZDogbWVzc2FnZS5pZCxcbiAgICAgICAgICB0eXBlOiBcImZ1bmN0aW9uXCIsXG4gICAgICAgICAgZnVuY3Rpb246IHtcbiAgICAgICAgICAgIG5hbWU6IG1lc3NhZ2UubmFtZSxcbiAgICAgICAgICAgIGFyZ3VtZW50czogSlNPTi5zdHJpbmdpZnkobWVzc2FnZS5hcmd1bWVudHMpXG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICBdXG4gICAgfTtcbiAgfSBlbHNlIGlmIChtZXNzYWdlIGluc3RhbmNlb2YgUmVzdWx0TWVzc2FnZSkge1xuICAgIHJldHVybiB7XG4gICAgICByb2xlOiBcInRvb2xcIixcbiAgICAgIGNvbnRlbnQ6IG1lc3NhZ2UucmVzdWx0LFxuICAgICAgdG9vbF9jYWxsX2lkOiBtZXNzYWdlLmFjdGlvbkV4ZWN1dGlvbklkXG4gICAgfTtcbiAgfVxufVxuX19uYW1lKGNvbnZlcnRNZXNzYWdlVG9PcGVuQUlNZXNzYWdlLCBcImNvbnZlcnRNZXNzYWdlVG9PcGVuQUlNZXNzYWdlXCIpO1xuZnVuY3Rpb24gY29udmVydFN5c3RlbU1lc3NhZ2VUb0Fzc2lzdGFudEFQSShtZXNzYWdlKSB7XG4gIHJldHVybiB7XG4gICAgLi4ubWVzc2FnZSxcbiAgICAuLi5tZXNzYWdlLnJvbGUgPT09IFwic3lzdGVtXCIgJiYge1xuICAgICAgcm9sZTogXCJhc3Npc3RhbnRcIixcbiAgICAgIGNvbnRlbnQ6IFwiVEhFIEZPTExPV0lORyBNRVNTQUdFIElTIEEgU1lTVEVNIE1FU1NBR0U6IFwiICsgbWVzc2FnZS5jb250ZW50XG4gICAgfVxuICB9O1xufVxuX19uYW1lKGNvbnZlcnRTeXN0ZW1NZXNzYWdlVG9Bc3Npc3RhbnRBUEksIFwiY29udmVydFN5c3RlbU1lc3NhZ2VUb0Fzc2lzdGFudEFQSVwiKTtcblxuLy8gc3JjL3NlcnZpY2UtYWRhcHRlcnMvb3BlbmFpL29wZW5haS1hZGFwdGVyLnRzXG52YXIgaW1wb3J0X3NoYXJlZCA9IHJlcXVpcmUoXCJAY29waWxvdGtpdC9zaGFyZWRcIik7XG52YXIgREVGQVVMVF9NT0RFTCA9IFwiZ3B0LTRvXCI7XG52YXIgT3BlbkFJQWRhcHRlciA9IGNsYXNzIHtcbiAgbW9kZWwgPSBERUZBVUxUX01PREVMO1xuICBkaXNhYmxlUGFyYWxsZWxUb29sQ2FsbHMgPSBmYWxzZTtcbiAgX29wZW5haTtcbiAgZ2V0IG9wZW5haSgpIHtcbiAgICByZXR1cm4gdGhpcy5fb3BlbmFpO1xuICB9XG4gIGNvbnN0cnVjdG9yKHBhcmFtcykge1xuICAgIHRoaXMuX29wZW5haSA9IChwYXJhbXMgPT0gbnVsbCA/IHZvaWQgMCA6IHBhcmFtcy5vcGVuYWkpIHx8IG5ldyBpbXBvcnRfb3BlbmFpLmRlZmF1bHQoe30pO1xuICAgIGlmIChwYXJhbXMgPT0gbnVsbCA/IHZvaWQgMCA6IHBhcmFtcy5tb2RlbCkge1xuICAgICAgdGhpcy5tb2RlbCA9IHBhcmFtcy5tb2RlbDtcbiAgICB9XG4gICAgdGhpcy5kaXNhYmxlUGFyYWxsZWxUb29sQ2FsbHMgPSAocGFyYW1zID09IG51bGwgPyB2b2lkIDAgOiBwYXJhbXMuZGlzYWJsZVBhcmFsbGVsVG9vbENhbGxzKSB8fCBmYWxzZTtcbiAgfVxuICBhc3luYyBwcm9jZXNzKHJlcXVlc3QpIHtcbiAgICBjb25zdCB7IHRocmVhZElkLCBtb2RlbCA9IHRoaXMubW9kZWwsIG1lc3NhZ2VzLCBhY3Rpb25zLCBldmVudFNvdXJjZSwgZm9yd2FyZGVkUGFyYW1ldGVycyB9ID0gcmVxdWVzdDtcbiAgICBjb25zdCB0b29scyA9IGFjdGlvbnMubWFwKGNvbnZlcnRBY3Rpb25JbnB1dFRvT3BlbkFJVG9vbCk7XG4gICAgbGV0IG9wZW5haU1lc3NhZ2VzID0gbWVzc2FnZXMubWFwKGNvbnZlcnRNZXNzYWdlVG9PcGVuQUlNZXNzYWdlKTtcbiAgICBvcGVuYWlNZXNzYWdlcyA9IGxpbWl0TWVzc2FnZXNUb1Rva2VuQ291bnQob3BlbmFpTWVzc2FnZXMsIHRvb2xzLCBtb2RlbCk7XG4gICAgbGV0IHRvb2xDaG9pY2UgPSBmb3J3YXJkZWRQYXJhbWV0ZXJzID09IG51bGwgPyB2b2lkIDAgOiBmb3J3YXJkZWRQYXJhbWV0ZXJzLnRvb2xDaG9pY2U7XG4gICAgaWYgKChmb3J3YXJkZWRQYXJhbWV0ZXJzID09IG51bGwgPyB2b2lkIDAgOiBmb3J3YXJkZWRQYXJhbWV0ZXJzLnRvb2xDaG9pY2UpID09PSBcImZ1bmN0aW9uXCIpIHtcbiAgICAgIHRvb2xDaG9pY2UgPSB7XG4gICAgICAgIHR5cGU6IFwiZnVuY3Rpb25cIixcbiAgICAgICAgZnVuY3Rpb246IHtcbiAgICAgICAgICBuYW1lOiBmb3J3YXJkZWRQYXJhbWV0ZXJzLnRvb2xDaG9pY2VGdW5jdGlvbk5hbWVcbiAgICAgICAgfVxuICAgICAgfTtcbiAgICB9XG4gICAgY29uc3Qgc3RyZWFtID0gdGhpcy5vcGVuYWkuYmV0YS5jaGF0LmNvbXBsZXRpb25zLnN0cmVhbSh7XG4gICAgICBtb2RlbCxcbiAgICAgIHN0cmVhbTogdHJ1ZSxcbiAgICAgIG1lc3NhZ2VzOiBvcGVuYWlNZXNzYWdlcyxcbiAgICAgIC4uLnRvb2xzLmxlbmd0aCA+IDAgJiYge1xuICAgICAgICB0b29sc1xuICAgICAgfSxcbiAgICAgIC4uLihmb3J3YXJkZWRQYXJhbWV0ZXJzID09IG51bGwgPyB2b2lkIDAgOiBmb3J3YXJkZWRQYXJhbWV0ZXJzLm1heFRva2VucykgJiYge1xuICAgICAgICBtYXhfdG9rZW5zOiBmb3J3YXJkZWRQYXJhbWV0ZXJzLm1heFRva2Vuc1xuICAgICAgfSxcbiAgICAgIC4uLihmb3J3YXJkZWRQYXJhbWV0ZXJzID09IG51bGwgPyB2b2lkIDAgOiBmb3J3YXJkZWRQYXJhbWV0ZXJzLnN0b3ApICYmIHtcbiAgICAgICAgc3RvcDogZm9yd2FyZGVkUGFyYW1ldGVycy5zdG9wXG4gICAgICB9LFxuICAgICAgLi4udG9vbENob2ljZSAmJiB7XG4gICAgICAgIHRvb2xfY2hvaWNlOiB0b29sQ2hvaWNlXG4gICAgICB9LFxuICAgICAgLi4udGhpcy5kaXNhYmxlUGFyYWxsZWxUb29sQ2FsbHMgJiYge1xuICAgICAgICBwYXJhbGxlbF90b29sX2NhbGxzOiBmYWxzZVxuICAgICAgfVxuICAgIH0pO1xuICAgIGV2ZW50U291cmNlLnN0cmVhbShhc3luYyAoZXZlbnRTdHJlYW0kKSA9PiB7XG4gICAgICB2YXIgX2EsIF9iO1xuICAgICAgbGV0IG1vZGUgPSBudWxsO1xuICAgICAgZm9yIGF3YWl0IChjb25zdCBjaHVuayBvZiBzdHJlYW0pIHtcbiAgICAgICAgY29uc3QgdG9vbENhbGwgPSAoX2EgPSBjaHVuay5jaG9pY2VzWzBdLmRlbHRhLnRvb2xfY2FsbHMpID09IG51bGwgPyB2b2lkIDAgOiBfYVswXTtcbiAgICAgICAgY29uc3QgY29udGVudCA9IGNodW5rLmNob2ljZXNbMF0uZGVsdGEuY29udGVudDtcbiAgICAgICAgaWYgKG1vZGUgPT09IFwibWVzc2FnZVwiICYmICh0b29sQ2FsbCA9PSBudWxsID8gdm9pZCAwIDogdG9vbENhbGwuaWQpKSB7XG4gICAgICAgICAgbW9kZSA9IG51bGw7XG4gICAgICAgICAgZXZlbnRTdHJlYW0kLnNlbmRUZXh0TWVzc2FnZUVuZCgpO1xuICAgICAgICB9IGVsc2UgaWYgKG1vZGUgPT09IFwiZnVuY3Rpb25cIiAmJiAodG9vbENhbGwgPT09IHZvaWQgMCB8fCAodG9vbENhbGwgPT0gbnVsbCA/IHZvaWQgMCA6IHRvb2xDYWxsLmlkKSkpIHtcbiAgICAgICAgICBtb2RlID0gbnVsbDtcbiAgICAgICAgICBldmVudFN0cmVhbSQuc2VuZEFjdGlvbkV4ZWN1dGlvbkVuZCgpO1xuICAgICAgICB9XG4gICAgICAgIGlmIChtb2RlID09PSBudWxsKSB7XG4gICAgICAgICAgaWYgKHRvb2xDYWxsID09IG51bGwgPyB2b2lkIDAgOiB0b29sQ2FsbC5pZCkge1xuICAgICAgICAgICAgbW9kZSA9IFwiZnVuY3Rpb25cIjtcbiAgICAgICAgICAgIGV2ZW50U3RyZWFtJC5zZW5kQWN0aW9uRXhlY3V0aW9uU3RhcnQodG9vbENhbGwuaWQsIHRvb2xDYWxsLmZ1bmN0aW9uLm5hbWUpO1xuICAgICAgICAgIH0gZWxzZSBpZiAoY29udGVudCkge1xuICAgICAgICAgICAgbW9kZSA9IFwibWVzc2FnZVwiO1xuICAgICAgICAgICAgZXZlbnRTdHJlYW0kLnNlbmRUZXh0TWVzc2FnZVN0YXJ0KGNodW5rLmlkKTtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgaWYgKG1vZGUgPT09IFwibWVzc2FnZVwiICYmIGNvbnRlbnQpIHtcbiAgICAgICAgICBldmVudFN0cmVhbSQuc2VuZFRleHRNZXNzYWdlQ29udGVudChjb250ZW50KTtcbiAgICAgICAgfSBlbHNlIGlmIChtb2RlID09PSBcImZ1bmN0aW9uXCIgJiYgKChfYiA9IHRvb2xDYWxsID09IG51bGwgPyB2b2lkIDAgOiB0b29sQ2FsbC5mdW5jdGlvbikgPT0gbnVsbCA/IHZvaWQgMCA6IF9iLmFyZ3VtZW50cykpIHtcbiAgICAgICAgICBldmVudFN0cmVhbSQuc2VuZEFjdGlvbkV4ZWN1dGlvbkFyZ3ModG9vbENhbGwuZnVuY3Rpb24uYXJndW1lbnRzKTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgaWYgKG1vZGUgPT09IFwibWVzc2FnZVwiKSB7XG4gICAgICAgIGV2ZW50U3RyZWFtJC5zZW5kVGV4dE1lc3NhZ2VFbmQoKTtcbiAgICAgIH0gZWxzZSBpZiAobW9kZSA9PT0gXCJmdW5jdGlvblwiKSB7XG4gICAgICAgIGV2ZW50U3RyZWFtJC5zZW5kQWN0aW9uRXhlY3V0aW9uRW5kKCk7XG4gICAgICB9XG4gICAgICBldmVudFN0cmVhbSQuY29tcGxldGUoKTtcbiAgICB9KTtcbiAgICByZXR1cm4ge1xuICAgICAgdGhyZWFkSWQ6IHRocmVhZElkIHx8ICgwLCBpbXBvcnRfc2hhcmVkLnJhbmRvbUlkKSgpXG4gICAgfTtcbiAgfVxufTtcbl9fbmFtZShPcGVuQUlBZGFwdGVyLCBcIk9wZW5BSUFkYXB0ZXJcIik7XG5cbi8vIHNyYy9zZXJ2aWNlLWFkYXB0ZXJzL2xhbmdjaGFpbi91dGlscy50c1xudmFyIGltcG9ydF9tZXNzYWdlcyA9IHJlcXVpcmUoXCJAbGFuZ2NoYWluL2NvcmUvbWVzc2FnZXNcIik7XG52YXIgaW1wb3J0X3Rvb2xzID0gcmVxdWlyZShcIkBsYW5nY2hhaW4vY29yZS90b29sc1wiKTtcbnZhciBpbXBvcnRfem9kID0gcmVxdWlyZShcInpvZFwiKTtcbnZhciBpbXBvcnRfc2hhcmVkMiA9IHJlcXVpcmUoXCJAY29waWxvdGtpdC9zaGFyZWRcIik7XG5mdW5jdGlvbiBjb252ZXJ0TWVzc2FnZVRvTGFuZ0NoYWluTWVzc2FnZShtZXNzYWdlKSB7XG4gIGlmIChtZXNzYWdlIGluc3RhbmNlb2YgVGV4dE1lc3NhZ2UpIHtcbiAgICBpZiAobWVzc2FnZS5yb2xlID09IFwidXNlclwiKSB7XG4gICAgICByZXR1cm4gbmV3IGltcG9ydF9tZXNzYWdlcy5IdW1hbk1lc3NhZ2UobWVzc2FnZS5jb250ZW50KTtcbiAgICB9IGVsc2UgaWYgKG1lc3NhZ2Uucm9sZSA9PSBcImFzc2lzdGFudFwiKSB7XG4gICAgICByZXR1cm4gbmV3IGltcG9ydF9tZXNzYWdlcy5BSU1lc3NhZ2UobWVzc2FnZS5jb250ZW50KTtcbiAgICB9IGVsc2UgaWYgKG1lc3NhZ2Uucm9sZSA9PT0gXCJzeXN0ZW1cIikge1xuICAgICAgcmV0dXJuIG5ldyBpbXBvcnRfbWVzc2FnZXMuU3lzdGVtTWVzc2FnZShtZXNzYWdlLmNvbnRlbnQpO1xuICAgIH1cbiAgfSBlbHNlIGlmIChtZXNzYWdlIGluc3RhbmNlb2YgQWN0aW9uRXhlY3V0aW9uTWVzc2FnZSkge1xuICAgIHJldHVybiBuZXcgaW1wb3J0X21lc3NhZ2VzLkFJTWVzc2FnZSh7XG4gICAgICBjb250ZW50OiBcIlwiLFxuICAgICAgdG9vbF9jYWxsczogW1xuICAgICAgICB7XG4gICAgICAgICAgaWQ6IG1lc3NhZ2UuaWQsXG4gICAgICAgICAgYXJnczogbWVzc2FnZS5hcmd1bWVudHMsXG4gICAgICAgICAgbmFtZTogbWVzc2FnZS5uYW1lXG4gICAgICAgIH1cbiAgICAgIF1cbiAgICB9KTtcbiAgfSBlbHNlIGlmIChtZXNzYWdlIGluc3RhbmNlb2YgUmVzdWx0TWVzc2FnZSkge1xuICAgIHJldHVybiBuZXcgaW1wb3J0X21lc3NhZ2VzLlRvb2xNZXNzYWdlKHtcbiAgICAgIGNvbnRlbnQ6IG1lc3NhZ2UucmVzdWx0LFxuICAgICAgdG9vbF9jYWxsX2lkOiBtZXNzYWdlLmFjdGlvbkV4ZWN1dGlvbklkXG4gICAgfSk7XG4gIH1cbn1cbl9fbmFtZShjb252ZXJ0TWVzc2FnZVRvTGFuZ0NoYWluTWVzc2FnZSwgXCJjb252ZXJ0TWVzc2FnZVRvTGFuZ0NoYWluTWVzc2FnZVwiKTtcbmZ1bmN0aW9uIGNvbnZlcnRKc29uU2NoZW1hVG9ab2RTY2hlbWEoanNvblNjaGVtYSwgcmVxdWlyZWQpIHtcbiAgaWYgKGpzb25TY2hlbWEudHlwZSA9PT0gXCJvYmplY3RcIikge1xuICAgIGNvbnN0IHNwZWMgPSB7fTtcbiAgICBmb3IgKGNvbnN0IFtrZXksIHZhbHVlXSBvZiBPYmplY3QuZW50cmllcyhqc29uU2NoZW1hLnByb3BlcnRpZXMpKSB7XG4gICAgICBzcGVjW2tleV0gPSBjb252ZXJ0SnNvblNjaGVtYVRvWm9kU2NoZW1hKHZhbHVlLCBqc29uU2NoZW1hLnJlcXVpcmVkID8ganNvblNjaGVtYS5yZXF1aXJlZC5pbmNsdWRlcyhrZXkpIDogZmFsc2UpO1xuICAgIH1cbiAgICBsZXQgc2NoZW1hID0gaW1wb3J0X3pvZC56Lm9iamVjdChzcGVjKTtcbiAgICByZXR1cm4gIXJlcXVpcmVkID8gc2NoZW1hLm9wdGlvbmFsKCkgOiBzY2hlbWE7XG4gIH0gZWxzZSBpZiAoanNvblNjaGVtYS50eXBlID09PSBcInN0cmluZ1wiKSB7XG4gICAgbGV0IHNjaGVtYSA9IGltcG9ydF96b2Quei5zdHJpbmcoKS5kZXNjcmliZShqc29uU2NoZW1hLmRlc2NyaXB0aW9uKTtcbiAgICByZXR1cm4gIXJlcXVpcmVkID8gc2NoZW1hLm9wdGlvbmFsKCkgOiBzY2hlbWE7XG4gIH0gZWxzZSBpZiAoanNvblNjaGVtYS50eXBlID09PSBcIm51bWJlclwiKSB7XG4gICAgbGV0IHNjaGVtYSA9IGltcG9ydF96b2Quei5udW1iZXIoKS5kZXNjcmliZShqc29uU2NoZW1hLmRlc2NyaXB0aW9uKTtcbiAgICByZXR1cm4gIXJlcXVpcmVkID8gc2NoZW1hLm9wdGlvbmFsKCkgOiBzY2hlbWE7XG4gIH0gZWxzZSBpZiAoanNvblNjaGVtYS50eXBlID09PSBcImJvb2xlYW5cIikge1xuICAgIGxldCBzY2hlbWEgPSBpbXBvcnRfem9kLnouYm9vbGVhbigpLmRlc2NyaWJlKGpzb25TY2hlbWEuZGVzY3JpcHRpb24pO1xuICAgIHJldHVybiAhcmVxdWlyZWQgPyBzY2hlbWEub3B0aW9uYWwoKSA6IHNjaGVtYTtcbiAgfSBlbHNlIGlmIChqc29uU2NoZW1hLnR5cGUgPT09IFwiYXJyYXlcIikge1xuICAgIGxldCBpdGVtU2NoZW1hID0gY29udmVydEpzb25TY2hlbWFUb1pvZFNjaGVtYShqc29uU2NoZW1hLml0ZW1zLCBmYWxzZSk7XG4gICAgbGV0IHNjaGVtYSA9IGltcG9ydF96b2Quei5hcnJheShpdGVtU2NoZW1hKTtcbiAgICByZXR1cm4gIXJlcXVpcmVkID8gc2NoZW1hLm9wdGlvbmFsKCkgOiBzY2hlbWE7XG4gIH1cbn1cbl9fbmFtZShjb252ZXJ0SnNvblNjaGVtYVRvWm9kU2NoZW1hLCBcImNvbnZlcnRKc29uU2NoZW1hVG9ab2RTY2hlbWFcIik7XG5mdW5jdGlvbiBjb252ZXJ0QWN0aW9uSW5wdXRUb0xhbmdDaGFpblRvb2woYWN0aW9uSW5wdXQpIHtcbiAgcmV0dXJuIG5ldyBpbXBvcnRfdG9vbHMuRHluYW1pY1N0cnVjdHVyZWRUb29sKHtcbiAgICBuYW1lOiBhY3Rpb25JbnB1dC5uYW1lLFxuICAgIGRlc2NyaXB0aW9uOiBhY3Rpb25JbnB1dC5kZXNjcmlwdGlvbixcbiAgICBzY2hlbWE6IGNvbnZlcnRKc29uU2NoZW1hVG9ab2RTY2hlbWEoSlNPTi5wYXJzZShhY3Rpb25JbnB1dC5qc29uU2NoZW1hKSwgdHJ1ZSksXG4gICAgZnVuYzogYXN5bmMgKCkgPT4ge1xuICAgICAgcmV0dXJuIFwiXCI7XG4gICAgfVxuICB9KTtcbn1cbl9fbmFtZShjb252ZXJ0QWN0aW9uSW5wdXRUb0xhbmdDaGFpblRvb2wsIFwiY29udmVydEFjdGlvbklucHV0VG9MYW5nQ2hhaW5Ub29sXCIpO1xuZnVuY3Rpb24gZ2V0Q29uc3RydWN0b3JOYW1lKG9iamVjdCkge1xuICBpZiAob2JqZWN0ICYmIHR5cGVvZiBvYmplY3QgPT09IFwib2JqZWN0XCIgJiYgb2JqZWN0LmNvbnN0cnVjdG9yICYmIG9iamVjdC5jb25zdHJ1Y3Rvci5uYW1lKSB7XG4gICAgcmV0dXJuIG9iamVjdC5jb25zdHJ1Y3Rvci5uYW1lO1xuICB9XG4gIHJldHVybiBcIlwiO1xufVxuX19uYW1lKGdldENvbnN0cnVjdG9yTmFtZSwgXCJnZXRDb25zdHJ1Y3Rvck5hbWVcIik7XG5mdW5jdGlvbiBpc0FJTWVzc2FnZShtZXNzYWdlKSB7XG4gIHJldHVybiBnZXRDb25zdHJ1Y3Rvck5hbWUobWVzc2FnZSkgPT09IFwiQUlNZXNzYWdlXCI7XG59XG5fX25hbWUoaXNBSU1lc3NhZ2UsIFwiaXNBSU1lc3NhZ2VcIik7XG5mdW5jdGlvbiBpc0FJTWVzc2FnZUNodW5rKG1lc3NhZ2UpIHtcbiAgcmV0dXJuIGdldENvbnN0cnVjdG9yTmFtZShtZXNzYWdlKSA9PT0gXCJBSU1lc3NhZ2VDaHVua1wiO1xufVxuX19uYW1lKGlzQUlNZXNzYWdlQ2h1bmssIFwiaXNBSU1lc3NhZ2VDaHVua1wiKTtcbmZ1bmN0aW9uIGlzQmFzZU1lc3NhZ2VDaHVuayhtZXNzYWdlKSB7XG4gIHJldHVybiBnZXRDb25zdHJ1Y3Rvck5hbWUobWVzc2FnZSkgPT09IFwiQmFzZU1lc3NhZ2VDaHVua1wiO1xufVxuX19uYW1lKGlzQmFzZU1lc3NhZ2VDaHVuaywgXCJpc0Jhc2VNZXNzYWdlQ2h1bmtcIik7XG5mdW5jdGlvbiBtYXliZVNlbmRBY3Rpb25FeGVjdXRpb25SZXN1bHRJc01lc3NhZ2UoZXZlbnRTdHJlYW0kLCBhY3Rpb25FeGVjdXRpb24pIHtcbiAgaWYgKGFjdGlvbkV4ZWN1dGlvbikge1xuICAgIGV2ZW50U3RyZWFtJC5zZW5kQWN0aW9uRXhlY3V0aW9uUmVzdWx0KGFjdGlvbkV4ZWN1dGlvbi5pZCwgYWN0aW9uRXhlY3V0aW9uLm5hbWUsIFwiU2VuZGluZyBhIG1lc3NhZ2VcIik7XG4gIH1cbn1cbl9fbmFtZShtYXliZVNlbmRBY3Rpb25FeGVjdXRpb25SZXN1bHRJc01lc3NhZ2UsIFwibWF5YmVTZW5kQWN0aW9uRXhlY3V0aW9uUmVzdWx0SXNNZXNzYWdlXCIpO1xuYXN5bmMgZnVuY3Rpb24gc3RyZWFtTGFuZ0NoYWluUmVzcG9uc2UoeyByZXN1bHQsIGV2ZW50U3RyZWFtJCwgYWN0aW9uRXhlY3V0aW9uIH0pIHtcbiAgdmFyIF9hLCBfYiwgX2MsIF9kLCBfZSwgX2YsIF9nLCBfaDtcbiAgaWYgKHR5cGVvZiByZXN1bHQgPT09IFwic3RyaW5nXCIpIHtcbiAgICBpZiAoIWFjdGlvbkV4ZWN1dGlvbikge1xuICAgICAgZXZlbnRTdHJlYW0kLnNlbmRUZXh0TWVzc2FnZSgoMCwgaW1wb3J0X3NoYXJlZDIucmFuZG9tSWQpKCksIHJlc3VsdCk7XG4gICAgfSBlbHNlIHtcbiAgICAgIGV2ZW50U3RyZWFtJC5zZW5kQWN0aW9uRXhlY3V0aW9uUmVzdWx0KGFjdGlvbkV4ZWN1dGlvbi5pZCwgYWN0aW9uRXhlY3V0aW9uLm5hbWUsIHJlc3VsdCk7XG4gICAgfVxuICB9IGVsc2UgaWYgKGlzQUlNZXNzYWdlKHJlc3VsdCkpIHtcbiAgICBtYXliZVNlbmRBY3Rpb25FeGVjdXRpb25SZXN1bHRJc01lc3NhZ2UoZXZlbnRTdHJlYW0kLCBhY3Rpb25FeGVjdXRpb24pO1xuICAgIGlmIChyZXN1bHQuY29udGVudCkge1xuICAgICAgZXZlbnRTdHJlYW0kLnNlbmRUZXh0TWVzc2FnZSgoMCwgaW1wb3J0X3NoYXJlZDIucmFuZG9tSWQpKCksIHJlc3VsdC5jb250ZW50KTtcbiAgICB9XG4gICAgZm9yIChjb25zdCB0b29sQ2FsbCBvZiByZXN1bHQudG9vbF9jYWxscykge1xuICAgICAgZXZlbnRTdHJlYW0kLnNlbmRBY3Rpb25FeGVjdXRpb24odG9vbENhbGwuaWQgfHwgKDAsIGltcG9ydF9zaGFyZWQyLnJhbmRvbUlkKSgpLCB0b29sQ2FsbC5uYW1lLCBKU09OLnN0cmluZ2lmeSh0b29sQ2FsbC5hcmdzKSk7XG4gICAgfVxuICB9IGVsc2UgaWYgKGlzQmFzZU1lc3NhZ2VDaHVuayhyZXN1bHQpKSB7XG4gICAgbWF5YmVTZW5kQWN0aW9uRXhlY3V0aW9uUmVzdWx0SXNNZXNzYWdlKGV2ZW50U3RyZWFtJCwgYWN0aW9uRXhlY3V0aW9uKTtcbiAgICBpZiAoKF9hID0gcmVzdWx0LmxjX2t3YXJncykgPT0gbnVsbCA/IHZvaWQgMCA6IF9hLmNvbnRlbnQpIHtcbiAgICAgIGV2ZW50U3RyZWFtJC5zZW5kVGV4dE1lc3NhZ2UoKDAsIGltcG9ydF9zaGFyZWQyLnJhbmRvbUlkKSgpLCByZXN1bHQuY29udGVudCk7XG4gICAgfVxuICAgIGlmICgoX2IgPSByZXN1bHQubGNfa3dhcmdzKSA9PSBudWxsID8gdm9pZCAwIDogX2IudG9vbF9jYWxscykge1xuICAgICAgZm9yIChjb25zdCB0b29sQ2FsbCBvZiAoX2MgPSByZXN1bHQubGNfa3dhcmdzKSA9PSBudWxsID8gdm9pZCAwIDogX2MudG9vbF9jYWxscykge1xuICAgICAgICBldmVudFN0cmVhbSQuc2VuZEFjdGlvbkV4ZWN1dGlvbih0b29sQ2FsbC5pZCB8fCAoMCwgaW1wb3J0X3NoYXJlZDIucmFuZG9tSWQpKCksIHRvb2xDYWxsLm5hbWUsIEpTT04uc3RyaW5naWZ5KHRvb2xDYWxsLmFyZ3MpKTtcbiAgICAgIH1cbiAgICB9XG4gIH0gZWxzZSBpZiAocmVzdWx0ICYmIFwiZ2V0UmVhZGVyXCIgaW4gcmVzdWx0KSB7XG4gICAgbWF5YmVTZW5kQWN0aW9uRXhlY3V0aW9uUmVzdWx0SXNNZXNzYWdlKGV2ZW50U3RyZWFtJCwgYWN0aW9uRXhlY3V0aW9uKTtcbiAgICBsZXQgcmVhZGVyID0gcmVzdWx0LmdldFJlYWRlcigpO1xuICAgIGxldCBtb2RlID0gbnVsbDtcbiAgICB3aGlsZSAodHJ1ZSkge1xuICAgICAgdHJ5IHtcbiAgICAgICAgY29uc3QgeyBkb25lLCB2YWx1ZSB9ID0gYXdhaXQgcmVhZGVyLnJlYWQoKTtcbiAgICAgICAgbGV0IHRvb2xDYWxsTmFtZSA9IHZvaWQgMDtcbiAgICAgICAgbGV0IHRvb2xDYWxsSWQgPSB2b2lkIDA7XG4gICAgICAgIGxldCB0b29sQ2FsbEFyZ3MgPSB2b2lkIDA7XG4gICAgICAgIGxldCBoYXNUb29sQ2FsbCA9IGZhbHNlO1xuICAgICAgICBsZXQgY29udGVudCA9IHZhbHVlID09IG51bGwgPyB2b2lkIDAgOiB2YWx1ZS5jb250ZW50O1xuICAgICAgICBpZiAoaXNBSU1lc3NhZ2VDaHVuayh2YWx1ZSkpIHtcbiAgICAgICAgICBsZXQgY2h1bmsgPSAoX2QgPSB2YWx1ZS50b29sX2NhbGxfY2h1bmtzKSA9PSBudWxsID8gdm9pZCAwIDogX2RbMF07XG4gICAgICAgICAgdG9vbENhbGxOYW1lID0gY2h1bmsgPT0gbnVsbCA/IHZvaWQgMCA6IGNodW5rLm5hbWU7XG4gICAgICAgICAgdG9vbENhbGxJZCA9IGNodW5rID09IG51bGwgPyB2b2lkIDAgOiBjaHVuay5pZDtcbiAgICAgICAgICB0b29sQ2FsbEFyZ3MgPSBjaHVuayA9PSBudWxsID8gdm9pZCAwIDogY2h1bmsuYXJncztcbiAgICAgICAgICBoYXNUb29sQ2FsbCA9IGNodW5rICE9IHZvaWQgMDtcbiAgICAgICAgfSBlbHNlIGlmIChpc0Jhc2VNZXNzYWdlQ2h1bmsodmFsdWUpKSB7XG4gICAgICAgICAgbGV0IGNodW5rID0gKF9mID0gKF9lID0gdmFsdWUuYWRkaXRpb25hbF9rd2FyZ3MpID09IG51bGwgPyB2b2lkIDAgOiBfZS50b29sX2NhbGxzKSA9PSBudWxsID8gdm9pZCAwIDogX2ZbMF07XG4gICAgICAgICAgdG9vbENhbGxOYW1lID0gKF9nID0gY2h1bmsgPT0gbnVsbCA/IHZvaWQgMCA6IGNodW5rLmZ1bmN0aW9uKSA9PSBudWxsID8gdm9pZCAwIDogX2cubmFtZTtcbiAgICAgICAgICB0b29sQ2FsbElkID0gY2h1bmsgPT0gbnVsbCA/IHZvaWQgMCA6IGNodW5rLmlkO1xuICAgICAgICAgIHRvb2xDYWxsQXJncyA9IChfaCA9IGNodW5rID09IG51bGwgPyB2b2lkIDAgOiBjaHVuay5mdW5jdGlvbikgPT0gbnVsbCA/IHZvaWQgMCA6IF9oLmFyZ3VtZW50cztcbiAgICAgICAgICBoYXNUb29sQ2FsbCA9IChjaHVuayA9PSBudWxsID8gdm9pZCAwIDogY2h1bmsuZnVuY3Rpb24pICE9IHZvaWQgMDtcbiAgICAgICAgfVxuICAgICAgICBpZiAobW9kZSA9PT0gXCJtZXNzYWdlXCIgJiYgKHRvb2xDYWxsSWQgfHwgZG9uZSkpIHtcbiAgICAgICAgICBtb2RlID0gbnVsbDtcbiAgICAgICAgICBldmVudFN0cmVhbSQuc2VuZFRleHRNZXNzYWdlRW5kKCk7XG4gICAgICAgIH0gZWxzZSBpZiAobW9kZSA9PT0gXCJmdW5jdGlvblwiICYmICghaGFzVG9vbENhbGwgfHwgZG9uZSkpIHtcbiAgICAgICAgICBtb2RlID0gbnVsbDtcbiAgICAgICAgICBldmVudFN0cmVhbSQuc2VuZEFjdGlvbkV4ZWN1dGlvbkVuZCgpO1xuICAgICAgICB9XG4gICAgICAgIGlmIChkb25lKSB7XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKG1vZGUgPT09IG51bGwpIHtcbiAgICAgICAgICBpZiAoaGFzVG9vbENhbGwpIHtcbiAgICAgICAgICAgIG1vZGUgPSBcImZ1bmN0aW9uXCI7XG4gICAgICAgICAgICBldmVudFN0cmVhbSQuc2VuZEFjdGlvbkV4ZWN1dGlvblN0YXJ0KHRvb2xDYWxsSWQsIHRvb2xDYWxsTmFtZSk7XG4gICAgICAgICAgfSBlbHNlIGlmIChjb250ZW50KSB7XG4gICAgICAgICAgICBtb2RlID0gXCJtZXNzYWdlXCI7XG4gICAgICAgICAgICBldmVudFN0cmVhbSQuc2VuZFRleHRNZXNzYWdlU3RhcnQoKDAsIGltcG9ydF9zaGFyZWQyLnJhbmRvbUlkKSgpKTtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgaWYgKG1vZGUgPT09IFwibWVzc2FnZVwiICYmIGNvbnRlbnQpIHtcbiAgICAgICAgICBldmVudFN0cmVhbSQuc2VuZFRleHRNZXNzYWdlQ29udGVudChjb250ZW50KTtcbiAgICAgICAgfSBlbHNlIGlmIChtb2RlID09PSBcImZ1bmN0aW9uXCIgJiYgdG9vbENhbGxBcmdzKSB7XG4gICAgICAgICAgZXZlbnRTdHJlYW0kLnNlbmRBY3Rpb25FeGVjdXRpb25BcmdzKHRvb2xDYWxsQXJncyk7XG4gICAgICAgIH1cbiAgICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICAgIGNvbnNvbGUuZXJyb3IoXCJFcnJvciByZWFkaW5nIGZyb20gc3RyZWFtXCIsIGVycm9yKTtcbiAgICAgICAgYnJlYWs7XG4gICAgICB9XG4gICAgfVxuICB9IGVsc2UgaWYgKGFjdGlvbkV4ZWN1dGlvbikge1xuICAgIGV2ZW50U3RyZWFtJC5zZW5kQWN0aW9uRXhlY3V0aW9uUmVzdWx0KGFjdGlvbkV4ZWN1dGlvbi5pZCwgYWN0aW9uRXhlY3V0aW9uLm5hbWUsIGVuY29kZVJlc3VsdChyZXN1bHQpKTtcbiAgfSBlbHNlIHtcbiAgICB0aHJvdyBuZXcgRXJyb3IoXCJJbnZhbGlkIHJldHVybiB0eXBlIGZyb20gTGFuZ0NoYWluIGZ1bmN0aW9uLlwiKTtcbiAgfVxuICBldmVudFN0cmVhbSQuY29tcGxldGUoKTtcbn1cbl9fbmFtZShzdHJlYW1MYW5nQ2hhaW5SZXNwb25zZSwgXCJzdHJlYW1MYW5nQ2hhaW5SZXNwb25zZVwiKTtcbmZ1bmN0aW9uIGVuY29kZVJlc3VsdChyZXN1bHQpIHtcbiAgaWYgKHJlc3VsdCA9PT0gdm9pZCAwKSB7XG4gICAgcmV0dXJuIFwiXCI7XG4gIH0gZWxzZSBpZiAodHlwZW9mIHJlc3VsdCA9PT0gXCJzdHJpbmdcIikge1xuICAgIHJldHVybiByZXN1bHQ7XG4gIH0gZWxzZSB7XG4gICAgcmV0dXJuIEpTT04uc3RyaW5naWZ5KHJlc3VsdCk7XG4gIH1cbn1cbl9fbmFtZShlbmNvZGVSZXN1bHQsIFwiZW5jb2RlUmVzdWx0XCIpO1xuXG4vLyBzcmMvc2VydmljZS1hZGFwdGVycy9sYW5nY2hhaW4vbGFuZ2NoYWluLWFkYXB0ZXIudHNcbnZhciBpbXBvcnRfc2hhcmVkMyA9IHJlcXVpcmUoXCJAY29waWxvdGtpdC9zaGFyZWRcIik7XG52YXIgTGFuZ0NoYWluQWRhcHRlciA9IGNsYXNzIHtcbiAgb3B0aW9ucztcbiAgLyoqXG4gICogVG8gdXNlIExhbmdDaGFpbiBhcyBhIGJhY2tlbmQsIHByb3ZpZGUgYSBoYW5kbGVyIGZ1bmN0aW9uIHRvIHRoZSBhZGFwdGVyIHdpdGggeW91ciBjdXN0b20gTGFuZ0NoYWluIGxvZ2ljLlxuICAqL1xuICBjb25zdHJ1Y3RvcihvcHRpb25zKSB7XG4gICAgdGhpcy5vcHRpb25zID0gb3B0aW9ucztcbiAgfVxuICBhc3luYyBwcm9jZXNzKHJlcXVlc3QpIHtcbiAgICBjb25zdCB7IGV2ZW50U291cmNlLCBtb2RlbCwgYWN0aW9ucywgbWVzc2FnZXMsIHRocmVhZElkLCBydW5JZCB9ID0gcmVxdWVzdDtcbiAgICBjb25zdCByZXN1bHQgPSBhd2FpdCB0aGlzLm9wdGlvbnMuY2hhaW5Gbih7XG4gICAgICBtZXNzYWdlczogbWVzc2FnZXMubWFwKGNvbnZlcnRNZXNzYWdlVG9MYW5nQ2hhaW5NZXNzYWdlKSxcbiAgICAgIHRvb2xzOiBhY3Rpb25zLm1hcChjb252ZXJ0QWN0aW9uSW5wdXRUb0xhbmdDaGFpblRvb2wpLFxuICAgICAgbW9kZWwsXG4gICAgICB0aHJlYWRJZCxcbiAgICAgIHJ1bklkXG4gICAgfSk7XG4gICAgZXZlbnRTb3VyY2Uuc3RyZWFtKGFzeW5jIChldmVudFN0cmVhbSQpID0+IHtcbiAgICAgIGF3YWl0IHN0cmVhbUxhbmdDaGFpblJlc3BvbnNlKHtcbiAgICAgICAgcmVzdWx0LFxuICAgICAgICBldmVudFN0cmVhbSRcbiAgICAgIH0pO1xuICAgIH0pO1xuICAgIHJldHVybiB7XG4gICAgICB0aHJlYWRJZDogdGhyZWFkSWQgfHwgKDAsIGltcG9ydF9zaGFyZWQzLnJhbmRvbUlkKSgpXG4gICAgfTtcbiAgfVxufTtcbl9fbmFtZShMYW5nQ2hhaW5BZGFwdGVyLCBcIkxhbmdDaGFpbkFkYXB0ZXJcIik7XG5cbi8vIHNyYy9zZXJ2aWNlLWFkYXB0ZXJzL2dvb2dsZS9nb29nbGUtZ2VuYWktYWRhcHRlci50c1xudmFyIGltcG9ydF9nZW5lcmF0aXZlX2FpID0gcmVxdWlyZShcIkBnb29nbGUvZ2VuZXJhdGl2ZS1haVwiKTtcblxuLy8gc3JjL3NlcnZpY2UtYWRhcHRlcnMvZ29vZ2xlL3V0aWxzLnRzXG5mdW5jdGlvbiBjb252ZXJ0TWVzc2FnZVRvR29vZ2xlR2VuQUlNZXNzYWdlKG1lc3NhZ2UpIHtcbiAgaWYgKG1lc3NhZ2UgaW5zdGFuY2VvZiBUZXh0TWVzc2FnZSkge1xuICAgIGNvbnN0IHJvbGUgPSB7XG4gICAgICB1c2VyOiBcInVzZXJcIixcbiAgICAgIGFzc2lzdGFudDogXCJtb2RlbFwiLFxuICAgICAgc3lzdGVtOiBcInVzZXJcIlxuICAgIH1bbWVzc2FnZS5yb2xlXTtcbiAgICBjb25zdCB0ZXh0ID0gbWVzc2FnZS5yb2xlID09PSBcInN5c3RlbVwiID8gXCJUSEUgRk9MTE9XSU5HIE1FU1NBR0UgSVMgQSBTWVNURU0gTUVTU0FHRTogXCIgKyBtZXNzYWdlLmNvbnRlbnQgOiBtZXNzYWdlLmNvbnRlbnQ7XG4gICAgcmV0dXJuIHtcbiAgICAgIHJvbGUsXG4gICAgICBwYXJ0czogW1xuICAgICAgICB7XG4gICAgICAgICAgdGV4dFxuICAgICAgICB9XG4gICAgICBdXG4gICAgfTtcbiAgfSBlbHNlIGlmIChtZXNzYWdlIGluc3RhbmNlb2YgQWN0aW9uRXhlY3V0aW9uTWVzc2FnZSkge1xuICAgIHJldHVybiB7XG4gICAgICByb2xlOiBcIm1vZGVsXCIsXG4gICAgICBwYXJ0czogW1xuICAgICAgICB7XG4gICAgICAgICAgZnVuY3Rpb25DYWxsOiB7XG4gICAgICAgICAgICBuYW1lOiBtZXNzYWdlLm5hbWUsXG4gICAgICAgICAgICBhcmdzOiBtZXNzYWdlLmFyZ3VtZW50c1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgXVxuICAgIH07XG4gIH0gZWxzZSBpZiAobWVzc2FnZSBpbnN0YW5jZW9mIFJlc3VsdE1lc3NhZ2UpIHtcbiAgICByZXR1cm4ge1xuICAgICAgcm9sZTogXCJmdW5jdGlvblwiLFxuICAgICAgcGFydHM6IFtcbiAgICAgICAge1xuICAgICAgICAgIGZ1bmN0aW9uUmVzcG9uc2U6IHtcbiAgICAgICAgICAgIG5hbWU6IG1lc3NhZ2UuYWN0aW9uTmFtZSxcbiAgICAgICAgICAgIHJlc3BvbnNlOiB7XG4gICAgICAgICAgICAgIG5hbWU6IG1lc3NhZ2UuYWN0aW9uTmFtZSxcbiAgICAgICAgICAgICAgY29udGVudDogdHJ5UGFyc2VKc29uKG1lc3NhZ2UucmVzdWx0KVxuICAgICAgICAgICAgfVxuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgXVxuICAgIH07XG4gIH1cbn1cbl9fbmFtZShjb252ZXJ0TWVzc2FnZVRvR29vZ2xlR2VuQUlNZXNzYWdlLCBcImNvbnZlcnRNZXNzYWdlVG9Hb29nbGVHZW5BSU1lc3NhZ2VcIik7XG5mdW5jdGlvbiB0cmFuc2Zvcm1BY3Rpb25Ub0dvb2dsZUdlbkFJVG9vbChhY3Rpb24pIHtcbiAgY29uc3QgbmFtZSA9IGFjdGlvbi5uYW1lO1xuICBjb25zdCBkZXNjcmlwdGlvbiA9IGFjdGlvbi5kZXNjcmlwdGlvbjtcbiAgY29uc3QgcGFyYW1ldGVycyA9IEpTT04ucGFyc2UoYWN0aW9uLmpzb25TY2hlbWEpO1xuICBjb25zdCB0cmFuc2Zvcm1Qcm9wZXJ0aWVzID0gLyogQF9fUFVSRV9fICovIF9fbmFtZSgocHJvcHMpID0+IHtcbiAgICBmb3IgKGNvbnN0IGtleSBpbiBwcm9wcykge1xuICAgICAgaWYgKHByb3BzW2tleV0udHlwZSkge1xuICAgICAgICBwcm9wc1trZXldLnR5cGUgPSBwcm9wc1trZXldLnR5cGUudG9VcHBlckNhc2UoKTtcbiAgICAgIH1cbiAgICAgIGlmIChwcm9wc1trZXldLnByb3BlcnRpZXMpIHtcbiAgICAgICAgdHJhbnNmb3JtUHJvcGVydGllcyhwcm9wc1trZXldLnByb3BlcnRpZXMpO1xuICAgICAgfVxuICAgIH1cbiAgfSwgXCJ0cmFuc2Zvcm1Qcm9wZXJ0aWVzXCIpO1xuICB0cmFuc2Zvcm1Qcm9wZXJ0aWVzKHBhcmFtZXRlcnMpO1xuICByZXR1cm4ge1xuICAgIGZ1bmN0aW9uRGVjbGFyYXRpb25zOiBbXG4gICAgICB7XG4gICAgICAgIG5hbWUsXG4gICAgICAgIGRlc2NyaXB0aW9uLFxuICAgICAgICBwYXJhbWV0ZXJzXG4gICAgICB9XG4gICAgXVxuICB9O1xufVxuX19uYW1lKHRyYW5zZm9ybUFjdGlvblRvR29vZ2xlR2VuQUlUb29sLCBcInRyYW5zZm9ybUFjdGlvblRvR29vZ2xlR2VuQUlUb29sXCIpO1xuZnVuY3Rpb24gdHJ5UGFyc2VKc29uKHN0cikge1xuICBpZiAoIXN0cikge1xuICAgIHJldHVybiBcIlwiO1xuICB9XG4gIHRyeSB7XG4gICAgcmV0dXJuIEpTT04ucGFyc2Uoc3RyKTtcbiAgfSBjYXRjaCAoZSkge1xuICAgIHJldHVybiBzdHI7XG4gIH1cbn1cbl9fbmFtZSh0cnlQYXJzZUpzb24sIFwidHJ5UGFyc2VKc29uXCIpO1xuXG4vLyBzcmMvc2VydmljZS1hZGFwdGVycy9nb29nbGUvZ29vZ2xlLWdlbmFpLWFkYXB0ZXIudHNcbnZhciBpbXBvcnRfc2hhcmVkNCA9IHJlcXVpcmUoXCJAY29waWxvdGtpdC9zaGFyZWRcIik7XG52YXIgR29vZ2xlR2VuZXJhdGl2ZUFJQWRhcHRlciA9IGNsYXNzIHtcbiAgbW9kZWw7XG4gIGNvbnN0cnVjdG9yKG9wdGlvbnMpIHtcbiAgICBpZiAob3B0aW9ucyA9PSBudWxsID8gdm9pZCAwIDogb3B0aW9ucy5tb2RlbCkge1xuICAgICAgdGhpcy5tb2RlbCA9IG9wdGlvbnMubW9kZWw7XG4gICAgfSBlbHNlIHtcbiAgICAgIGNvbnN0IGdlbkFJID0gbmV3IGltcG9ydF9nZW5lcmF0aXZlX2FpLkdvb2dsZUdlbmVyYXRpdmVBSShwcm9jZXNzLmVudltcIkdPT0dMRV9BUElfS0VZXCJdKTtcbiAgICAgIHRoaXMubW9kZWwgPSBnZW5BSS5nZXRHZW5lcmF0aXZlTW9kZWwoe1xuICAgICAgICBtb2RlbDogXCJnZW1pbmktcHJvXCJcbiAgICAgIH0pO1xuICAgIH1cbiAgfVxuICBhc3luYyBwcm9jZXNzKHJlcXVlc3QpIHtcbiAgICBjb25zdCB7IG1lc3NhZ2VzLCBhY3Rpb25zLCBldmVudFNvdXJjZSB9ID0gcmVxdWVzdDtcbiAgICBjb25zdCBoaXN0b3J5ID0gbWVzc2FnZXMuc2xpY2UoMSwgLTEpLm1hcChjb252ZXJ0TWVzc2FnZVRvR29vZ2xlR2VuQUlNZXNzYWdlKTtcbiAgICBjb25zdCBjdXJyZW50TWVzc2FnZSA9IGNvbnZlcnRNZXNzYWdlVG9Hb29nbGVHZW5BSU1lc3NhZ2UobWVzc2FnZXMuYXQoLTEpKTtcbiAgICBpZiAoIWN1cnJlbnRNZXNzYWdlKSB7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoXCJObyBjdXJyZW50IG1lc3NhZ2VcIik7XG4gICAgfVxuICAgIGxldCBzeXN0ZW1NZXNzYWdlO1xuICAgIGNvbnN0IGZpcnN0TWVzc2FnZSA9IG1lc3NhZ2VzLmF0KDApO1xuICAgIGlmIChmaXJzdE1lc3NhZ2UgaW5zdGFuY2VvZiBUZXh0TWVzc2FnZSAmJiBmaXJzdE1lc3NhZ2Uucm9sZSA9PT0gXCJzeXN0ZW1cIikge1xuICAgICAgc3lzdGVtTWVzc2FnZSA9IGZpcnN0TWVzc2FnZS5jb250ZW50LnRyaW0oKTtcbiAgICB9IGVsc2Uge1xuICAgICAgdGhyb3cgbmV3IEVycm9yKFwiRmlyc3QgbWVzc2FnZSBpcyBub3QgYSBzeXN0ZW0gbWVzc2FnZVwiKTtcbiAgICB9XG4gICAgY29uc3QgdG9vbHMgPSBhY3Rpb25zLm1hcCh0cmFuc2Zvcm1BY3Rpb25Ub0dvb2dsZUdlbkFJVG9vbCk7XG4gICAgY29uc3QgaXNGaXJzdEdlbkdlbWluaVBybyA9IHRoaXMubW9kZWwubW9kZWwgPT09IFwiZ2VtaW5pLXByb1wiIHx8IHRoaXMubW9kZWwubW9kZWwgPT09IFwibW9kZWxzL2dlbWluaS1wcm9cIjtcbiAgICBjb25zdCBjaGF0ID0gdGhpcy5tb2RlbC5zdGFydENoYXQoe1xuICAgICAgaGlzdG9yeTogW1xuICAgICAgICAuLi5oaXN0b3J5LFxuICAgICAgICAvLyBnZW1pbmktcHJvIGRvZXMgbm90IHN1cHBvcnQgc3lzdGVtIGluc3RydWN0aW9ucywgc28gd2UgbmVlZCB0byBhZGQgdGhlbSB0byB0aGUgaGlzdG9yeVxuICAgICAgICAuLi5pc0ZpcnN0R2VuR2VtaW5pUHJvID8gW1xuICAgICAgICAgIHtcbiAgICAgICAgICAgIHJvbGU6IFwidXNlclwiLFxuICAgICAgICAgICAgcGFydHM6IFtcbiAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIHRleHQ6IHN5c3RlbU1lc3NhZ2VcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgXVxuICAgICAgICAgIH1cbiAgICAgICAgXSA6IFtdXG4gICAgICBdLFxuICAgICAgLy8gb25seSBnZW1pbmktMS41LXByby1sYXRlc3QgYW5kIGxhdGVyIHN1cHBvcnRzIHNldHRpbmcgc3lzdGVtIGluc3RydWN0aW9uc1xuICAgICAgLi4uaXNGaXJzdEdlbkdlbWluaVBybyA/IHt9IDoge1xuICAgICAgICBzeXN0ZW1JbnN0cnVjdGlvbjoge1xuICAgICAgICAgIHJvbGU6IFwidXNlclwiLFxuICAgICAgICAgIHBhcnRzOiBbXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgIHRleHQ6IHN5c3RlbU1lc3NhZ2VcbiAgICAgICAgICAgIH1cbiAgICAgICAgICBdXG4gICAgICAgIH1cbiAgICAgIH0sXG4gICAgICB0b29sc1xuICAgIH0pO1xuICAgIGNvbnN0IHJlc3VsdCA9IGF3YWl0IGNoYXQuc2VuZE1lc3NhZ2VTdHJlYW0oY3VycmVudE1lc3NhZ2UucGFydHMpO1xuICAgIGV2ZW50U291cmNlLnN0cmVhbShhc3luYyAoZXZlbnRTdHJlYW0kKSA9PiB7XG4gICAgICBsZXQgaXNUZXh0TWVzc2FnZSA9IGZhbHNlO1xuICAgICAgZm9yIGF3YWl0IChjb25zdCBjaHVuayBvZiByZXN1bHQuc3RyZWFtKSB7XG4gICAgICAgIGNvbnN0IGNodW5rVGV4dCA9IGNodW5rLnRleHQoKTtcbiAgICAgICAgaWYgKGNodW5rVGV4dCA9PT0gXCJcIikge1xuICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICB9XG4gICAgICAgIGlmICghaXNUZXh0TWVzc2FnZSkge1xuICAgICAgICAgIGlzVGV4dE1lc3NhZ2UgPSB0cnVlO1xuICAgICAgICAgIGV2ZW50U3RyZWFtJC5zZW5kVGV4dE1lc3NhZ2VTdGFydCgoMCwgaW1wb3J0X3NoYXJlZDQucmFuZG9tSWQpKCkpO1xuICAgICAgICB9XG4gICAgICAgIGV2ZW50U3RyZWFtJC5zZW5kVGV4dE1lc3NhZ2VDb250ZW50KGNodW5rVGV4dCk7XG4gICAgICB9XG4gICAgICBpZiAoaXNUZXh0TWVzc2FnZSkge1xuICAgICAgICBldmVudFN0cmVhbSQuc2VuZFRleHRNZXNzYWdlRW5kKCk7XG4gICAgICB9XG4gICAgICBsZXQgY2FsbHMgPSAoYXdhaXQgcmVzdWx0LnJlc3BvbnNlKS5mdW5jdGlvbkNhbGxzKCk7XG4gICAgICBpZiAoY2FsbHMpIHtcbiAgICAgICAgZm9yIChsZXQgY2FsbCBvZiBjYWxscykge1xuICAgICAgICAgIGV2ZW50U3RyZWFtJC5zZW5kQWN0aW9uRXhlY3V0aW9uKCgwLCBpbXBvcnRfc2hhcmVkNC5yYW5kb21JZCkoKSwgY2FsbC5uYW1lLCBKU09OLnN0cmluZ2lmeShyZXBsYWNlTmV3bGluZXNJbk9iamVjdChjYWxsLmFyZ3MpKSk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIGV2ZW50U3RyZWFtJC5jb21wbGV0ZSgpO1xuICAgIH0pO1xuICAgIHJldHVybiB7XG4gICAgICB0aHJlYWRJZDogcmVxdWVzdC50aHJlYWRJZCB8fCAoMCwgaW1wb3J0X3NoYXJlZDQucmFuZG9tSWQpKClcbiAgICB9O1xuICB9XG59O1xuX19uYW1lKEdvb2dsZUdlbmVyYXRpdmVBSUFkYXB0ZXIsIFwiR29vZ2xlR2VuZXJhdGl2ZUFJQWRhcHRlclwiKTtcbmZ1bmN0aW9uIHJlcGxhY2VOZXdsaW5lc0luT2JqZWN0KG9iaikge1xuICBpZiAodHlwZW9mIG9iaiA9PT0gXCJzdHJpbmdcIikge1xuICAgIHJldHVybiBvYmoucmVwbGFjZSgvXFxcXFxcXFxuL2csIFwiXFxuXCIpO1xuICB9IGVsc2UgaWYgKEFycmF5LmlzQXJyYXkob2JqKSkge1xuICAgIHJldHVybiBvYmoubWFwKHJlcGxhY2VOZXdsaW5lc0luT2JqZWN0KTtcbiAgfSBlbHNlIGlmICh0eXBlb2Ygb2JqID09PSBcIm9iamVjdFwiICYmIG9iaiAhPT0gbnVsbCkge1xuICAgIGNvbnN0IG5ld09iaiA9IHt9O1xuICAgIGZvciAoY29uc3Qga2V5IGluIG9iaikge1xuICAgICAgaWYgKG9iai5oYXNPd25Qcm9wZXJ0eShrZXkpKSB7XG4gICAgICAgIG5ld09ialtrZXldID0gcmVwbGFjZU5ld2xpbmVzSW5PYmplY3Qob2JqW2tleV0pO1xuICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gbmV3T2JqO1xuICB9XG4gIHJldHVybiBvYmo7XG59XG5fX25hbWUocmVwbGFjZU5ld2xpbmVzSW5PYmplY3QsIFwicmVwbGFjZU5ld2xpbmVzSW5PYmplY3RcIik7XG5cbi8vIHNyYy9zZXJ2aWNlLWFkYXB0ZXJzL29wZW5haS9vcGVuYWktYXNzaXN0YW50LWFkYXB0ZXIudHNcbnZhciBpbXBvcnRfb3BlbmFpMiA9IF9fdG9FU00ocmVxdWlyZShcIm9wZW5haVwiKSk7XG52YXIgT3BlbkFJQXNzaXN0YW50QWRhcHRlciA9IGNsYXNzIHtcbiAgb3BlbmFpO1xuICBjb2RlSW50ZXJwcmV0ZXJFbmFibGVkO1xuICBhc3Npc3RhbnRJZDtcbiAgZmlsZVNlYXJjaEVuYWJsZWQ7XG4gIGRpc2FibGVQYXJhbGxlbFRvb2xDYWxscztcbiAgY29uc3RydWN0b3IocGFyYW1zKSB7XG4gICAgdGhpcy5vcGVuYWkgPSBwYXJhbXMub3BlbmFpIHx8IG5ldyBpbXBvcnRfb3BlbmFpMi5kZWZhdWx0KHt9KTtcbiAgICB0aGlzLmNvZGVJbnRlcnByZXRlckVuYWJsZWQgPSBwYXJhbXMuY29kZUludGVycHJldGVyRW5hYmxlZCA9PT0gZmFsc2UgfHwgdHJ1ZTtcbiAgICB0aGlzLmZpbGVTZWFyY2hFbmFibGVkID0gcGFyYW1zLmZpbGVTZWFyY2hFbmFibGVkID09PSBmYWxzZSB8fCB0cnVlO1xuICAgIHRoaXMuYXNzaXN0YW50SWQgPSBwYXJhbXMuYXNzaXN0YW50SWQ7XG4gICAgdGhpcy5kaXNhYmxlUGFyYWxsZWxUb29sQ2FsbHMgPSAocGFyYW1zID09IG51bGwgPyB2b2lkIDAgOiBwYXJhbXMuZGlzYWJsZVBhcmFsbGVsVG9vbENhbGxzKSB8fCBmYWxzZTtcbiAgfVxuICBhc3luYyBwcm9jZXNzKHJlcXVlc3QpIHtcbiAgICBjb25zdCB7IG1lc3NhZ2VzLCBhY3Rpb25zLCBldmVudFNvdXJjZSwgcnVuSWQsIGZvcndhcmRlZFBhcmFtZXRlcnMgfSA9IHJlcXVlc3Q7XG4gICAgbGV0IHRocmVhZElkID0gcmVxdWVzdC50aHJlYWRJZCB8fCAoYXdhaXQgdGhpcy5vcGVuYWkuYmV0YS50aHJlYWRzLmNyZWF0ZSgpKS5pZDtcbiAgICBjb25zdCBsYXN0TWVzc2FnZSA9IG1lc3NhZ2VzLmF0KC0xKTtcbiAgICBsZXQgbmV4dFJ1bklkID0gdm9pZCAwO1xuICAgIGlmIChsYXN0TWVzc2FnZSBpbnN0YW5jZW9mIFJlc3VsdE1lc3NhZ2UgJiYgcnVuSWQpIHtcbiAgICAgIG5leHRSdW5JZCA9IGF3YWl0IHRoaXMuc3VibWl0VG9vbE91dHB1dHModGhyZWFkSWQsIHJ1bklkLCBtZXNzYWdlcywgZXZlbnRTb3VyY2UpO1xuICAgIH0gZWxzZSBpZiAobGFzdE1lc3NhZ2UgaW5zdGFuY2VvZiBUZXh0TWVzc2FnZSkge1xuICAgICAgbmV4dFJ1bklkID0gYXdhaXQgdGhpcy5zdWJtaXRVc2VyTWVzc2FnZSh0aHJlYWRJZCwgbWVzc2FnZXMsIGFjdGlvbnMsIGV2ZW50U291cmNlLCBmb3J3YXJkZWRQYXJhbWV0ZXJzKTtcbiAgICB9IGVsc2Uge1xuICAgICAgdGhyb3cgbmV3IEVycm9yKFwiTm8gYWN0aW9uYWJsZSBtZXNzYWdlIGZvdW5kIGluIHRoZSBtZXNzYWdlc1wiKTtcbiAgICB9XG4gICAgcmV0dXJuIHtcbiAgICAgIHRocmVhZElkLFxuICAgICAgcnVuSWQ6IG5leHRSdW5JZFxuICAgIH07XG4gIH1cbiAgYXN5bmMgc3VibWl0VG9vbE91dHB1dHModGhyZWFkSWQsIHJ1bklkLCBtZXNzYWdlcywgZXZlbnRTb3VyY2UpIHtcbiAgICBsZXQgcnVuID0gYXdhaXQgdGhpcy5vcGVuYWkuYmV0YS50aHJlYWRzLnJ1bnMucmV0cmlldmUodGhyZWFkSWQsIHJ1bklkKTtcbiAgICBpZiAoIXJ1bi5yZXF1aXJlZF9hY3Rpb24pIHtcbiAgICAgIHRocm93IG5ldyBFcnJvcihcIk5vIHRvb2wgb3V0cHV0cyByZXF1aXJlZFwiKTtcbiAgICB9XG4gICAgY29uc3QgdG9vbENhbGxzSWRzID0gcnVuLnJlcXVpcmVkX2FjdGlvbi5zdWJtaXRfdG9vbF9vdXRwdXRzLnRvb2xfY2FsbHMubWFwKCh0b29sQ2FsbCkgPT4gdG9vbENhbGwuaWQpO1xuICAgIGNvbnN0IHJlc3VsdE1lc3NhZ2VzID0gbWVzc2FnZXMuZmlsdGVyKChtZXNzYWdlKSA9PiBtZXNzYWdlIGluc3RhbmNlb2YgUmVzdWx0TWVzc2FnZSAmJiB0b29sQ2FsbHNJZHMuaW5jbHVkZXMobWVzc2FnZS5hY3Rpb25FeGVjdXRpb25JZCkpO1xuICAgIGlmICh0b29sQ2FsbHNJZHMubGVuZ3RoICE9IHJlc3VsdE1lc3NhZ2VzLmxlbmd0aCkge1xuICAgICAgdGhyb3cgbmV3IEVycm9yKFwiTnVtYmVyIG9mIGZ1bmN0aW9uIHJlc3VsdHMgZG9lcyBub3QgbWF0Y2ggdGhlIG51bWJlciBvZiB0b29sIGNhbGxzXCIpO1xuICAgIH1cbiAgICBjb25zdCB0b29sT3V0cHV0cyA9IHJlc3VsdE1lc3NhZ2VzLm1hcCgobWVzc2FnZSkgPT4ge1xuICAgICAgcmV0dXJuIHtcbiAgICAgICAgdG9vbF9jYWxsX2lkOiBtZXNzYWdlLmFjdGlvbkV4ZWN1dGlvbklkLFxuICAgICAgICBvdXRwdXQ6IG1lc3NhZ2UucmVzdWx0XG4gICAgICB9O1xuICAgIH0pO1xuICAgIGNvbnN0IHN0cmVhbSA9IHRoaXMub3BlbmFpLmJldGEudGhyZWFkcy5ydW5zLnN1Ym1pdFRvb2xPdXRwdXRzU3RyZWFtKHRocmVhZElkLCBydW5JZCwge1xuICAgICAgdG9vbF9vdXRwdXRzOiB0b29sT3V0cHV0cyxcbiAgICAgIC4uLnRoaXMuZGlzYWJsZVBhcmFsbGVsVG9vbENhbGxzICYmIHtcbiAgICAgICAgcGFyYWxsZWxfdG9vbF9jYWxsczogZmFsc2VcbiAgICAgIH1cbiAgICB9KTtcbiAgICBhd2FpdCB0aGlzLnN0cmVhbVJlc3BvbnNlKHN0cmVhbSwgZXZlbnRTb3VyY2UpO1xuICAgIHJldHVybiBydW5JZDtcbiAgfVxuICBhc3luYyBzdWJtaXRVc2VyTWVzc2FnZSh0aHJlYWRJZCwgbWVzc2FnZXMsIGFjdGlvbnMsIGV2ZW50U291cmNlLCBmb3J3YXJkZWRQYXJhbWV0ZXJzKSB7XG4gICAgbWVzc2FnZXMgPSBbXG4gICAgICAuLi5tZXNzYWdlc1xuICAgIF07XG4gICAgY29uc3QgaW5zdHJ1Y3Rpb25zTWVzc2FnZSA9IG1lc3NhZ2VzLnNoaWZ0KCk7XG4gICAgY29uc3QgaW5zdHJ1Y3Rpb25zID0gaW5zdHJ1Y3Rpb25zTWVzc2FnZSBpbnN0YW5jZW9mIFRleHRNZXNzYWdlID8gaW5zdHJ1Y3Rpb25zTWVzc2FnZS5jb250ZW50IDogXCJcIjtcbiAgICBjb25zdCB1c2VyTWVzc2FnZSA9IG1lc3NhZ2VzLm1hcChjb252ZXJ0TWVzc2FnZVRvT3BlbkFJTWVzc2FnZSkubWFwKGNvbnZlcnRTeXN0ZW1NZXNzYWdlVG9Bc3Npc3RhbnRBUEkpLmF0KC0xKTtcbiAgICBpZiAodXNlck1lc3NhZ2Uucm9sZSAhPT0gXCJ1c2VyXCIpIHtcbiAgICAgIHRocm93IG5ldyBFcnJvcihcIk5vIHVzZXIgbWVzc2FnZSBmb3VuZFwiKTtcbiAgICB9XG4gICAgYXdhaXQgdGhpcy5vcGVuYWkuYmV0YS50aHJlYWRzLm1lc3NhZ2VzLmNyZWF0ZSh0aHJlYWRJZCwge1xuICAgICAgcm9sZTogXCJ1c2VyXCIsXG4gICAgICBjb250ZW50OiB1c2VyTWVzc2FnZS5jb250ZW50XG4gICAgfSk7XG4gICAgY29uc3Qgb3BlbmFpVG9vbHMgPSBhY3Rpb25zLm1hcChjb252ZXJ0QWN0aW9uSW5wdXRUb09wZW5BSVRvb2wpO1xuICAgIGNvbnN0IHRvb2xzID0gW1xuICAgICAgLi4ub3BlbmFpVG9vbHMsXG4gICAgICAuLi50aGlzLmNvZGVJbnRlcnByZXRlckVuYWJsZWQgPyBbXG4gICAgICAgIHtcbiAgICAgICAgICB0eXBlOiBcImNvZGVfaW50ZXJwcmV0ZXJcIlxuICAgICAgICB9XG4gICAgICBdIDogW10sXG4gICAgICAuLi50aGlzLmZpbGVTZWFyY2hFbmFibGVkID8gW1xuICAgICAgICB7XG4gICAgICAgICAgdHlwZTogXCJmaWxlX3NlYXJjaFwiXG4gICAgICAgIH1cbiAgICAgIF0gOiBbXVxuICAgIF07XG4gICAgbGV0IHN0cmVhbSA9IHRoaXMub3BlbmFpLmJldGEudGhyZWFkcy5ydW5zLnN0cmVhbSh0aHJlYWRJZCwge1xuICAgICAgYXNzaXN0YW50X2lkOiB0aGlzLmFzc2lzdGFudElkLFxuICAgICAgaW5zdHJ1Y3Rpb25zLFxuICAgICAgdG9vbHMsXG4gICAgICAuLi4oZm9yd2FyZGVkUGFyYW1ldGVycyA9PSBudWxsID8gdm9pZCAwIDogZm9yd2FyZGVkUGFyYW1ldGVycy5tYXhUb2tlbnMpICYmIHtcbiAgICAgICAgbWF4X2NvbXBsZXRpb25fdG9rZW5zOiBmb3J3YXJkZWRQYXJhbWV0ZXJzLm1heFRva2Vuc1xuICAgICAgfSxcbiAgICAgIC4uLnRoaXMuZGlzYWJsZVBhcmFsbGVsVG9vbENhbGxzICYmIHtcbiAgICAgICAgcGFyYWxsZWxfdG9vbF9jYWxsczogZmFsc2VcbiAgICAgIH1cbiAgICB9KTtcbiAgICBhd2FpdCB0aGlzLnN0cmVhbVJlc3BvbnNlKHN0cmVhbSwgZXZlbnRTb3VyY2UpO1xuICAgIHJldHVybiBnZXRSdW5JZEZyb21TdHJlYW0oc3RyZWFtKTtcbiAgfVxuICBhc3luYyBzdHJlYW1SZXNwb25zZShzdHJlYW0sIGV2ZW50U291cmNlKSB7XG4gICAgZXZlbnRTb3VyY2Uuc3RyZWFtKGFzeW5jIChldmVudFN0cmVhbSQpID0+IHtcbiAgICAgIHZhciBfYSwgX2IsIF9jLCBfZCwgX2UsIF9mO1xuICAgICAgbGV0IGluRnVuY3Rpb25DYWxsID0gZmFsc2U7XG4gICAgICBmb3IgYXdhaXQgKGNvbnN0IGNodW5rIG9mIHN0cmVhbSkge1xuICAgICAgICBzd2l0Y2ggKGNodW5rLmV2ZW50KSB7XG4gICAgICAgICAgY2FzZSBcInRocmVhZC5tZXNzYWdlLmNyZWF0ZWRcIjpcbiAgICAgICAgICAgIGlmIChpbkZ1bmN0aW9uQ2FsbCkge1xuICAgICAgICAgICAgICBldmVudFN0cmVhbSQuc2VuZEFjdGlvbkV4ZWN1dGlvbkVuZCgpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZXZlbnRTdHJlYW0kLnNlbmRUZXh0TWVzc2FnZVN0YXJ0KGNodW5rLmRhdGEuaWQpO1xuICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgY2FzZSBcInRocmVhZC5tZXNzYWdlLmRlbHRhXCI6XG4gICAgICAgICAgICBpZiAoKChfYSA9IGNodW5rLmRhdGEuZGVsdGEuY29udGVudCkgPT0gbnVsbCA/IHZvaWQgMCA6IF9hWzBdLnR5cGUpID09PSBcInRleHRcIikge1xuICAgICAgICAgICAgICBldmVudFN0cmVhbSQuc2VuZFRleHRNZXNzYWdlQ29udGVudCgoX2IgPSBjaHVuay5kYXRhLmRlbHRhLmNvbnRlbnQpID09IG51bGwgPyB2b2lkIDAgOiBfYlswXS50ZXh0LnZhbHVlKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgIGNhc2UgXCJ0aHJlYWQubWVzc2FnZS5jb21wbGV0ZWRcIjpcbiAgICAgICAgICAgIGV2ZW50U3RyZWFtJC5zZW5kVGV4dE1lc3NhZ2VFbmQoKTtcbiAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgIGNhc2UgXCJ0aHJlYWQucnVuLnN0ZXAuZGVsdGFcIjpcbiAgICAgICAgICAgIGxldCB0b29sQ2FsbElkO1xuICAgICAgICAgICAgbGV0IHRvb2xDYWxsTmFtZTtcbiAgICAgICAgICAgIGxldCB0b29sQ2FsbEFyZ3M7XG4gICAgICAgICAgICBpZiAoY2h1bmsuZGF0YS5kZWx0YS5zdGVwX2RldGFpbHMudHlwZSA9PT0gXCJ0b29sX2NhbGxzXCIgJiYgKChfYyA9IGNodW5rLmRhdGEuZGVsdGEuc3RlcF9kZXRhaWxzLnRvb2xfY2FsbHMpID09IG51bGwgPyB2b2lkIDAgOiBfY1swXS50eXBlKSA9PT0gXCJmdW5jdGlvblwiKSB7XG4gICAgICAgICAgICAgIHRvb2xDYWxsSWQgPSAoX2QgPSBjaHVuay5kYXRhLmRlbHRhLnN0ZXBfZGV0YWlscy50b29sX2NhbGxzKSA9PSBudWxsID8gdm9pZCAwIDogX2RbMF0uaWQ7XG4gICAgICAgICAgICAgIHRvb2xDYWxsTmFtZSA9IChfZSA9IGNodW5rLmRhdGEuZGVsdGEuc3RlcF9kZXRhaWxzLnRvb2xfY2FsbHMpID09IG51bGwgPyB2b2lkIDAgOiBfZVswXS5mdW5jdGlvbi5uYW1lO1xuICAgICAgICAgICAgICB0b29sQ2FsbEFyZ3MgPSAoX2YgPSBjaHVuay5kYXRhLmRlbHRhLnN0ZXBfZGV0YWlscy50b29sX2NhbGxzKSA9PSBudWxsID8gdm9pZCAwIDogX2ZbMF0uZnVuY3Rpb24uYXJndW1lbnRzO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKHRvb2xDYWxsTmFtZSAmJiB0b29sQ2FsbElkKSB7XG4gICAgICAgICAgICAgIGlmIChpbkZ1bmN0aW9uQ2FsbCkge1xuICAgICAgICAgICAgICAgIGV2ZW50U3RyZWFtJC5zZW5kQWN0aW9uRXhlY3V0aW9uRW5kKCk7XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgaW5GdW5jdGlvbkNhbGwgPSB0cnVlO1xuICAgICAgICAgICAgICBldmVudFN0cmVhbSQuc2VuZEFjdGlvbkV4ZWN1dGlvblN0YXJ0KHRvb2xDYWxsSWQsIHRvb2xDYWxsTmFtZSk7XG4gICAgICAgICAgICB9IGVsc2UgaWYgKHRvb2xDYWxsQXJncykge1xuICAgICAgICAgICAgICBldmVudFN0cmVhbSQuc2VuZEFjdGlvbkV4ZWN1dGlvbkFyZ3ModG9vbENhbGxBcmdzKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgICBpZiAoaW5GdW5jdGlvbkNhbGwpIHtcbiAgICAgICAgZXZlbnRTdHJlYW0kLnNlbmRBY3Rpb25FeGVjdXRpb25FbmQoKTtcbiAgICAgIH1cbiAgICAgIGV2ZW50U3RyZWFtJC5jb21wbGV0ZSgpO1xuICAgIH0pO1xuICB9XG59O1xuX19uYW1lKE9wZW5BSUFzc2lzdGFudEFkYXB0ZXIsIFwiT3BlbkFJQXNzaXN0YW50QWRhcHRlclwiKTtcbmZ1bmN0aW9uIGdldFJ1bklkRnJvbVN0cmVhbShzdHJlYW0pIHtcbiAgcmV0dXJuIG5ldyBQcm9taXNlKChyZXNvbHZlLCByZWplY3QpID0+IHtcbiAgICBsZXQgcnVuSWRHZXR0ZXIgPSAvKiBAX19QVVJFX18gKi8gX19uYW1lKChldmVudCkgPT4ge1xuICAgICAgaWYgKGV2ZW50LmV2ZW50ID09PSBcInRocmVhZC5ydW4uY3JlYXRlZFwiKSB7XG4gICAgICAgIGNvbnN0IHJ1bklkID0gZXZlbnQuZGF0YS5pZDtcbiAgICAgICAgc3RyZWFtLm9mZihcImV2ZW50XCIsIHJ1bklkR2V0dGVyKTtcbiAgICAgICAgcmVzb2x2ZShydW5JZCk7XG4gICAgICB9XG4gICAgfSwgXCJydW5JZEdldHRlclwiKTtcbiAgICBzdHJlYW0ub24oXCJldmVudFwiLCBydW5JZEdldHRlcik7XG4gIH0pO1xufVxuX19uYW1lKGdldFJ1bklkRnJvbVN0cmVhbSwgXCJnZXRSdW5JZEZyb21TdHJlYW1cIik7XG5cbi8vIHNyYy9zZXJ2aWNlLWFkYXB0ZXJzL3VuaWZ5L3VuaWZ5LWFkYXB0ZXIudHNcbnZhciBpbXBvcnRfb3BlbmFpMyA9IF9fdG9FU00ocmVxdWlyZShcIm9wZW5haVwiKSk7XG52YXIgaW1wb3J0X3NoYXJlZDUgPSByZXF1aXJlKFwiQGNvcGlsb3RraXQvc2hhcmVkXCIpO1xudmFyIFVuaWZ5QWRhcHRlciA9IGNsYXNzIHtcbiAgYXBpS2V5O1xuICBtb2RlbDtcbiAgc3RhcnQ7XG4gIGNvbnN0cnVjdG9yKG9wdGlvbnMpIHtcbiAgICBpZiAob3B0aW9ucyA9PSBudWxsID8gdm9pZCAwIDogb3B0aW9ucy5hcGlLZXkpIHtcbiAgICAgIHRoaXMuYXBpS2V5ID0gb3B0aW9ucy5hcGlLZXk7XG4gICAgfSBlbHNlIHtcbiAgICAgIHRoaXMuYXBpS2V5ID0gXCJVTklGWV9BUElfS0VZXCI7XG4gICAgfVxuICAgIHRoaXMubW9kZWwgPSBvcHRpb25zID09IG51bGwgPyB2b2lkIDAgOiBvcHRpb25zLm1vZGVsO1xuICAgIHRoaXMuc3RhcnQgPSB0cnVlO1xuICB9XG4gIGFzeW5jIHByb2Nlc3MocmVxdWVzdCkge1xuICAgIGNvbnN0IHRvb2xzID0gcmVxdWVzdC5hY3Rpb25zLm1hcChjb252ZXJ0QWN0aW9uSW5wdXRUb09wZW5BSVRvb2wpO1xuICAgIGNvbnN0IG9wZW5haSA9IG5ldyBpbXBvcnRfb3BlbmFpMy5kZWZhdWx0KHtcbiAgICAgIGFwaUtleTogdGhpcy5hcGlLZXksXG4gICAgICBiYXNlVVJMOiBcImh0dHBzOi8vYXBpLnVuaWZ5LmFpL3YwL1wiXG4gICAgfSk7XG4gICAgY29uc3QgbWVzc2FnZXMgPSByZXF1ZXN0Lm1lc3NhZ2VzLm1hcChjb252ZXJ0TWVzc2FnZVRvT3BlbkFJTWVzc2FnZSk7XG4gICAgY29uc3Qgc3RyZWFtID0gYXdhaXQgb3BlbmFpLmNoYXQuY29tcGxldGlvbnMuY3JlYXRlKHtcbiAgICAgIG1vZGVsOiB0aGlzLm1vZGVsLFxuICAgICAgbWVzc2FnZXMsXG4gICAgICBzdHJlYW06IHRydWUsXG4gICAgICAuLi50b29scy5sZW5ndGggPiAwICYmIHtcbiAgICAgICAgdG9vbHNcbiAgICAgIH1cbiAgICB9KTtcbiAgICBsZXQgbW9kZWwgPSBudWxsO1xuICAgIHJlcXVlc3QuZXZlbnRTb3VyY2Uuc3RyZWFtKGFzeW5jIChldmVudFN0cmVhbSQpID0+IHtcbiAgICAgIHZhciBfYSwgX2I7XG4gICAgICBsZXQgbW9kZSA9IG51bGw7XG4gICAgICBmb3IgYXdhaXQgKGNvbnN0IGNodW5rIG9mIHN0cmVhbSkge1xuICAgICAgICBpZiAodGhpcy5zdGFydCkge1xuICAgICAgICAgIG1vZGVsID0gY2h1bmsubW9kZWw7XG4gICAgICAgICAgZXZlbnRTdHJlYW0kLnNlbmRUZXh0TWVzc2FnZVN0YXJ0KCgwLCBpbXBvcnRfc2hhcmVkNS5yYW5kb21JZCkoKSk7XG4gICAgICAgICAgZXZlbnRTdHJlYW0kLnNlbmRUZXh0TWVzc2FnZUNvbnRlbnQoYE1vZGVsIHVzZWQ6ICR7bW9kZWx9XG5gKTtcbiAgICAgICAgICBldmVudFN0cmVhbSQuc2VuZFRleHRNZXNzYWdlRW5kKCk7XG4gICAgICAgICAgdGhpcy5zdGFydCA9IGZhbHNlO1xuICAgICAgICB9XG4gICAgICAgIGNvbnN0IHRvb2xDYWxsID0gKF9hID0gY2h1bmsuY2hvaWNlc1swXS5kZWx0YS50b29sX2NhbGxzKSA9PSBudWxsID8gdm9pZCAwIDogX2FbMF07XG4gICAgICAgIGNvbnN0IGNvbnRlbnQgPSBjaHVuay5jaG9pY2VzWzBdLmRlbHRhLmNvbnRlbnQ7XG4gICAgICAgIGlmIChtb2RlID09PSBcIm1lc3NhZ2VcIiAmJiAodG9vbENhbGwgPT0gbnVsbCA/IHZvaWQgMCA6IHRvb2xDYWxsLmlkKSkge1xuICAgICAgICAgIG1vZGUgPSBudWxsO1xuICAgICAgICAgIGV2ZW50U3RyZWFtJC5zZW5kVGV4dE1lc3NhZ2VFbmQoKTtcbiAgICAgICAgfSBlbHNlIGlmIChtb2RlID09PSBcImZ1bmN0aW9uXCIgJiYgKHRvb2xDYWxsID09PSB2b2lkIDAgfHwgKHRvb2xDYWxsID09IG51bGwgPyB2b2lkIDAgOiB0b29sQ2FsbC5pZCkpKSB7XG4gICAgICAgICAgbW9kZSA9IG51bGw7XG4gICAgICAgICAgZXZlbnRTdHJlYW0kLnNlbmRBY3Rpb25FeGVjdXRpb25FbmQoKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAobW9kZSA9PT0gbnVsbCkge1xuICAgICAgICAgIGlmICh0b29sQ2FsbCA9PSBudWxsID8gdm9pZCAwIDogdG9vbENhbGwuaWQpIHtcbiAgICAgICAgICAgIG1vZGUgPSBcImZ1bmN0aW9uXCI7XG4gICAgICAgICAgICBldmVudFN0cmVhbSQuc2VuZEFjdGlvbkV4ZWN1dGlvblN0YXJ0KHRvb2xDYWxsLmlkLCB0b29sQ2FsbC5mdW5jdGlvbi5uYW1lKTtcbiAgICAgICAgICB9IGVsc2UgaWYgKGNvbnRlbnQpIHtcbiAgICAgICAgICAgIG1vZGUgPSBcIm1lc3NhZ2VcIjtcbiAgICAgICAgICAgIGV2ZW50U3RyZWFtJC5zZW5kVGV4dE1lc3NhZ2VTdGFydChjaHVuay5pZCk7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGlmIChtb2RlID09PSBcIm1lc3NhZ2VcIiAmJiBjb250ZW50KSB7XG4gICAgICAgICAgZXZlbnRTdHJlYW0kLnNlbmRUZXh0TWVzc2FnZUNvbnRlbnQoY29udGVudCk7XG4gICAgICAgIH0gZWxzZSBpZiAobW9kZSA9PT0gXCJmdW5jdGlvblwiICYmICgoX2IgPSB0b29sQ2FsbCA9PSBudWxsID8gdm9pZCAwIDogdG9vbENhbGwuZnVuY3Rpb24pID09IG51bGwgPyB2b2lkIDAgOiBfYi5hcmd1bWVudHMpKSB7XG4gICAgICAgICAgZXZlbnRTdHJlYW0kLnNlbmRBY3Rpb25FeGVjdXRpb25BcmdzKHRvb2xDYWxsLmZ1bmN0aW9uLmFyZ3VtZW50cyk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIGlmIChtb2RlID09PSBcIm1lc3NhZ2VcIikge1xuICAgICAgICBldmVudFN0cmVhbSQuc2VuZFRleHRNZXNzYWdlRW5kKCk7XG4gICAgICB9IGVsc2UgaWYgKG1vZGUgPT09IFwiZnVuY3Rpb25cIikge1xuICAgICAgICBldmVudFN0cmVhbSQuc2VuZEFjdGlvbkV4ZWN1dGlvbkVuZCgpO1xuICAgICAgfVxuICAgICAgZXZlbnRTdHJlYW0kLmNvbXBsZXRlKCk7XG4gICAgfSk7XG4gICAgcmV0dXJuIHtcbiAgICAgIHRocmVhZElkOiByZXF1ZXN0LnRocmVhZElkIHx8ICgwLCBpbXBvcnRfc2hhcmVkNS5yYW5kb21JZCkoKVxuICAgIH07XG4gIH1cbn07XG5fX25hbWUoVW5pZnlBZGFwdGVyLCBcIlVuaWZ5QWRhcHRlclwiKTtcblxuLy8gc3JjL3NlcnZpY2UtYWRhcHRlcnMvZ3JvcS9ncm9xLWFkYXB0ZXIudHNcbnZhciBpbXBvcnRfZ3JvcV9zZGsgPSByZXF1aXJlKFwiZ3JvcS1zZGtcIik7XG52YXIgaW1wb3J0X3NoYXJlZDYgPSByZXF1aXJlKFwiQGNvcGlsb3RraXQvc2hhcmVkXCIpO1xudmFyIERFRkFVTFRfTU9ERUwyID0gXCJsbGFtYTMtZ3JvcS03MGItODE5Mi10b29sLXVzZS1wcmV2aWV3XCI7XG52YXIgR3JvcUFkYXB0ZXIgPSBjbGFzcyB7XG4gIG1vZGVsID0gREVGQVVMVF9NT0RFTDI7XG4gIGRpc2FibGVQYXJhbGxlbFRvb2xDYWxscyA9IGZhbHNlO1xuICBfZ3JvcTtcbiAgZ2V0IGdyb3EoKSB7XG4gICAgcmV0dXJuIHRoaXMuX2dyb3E7XG4gIH1cbiAgY29uc3RydWN0b3IocGFyYW1zKSB7XG4gICAgdGhpcy5fZ3JvcSA9IChwYXJhbXMgPT0gbnVsbCA/IHZvaWQgMCA6IHBhcmFtcy5ncm9xKSB8fCBuZXcgaW1wb3J0X2dyb3Ffc2RrLkdyb3Eoe30pO1xuICAgIGlmIChwYXJhbXMgPT0gbnVsbCA/IHZvaWQgMCA6IHBhcmFtcy5tb2RlbCkge1xuICAgICAgdGhpcy5tb2RlbCA9IHBhcmFtcy5tb2RlbDtcbiAgICB9XG4gICAgdGhpcy5kaXNhYmxlUGFyYWxsZWxUb29sQ2FsbHMgPSAocGFyYW1zID09IG51bGwgPyB2b2lkIDAgOiBwYXJhbXMuZGlzYWJsZVBhcmFsbGVsVG9vbENhbGxzKSB8fCBmYWxzZTtcbiAgfVxuICBhc3luYyBwcm9jZXNzKHJlcXVlc3QpIHtcbiAgICBjb25zdCB7IHRocmVhZElkLCBtb2RlbCA9IHRoaXMubW9kZWwsIG1lc3NhZ2VzLCBhY3Rpb25zLCBldmVudFNvdXJjZSwgZm9yd2FyZGVkUGFyYW1ldGVycyB9ID0gcmVxdWVzdDtcbiAgICBjb25zdCB0b29scyA9IGFjdGlvbnMubWFwKGNvbnZlcnRBY3Rpb25JbnB1dFRvT3BlbkFJVG9vbCk7XG4gICAgbGV0IG9wZW5haU1lc3NhZ2VzID0gbWVzc2FnZXMubWFwKGNvbnZlcnRNZXNzYWdlVG9PcGVuQUlNZXNzYWdlKTtcbiAgICBvcGVuYWlNZXNzYWdlcyA9IGxpbWl0TWVzc2FnZXNUb1Rva2VuQ291bnQob3BlbmFpTWVzc2FnZXMsIHRvb2xzLCBtb2RlbCk7XG4gICAgbGV0IHRvb2xDaG9pY2UgPSBmb3J3YXJkZWRQYXJhbWV0ZXJzID09IG51bGwgPyB2b2lkIDAgOiBmb3J3YXJkZWRQYXJhbWV0ZXJzLnRvb2xDaG9pY2U7XG4gICAgaWYgKChmb3J3YXJkZWRQYXJhbWV0ZXJzID09IG51bGwgPyB2b2lkIDAgOiBmb3J3YXJkZWRQYXJhbWV0ZXJzLnRvb2xDaG9pY2UpID09PSBcImZ1bmN0aW9uXCIpIHtcbiAgICAgIHRvb2xDaG9pY2UgPSB7XG4gICAgICAgIHR5cGU6IFwiZnVuY3Rpb25cIixcbiAgICAgICAgZnVuY3Rpb246IHtcbiAgICAgICAgICBuYW1lOiBmb3J3YXJkZWRQYXJhbWV0ZXJzLnRvb2xDaG9pY2VGdW5jdGlvbk5hbWVcbiAgICAgICAgfVxuICAgICAgfTtcbiAgICB9XG4gICAgY29uc3Qgc3RyZWFtID0gYXdhaXQgdGhpcy5ncm9xLmNoYXQuY29tcGxldGlvbnMuY3JlYXRlKHtcbiAgICAgIG1vZGVsLFxuICAgICAgc3RyZWFtOiB0cnVlLFxuICAgICAgbWVzc2FnZXM6IG9wZW5haU1lc3NhZ2VzLFxuICAgICAgLi4udG9vbHMubGVuZ3RoID4gMCAmJiB7XG4gICAgICAgIHRvb2xzXG4gICAgICB9LFxuICAgICAgLi4uKGZvcndhcmRlZFBhcmFtZXRlcnMgPT0gbnVsbCA/IHZvaWQgMCA6IGZvcndhcmRlZFBhcmFtZXRlcnMubWF4VG9rZW5zKSAmJiB7XG4gICAgICAgIG1heF90b2tlbnM6IGZvcndhcmRlZFBhcmFtZXRlcnMubWF4VG9rZW5zXG4gICAgICB9LFxuICAgICAgLi4uKGZvcndhcmRlZFBhcmFtZXRlcnMgPT0gbnVsbCA/IHZvaWQgMCA6IGZvcndhcmRlZFBhcmFtZXRlcnMuc3RvcCkgJiYge1xuICAgICAgICBzdG9wOiBmb3J3YXJkZWRQYXJhbWV0ZXJzLnN0b3BcbiAgICAgIH0sXG4gICAgICAuLi50b29sQ2hvaWNlICYmIHtcbiAgICAgICAgdG9vbF9jaG9pY2U6IHRvb2xDaG9pY2VcbiAgICAgIH0sXG4gICAgICAuLi50aGlzLmRpc2FibGVQYXJhbGxlbFRvb2xDYWxscyAmJiB7XG4gICAgICAgIHBhcmFsbGVsX3Rvb2xfY2FsbHM6IGZhbHNlXG4gICAgICB9XG4gICAgfSk7XG4gICAgZXZlbnRTb3VyY2Uuc3RyZWFtKGFzeW5jIChldmVudFN0cmVhbSQpID0+IHtcbiAgICAgIHZhciBfYSwgX2I7XG4gICAgICBsZXQgbW9kZSA9IG51bGw7XG4gICAgICBmb3IgYXdhaXQgKGNvbnN0IGNodW5rIG9mIHN0cmVhbSkge1xuICAgICAgICBjb25zdCB0b29sQ2FsbCA9IChfYSA9IGNodW5rLmNob2ljZXNbMF0uZGVsdGEudG9vbF9jYWxscykgPT0gbnVsbCA/IHZvaWQgMCA6IF9hWzBdO1xuICAgICAgICBjb25zdCBjb250ZW50ID0gY2h1bmsuY2hvaWNlc1swXS5kZWx0YS5jb250ZW50O1xuICAgICAgICBpZiAobW9kZSA9PT0gXCJtZXNzYWdlXCIgJiYgKHRvb2xDYWxsID09IG51bGwgPyB2b2lkIDAgOiB0b29sQ2FsbC5pZCkpIHtcbiAgICAgICAgICBtb2RlID0gbnVsbDtcbiAgICAgICAgICBldmVudFN0cmVhbSQuc2VuZFRleHRNZXNzYWdlRW5kKCk7XG4gICAgICAgIH0gZWxzZSBpZiAobW9kZSA9PT0gXCJmdW5jdGlvblwiICYmICh0b29sQ2FsbCA9PT0gdm9pZCAwIHx8ICh0b29sQ2FsbCA9PSBudWxsID8gdm9pZCAwIDogdG9vbENhbGwuaWQpKSkge1xuICAgICAgICAgIG1vZGUgPSBudWxsO1xuICAgICAgICAgIGV2ZW50U3RyZWFtJC5zZW5kQWN0aW9uRXhlY3V0aW9uRW5kKCk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKG1vZGUgPT09IG51bGwpIHtcbiAgICAgICAgICBpZiAodG9vbENhbGwgPT0gbnVsbCA/IHZvaWQgMCA6IHRvb2xDYWxsLmlkKSB7XG4gICAgICAgICAgICBtb2RlID0gXCJmdW5jdGlvblwiO1xuICAgICAgICAgICAgZXZlbnRTdHJlYW0kLnNlbmRBY3Rpb25FeGVjdXRpb25TdGFydCh0b29sQ2FsbC5pZCwgdG9vbENhbGwuZnVuY3Rpb24ubmFtZSk7XG4gICAgICAgICAgfSBlbHNlIGlmIChjb250ZW50KSB7XG4gICAgICAgICAgICBtb2RlID0gXCJtZXNzYWdlXCI7XG4gICAgICAgICAgICBldmVudFN0cmVhbSQuc2VuZFRleHRNZXNzYWdlU3RhcnQoY2h1bmsuaWQpO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBpZiAobW9kZSA9PT0gXCJtZXNzYWdlXCIgJiYgY29udGVudCkge1xuICAgICAgICAgIGV2ZW50U3RyZWFtJC5zZW5kVGV4dE1lc3NhZ2VDb250ZW50KGNvbnRlbnQpO1xuICAgICAgICB9IGVsc2UgaWYgKG1vZGUgPT09IFwiZnVuY3Rpb25cIiAmJiAoKF9iID0gdG9vbENhbGwgPT0gbnVsbCA/IHZvaWQgMCA6IHRvb2xDYWxsLmZ1bmN0aW9uKSA9PSBudWxsID8gdm9pZCAwIDogX2IuYXJndW1lbnRzKSkge1xuICAgICAgICAgIGV2ZW50U3RyZWFtJC5zZW5kQWN0aW9uRXhlY3V0aW9uQXJncyh0b29sQ2FsbC5mdW5jdGlvbi5hcmd1bWVudHMpO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgICBpZiAobW9kZSA9PT0gXCJtZXNzYWdlXCIpIHtcbiAgICAgICAgZXZlbnRTdHJlYW0kLnNlbmRUZXh0TWVzc2FnZUVuZCgpO1xuICAgICAgfSBlbHNlIGlmIChtb2RlID09PSBcImZ1bmN0aW9uXCIpIHtcbiAgICAgICAgZXZlbnRTdHJlYW0kLnNlbmRBY3Rpb25FeGVjdXRpb25FbmQoKTtcbiAgICAgIH1cbiAgICAgIGV2ZW50U3RyZWFtJC5jb21wbGV0ZSgpO1xuICAgIH0pO1xuICAgIHJldHVybiB7XG4gICAgICB0aHJlYWRJZDogdGhyZWFkSWQgfHwgKDAsIGltcG9ydF9zaGFyZWQ2LnJhbmRvbUlkKSgpXG4gICAgfTtcbiAgfVxufTtcbl9fbmFtZShHcm9xQWRhcHRlciwgXCJHcm9xQWRhcHRlclwiKTtcblxuLy8gc3JjL3NlcnZpY2UtYWRhcHRlcnMvYW50aHJvcGljL2FudGhyb3BpYy1hZGFwdGVyLnRzXG52YXIgaW1wb3J0X3NkayA9IF9fdG9FU00ocmVxdWlyZShcIkBhbnRocm9waWMtYWkvc2RrXCIpKTtcblxuLy8gc3JjL3NlcnZpY2UtYWRhcHRlcnMvYW50aHJvcGljL3V0aWxzLnRzXG5mdW5jdGlvbiBsaW1pdE1lc3NhZ2VzVG9Ub2tlbkNvdW50MihtZXNzYWdlcywgdG9vbHMsIG1vZGVsLCBtYXhUb2tlbnMpIHtcbiAgbWF4VG9rZW5zIHx8IChtYXhUb2tlbnMgPSBNQVhfVE9LRU5TKTtcbiAgY29uc3QgcmVzdWx0ID0gW107XG4gIGNvbnN0IHRvb2xzTnVtVG9rZW5zID0gY291bnRUb29sc1Rva2VuczIobW9kZWwsIHRvb2xzKTtcbiAgaWYgKHRvb2xzTnVtVG9rZW5zID4gbWF4VG9rZW5zKSB7XG4gICAgdGhyb3cgbmV3IEVycm9yKGBUb28gbWFueSB0b2tlbnMgaW4gZnVuY3Rpb24gZGVmaW5pdGlvbnM6ICR7dG9vbHNOdW1Ub2tlbnN9ID4gJHttYXhUb2tlbnN9YCk7XG4gIH1cbiAgbWF4VG9rZW5zIC09IHRvb2xzTnVtVG9rZW5zO1xuICBmb3IgKGNvbnN0IG1lc3NhZ2Ugb2YgbWVzc2FnZXMpIHtcbiAgICBpZiAobWVzc2FnZS5yb2xlID09PSBcInN5c3RlbVwiKSB7XG4gICAgICBjb25zdCBudW1Ub2tlbnMgPSBjb3VudE1lc3NhZ2VUb2tlbnMyKG1vZGVsLCBtZXNzYWdlKTtcbiAgICAgIG1heFRva2VucyAtPSBudW1Ub2tlbnM7XG4gICAgICBpZiAobWF4VG9rZW5zIDwgMCkge1xuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXCJOb3QgZW5vdWdoIHRva2VucyBmb3Igc3lzdGVtIG1lc3NhZ2UuXCIpO1xuICAgICAgfVxuICAgIH1cbiAgfVxuICBsZXQgY3V0b2ZmID0gZmFsc2U7XG4gIGNvbnN0IHJldmVyc2VkTWVzc2FnZXMgPSBbXG4gICAgLi4ubWVzc2FnZXNcbiAgXS5yZXZlcnNlKCk7XG4gIGZvciAoY29uc3QgbWVzc2FnZSBvZiByZXZlcnNlZE1lc3NhZ2VzKSB7XG4gICAgaWYgKG1lc3NhZ2Uucm9sZSA9PT0gXCJzeXN0ZW1cIikge1xuICAgICAgcmVzdWx0LnVuc2hpZnQobWVzc2FnZSk7XG4gICAgICBjb250aW51ZTtcbiAgICB9IGVsc2UgaWYgKGN1dG9mZikge1xuICAgICAgY29udGludWU7XG4gICAgfVxuICAgIGxldCBudW1Ub2tlbnMgPSBjb3VudE1lc3NhZ2VUb2tlbnMyKG1vZGVsLCBtZXNzYWdlKTtcbiAgICBpZiAobWF4VG9rZW5zIDwgbnVtVG9rZW5zKSB7XG4gICAgICBjdXRvZmYgPSB0cnVlO1xuICAgICAgY29udGludWU7XG4gICAgfVxuICAgIHJlc3VsdC51bnNoaWZ0KG1lc3NhZ2UpO1xuICAgIG1heFRva2VucyAtPSBudW1Ub2tlbnM7XG4gIH1cbiAgcmV0dXJuIHJlc3VsdDtcbn1cbl9fbmFtZShsaW1pdE1lc3NhZ2VzVG9Ub2tlbkNvdW50MiwgXCJsaW1pdE1lc3NhZ2VzVG9Ub2tlbkNvdW50XCIpO1xudmFyIE1BWF9UT0tFTlMgPSAxMjhlMztcbmZ1bmN0aW9uIGNvdW50VG9vbHNUb2tlbnMyKG1vZGVsLCB0b29scykge1xuICBpZiAodG9vbHMubGVuZ3RoID09PSAwKSB7XG4gICAgcmV0dXJuIDA7XG4gIH1cbiAgY29uc3QganNvbiA9IEpTT04uc3RyaW5naWZ5KHRvb2xzKTtcbiAgcmV0dXJuIGNvdW50VG9rZW5zMihtb2RlbCwganNvbik7XG59XG5fX25hbWUoY291bnRUb29sc1Rva2VuczIsIFwiY291bnRUb29sc1Rva2Vuc1wiKTtcbmZ1bmN0aW9uIGNvdW50TWVzc2FnZVRva2VuczIobW9kZWwsIG1lc3NhZ2UpIHtcbiAgcmV0dXJuIGNvdW50VG9rZW5zMihtb2RlbCwgSlNPTi5zdHJpbmdpZnkobWVzc2FnZS5jb250ZW50KSB8fCBcIlwiKTtcbn1cbl9fbmFtZShjb3VudE1lc3NhZ2VUb2tlbnMyLCBcImNvdW50TWVzc2FnZVRva2Vuc1wiKTtcbmZ1bmN0aW9uIGNvdW50VG9rZW5zMihtb2RlbCwgdGV4dCkge1xuICByZXR1cm4gdGV4dC5sZW5ndGggLyAzO1xufVxuX19uYW1lKGNvdW50VG9rZW5zMiwgXCJjb3VudFRva2Vuc1wiKTtcbmZ1bmN0aW9uIGNvbnZlcnRBY3Rpb25JbnB1dFRvQW50aHJvcGljVG9vbChhY3Rpb24pIHtcbiAgcmV0dXJuIHtcbiAgICBuYW1lOiBhY3Rpb24ubmFtZSxcbiAgICBkZXNjcmlwdGlvbjogYWN0aW9uLmRlc2NyaXB0aW9uLFxuICAgIGlucHV0X3NjaGVtYTogSlNPTi5wYXJzZShhY3Rpb24uanNvblNjaGVtYSlcbiAgfTtcbn1cbl9fbmFtZShjb252ZXJ0QWN0aW9uSW5wdXRUb0FudGhyb3BpY1Rvb2wsIFwiY29udmVydEFjdGlvbklucHV0VG9BbnRocm9waWNUb29sXCIpO1xuZnVuY3Rpb24gY29udmVydE1lc3NhZ2VUb0FudGhyb3BpY01lc3NhZ2UobWVzc2FnZSkge1xuICBpZiAobWVzc2FnZSBpbnN0YW5jZW9mIFRleHRNZXNzYWdlKSB7XG4gICAgaWYgKG1lc3NhZ2Uucm9sZSA9PT0gXCJzeXN0ZW1cIikge1xuICAgICAgcmV0dXJuIHtcbiAgICAgICAgcm9sZTogXCJhc3Npc3RhbnRcIixcbiAgICAgICAgY29udGVudDogW1xuICAgICAgICAgIHtcbiAgICAgICAgICAgIHR5cGU6IFwidGV4dFwiLFxuICAgICAgICAgICAgdGV4dDogXCJUSEUgRk9MTE9XSU5HIE1FU1NBR0UgSVMgQSBTWVNURU0gTUVTU0FHRTogXCIgKyBtZXNzYWdlLmNvbnRlbnRcbiAgICAgICAgICB9XG4gICAgICAgIF1cbiAgICAgIH07XG4gICAgfSBlbHNlIHtcbiAgICAgIHJldHVybiB7XG4gICAgICAgIHJvbGU6IG1lc3NhZ2Uucm9sZSA9PT0gXCJ1c2VyXCIgPyBcInVzZXJcIiA6IFwiYXNzaXN0YW50XCIsXG4gICAgICAgIGNvbnRlbnQ6IFtcbiAgICAgICAgICB7XG4gICAgICAgICAgICB0eXBlOiBcInRleHRcIixcbiAgICAgICAgICAgIHRleHQ6IG1lc3NhZ2UuY29udGVudFxuICAgICAgICAgIH1cbiAgICAgICAgXVxuICAgICAgfTtcbiAgICB9XG4gIH0gZWxzZSBpZiAobWVzc2FnZSBpbnN0YW5jZW9mIEFjdGlvbkV4ZWN1dGlvbk1lc3NhZ2UpIHtcbiAgICByZXR1cm4ge1xuICAgICAgcm9sZTogXCJhc3Npc3RhbnRcIixcbiAgICAgIGNvbnRlbnQ6IFtcbiAgICAgICAge1xuICAgICAgICAgIGlkOiBtZXNzYWdlLmlkLFxuICAgICAgICAgIHR5cGU6IFwidG9vbF91c2VcIixcbiAgICAgICAgICBpbnB1dDogbWVzc2FnZS5hcmd1bWVudHMsXG4gICAgICAgICAgbmFtZTogbWVzc2FnZS5uYW1lXG4gICAgICAgIH1cbiAgICAgIF1cbiAgICB9O1xuICB9IGVsc2UgaWYgKG1lc3NhZ2UgaW5zdGFuY2VvZiBSZXN1bHRNZXNzYWdlKSB7XG4gICAgcmV0dXJuIHtcbiAgICAgIHJvbGU6IFwidXNlclwiLFxuICAgICAgY29udGVudDogW1xuICAgICAgICB7XG4gICAgICAgICAgdHlwZTogXCJ0b29sX3Jlc3VsdFwiLFxuICAgICAgICAgIGNvbnRlbnQ6IG1lc3NhZ2UucmVzdWx0LFxuICAgICAgICAgIHRvb2xfdXNlX2lkOiBtZXNzYWdlLmFjdGlvbkV4ZWN1dGlvbklkXG4gICAgICAgIH1cbiAgICAgIF1cbiAgICB9O1xuICB9XG59XG5fX25hbWUoY29udmVydE1lc3NhZ2VUb0FudGhyb3BpY01lc3NhZ2UsIFwiY29udmVydE1lc3NhZ2VUb0FudGhyb3BpY01lc3NhZ2VcIik7XG5mdW5jdGlvbiBncm91cEFudGhyb3BpY01lc3NhZ2VzQnlSb2xlKG1lc3NhZ2VQYXJhbXMpIHtcbiAgcmV0dXJuIG1lc3NhZ2VQYXJhbXMucmVkdWNlKChhY2MsIG1lc3NhZ2UpID0+IHtcbiAgICBjb25zdCBsYXN0R3JvdXAgPSBhY2NbYWNjLmxlbmd0aCAtIDFdO1xuICAgIGlmIChsYXN0R3JvdXAgJiYgbGFzdEdyb3VwLnJvbGUgPT09IG1lc3NhZ2Uucm9sZSkge1xuICAgICAgbGFzdEdyb3VwLmNvbnRlbnQgPSBsYXN0R3JvdXAuY29udGVudC5jb25jYXQobWVzc2FnZS5jb250ZW50KTtcbiAgICB9IGVsc2Uge1xuICAgICAgYWNjLnB1c2goe1xuICAgICAgICByb2xlOiBtZXNzYWdlLnJvbGUsXG4gICAgICAgIGNvbnRlbnQ6IFtcbiAgICAgICAgICAuLi5tZXNzYWdlLmNvbnRlbnRcbiAgICAgICAgXVxuICAgICAgfSk7XG4gICAgfVxuICAgIHJldHVybiBhY2M7XG4gIH0sIFtdKTtcbn1cbl9fbmFtZShncm91cEFudGhyb3BpY01lc3NhZ2VzQnlSb2xlLCBcImdyb3VwQW50aHJvcGljTWVzc2FnZXNCeVJvbGVcIik7XG5cbi8vIHNyYy9zZXJ2aWNlLWFkYXB0ZXJzL2FudGhyb3BpYy9hbnRocm9waWMtYWRhcHRlci50c1xudmFyIGltcG9ydF9zaGFyZWQ3ID0gcmVxdWlyZShcIkBjb3BpbG90a2l0L3NoYXJlZFwiKTtcbnZhciBERUZBVUxUX01PREVMMyA9IFwiY2xhdWRlLTMtb3B1cy0yMDI0MDIyOVwiO1xudmFyIEFudGhyb3BpY0FkYXB0ZXIgPSBjbGFzcyB7XG4gIG1vZGVsID0gREVGQVVMVF9NT0RFTDM7XG4gIF9hbnRocm9waWM7XG4gIGdldCBhbnRocm9waWMoKSB7XG4gICAgcmV0dXJuIHRoaXMuX2FudGhyb3BpYztcbiAgfVxuICBjb25zdHJ1Y3RvcihwYXJhbXMpIHtcbiAgICB0aGlzLl9hbnRocm9waWMgPSAocGFyYW1zID09IG51bGwgPyB2b2lkIDAgOiBwYXJhbXMuYW50aHJvcGljKSB8fCBuZXcgaW1wb3J0X3Nkay5kZWZhdWx0KHt9KTtcbiAgICBpZiAocGFyYW1zID09IG51bGwgPyB2b2lkIDAgOiBwYXJhbXMubW9kZWwpIHtcbiAgICAgIHRoaXMubW9kZWwgPSBwYXJhbXMubW9kZWw7XG4gICAgfVxuICB9XG4gIGFzeW5jIHByb2Nlc3MocmVxdWVzdCkge1xuICAgIGNvbnN0IHsgdGhyZWFkSWQsIG1vZGVsID0gdGhpcy5tb2RlbCwgbWVzc2FnZXM6IHJhd01lc3NhZ2VzLCBhY3Rpb25zLCBldmVudFNvdXJjZSwgZm9yd2FyZGVkUGFyYW1ldGVycyB9ID0gcmVxdWVzdDtcbiAgICBjb25zdCB0b29scyA9IGFjdGlvbnMubWFwKGNvbnZlcnRBY3Rpb25JbnB1dFRvQW50aHJvcGljVG9vbCk7XG4gICAgY29uc3QgbWVzc2FnZXMgPSBbXG4gICAgICAuLi5yYXdNZXNzYWdlc1xuICAgIF07XG4gICAgY29uc3QgaW5zdHJ1Y3Rpb25zTWVzc2FnZSA9IG1lc3NhZ2VzLnNoaWZ0KCk7XG4gICAgY29uc3QgaW5zdHJ1Y3Rpb25zID0gaW5zdHJ1Y3Rpb25zTWVzc2FnZSBpbnN0YW5jZW9mIFRleHRNZXNzYWdlID8gaW5zdHJ1Y3Rpb25zTWVzc2FnZS5jb250ZW50IDogXCJcIjtcbiAgICBsZXQgYW50aHJvcGljTWVzc2FnZXMgPSBtZXNzYWdlcy5tYXAoY29udmVydE1lc3NhZ2VUb0FudGhyb3BpY01lc3NhZ2UpO1xuICAgIGFudGhyb3BpY01lc3NhZ2VzID0gbGltaXRNZXNzYWdlc1RvVG9rZW5Db3VudDIoYW50aHJvcGljTWVzc2FnZXMsIHRvb2xzLCBtb2RlbCk7XG4gICAgYW50aHJvcGljTWVzc2FnZXMgPSBncm91cEFudGhyb3BpY01lc3NhZ2VzQnlSb2xlKGFudGhyb3BpY01lc3NhZ2VzKTtcbiAgICBsZXQgdG9vbENob2ljZSA9IGZvcndhcmRlZFBhcmFtZXRlcnMgPT0gbnVsbCA/IHZvaWQgMCA6IGZvcndhcmRlZFBhcmFtZXRlcnMudG9vbENob2ljZTtcbiAgICBpZiAoKGZvcndhcmRlZFBhcmFtZXRlcnMgPT0gbnVsbCA/IHZvaWQgMCA6IGZvcndhcmRlZFBhcmFtZXRlcnMudG9vbENob2ljZSkgPT09IFwiZnVuY3Rpb25cIikge1xuICAgICAgdG9vbENob2ljZSA9IHtcbiAgICAgICAgdHlwZTogXCJ0b29sXCIsXG4gICAgICAgIG5hbWU6IGZvcndhcmRlZFBhcmFtZXRlcnMudG9vbENob2ljZUZ1bmN0aW9uTmFtZVxuICAgICAgfTtcbiAgICB9XG4gICAgY29uc3Qgc3RyZWFtID0gdGhpcy5hbnRocm9waWMubWVzc2FnZXMuY3JlYXRlKHtcbiAgICAgIHN5c3RlbTogaW5zdHJ1Y3Rpb25zLFxuICAgICAgbW9kZWw6IHRoaXMubW9kZWwsXG4gICAgICBtZXNzYWdlczogYW50aHJvcGljTWVzc2FnZXMsXG4gICAgICBtYXhfdG9rZW5zOiAoZm9yd2FyZGVkUGFyYW1ldGVycyA9PSBudWxsID8gdm9pZCAwIDogZm9yd2FyZGVkUGFyYW1ldGVycy5tYXhUb2tlbnMpIHx8IDEwMjQsXG4gICAgICAuLi50b29scy5sZW5ndGggPiAwICYmIHtcbiAgICAgICAgdG9vbHNcbiAgICAgIH0sXG4gICAgICAuLi50b29sQ2hvaWNlICYmIHtcbiAgICAgICAgdG9vbF9jaG9pY2U6IHRvb2xDaG9pY2VcbiAgICAgIH0sXG4gICAgICBzdHJlYW06IHRydWVcbiAgICB9KTtcbiAgICBldmVudFNvdXJjZS5zdHJlYW0oYXN5bmMgKGV2ZW50U3RyZWFtJCkgPT4ge1xuICAgICAgbGV0IG1vZGUgPSBudWxsO1xuICAgICAgbGV0IGRpZE91dHB1dFRleHQgPSBmYWxzZTtcbiAgICAgIGxldCBjdXJyZW50TWVzc2FnZUlkID0gKDAsIGltcG9ydF9zaGFyZWQ3LnJhbmRvbUlkKSgpO1xuICAgICAgbGV0IGN1cnJlbnRUb29sQ2FsbElkID0gKDAsIGltcG9ydF9zaGFyZWQ3LnJhbmRvbUlkKSgpO1xuICAgICAgbGV0IGZpbHRlclRoaW5raW5nVGV4dEJ1ZmZlciA9IG5ldyBGaWx0ZXJUaGlua2luZ1RleHRCdWZmZXIoKTtcbiAgICAgIGZvciBhd2FpdCAoY29uc3QgY2h1bmsgb2YgYXdhaXQgc3RyZWFtKSB7XG4gICAgICAgIGlmIChjaHVuay50eXBlID09PSBcIm1lc3NhZ2Vfc3RhcnRcIikge1xuICAgICAgICAgIGN1cnJlbnRNZXNzYWdlSWQgPSBjaHVuay5tZXNzYWdlLmlkO1xuICAgICAgICB9IGVsc2UgaWYgKGNodW5rLnR5cGUgPT09IFwiY29udGVudF9ibG9ja19zdGFydFwiKSB7XG4gICAgICAgICAgaWYgKGNodW5rLmNvbnRlbnRfYmxvY2sudHlwZSA9PT0gXCJ0ZXh0XCIpIHtcbiAgICAgICAgICAgIGRpZE91dHB1dFRleHQgPSBmYWxzZTtcbiAgICAgICAgICAgIGZpbHRlclRoaW5raW5nVGV4dEJ1ZmZlci5yZXNldCgpO1xuICAgICAgICAgICAgbW9kZSA9IFwibWVzc2FnZVwiO1xuICAgICAgICAgIH0gZWxzZSBpZiAoY2h1bmsuY29udGVudF9ibG9jay50eXBlID09PSBcInRvb2xfdXNlXCIpIHtcbiAgICAgICAgICAgIGN1cnJlbnRUb29sQ2FsbElkID0gY2h1bmsuY29udGVudF9ibG9jay5pZDtcbiAgICAgICAgICAgIGV2ZW50U3RyZWFtJC5zZW5kQWN0aW9uRXhlY3V0aW9uU3RhcnQoY3VycmVudFRvb2xDYWxsSWQsIGNodW5rLmNvbnRlbnRfYmxvY2submFtZSk7XG4gICAgICAgICAgICBtb2RlID0gXCJmdW5jdGlvblwiO1xuICAgICAgICAgIH1cbiAgICAgICAgfSBlbHNlIGlmIChjaHVuay50eXBlID09PSBcImNvbnRlbnRfYmxvY2tfZGVsdGFcIikge1xuICAgICAgICAgIGlmIChjaHVuay5kZWx0YS50eXBlID09PSBcInRleHRfZGVsdGFcIikge1xuICAgICAgICAgICAgY29uc3QgdGV4dCA9IGZpbHRlclRoaW5raW5nVGV4dEJ1ZmZlci5vblRleHRDaHVuayhjaHVuay5kZWx0YS50ZXh0KTtcbiAgICAgICAgICAgIGlmICh0ZXh0Lmxlbmd0aCA+IDApIHtcbiAgICAgICAgICAgICAgaWYgKCFkaWRPdXRwdXRUZXh0KSB7XG4gICAgICAgICAgICAgICAgZXZlbnRTdHJlYW0kLnNlbmRUZXh0TWVzc2FnZVN0YXJ0KGN1cnJlbnRNZXNzYWdlSWQpO1xuICAgICAgICAgICAgICAgIGRpZE91dHB1dFRleHQgPSB0cnVlO1xuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgIGV2ZW50U3RyZWFtJC5zZW5kVGV4dE1lc3NhZ2VDb250ZW50KHRleHQpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH0gZWxzZSBpZiAoY2h1bmsuZGVsdGEudHlwZSA9PT0gXCJpbnB1dF9qc29uX2RlbHRhXCIpIHtcbiAgICAgICAgICAgIGV2ZW50U3RyZWFtJC5zZW5kQWN0aW9uRXhlY3V0aW9uQXJncyhjaHVuay5kZWx0YS5wYXJ0aWFsX2pzb24pO1xuICAgICAgICAgIH1cbiAgICAgICAgfSBlbHNlIGlmIChjaHVuay50eXBlID09PSBcImNvbnRlbnRfYmxvY2tfc3RvcFwiKSB7XG4gICAgICAgICAgaWYgKG1vZGUgPT09IFwibWVzc2FnZVwiKSB7XG4gICAgICAgICAgICBpZiAoZGlkT3V0cHV0VGV4dCkge1xuICAgICAgICAgICAgICBldmVudFN0cmVhbSQuc2VuZFRleHRNZXNzYWdlRW5kKCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfSBlbHNlIGlmIChtb2RlID09PSBcImZ1bmN0aW9uXCIpIHtcbiAgICAgICAgICAgIGV2ZW50U3RyZWFtJC5zZW5kQWN0aW9uRXhlY3V0aW9uRW5kKCk7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9XG4gICAgICBldmVudFN0cmVhbSQuY29tcGxldGUoKTtcbiAgICB9KTtcbiAgICByZXR1cm4ge1xuICAgICAgdGhyZWFkSWQ6IHRocmVhZElkIHx8ICgwLCBpbXBvcnRfc2hhcmVkNy5yYW5kb21JZCkoKVxuICAgIH07XG4gIH1cbn07XG5fX25hbWUoQW50aHJvcGljQWRhcHRlciwgXCJBbnRocm9waWNBZGFwdGVyXCIpO1xudmFyIFRISU5LSU5HX1RBRyA9IFwiPHRoaW5raW5nPlwiO1xudmFyIFRISU5LSU5HX1RBR19FTkQgPSBcIjwvdGhpbmtpbmc+XCI7XG52YXIgRmlsdGVyVGhpbmtpbmdUZXh0QnVmZmVyID0gLyogQF9fUFVSRV9fICovIF9fbmFtZShjbGFzcyBGaWx0ZXJUaGlua2luZ1RleHRCdWZmZXIyIHtcbiAgYnVmZmVyO1xuICBkaWRGaWx0ZXJUaGlua2luZ1RhZyA9IGZhbHNlO1xuICBjb25zdHJ1Y3RvcigpIHtcbiAgICB0aGlzLmJ1ZmZlciA9IFwiXCI7XG4gIH1cbiAgb25UZXh0Q2h1bmsodGV4dCkge1xuICAgIHRoaXMuYnVmZmVyICs9IHRleHQ7XG4gICAgaWYgKHRoaXMuZGlkRmlsdGVyVGhpbmtpbmdUYWcpIHtcbiAgICAgIHJldHVybiB0ZXh0O1xuICAgIH1cbiAgICBjb25zdCBwb3RlbnRpYWxUYWcgPSB0aGlzLmJ1ZmZlci5zbGljZSgwLCBUSElOS0lOR19UQUcubGVuZ3RoKTtcbiAgICBpZiAoVEhJTktJTkdfVEFHLnN0YXJ0c1dpdGgocG90ZW50aWFsVGFnKSkge1xuICAgICAgaWYgKHRoaXMuYnVmZmVyLmluY2x1ZGVzKFRISU5LSU5HX1RBR19FTkQpKSB7XG4gICAgICAgIGNvbnN0IGVuZCA9IHRoaXMuYnVmZmVyLmluZGV4T2YoVEhJTktJTkdfVEFHX0VORCk7XG4gICAgICAgIGNvbnN0IGZpbHRlcmVkVGV4dCA9IHRoaXMuYnVmZmVyLnNsaWNlKGVuZCArIFRISU5LSU5HX1RBR19FTkQubGVuZ3RoKTtcbiAgICAgICAgdGhpcy5idWZmZXIgPSBmaWx0ZXJlZFRleHQ7XG4gICAgICAgIHRoaXMuZGlkRmlsdGVyVGhpbmtpbmdUYWcgPSB0cnVlO1xuICAgICAgICByZXR1cm4gZmlsdGVyZWRUZXh0O1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgcmV0dXJuIFwiXCI7XG4gICAgICB9XG4gICAgfVxuICAgIHJldHVybiB0ZXh0O1xuICB9XG4gIHJlc2V0KCkge1xuICAgIHRoaXMuYnVmZmVyID0gXCJcIjtcbiAgICB0aGlzLmRpZEZpbHRlclRoaW5raW5nVGFnID0gZmFsc2U7XG4gIH1cbn0sIFwiRmlsdGVyVGhpbmtpbmdUZXh0QnVmZmVyXCIpO1xuXG4vLyBzcmMvc2VydmljZS1hZGFwdGVycy9ldmVudHMudHNcbnZhciBpbXBvcnRfcnhqczIgPSByZXF1aXJlKFwicnhqc1wiKTtcblxuLy8gc3JjL2xpYi90ZWxlbWV0cnktY2xpZW50LnRzXG52YXIgaW1wb3J0X3NoYXJlZDggPSByZXF1aXJlKFwiQGNvcGlsb3RraXQvc2hhcmVkXCIpO1xudmFyIHBhY2thZ2VKc29uID0gcmVxdWlyZV9wYWNrYWdlKCk7XG52YXIgdGVsZW1ldHJ5Q2xpZW50ID0gbmV3IGltcG9ydF9zaGFyZWQ4LlRlbGVtZXRyeUNsaWVudCh7XG4gIHBhY2thZ2VOYW1lOiBwYWNrYWdlSnNvbi5uYW1lLFxuICBwYWNrYWdlVmVyc2lvbjogcGFja2FnZUpzb24udmVyc2lvblxufSk7XG52YXIgdGVsZW1ldHJ5X2NsaWVudF9kZWZhdWx0ID0gdGVsZW1ldHJ5Q2xpZW50O1xuXG4vLyBzcmMvYWdlbnRzL2xhbmdncmFwaC9ldmVudC1zb3VyY2UudHNcbnZhciBpbXBvcnRfcnhqcyA9IHJlcXVpcmUoXCJyeGpzXCIpO1xuXG4vLyBzcmMvYWdlbnRzL2xhbmdncmFwaC9ldmVudHMudHNcbnZhciBMYW5nR3JhcGhFdmVudFR5cGVzO1xuKGZ1bmN0aW9uKExhbmdHcmFwaEV2ZW50VHlwZXMyKSB7XG4gIExhbmdHcmFwaEV2ZW50VHlwZXMyW1wiT25DaGFpblN0YXJ0XCJdID0gXCJvbl9jaGFpbl9zdGFydFwiO1xuICBMYW5nR3JhcGhFdmVudFR5cGVzMltcIk9uQ2hhaW5TdHJlYW1cIl0gPSBcIm9uX2NoYWluX3N0cmVhbVwiO1xuICBMYW5nR3JhcGhFdmVudFR5cGVzMltcIk9uQ2hhaW5FbmRcIl0gPSBcIm9uX2NoYWluX2VuZFwiO1xuICBMYW5nR3JhcGhFdmVudFR5cGVzMltcIk9uQ2hhdE1vZGVsU3RhcnRcIl0gPSBcIm9uX2NoYXRfbW9kZWxfc3RhcnRcIjtcbiAgTGFuZ0dyYXBoRXZlbnRUeXBlczJbXCJPbkNoYXRNb2RlbFN0cmVhbVwiXSA9IFwib25fY2hhdF9tb2RlbF9zdHJlYW1cIjtcbiAgTGFuZ0dyYXBoRXZlbnRUeXBlczJbXCJPbkNoYXRNb2RlbEVuZFwiXSA9IFwib25fY2hhdF9tb2RlbF9lbmRcIjtcbiAgTGFuZ0dyYXBoRXZlbnRUeXBlczJbXCJPblRvb2xTdGFydFwiXSA9IFwib25fdG9vbF9zdGFydFwiO1xuICBMYW5nR3JhcGhFdmVudFR5cGVzMltcIk9uVG9vbEVuZFwiXSA9IFwib25fdG9vbF9lbmRcIjtcbiAgTGFuZ0dyYXBoRXZlbnRUeXBlczJbXCJPbkNvcGlsb3RLaXRTdGF0ZVN5bmNcIl0gPSBcIm9uX2NvcGlsb3RraXRfc3RhdGVfc3luY1wiO1xufSkoTGFuZ0dyYXBoRXZlbnRUeXBlcyB8fCAoTGFuZ0dyYXBoRXZlbnRUeXBlcyA9IHt9KSk7XG5cbi8vIHNyYy9hZ2VudHMvbGFuZ2dyYXBoL2V2ZW50LXNvdXJjZS50c1xudmFyIFJlbW90ZUxhbmdHcmFwaEV2ZW50U291cmNlID0gY2xhc3Mge1xuICBldmVudFN0cmVhbSQgPSBuZXcgaW1wb3J0X3J4anMuUmVwbGF5U3ViamVjdCgpO1xuICBhc3luYyBzdHJlYW1SZXNwb25zZShyZXNwb25zZSkge1xuICAgIGNvbnN0IHJlYWRlciA9IHJlc3BvbnNlLmJvZHkuZ2V0UmVhZGVyKCk7XG4gICAgY29uc3QgZGVjb2RlciA9IG5ldyBUZXh0RGVjb2RlcigpO1xuICAgIGxldCBidWZmZXIgPSBbXTtcbiAgICBjb25zdCBldmVudFN0cmVhbSQgPSB0aGlzLmV2ZW50U3RyZWFtJDtcbiAgICBmdW5jdGlvbiBmbHVzaEJ1ZmZlcigpIHtcbiAgICAgIGNvbnN0IGN1cnJlbnRCdWZmZXIgPSBidWZmZXIuam9pbihcIlwiKTtcbiAgICAgIGlmIChjdXJyZW50QnVmZmVyLnRyaW0oKS5sZW5ndGggPT09IDApIHtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgICAgY29uc3QgcGFydHMgPSBjdXJyZW50QnVmZmVyLnNwbGl0KFwiXFxuXCIpO1xuICAgICAgaWYgKHBhcnRzLmxlbmd0aCA9PT0gMCkge1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgICBjb25zdCBsYXN0UGFydElzQ29tcGxldGUgPSBjdXJyZW50QnVmZmVyLmVuZHNXaXRoKFwiXFxuXCIpO1xuICAgICAgYnVmZmVyID0gW107XG4gICAgICBpZiAoIWxhc3RQYXJ0SXNDb21wbGV0ZSkge1xuICAgICAgICBidWZmZXIucHVzaChwYXJ0cy5wb3AoKSk7XG4gICAgICB9XG4gICAgICBwYXJ0cy5tYXAoKHBhcnQpID0+IHBhcnQudHJpbSgpKS5maWx0ZXIoKHBhcnQpID0+IHBhcnQgIT0gXCJcIikuZm9yRWFjaCgocGFydCkgPT4ge1xuICAgICAgICBldmVudFN0cmVhbSQubmV4dChKU09OLnBhcnNlKHBhcnQpKTtcbiAgICAgIH0pO1xuICAgIH1cbiAgICBfX25hbWUoZmx1c2hCdWZmZXIsIFwiZmx1c2hCdWZmZXJcIik7XG4gICAgd2hpbGUgKHRydWUpIHtcbiAgICAgIGNvbnN0IHsgZG9uZSwgdmFsdWUgfSA9IGF3YWl0IHJlYWRlci5yZWFkKCk7XG4gICAgICBpZiAoIWRvbmUpIHtcbiAgICAgICAgYnVmZmVyLnB1c2goZGVjb2Rlci5kZWNvZGUodmFsdWUsIHtcbiAgICAgICAgICBzdHJlYW06IHRydWVcbiAgICAgICAgfSkpO1xuICAgICAgfVxuICAgICAgZmx1c2hCdWZmZXIoKTtcbiAgICAgIGlmIChkb25lKSB7XG4gICAgICAgIGJyZWFrO1xuICAgICAgfVxuICAgIH1cbiAgICBldmVudFN0cmVhbSQuY29tcGxldGUoKTtcbiAgfVxuICBwcm9jZXNzTGFuZ0dyYXBoRXZlbnRzKCkge1xuICAgIHJldHVybiB0aGlzLmV2ZW50U3RyZWFtJC5waXBlKCgwLCBpbXBvcnRfcnhqcy5zY2FuKSgoYWNjLCBldmVudCkgPT4ge1xuICAgICAgdmFyIF9hLCBfYiwgX2MsIF9kLCBfZSwgX2YsIF9nLCBfaDtcbiAgICAgIGlmIChldmVudC5ldmVudCA9PT0gTGFuZ0dyYXBoRXZlbnRUeXBlcy5PbkNoYXRNb2RlbFN0cmVhbSkge1xuICAgICAgICBpZiAoKF9jID0gKF9iID0gKF9hID0gZXZlbnQuZGF0YSkgPT0gbnVsbCA/IHZvaWQgMCA6IF9hLmNodW5rKSA9PSBudWxsID8gdm9pZCAwIDogX2Iua3dhcmdzKSA9PSBudWxsID8gdm9pZCAwIDogX2MudG9vbF9jYWxsX2NodW5rcykge1xuICAgICAgICAgIGFjYy5wcmV2VG9vbENhbGxJZCA9IGFjYy50b29sQ2FsbElkO1xuICAgICAgICAgIGFjYy50b29sQ2FsbElkID0gKF9kID0gZXZlbnQuZGF0YS5jaHVuay5rd2FyZ3MpID09IG51bGwgPyB2b2lkIDAgOiBfZC5pZDtcbiAgICAgICAgICBpZiAoKF9lID0gZXZlbnQuZGF0YS5jaHVuay5rd2FyZ3MudG9vbF9jYWxsX2NodW5rc1swXSkgPT0gbnVsbCA/IHZvaWQgMCA6IF9lLm5hbWUpIHtcbiAgICAgICAgICAgIGFjYy50b29sQ2FsbE5hbWUgPSBldmVudC5kYXRhLmNodW5rLmt3YXJncy50b29sX2NhbGxfY2h1bmtzWzBdLm5hbWU7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGFjYy5wcmV2TWVzc2FnZUlkID0gYWNjLm1lc3NhZ2VJZDtcbiAgICAgICAgYWNjLm1lc3NhZ2VJZCA9IChfaCA9IChfZyA9IChfZiA9IGV2ZW50LmRhdGEpID09IG51bGwgPyB2b2lkIDAgOiBfZi5jaHVuaykgPT0gbnVsbCA/IHZvaWQgMCA6IF9nLmt3YXJncykgPT0gbnVsbCA/IHZvaWQgMCA6IF9oLmlkO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgYWNjLnByZXZUb29sQ2FsbElkID0gYWNjLnRvb2xDYWxsSWQ7XG4gICAgICAgIGFjYy50b29sQ2FsbElkID0gbnVsbDtcbiAgICAgICAgYWNjLnByZXZNZXNzYWdlSWQgPSBhY2MubWVzc2FnZUlkO1xuICAgICAgICBhY2MubWVzc2FnZUlkID0gbnVsbDtcbiAgICAgICAgYWNjLnRvb2xDYWxsTmFtZSA9IG51bGw7XG4gICAgICB9XG4gICAgICBhY2MuZXZlbnQgPSBldmVudDtcbiAgICAgIHJldHVybiBhY2M7XG4gICAgfSwge1xuICAgICAgZXZlbnQ6IG51bGwsXG4gICAgICB0b29sQ2FsbElkOiBudWxsLFxuICAgICAgcHJldlRvb2xDYWxsSWQ6IG51bGwsXG4gICAgICBtZXNzYWdlSWQ6IG51bGwsXG4gICAgICB0b29sQ2FsbE5hbWU6IG51bGwsXG4gICAgICBwcmV2TWVzc2FnZUlkOiBudWxsXG4gICAgfSksICgwLCBpbXBvcnRfcnhqcy5tZXJnZU1hcCkoKGV2ZW50V2l0aFN0YXRlKSA9PiB7XG4gICAgICB2YXIgX2EsIF9iLCBfYywgX2QsIF9lLCBfZiwgX2csIF9oLCBfaSwgX2o7XG4gICAgICBjb25zdCBldmVudHMgPSBbXTtcbiAgICAgIGxldCBzaG91bGRFbWl0TWVzc2FnZXMgPSBmYWxzZTtcbiAgICAgIGxldCBzaG91bGRFbWl0VG9vbENhbGxzID0gZmFsc2U7XG4gICAgICBpZiAoZXZlbnRXaXRoU3RhdGUuZXZlbnQuZXZlbnQgPT0gTGFuZ0dyYXBoRXZlbnRUeXBlcy5PbkNoYXRNb2RlbFN0cmVhbSkge1xuICAgICAgICBpZiAoKF9hID0gZXZlbnRXaXRoU3RhdGUuZXZlbnQudGFncykgPT0gbnVsbCA/IHZvaWQgMCA6IF9hLmluY2x1ZGVzKFwiY29waWxvdGtpdDplbWl0LXRvb2wtY2FsbHNcIikpIHtcbiAgICAgICAgICBzaG91bGRFbWl0VG9vbENhbGxzID0gdHJ1ZTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoKF9iID0gZXZlbnRXaXRoU3RhdGUuZXZlbnQudGFncykgPT0gbnVsbCA/IHZvaWQgMCA6IF9iLmluY2x1ZGVzKFwiY29waWxvdGtpdDplbWl0LW1lc3NhZ2VzXCIpKSB7XG4gICAgICAgICAgc2hvdWxkRW1pdE1lc3NhZ2VzID0gdHJ1ZTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgaWYgKGV2ZW50V2l0aFN0YXRlLnByZXZUb29sQ2FsbElkICE9PSBudWxsICYmIGV2ZW50V2l0aFN0YXRlLnByZXZUb29sQ2FsbElkICE9PSBldmVudFdpdGhTdGF0ZS50b29sQ2FsbElkICYmIHNob3VsZEVtaXRUb29sQ2FsbHMpIHtcbiAgICAgICAgZXZlbnRzLnB1c2goe1xuICAgICAgICAgIHR5cGU6IFJ1bnRpbWVFdmVudFR5cGVzLkFjdGlvbkV4ZWN1dGlvbkVuZFxuICAgICAgICB9KTtcbiAgICAgIH1cbiAgICAgIGlmIChldmVudFdpdGhTdGF0ZS5wcmV2TWVzc2FnZUlkICE9PSBudWxsICYmIGV2ZW50V2l0aFN0YXRlLnByZXZNZXNzYWdlSWQgIT09IGV2ZW50V2l0aFN0YXRlLm1lc3NhZ2VJZCAmJiBzaG91bGRFbWl0TWVzc2FnZXMpIHtcbiAgICAgICAgZXZlbnRzLnB1c2goe1xuICAgICAgICAgIHR5cGU6IFJ1bnRpbWVFdmVudFR5cGVzLlRleHRNZXNzYWdlRW5kXG4gICAgICAgIH0pO1xuICAgICAgfVxuICAgICAgc3dpdGNoIChldmVudFdpdGhTdGF0ZS5ldmVudC5ldmVudCkge1xuICAgICAgICBjYXNlIExhbmdHcmFwaEV2ZW50VHlwZXMuT25Db3BpbG90S2l0U3RhdGVTeW5jOlxuICAgICAgICAgIGV2ZW50cy5wdXNoKHtcbiAgICAgICAgICAgIHR5cGU6IFJ1bnRpbWVFdmVudFR5cGVzLkFnZW50U3RhdGVNZXNzYWdlLFxuICAgICAgICAgICAgdGhyZWFkSWQ6IGV2ZW50V2l0aFN0YXRlLmV2ZW50LnRocmVhZF9pZCxcbiAgICAgICAgICAgIHJvbGU6IGV2ZW50V2l0aFN0YXRlLmV2ZW50LnJvbGUsXG4gICAgICAgICAgICBhZ2VudE5hbWU6IGV2ZW50V2l0aFN0YXRlLmV2ZW50LmFnZW50X25hbWUsXG4gICAgICAgICAgICBub2RlTmFtZTogZXZlbnRXaXRoU3RhdGUuZXZlbnQubm9kZV9uYW1lLFxuICAgICAgICAgICAgcnVuSWQ6IGV2ZW50V2l0aFN0YXRlLmV2ZW50LnJ1bl9pZCxcbiAgICAgICAgICAgIGFjdGl2ZTogZXZlbnRXaXRoU3RhdGUuZXZlbnQuYWN0aXZlLFxuICAgICAgICAgICAgc3RhdGU6IEpTT04uc3RyaW5naWZ5KGV2ZW50V2l0aFN0YXRlLmV2ZW50LnN0YXRlKSxcbiAgICAgICAgICAgIHJ1bm5pbmc6IGV2ZW50V2l0aFN0YXRlLmV2ZW50LnJ1bm5pbmdcbiAgICAgICAgICB9KTtcbiAgICAgICAgICBicmVhaztcbiAgICAgICAgY2FzZSBMYW5nR3JhcGhFdmVudFR5cGVzLk9uVG9vbEVuZDpcbiAgICAgICAgICBicmVhaztcbiAgICAgICAgY2FzZSBMYW5nR3JhcGhFdmVudFR5cGVzLk9uQ2hhdE1vZGVsU3RyZWFtOlxuICAgICAgICAgIGlmIChldmVudFdpdGhTdGF0ZS50b29sQ2FsbElkICE9PSBudWxsICYmIGV2ZW50V2l0aFN0YXRlLnByZXZUb29sQ2FsbElkICE9PSBldmVudFdpdGhTdGF0ZS50b29sQ2FsbElkKSB7XG4gICAgICAgICAgICBpZiAoc2hvdWxkRW1pdFRvb2xDYWxscykge1xuICAgICAgICAgICAgICBldmVudHMucHVzaCh7XG4gICAgICAgICAgICAgICAgdHlwZTogUnVudGltZUV2ZW50VHlwZXMuQWN0aW9uRXhlY3V0aW9uU3RhcnQsXG4gICAgICAgICAgICAgICAgYWN0aW9uRXhlY3V0aW9uSWQ6IGV2ZW50V2l0aFN0YXRlLnRvb2xDYWxsSWQsXG4gICAgICAgICAgICAgICAgYWN0aW9uTmFtZTogZXZlbnRXaXRoU3RhdGUudG9vbENhbGxOYW1lLFxuICAgICAgICAgICAgICAgIHNjb3BlOiBcImNsaWVudFwiXG4gICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH0gZWxzZSBpZiAoZXZlbnRXaXRoU3RhdGUubWVzc2FnZUlkICE9PSBudWxsICYmIGV2ZW50V2l0aFN0YXRlLnByZXZNZXNzYWdlSWQgIT09IGV2ZW50V2l0aFN0YXRlLm1lc3NhZ2VJZCkge1xuICAgICAgICAgICAgaWYgKHNob3VsZEVtaXRNZXNzYWdlcykge1xuICAgICAgICAgICAgICBldmVudHMucHVzaCh7XG4gICAgICAgICAgICAgICAgdHlwZTogUnVudGltZUV2ZW50VHlwZXMuVGV4dE1lc3NhZ2VTdGFydCxcbiAgICAgICAgICAgICAgICBtZXNzYWdlSWQ6IGV2ZW50V2l0aFN0YXRlLm1lc3NhZ2VJZFxuICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9XG4gICAgICAgICAgY29uc3QgYXJncyA9IChfZyA9IChfZiA9IChfZSA9IChfZCA9IChfYyA9IGV2ZW50V2l0aFN0YXRlLmV2ZW50LmRhdGEpID09IG51bGwgPyB2b2lkIDAgOiBfYy5jaHVuaykgPT0gbnVsbCA/IHZvaWQgMCA6IF9kLmt3YXJncykgPT0gbnVsbCA/IHZvaWQgMCA6IF9lLnRvb2xfY2FsbF9jaHVua3MpID09IG51bGwgPyB2b2lkIDAgOiBfZlswXSkgPT0gbnVsbCA/IHZvaWQgMCA6IF9nLmFyZ3M7XG4gICAgICAgICAgY29uc3QgY29udGVudCA9IChfaiA9IChfaSA9IChfaCA9IGV2ZW50V2l0aFN0YXRlLmV2ZW50LmRhdGEpID09IG51bGwgPyB2b2lkIDAgOiBfaC5jaHVuaykgPT0gbnVsbCA/IHZvaWQgMCA6IF9pLmt3YXJncykgPT0gbnVsbCA/IHZvaWQgMCA6IF9qLmNvbnRlbnQ7XG4gICAgICAgICAgaWYgKGFyZ3MpIHtcbiAgICAgICAgICAgIGlmIChzaG91bGRFbWl0VG9vbENhbGxzKSB7XG4gICAgICAgICAgICAgIGV2ZW50cy5wdXNoKHtcbiAgICAgICAgICAgICAgICB0eXBlOiBSdW50aW1lRXZlbnRUeXBlcy5BY3Rpb25FeGVjdXRpb25BcmdzLFxuICAgICAgICAgICAgICAgIGFyZ3NcbiAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfSBlbHNlIGlmIChldmVudFdpdGhTdGF0ZS5tZXNzYWdlSWQgIT09IG51bGwgJiYgY29udGVudCkge1xuICAgICAgICAgICAgaWYgKHNob3VsZEVtaXRNZXNzYWdlcykge1xuICAgICAgICAgICAgICBldmVudHMucHVzaCh7XG4gICAgICAgICAgICAgICAgdHlwZTogUnVudGltZUV2ZW50VHlwZXMuVGV4dE1lc3NhZ2VDb250ZW50LFxuICAgICAgICAgICAgICAgIGNvbnRlbnRcbiAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuICAgICAgICAgIGJyZWFrO1xuICAgICAgfVxuICAgICAgcmV0dXJuIGV2ZW50cztcbiAgICB9KSk7XG4gIH1cbn07XG5fX25hbWUoUmVtb3RlTGFuZ0dyYXBoRXZlbnRTb3VyY2UsIFwiUmVtb3RlTGFuZ0dyYXBoRXZlbnRTb3VyY2VcIik7XG5cbi8vIHNyYy9saWIvcnVudGltZS9yZW1vdGUtYWN0aW9ucy50c1xuZnVuY3Rpb24gaXNMYW5nR3JhcGhBZ2VudEFjdGlvbihhY3Rpb24pIHtcbiAgaWYgKCFhY3Rpb24pIHtcbiAgICByZXR1cm4gZmFsc2U7XG4gIH1cbiAgcmV0dXJuIHR5cGVvZiBhY3Rpb24ubGFuZ0dyYXBoQWdlbnRIYW5kbGVyID09PSBcImZ1bmN0aW9uXCI7XG59XG5fX25hbWUoaXNMYW5nR3JhcGhBZ2VudEFjdGlvbiwgXCJpc0xhbmdHcmFwaEFnZW50QWN0aW9uXCIpO1xuZnVuY3Rpb24gY3JlYXRlSGVhZGVycyhvbkJlZm9yZVJlcXVlc3QsIGdyYXBocWxDb250ZXh0KSB7XG4gIGNvbnN0IGhlYWRlcnMgPSB7XG4gICAgXCJDb250ZW50LVR5cGVcIjogXCJhcHBsaWNhdGlvbi9qc29uXCJcbiAgfTtcbiAgaWYgKG9uQmVmb3JlUmVxdWVzdCkge1xuICAgIGNvbnN0IHsgaGVhZGVyczogYWRkaXRpb25hbEhlYWRlcnMgfSA9IG9uQmVmb3JlUmVxdWVzdCh7XG4gICAgICBjdHg6IGdyYXBocWxDb250ZXh0XG4gICAgfSk7XG4gICAgaWYgKGFkZGl0aW9uYWxIZWFkZXJzKSB7XG4gICAgICBPYmplY3QuYXNzaWduKGhlYWRlcnMsIGFkZGl0aW9uYWxIZWFkZXJzKTtcbiAgICB9XG4gIH1cbiAgcmV0dXJuIGhlYWRlcnM7XG59XG5fX25hbWUoY3JlYXRlSGVhZGVycywgXCJjcmVhdGVIZWFkZXJzXCIpO1xuYXN5bmMgZnVuY3Rpb24gZmV0Y2hSZW1vdGVJbmZvKHsgdXJsLCBvbkJlZm9yZVJlcXVlc3QsIGdyYXBocWxDb250ZXh0LCBsb2dnZXI6IGxvZ2dlcjIgfSkge1xuICBsb2dnZXIyLmRlYnVnKHtcbiAgICB1cmxcbiAgfSwgXCJGZXRjaGluZyBhY3Rpb25zIGZyb20gdXJsXCIpO1xuICBjb25zdCBoZWFkZXJzID0gY3JlYXRlSGVhZGVycyhvbkJlZm9yZVJlcXVlc3QsIGdyYXBocWxDb250ZXh0KTtcbiAgY29uc3QgcmVzcG9uc2UgPSBhd2FpdCBmZXRjaChgJHt1cmx9L2luZm9gLCB7XG4gICAgbWV0aG9kOiBcIlBPU1RcIixcbiAgICBoZWFkZXJzLFxuICAgIGJvZHk6IEpTT04uc3RyaW5naWZ5KHtcbiAgICAgIHByb3BlcnRpZXM6IGdyYXBocWxDb250ZXh0LnByb3BlcnRpZXNcbiAgICB9KVxuICB9KTtcbiAgaWYgKCFyZXNwb25zZS5vaykge1xuICAgIGxvZ2dlcjIuZXJyb3Ioe1xuICAgICAgdXJsLFxuICAgICAgc3RhdHVzOiByZXNwb25zZS5zdGF0dXMsXG4gICAgICBib2R5OiBhd2FpdCByZXNwb25zZS50ZXh0KClcbiAgICB9LCBcIkZhaWxlZCB0byBmZXRjaCBhY3Rpb25zIGZyb20gdXJsXCIpO1xuICAgIHJldHVybiBbXTtcbiAgfVxuICBjb25zdCBqc29uID0gYXdhaXQgcmVzcG9uc2UuanNvbigpO1xuICBsb2dnZXIyLmRlYnVnKHtcbiAgICBqc29uXG4gIH0sIFwiRmV0Y2hlZCBhY3Rpb25zIGZyb20gdXJsXCIpO1xuICByZXR1cm4ganNvbjtcbn1cbl9fbmFtZShmZXRjaFJlbW90ZUluZm8sIFwiZmV0Y2hSZW1vdGVJbmZvXCIpO1xuZnVuY3Rpb24gY29uc3RydWN0UmVtb3RlQWN0aW9ucyh7IGpzb24sIHVybCwgb25CZWZvcmVSZXF1ZXN0LCBncmFwaHFsQ29udGV4dCwgbG9nZ2VyOiBsb2dnZXIyLCBtZXNzYWdlcywgYWdlbnRTdGF0ZXMgfSkge1xuICBjb25zdCBhY3Rpb25zID0ganNvbltcImFjdGlvbnNcIl0ubWFwKChhY3Rpb24pID0+ICh7XG4gICAgbmFtZTogYWN0aW9uLm5hbWUsXG4gICAgZGVzY3JpcHRpb246IGFjdGlvbi5kZXNjcmlwdGlvbixcbiAgICBwYXJhbWV0ZXJzOiBhY3Rpb24ucGFyYW1ldGVycyxcbiAgICBoYW5kbGVyOiBhc3luYyAoYXJncykgPT4ge1xuICAgICAgbG9nZ2VyMi5kZWJ1Zyh7XG4gICAgICAgIGFjdGlvbk5hbWU6IGFjdGlvbi5uYW1lLFxuICAgICAgICBhcmdzXG4gICAgICB9LCBcIkV4ZWN1dGluZyByZW1vdGUgYWN0aW9uXCIpO1xuICAgICAgY29uc3QgaGVhZGVycyA9IGNyZWF0ZUhlYWRlcnMob25CZWZvcmVSZXF1ZXN0LCBncmFwaHFsQ29udGV4dCk7XG4gICAgICB0ZWxlbWV0cnlfY2xpZW50X2RlZmF1bHQuY2FwdHVyZShcIm9zcy5ydW50aW1lLnJlbW90ZV9hY3Rpb25fZXhlY3V0ZWRcIiwge30pO1xuICAgICAgY29uc3QgcmVzcG9uc2UgPSBhd2FpdCBmZXRjaChgJHt1cmx9L2FjdGlvbnMvZXhlY3V0ZWAsIHtcbiAgICAgICAgbWV0aG9kOiBcIlBPU1RcIixcbiAgICAgICAgaGVhZGVycyxcbiAgICAgICAgYm9keTogSlNPTi5zdHJpbmdpZnkoe1xuICAgICAgICAgIG5hbWU6IGFjdGlvbi5uYW1lLFxuICAgICAgICAgIGFyZ3VtZW50czogYXJncyxcbiAgICAgICAgICBwcm9wZXJ0aWVzOiBncmFwaHFsQ29udGV4dC5wcm9wZXJ0aWVzXG4gICAgICAgIH0pXG4gICAgICB9KTtcbiAgICAgIGlmICghcmVzcG9uc2Uub2spIHtcbiAgICAgICAgbG9nZ2VyMi5lcnJvcih7XG4gICAgICAgICAgdXJsLFxuICAgICAgICAgIHN0YXR1czogcmVzcG9uc2Uuc3RhdHVzLFxuICAgICAgICAgIGJvZHk6IGF3YWl0IHJlc3BvbnNlLnRleHQoKVxuICAgICAgICB9LCBcIkZhaWxlZCB0byBleGVjdXRlIHJlbW90ZSBhY3Rpb25cIik7XG4gICAgICAgIHJldHVybiBcIkZhaWxlZCB0byBleGVjdXRlIHJlbW90ZSBhY3Rpb25cIjtcbiAgICAgIH1cbiAgICAgIGNvbnN0IHJlcXVlc3RSZXN1bHQgPSBhd2FpdCByZXNwb25zZS5qc29uKCk7XG4gICAgICBjb25zdCByZXN1bHQgPSByZXF1ZXN0UmVzdWx0W1wicmVzdWx0XCJdO1xuICAgICAgbG9nZ2VyMi5kZWJ1Zyh7XG4gICAgICAgIGFjdGlvbk5hbWU6IGFjdGlvbi5uYW1lLFxuICAgICAgICByZXN1bHRcbiAgICAgIH0sIFwiRXhlY3V0ZWQgcmVtb3RlIGFjdGlvblwiKTtcbiAgICAgIHJldHVybiByZXN1bHQ7XG4gICAgfVxuICB9KSk7XG4gIGNvbnN0IGFnZW50cyA9IGpzb25bXCJhZ2VudHNcIl0ubWFwKChhZ2VudCkgPT4gKHtcbiAgICBuYW1lOiBhZ2VudC5uYW1lLFxuICAgIGRlc2NyaXB0aW9uOiBhZ2VudC5kZXNjcmlwdGlvbixcbiAgICBwYXJhbWV0ZXJzOiBbXSxcbiAgICBoYW5kbGVyOiBhc3luYyAoX2FyZ3MpID0+IHtcbiAgICB9LFxuICAgIGxhbmdHcmFwaEFnZW50SGFuZGxlcjogYXN5bmMgKHsgbmFtZSwgYWN0aW9uSW5wdXRzV2l0aG91dEFnZW50cywgdGhyZWFkSWQsIG5vZGVOYW1lIH0pID0+IHtcbiAgICAgIHZhciBfYTtcbiAgICAgIGxvZ2dlcjIuZGVidWcoe1xuICAgICAgICBhY3Rpb25OYW1lOiBhZ2VudC5uYW1lXG4gICAgICB9LCBcIkV4ZWN1dGluZyByZW1vdGUgYWdlbnRcIik7XG4gICAgICBjb25zdCBoZWFkZXJzID0gY3JlYXRlSGVhZGVycyhvbkJlZm9yZVJlcXVlc3QsIGdyYXBocWxDb250ZXh0KTtcbiAgICAgIHRlbGVtZXRyeV9jbGllbnRfZGVmYXVsdC5jYXB0dXJlKFwib3NzLnJ1bnRpbWUucmVtb3RlX2FjdGlvbl9leGVjdXRlZFwiLCB7fSk7XG4gICAgICBsZXQgc3RhdGUgPSB7fTtcbiAgICAgIGlmIChhZ2VudFN0YXRlcykge1xuICAgICAgICBjb25zdCBqc29uU3RhdGUgPSAoX2EgPSBhZ2VudFN0YXRlcy5maW5kKChzdGF0ZTIpID0+IHN0YXRlMi5hZ2VudE5hbWUgPT09IG5hbWUpKSA9PSBudWxsID8gdm9pZCAwIDogX2Euc3RhdGU7XG4gICAgICAgIGlmIChqc29uU3RhdGUpIHtcbiAgICAgICAgICBzdGF0ZSA9IEpTT04ucGFyc2UoanNvblN0YXRlKTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgY29uc3QgcmVzcG9uc2UgPSBhd2FpdCBmZXRjaChgJHt1cmx9L2FnZW50cy9leGVjdXRlYCwge1xuICAgICAgICBtZXRob2Q6IFwiUE9TVFwiLFxuICAgICAgICBoZWFkZXJzLFxuICAgICAgICBib2R5OiBKU09OLnN0cmluZ2lmeSh7XG4gICAgICAgICAgbmFtZSxcbiAgICAgICAgICB0aHJlYWRJZCxcbiAgICAgICAgICBub2RlTmFtZSxcbiAgICAgICAgICBtZXNzYWdlcyxcbiAgICAgICAgICBzdGF0ZSxcbiAgICAgICAgICBwcm9wZXJ0aWVzOiBncmFwaHFsQ29udGV4dC5wcm9wZXJ0aWVzLFxuICAgICAgICAgIGFjdGlvbnM6IGFjdGlvbklucHV0c1dpdGhvdXRBZ2VudHMubWFwKChhY3Rpb24pID0+ICh7XG4gICAgICAgICAgICBuYW1lOiBhY3Rpb24ubmFtZSxcbiAgICAgICAgICAgIGRlc2NyaXB0aW9uOiBhY3Rpb24uZGVzY3JpcHRpb24sXG4gICAgICAgICAgICBwYXJhbWV0ZXJzOiBKU09OLnBhcnNlKGFjdGlvbi5qc29uU2NoZW1hKVxuICAgICAgICAgIH0pKVxuICAgICAgICB9KVxuICAgICAgfSk7XG4gICAgICBpZiAoIXJlc3BvbnNlLm9rKSB7XG4gICAgICAgIGxvZ2dlcjIuZXJyb3Ioe1xuICAgICAgICAgIHVybCxcbiAgICAgICAgICBzdGF0dXM6IHJlc3BvbnNlLnN0YXR1cyxcbiAgICAgICAgICBib2R5OiBhd2FpdCByZXNwb25zZS50ZXh0KClcbiAgICAgICAgfSwgXCJGYWlsZWQgdG8gZXhlY3V0ZSByZW1vdGUgYWdlbnRcIik7XG4gICAgICAgIHRocm93IG5ldyBFcnJvcihcIkZhaWxlZCB0byBleGVjdXRlIHJlbW90ZSBhZ2VudFwiKTtcbiAgICAgIH1cbiAgICAgIGNvbnN0IGV2ZW50U291cmNlID0gbmV3IFJlbW90ZUxhbmdHcmFwaEV2ZW50U291cmNlKCk7XG4gICAgICBldmVudFNvdXJjZS5zdHJlYW1SZXNwb25zZShyZXNwb25zZSk7XG4gICAgICByZXR1cm4gZXZlbnRTb3VyY2UucHJvY2Vzc0xhbmdHcmFwaEV2ZW50cygpO1xuICAgIH1cbiAgfSkpO1xuICByZXR1cm4gW1xuICAgIC4uLmFjdGlvbnMsXG4gICAgLi4uYWdlbnRzXG4gIF07XG59XG5fX25hbWUoY29uc3RydWN0UmVtb3RlQWN0aW9ucywgXCJjb25zdHJ1Y3RSZW1vdGVBY3Rpb25zXCIpO1xuYXN5bmMgZnVuY3Rpb24gc2V0dXBSZW1vdGVBY3Rpb25zKHsgcmVtb3RlQWN0aW9uRGVmaW5pdGlvbnMsIGdyYXBocWxDb250ZXh0LCBtZXNzYWdlcywgYWdlbnRTdGF0ZXMgfSkge1xuICBjb25zdCBsb2dnZXIyID0gZ3JhcGhxbENvbnRleHQubG9nZ2VyLmNoaWxkKHtcbiAgICBjb21wb25lbnQ6IFwicmVtb3RlLWFjdGlvbnMuZmV0Y2hSZW1vdGVBY3Rpb25zXCJcbiAgfSk7XG4gIGxvZ2dlcjIuZGVidWcoe1xuICAgIHJlbW90ZUFjdGlvbkRlZmluaXRpb25zXG4gIH0sIFwiRmV0Y2hpbmcgcmVtb3RlIGFjdGlvbnNcIik7XG4gIGNvbnN0IGZpbHRlcmVkID0gcmVtb3RlQWN0aW9uRGVmaW5pdGlvbnMuZmlsdGVyKCh2YWx1ZSwgaW5kZXgsIHNlbGYpID0+IGluZGV4ID09PSBzZWxmLmZpbmRJbmRleCgodCkgPT4gdC51cmwgPT09IHZhbHVlLnVybCkpO1xuICBjb25zdCByZXN1bHQgPSBhd2FpdCBQcm9taXNlLmFsbChmaWx0ZXJlZC5tYXAoYXN5bmMgKGFjdGlvbkRlZmluaXRpb24pID0+IHtcbiAgICBjb25zdCBqc29uID0gYXdhaXQgZmV0Y2hSZW1vdGVJbmZvKHtcbiAgICAgIHVybDogYWN0aW9uRGVmaW5pdGlvbi51cmwsXG4gICAgICBvbkJlZm9yZVJlcXVlc3Q6IGFjdGlvbkRlZmluaXRpb24ub25CZWZvcmVSZXF1ZXN0LFxuICAgICAgZ3JhcGhxbENvbnRleHQsXG4gICAgICBsb2dnZXI6IGxvZ2dlcjIuY2hpbGQoe1xuICAgICAgICBjb21wb25lbnQ6IFwicmVtb3RlLWFjdGlvbnMuZmV0Y2hBY3Rpb25zRnJvbVVybFwiLFxuICAgICAgICBhY3Rpb25EZWZpbml0aW9uXG4gICAgICB9KVxuICAgIH0pO1xuICAgIHJldHVybiBjb25zdHJ1Y3RSZW1vdGVBY3Rpb25zKHtcbiAgICAgIGpzb24sXG4gICAgICBtZXNzYWdlcyxcbiAgICAgIHVybDogYWN0aW9uRGVmaW5pdGlvbi51cmwsXG4gICAgICBvbkJlZm9yZVJlcXVlc3Q6IGFjdGlvbkRlZmluaXRpb24ub25CZWZvcmVSZXF1ZXN0LFxuICAgICAgZ3JhcGhxbENvbnRleHQsXG4gICAgICBsb2dnZXI6IGxvZ2dlcjIuY2hpbGQoe1xuICAgICAgICBjb21wb25lbnQ6IFwicmVtb3RlLWFjdGlvbnMuY29uc3RydWN0QWN0aW9uc1wiLFxuICAgICAgICBhY3Rpb25EZWZpbml0aW9uXG4gICAgICB9KSxcbiAgICAgIGFnZW50U3RhdGVzXG4gICAgfSk7XG4gIH0pKTtcbiAgcmV0dXJuIHJlc3VsdC5mbGF0KCk7XG59XG5fX25hbWUoc2V0dXBSZW1vdGVBY3Rpb25zLCBcInNldHVwUmVtb3RlQWN0aW9uc1wiKTtcblxuLy8gc3JjL3NlcnZpY2UtYWRhcHRlcnMvZXZlbnRzLnRzXG52YXIgUnVudGltZUV2ZW50VHlwZXM7XG4oZnVuY3Rpb24oUnVudGltZUV2ZW50VHlwZXMyKSB7XG4gIFJ1bnRpbWVFdmVudFR5cGVzMltcIlRleHRNZXNzYWdlU3RhcnRcIl0gPSBcIlRleHRNZXNzYWdlU3RhcnRcIjtcbiAgUnVudGltZUV2ZW50VHlwZXMyW1wiVGV4dE1lc3NhZ2VDb250ZW50XCJdID0gXCJUZXh0TWVzc2FnZUNvbnRlbnRcIjtcbiAgUnVudGltZUV2ZW50VHlwZXMyW1wiVGV4dE1lc3NhZ2VFbmRcIl0gPSBcIlRleHRNZXNzYWdlRW5kXCI7XG4gIFJ1bnRpbWVFdmVudFR5cGVzMltcIkFjdGlvbkV4ZWN1dGlvblN0YXJ0XCJdID0gXCJBY3Rpb25FeGVjdXRpb25TdGFydFwiO1xuICBSdW50aW1lRXZlbnRUeXBlczJbXCJBY3Rpb25FeGVjdXRpb25BcmdzXCJdID0gXCJBY3Rpb25FeGVjdXRpb25BcmdzXCI7XG4gIFJ1bnRpbWVFdmVudFR5cGVzMltcIkFjdGlvbkV4ZWN1dGlvbkVuZFwiXSA9IFwiQWN0aW9uRXhlY3V0aW9uRW5kXCI7XG4gIFJ1bnRpbWVFdmVudFR5cGVzMltcIkFjdGlvbkV4ZWN1dGlvblJlc3VsdFwiXSA9IFwiQWN0aW9uRXhlY3V0aW9uUmVzdWx0XCI7XG4gIFJ1bnRpbWVFdmVudFR5cGVzMltcIkFnZW50U3RhdGVNZXNzYWdlXCJdID0gXCJBZ2VudFN0YXRlTWVzc2FnZVwiO1xufSkoUnVudGltZUV2ZW50VHlwZXMgfHwgKFJ1bnRpbWVFdmVudFR5cGVzID0ge30pKTtcbnZhciBSdW50aW1lRXZlbnRTdWJqZWN0ID0gY2xhc3MgZXh0ZW5kcyBpbXBvcnRfcnhqczIuUmVwbGF5U3ViamVjdCB7XG4gIGNvbnN0cnVjdG9yKCkge1xuICAgIHN1cGVyKCk7XG4gIH1cbiAgc2VuZFRleHRNZXNzYWdlU3RhcnQobWVzc2FnZUlkKSB7XG4gICAgdGhpcy5uZXh0KHtcbiAgICAgIHR5cGU6IFwiVGV4dE1lc3NhZ2VTdGFydFwiLFxuICAgICAgbWVzc2FnZUlkXG4gICAgfSk7XG4gIH1cbiAgc2VuZFRleHRNZXNzYWdlQ29udGVudChjb250ZW50KSB7XG4gICAgdGhpcy5uZXh0KHtcbiAgICAgIHR5cGU6IFwiVGV4dE1lc3NhZ2VDb250ZW50XCIsXG4gICAgICBjb250ZW50XG4gICAgfSk7XG4gIH1cbiAgc2VuZFRleHRNZXNzYWdlRW5kKCkge1xuICAgIHRoaXMubmV4dCh7XG4gICAgICB0eXBlOiBcIlRleHRNZXNzYWdlRW5kXCJcbiAgICB9KTtcbiAgfVxuICBzZW5kVGV4dE1lc3NhZ2UobWVzc2FnZUlkLCBjb250ZW50KSB7XG4gICAgdGhpcy5zZW5kVGV4dE1lc3NhZ2VTdGFydChtZXNzYWdlSWQpO1xuICAgIHRoaXMuc2VuZFRleHRNZXNzYWdlQ29udGVudChjb250ZW50KTtcbiAgICB0aGlzLnNlbmRUZXh0TWVzc2FnZUVuZCgpO1xuICB9XG4gIHNlbmRBY3Rpb25FeGVjdXRpb25TdGFydChhY3Rpb25FeGVjdXRpb25JZCwgYWN0aW9uTmFtZSkge1xuICAgIHRoaXMubmV4dCh7XG4gICAgICB0eXBlOiBcIkFjdGlvbkV4ZWN1dGlvblN0YXJ0XCIsXG4gICAgICBhY3Rpb25FeGVjdXRpb25JZCxcbiAgICAgIGFjdGlvbk5hbWVcbiAgICB9KTtcbiAgfVxuICBzZW5kQWN0aW9uRXhlY3V0aW9uQXJncyhhcmdzKSB7XG4gICAgdGhpcy5uZXh0KHtcbiAgICAgIHR5cGU6IFwiQWN0aW9uRXhlY3V0aW9uQXJnc1wiLFxuICAgICAgYXJnc1xuICAgIH0pO1xuICB9XG4gIHNlbmRBY3Rpb25FeGVjdXRpb25FbmQoKSB7XG4gICAgdGhpcy5uZXh0KHtcbiAgICAgIHR5cGU6IFwiQWN0aW9uRXhlY3V0aW9uRW5kXCJcbiAgICB9KTtcbiAgfVxuICBzZW5kQWN0aW9uRXhlY3V0aW9uKGFjdGlvbkV4ZWN1dGlvbklkLCB0b29sTmFtZSwgYXJncykge1xuICAgIHRoaXMuc2VuZEFjdGlvbkV4ZWN1dGlvblN0YXJ0KGFjdGlvbkV4ZWN1dGlvbklkLCB0b29sTmFtZSk7XG4gICAgdGhpcy5zZW5kQWN0aW9uRXhlY3V0aW9uQXJncyhhcmdzKTtcbiAgICB0aGlzLnNlbmRBY3Rpb25FeGVjdXRpb25FbmQoKTtcbiAgfVxuICBzZW5kQWN0aW9uRXhlY3V0aW9uUmVzdWx0KGFjdGlvbkV4ZWN1dGlvbklkLCBhY3Rpb25OYW1lLCByZXN1bHQpIHtcbiAgICB0aGlzLm5leHQoe1xuICAgICAgdHlwZTogXCJBY3Rpb25FeGVjdXRpb25SZXN1bHRcIixcbiAgICAgIGFjdGlvbk5hbWUsXG4gICAgICBhY3Rpb25FeGVjdXRpb25JZCxcbiAgICAgIHJlc3VsdFxuICAgIH0pO1xuICB9XG4gIHNlbmRBZ2VudFN0YXRlTWVzc2FnZSh0aHJlYWRJZCwgYWdlbnROYW1lLCBub2RlTmFtZSwgcnVuSWQsIGFjdGl2ZSwgcm9sZSwgc3RhdGUsIHJ1bm5pbmcpIHtcbiAgICB0aGlzLm5leHQoe1xuICAgICAgdHlwZTogXCJBZ2VudFN0YXRlTWVzc2FnZVwiLFxuICAgICAgdGhyZWFkSWQsXG4gICAgICBhZ2VudE5hbWUsXG4gICAgICBub2RlTmFtZSxcbiAgICAgIHJ1bklkLFxuICAgICAgYWN0aXZlLFxuICAgICAgcm9sZSxcbiAgICAgIHN0YXRlLFxuICAgICAgcnVubmluZ1xuICAgIH0pO1xuICB9XG59O1xuX19uYW1lKFJ1bnRpbWVFdmVudFN1YmplY3QsIFwiUnVudGltZUV2ZW50U3ViamVjdFwiKTtcbnZhciBSdW50aW1lRXZlbnRTb3VyY2UgPSBjbGFzcyB7XG4gIGV2ZW50U3RyZWFtJCA9IG5ldyBSdW50aW1lRXZlbnRTdWJqZWN0KCk7XG4gIGNhbGxiYWNrO1xuICBhc3luYyBzdHJlYW0oY2FsbGJhY2spIHtcbiAgICB0aGlzLmNhbGxiYWNrID0gY2FsbGJhY2s7XG4gIH1cbiAgcHJvY2Vzc1J1bnRpbWVFdmVudHMoeyBzZXJ2ZXJTaWRlQWN0aW9ucywgZ3VhcmRyYWlsc1Jlc3VsdCQsIGFjdGlvbklucHV0c1dpdGhvdXRBZ2VudHMgfSkge1xuICAgIHRoaXMuY2FsbGJhY2sodGhpcy5ldmVudFN0cmVhbSQpLmNhdGNoKChlcnJvcikgPT4ge1xuICAgICAgY29uc29sZS5lcnJvcihcIkVycm9yIGluIGV2ZW50IHNvdXJjZSBjYWxsYmFja1wiLCBlcnJvcik7XG4gICAgfSk7XG4gICAgcmV0dXJuIHRoaXMuZXZlbnRTdHJlYW0kLnBpcGUoXG4gICAgICAvLyBtYXJrIHRvb2xzIGZvciBzZXJ2ZXIgc2lkZSBleGVjdXRpb25cbiAgICAgICgwLCBpbXBvcnRfcnhqczIubWFwKSgoZXZlbnQpID0+IHtcbiAgICAgICAgaWYgKGV2ZW50LnR5cGUgPT09IFwiQWN0aW9uRXhlY3V0aW9uU3RhcnRcIikge1xuICAgICAgICAgIGlmIChldmVudC5zY29wZSAhPT0gXCJwYXNzVGhyb3VnaFwiKSB7XG4gICAgICAgICAgICBldmVudC5zY29wZSA9IHNlcnZlclNpZGVBY3Rpb25zLmZpbmQoKGFjdGlvbikgPT4gYWN0aW9uLm5hbWUgPT09IGV2ZW50LmFjdGlvbk5hbWUpID8gXCJzZXJ2ZXJcIiA6IFwiY2xpZW50XCI7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHJldHVybiBldmVudDtcbiAgICAgIH0pLFxuICAgICAgLy8gdHJhY2sgc3RhdGVcbiAgICAgICgwLCBpbXBvcnRfcnhqczIuc2NhbikoKGFjYywgZXZlbnQpID0+IHtcbiAgICAgICAgYWNjID0ge1xuICAgICAgICAgIC4uLmFjY1xuICAgICAgICB9O1xuICAgICAgICBpZiAoZXZlbnQudHlwZSA9PT0gXCJBY3Rpb25FeGVjdXRpb25TdGFydFwiKSB7XG4gICAgICAgICAgYWNjLmNhbGxBY3Rpb25TZXJ2ZXJTaWRlID0gZXZlbnQuc2NvcGUgPT09IFwic2VydmVyXCI7XG4gICAgICAgICAgYWNjLmFyZ3MgPSBcIlwiO1xuICAgICAgICAgIGFjYy5hY3Rpb25FeGVjdXRpb25JZCA9IGV2ZW50LmFjdGlvbkV4ZWN1dGlvbklkO1xuICAgICAgICAgIGlmIChhY2MuY2FsbEFjdGlvblNlcnZlclNpZGUpIHtcbiAgICAgICAgICAgIGFjYy5hY3Rpb24gPSBzZXJ2ZXJTaWRlQWN0aW9ucy5maW5kKChhY3Rpb24pID0+IGFjdGlvbi5uYW1lID09PSBldmVudC5hY3Rpb25OYW1lKTtcbiAgICAgICAgICB9XG4gICAgICAgIH0gZWxzZSBpZiAoZXZlbnQudHlwZSA9PT0gXCJBY3Rpb25FeGVjdXRpb25BcmdzXCIpIHtcbiAgICAgICAgICBhY2MuYXJncyArPSBldmVudC5hcmdzO1xuICAgICAgICB9XG4gICAgICAgIGFjYy5ldmVudCA9IGV2ZW50O1xuICAgICAgICByZXR1cm4gYWNjO1xuICAgICAgfSwge1xuICAgICAgICBldmVudDogbnVsbCxcbiAgICAgICAgY2FsbEFjdGlvblNlcnZlclNpZGU6IGZhbHNlLFxuICAgICAgICBhcmdzOiBcIlwiLFxuICAgICAgICBhY3Rpb25FeGVjdXRpb25JZDogbnVsbCxcbiAgICAgICAgYWN0aW9uOiBudWxsXG4gICAgICB9KSxcbiAgICAgICgwLCBpbXBvcnRfcnhqczIuY29uY2F0TWFwKSgoZXZlbnRXaXRoU3RhdGUpID0+IHtcbiAgICAgICAgaWYgKGV2ZW50V2l0aFN0YXRlLmV2ZW50LnR5cGUgPT09IFwiQWN0aW9uRXhlY3V0aW9uRW5kXCIgJiYgZXZlbnRXaXRoU3RhdGUuY2FsbEFjdGlvblNlcnZlclNpZGUpIHtcbiAgICAgICAgICBjb25zdCB0b29sQ2FsbEV2ZW50U3RyZWFtJCA9IG5ldyBSdW50aW1lRXZlbnRTdWJqZWN0KCk7XG4gICAgICAgICAgZXhlY3V0ZUFjdGlvbih0b29sQ2FsbEV2ZW50U3RyZWFtJCwgZ3VhcmRyYWlsc1Jlc3VsdCQgPyBndWFyZHJhaWxzUmVzdWx0JCA6IG51bGwsIGV2ZW50V2l0aFN0YXRlLmFjdGlvbiwgZXZlbnRXaXRoU3RhdGUuYXJncywgZXZlbnRXaXRoU3RhdGUuYWN0aW9uRXhlY3V0aW9uSWQsIGFjdGlvbklucHV0c1dpdGhvdXRBZ2VudHMpLmNhdGNoKChlcnJvcikgPT4ge1xuICAgICAgICAgICAgY29uc29sZS5lcnJvcihlcnJvcik7XG4gICAgICAgICAgfSk7XG4gICAgICAgICAgdGVsZW1ldHJ5X2NsaWVudF9kZWZhdWx0LmNhcHR1cmUoXCJvc3MucnVudGltZS5zZXJ2ZXJfYWN0aW9uX2V4ZWN1dGVkXCIsIHt9KTtcbiAgICAgICAgICByZXR1cm4gKDAsIGltcG9ydF9yeGpzMi5jb25jYXQpKCgwLCBpbXBvcnRfcnhqczIub2YpKGV2ZW50V2l0aFN0YXRlLmV2ZW50KSwgdG9vbENhbGxFdmVudFN0cmVhbSQpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIHJldHVybiAoMCwgaW1wb3J0X3J4anMyLm9mKShldmVudFdpdGhTdGF0ZS5ldmVudCk7XG4gICAgICAgIH1cbiAgICAgIH0pXG4gICAgKTtcbiAgfVxufTtcbl9fbmFtZShSdW50aW1lRXZlbnRTb3VyY2UsIFwiUnVudGltZUV2ZW50U291cmNlXCIpO1xuYXN5bmMgZnVuY3Rpb24gZXhlY3V0ZUFjdGlvbihldmVudFN0cmVhbSQsIGd1YXJkcmFpbHNSZXN1bHQkLCBhY3Rpb24sIGFjdGlvbkFyZ3VtZW50cywgYWN0aW9uRXhlY3V0aW9uSWQsIGFjdGlvbklucHV0c1dpdGhvdXRBZ2VudHMpIHtcbiAgdmFyIF9hO1xuICBpZiAoZ3VhcmRyYWlsc1Jlc3VsdCQpIHtcbiAgICBjb25zdCB7IHN0YXR1cyB9ID0gYXdhaXQgKDAsIGltcG9ydF9yeGpzMi5maXJzdFZhbHVlRnJvbSkoZ3VhcmRyYWlsc1Jlc3VsdCQpO1xuICAgIGlmIChzdGF0dXMgPT09IFwiZGVuaWVkXCIpIHtcbiAgICAgIGV2ZW50U3RyZWFtJC5jb21wbGV0ZSgpO1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgfVxuICBsZXQgYXJncyA9IFtdO1xuICBpZiAoYWN0aW9uQXJndW1lbnRzKSB7XG4gICAgYXJncyA9IEpTT04ucGFyc2UoYWN0aW9uQXJndW1lbnRzKTtcbiAgfVxuICBpZiAoaXNMYW5nR3JhcGhBZ2VudEFjdGlvbihhY3Rpb24pKSB7XG4gICAgZXZlbnRTdHJlYW0kLnNlbmRBY3Rpb25FeGVjdXRpb25SZXN1bHQoYWN0aW9uRXhlY3V0aW9uSWQsIGFjdGlvbi5uYW1lLCBgJHthY3Rpb24ubmFtZX0gYWdlbnQgc3RhcnRlZGApO1xuICAgIGNvbnN0IHN0cmVhbSA9IGF3YWl0IGFjdGlvbi5sYW5nR3JhcGhBZ2VudEhhbmRsZXIoe1xuICAgICAgbmFtZTogYWN0aW9uLm5hbWUsXG4gICAgICBhY3Rpb25JbnB1dHNXaXRob3V0QWdlbnRzXG4gICAgfSk7XG4gICAgKDAsIGltcG9ydF9yeGpzMi5mcm9tKShzdHJlYW0pLnN1YnNjcmliZSh7XG4gICAgICBuZXh0OiAoZXZlbnQpID0+IGV2ZW50U3RyZWFtJC5uZXh0KGV2ZW50KSxcbiAgICAgIGVycm9yOiAoZXJyKSA9PiBjb25zb2xlLmVycm9yKFwiRXJyb3IgaW4gc3RyZWFtXCIsIGVyciksXG4gICAgICBjb21wbGV0ZTogKCkgPT4gZXZlbnRTdHJlYW0kLmNvbXBsZXRlKClcbiAgICB9KTtcbiAgfSBlbHNlIHtcbiAgICBjb25zdCByZXN1bHQgPSBhd2FpdCAoKF9hID0gYWN0aW9uLmhhbmRsZXIpID09IG51bGwgPyB2b2lkIDAgOiBfYS5jYWxsKGFjdGlvbiwgYXJncykpO1xuICAgIGF3YWl0IHN0cmVhbUxhbmdDaGFpblJlc3BvbnNlKHtcbiAgICAgIHJlc3VsdCxcbiAgICAgIGV2ZW50U3RyZWFtJCxcbiAgICAgIGFjdGlvbkV4ZWN1dGlvbjoge1xuICAgICAgICBuYW1lOiBhY3Rpb24ubmFtZSxcbiAgICAgICAgaWQ6IGFjdGlvbkV4ZWN1dGlvbklkXG4gICAgICB9XG4gICAgfSk7XG4gIH1cbn1cbl9fbmFtZShleGVjdXRlQWN0aW9uLCBcImV4ZWN1dGVBY3Rpb25cIik7XG5cbi8vIHNyYy9zZXJ2aWNlLWFkYXB0ZXJzL2NvbnZlcnNpb24udHNcbnZhciBpbXBvcnRfY2xhc3NfdHJhbnNmb3JtZXIgPSByZXF1aXJlKFwiY2xhc3MtdHJhbnNmb3JtZXJcIik7XG5mdW5jdGlvbiBjb252ZXJ0R3FsSW5wdXRUb01lc3NhZ2VzKGlucHV0TWVzc2FnZXMpIHtcbiAgY29uc3QgbWVzc2FnZXMgPSBbXTtcbiAgZm9yIChjb25zdCBtZXNzYWdlIG9mIGlucHV0TWVzc2FnZXMpIHtcbiAgICBpZiAobWVzc2FnZS50ZXh0TWVzc2FnZSkge1xuICAgICAgbWVzc2FnZXMucHVzaCgoMCwgaW1wb3J0X2NsYXNzX3RyYW5zZm9ybWVyLnBsYWluVG9JbnN0YW5jZSkoVGV4dE1lc3NhZ2UsIHtcbiAgICAgICAgaWQ6IG1lc3NhZ2UuaWQsXG4gICAgICAgIGNyZWF0ZWRBdDogbWVzc2FnZS5jcmVhdGVkQXQsXG4gICAgICAgIHJvbGU6IG1lc3NhZ2UudGV4dE1lc3NhZ2Uucm9sZSxcbiAgICAgICAgY29udGVudDogbWVzc2FnZS50ZXh0TWVzc2FnZS5jb250ZW50XG4gICAgICB9KSk7XG4gICAgfSBlbHNlIGlmIChtZXNzYWdlLmFjdGlvbkV4ZWN1dGlvbk1lc3NhZ2UpIHtcbiAgICAgIG1lc3NhZ2VzLnB1c2goKDAsIGltcG9ydF9jbGFzc190cmFuc2Zvcm1lci5wbGFpblRvSW5zdGFuY2UpKEFjdGlvbkV4ZWN1dGlvbk1lc3NhZ2UsIHtcbiAgICAgICAgaWQ6IG1lc3NhZ2UuaWQsXG4gICAgICAgIGNyZWF0ZWRBdDogbWVzc2FnZS5jcmVhdGVkQXQsXG4gICAgICAgIG5hbWU6IG1lc3NhZ2UuYWN0aW9uRXhlY3V0aW9uTWVzc2FnZS5uYW1lLFxuICAgICAgICBhcmd1bWVudHM6IEpTT04ucGFyc2UobWVzc2FnZS5hY3Rpb25FeGVjdXRpb25NZXNzYWdlLmFyZ3VtZW50cyksXG4gICAgICAgIHNjb3BlOiBtZXNzYWdlLmFjdGlvbkV4ZWN1dGlvbk1lc3NhZ2Uuc2NvcGVcbiAgICAgIH0pKTtcbiAgICB9IGVsc2UgaWYgKG1lc3NhZ2UucmVzdWx0TWVzc2FnZSkge1xuICAgICAgbWVzc2FnZXMucHVzaCgoMCwgaW1wb3J0X2NsYXNzX3RyYW5zZm9ybWVyLnBsYWluVG9JbnN0YW5jZSkoUmVzdWx0TWVzc2FnZSwge1xuICAgICAgICBpZDogbWVzc2FnZS5pZCxcbiAgICAgICAgY3JlYXRlZEF0OiBtZXNzYWdlLmNyZWF0ZWRBdCxcbiAgICAgICAgYWN0aW9uRXhlY3V0aW9uSWQ6IG1lc3NhZ2UucmVzdWx0TWVzc2FnZS5hY3Rpb25FeGVjdXRpb25JZCxcbiAgICAgICAgYWN0aW9uTmFtZTogbWVzc2FnZS5yZXN1bHRNZXNzYWdlLmFjdGlvbk5hbWUsXG4gICAgICAgIHJlc3VsdDogbWVzc2FnZS5yZXN1bHRNZXNzYWdlLnJlc3VsdFxuICAgICAgfSkpO1xuICAgIH0gZWxzZSBpZiAobWVzc2FnZS5hZ2VudFN0YXRlTWVzc2FnZSkge1xuICAgICAgbWVzc2FnZXMucHVzaCgoMCwgaW1wb3J0X2NsYXNzX3RyYW5zZm9ybWVyLnBsYWluVG9JbnN0YW5jZSkoQWdlbnRTdGF0ZU1lc3NhZ2UsIHtcbiAgICAgICAgaWQ6IG1lc3NhZ2UuaWQsXG4gICAgICAgIHRocmVhZElkOiBtZXNzYWdlLmFnZW50U3RhdGVNZXNzYWdlLnRocmVhZElkLFxuICAgICAgICBjcmVhdGVkQXQ6IG1lc3NhZ2UuY3JlYXRlZEF0LFxuICAgICAgICBhZ2VudE5hbWU6IG1lc3NhZ2UuYWdlbnRTdGF0ZU1lc3NhZ2UuYWdlbnROYW1lLFxuICAgICAgICBub2RlTmFtZTogbWVzc2FnZS5hZ2VudFN0YXRlTWVzc2FnZS5ub2RlTmFtZSxcbiAgICAgICAgcnVuSWQ6IG1lc3NhZ2UuYWdlbnRTdGF0ZU1lc3NhZ2UucnVuSWQsXG4gICAgICAgIGFjdGl2ZTogbWVzc2FnZS5hZ2VudFN0YXRlTWVzc2FnZS5hY3RpdmUsXG4gICAgICAgIHJvbGU6IG1lc3NhZ2UuYWdlbnRTdGF0ZU1lc3NhZ2Uucm9sZSxcbiAgICAgICAgc3RhdGU6IEpTT04ucGFyc2UobWVzc2FnZS5hZ2VudFN0YXRlTWVzc2FnZS5zdGF0ZSksXG4gICAgICAgIHJ1bm5pbmc6IG1lc3NhZ2UuYWdlbnRTdGF0ZU1lc3NhZ2UucnVubmluZ1xuICAgICAgfSkpO1xuICAgIH1cbiAgfVxuICByZXR1cm4gbWVzc2FnZXM7XG59XG5fX25hbWUoY29udmVydEdxbElucHV0VG9NZXNzYWdlcywgXCJjb252ZXJ0R3FsSW5wdXRUb01lc3NhZ2VzXCIpO1xuXG4vLyBzcmMvbGliL3J1bnRpbWUvY29waWxvdC1ydW50aW1lLnRzXG52YXIgaW1wb3J0X3J4anMzID0gcmVxdWlyZShcInJ4anNcIik7XG52YXIgQ29waWxvdFJ1bnRpbWUgPSBjbGFzcyB7XG4gIGFjdGlvbnM7XG4gIHJlbW90ZUFjdGlvbkRlZmluaXRpb25zO1xuICBsYW5nc2VydmUgPSBbXTtcbiAgb25CZWZvcmVSZXF1ZXN0O1xuICBvbkFmdGVyUmVxdWVzdDtcbiAgY29uc3RydWN0b3IocGFyYW1zKSB7XG4gICAgdmFyIF9hLCBfYjtcbiAgICB0aGlzLmFjdGlvbnMgPSAocGFyYW1zID09IG51bGwgPyB2b2lkIDAgOiBwYXJhbXMuYWN0aW9ucykgfHwgW107XG4gICAgZm9yIChjb25zdCBjaGFpbiBvZiAocGFyYW1zID09IG51bGwgPyB2b2lkIDAgOiBwYXJhbXMubGFuZ3NlcnZlKSB8fCBbXSkge1xuICAgICAgY29uc3QgcmVtb3RlQ2hhaW4gPSBuZXcgUmVtb3RlQ2hhaW4oY2hhaW4pO1xuICAgICAgdGhpcy5sYW5nc2VydmUucHVzaChyZW1vdGVDaGFpbi50b0FjdGlvbigpKTtcbiAgICB9XG4gICAgdGhpcy5yZW1vdGVBY3Rpb25EZWZpbml0aW9ucyA9IChwYXJhbXMgPT0gbnVsbCA/IHZvaWQgMCA6IHBhcmFtcy5yZW1vdGVBY3Rpb25zKSB8fCBbXTtcbiAgICB0aGlzLm9uQmVmb3JlUmVxdWVzdCA9IChfYSA9IHBhcmFtcyA9PSBudWxsID8gdm9pZCAwIDogcGFyYW1zLm1pZGRsZXdhcmUpID09IG51bGwgPyB2b2lkIDAgOiBfYS5vbkJlZm9yZVJlcXVlc3Q7XG4gICAgdGhpcy5vbkFmdGVyUmVxdWVzdCA9IChfYiA9IHBhcmFtcyA9PSBudWxsID8gdm9pZCAwIDogcGFyYW1zLm1pZGRsZXdhcmUpID09IG51bGwgPyB2b2lkIDAgOiBfYi5vbkFmdGVyUmVxdWVzdDtcbiAgfVxuICBhc3luYyBwcm9jZXNzUnVudGltZVJlcXVlc3QocmVxdWVzdCkge1xuICAgIHZhciBfYTtcbiAgICBjb25zdCB7IHNlcnZpY2VBZGFwdGVyLCBtZXNzYWdlczogcmF3TWVzc2FnZXMsIGFjdGlvbnM6IGNsaWVudFNpZGVBY3Rpb25zSW5wdXQsIHRocmVhZElkLCBydW5JZCwgb3V0cHV0TWVzc2FnZXNQcm9taXNlLCBncmFwaHFsQ29udGV4dCwgZm9yd2FyZGVkUGFyYW1ldGVycywgYWdlbnRTZXNzaW9uLCB1cmwgfSA9IHJlcXVlc3Q7XG4gICAgaWYgKGFnZW50U2Vzc2lvbikge1xuICAgICAgcmV0dXJuIHRoaXMucHJvY2Vzc0FnZW50UmVxdWVzdChyZXF1ZXN0KTtcbiAgICB9XG4gICAgY29uc3QgbWVzc2FnZXMgPSByYXdNZXNzYWdlcy5maWx0ZXIoKG1lc3NhZ2UpID0+ICFtZXNzYWdlLmFnZW50U3RhdGVNZXNzYWdlKTtcbiAgICBjb25zdCBpbnB1dE1lc3NhZ2VzID0gY29udmVydEdxbElucHV0VG9NZXNzYWdlcyhtZXNzYWdlcyk7XG4gICAgY29uc3Qgc2VydmVyU2lkZUFjdGlvbnMgPSBhd2FpdCB0aGlzLmdldFNlcnZlclNpZGVBY3Rpb25zKHJlcXVlc3QpO1xuICAgIGNvbnN0IHNlcnZlclNpZGVBY3Rpb25zSW5wdXQgPSBzZXJ2ZXJTaWRlQWN0aW9ucy5tYXAoKGFjdGlvbikgPT4gKHtcbiAgICAgIG5hbWU6IGFjdGlvbi5uYW1lLFxuICAgICAgZGVzY3JpcHRpb246IGFjdGlvbi5kZXNjcmlwdGlvbixcbiAgICAgIGpzb25TY2hlbWE6IEpTT04uc3RyaW5naWZ5KCgwLCBpbXBvcnRfc2hhcmVkOS5hY3Rpb25QYXJhbWV0ZXJzVG9Kc29uU2NoZW1hKShhY3Rpb24ucGFyYW1ldGVycykpXG4gICAgfSkpO1xuICAgIGNvbnN0IGFjdGlvbklucHV0cyA9IGZsYXR0ZW5Ub29sQ2FsbHNOb0R1cGxpY2F0ZXMoW1xuICAgICAgLi4uc2VydmVyU2lkZUFjdGlvbnNJbnB1dCxcbiAgICAgIC4uLmNsaWVudFNpZGVBY3Rpb25zSW5wdXRcbiAgICBdKTtcbiAgICBhd2FpdCAoKF9hID0gdGhpcy5vbkJlZm9yZVJlcXVlc3QpID09IG51bGwgPyB2b2lkIDAgOiBfYS5jYWxsKHRoaXMsIHtcbiAgICAgIHRocmVhZElkLFxuICAgICAgcnVuSWQsXG4gICAgICBpbnB1dE1lc3NhZ2VzLFxuICAgICAgcHJvcGVydGllczogZ3JhcGhxbENvbnRleHQucHJvcGVydGllcyxcbiAgICAgIHVybFxuICAgIH0pKTtcbiAgICB0cnkge1xuICAgICAgY29uc3QgZXZlbnRTb3VyY2UgPSBuZXcgUnVudGltZUV2ZW50U291cmNlKCk7XG4gICAgICBjb25zdCByZXN1bHQgPSBhd2FpdCBzZXJ2aWNlQWRhcHRlci5wcm9jZXNzKHtcbiAgICAgICAgbWVzc2FnZXM6IGlucHV0TWVzc2FnZXMsXG4gICAgICAgIGFjdGlvbnM6IGFjdGlvbklucHV0cyxcbiAgICAgICAgdGhyZWFkSWQsXG4gICAgICAgIHJ1bklkLFxuICAgICAgICBldmVudFNvdXJjZSxcbiAgICAgICAgZm9yd2FyZGVkUGFyYW1ldGVyc1xuICAgICAgfSk7XG4gICAgICBvdXRwdXRNZXNzYWdlc1Byb21pc2UudGhlbigob3V0cHV0TWVzc2FnZXMpID0+IHtcbiAgICAgICAgdmFyIF9hMjtcbiAgICAgICAgKF9hMiA9IHRoaXMub25BZnRlclJlcXVlc3QpID09IG51bGwgPyB2b2lkIDAgOiBfYTIuY2FsbCh0aGlzLCB7XG4gICAgICAgICAgdGhyZWFkSWQ6IHJlc3VsdC50aHJlYWRJZCxcbiAgICAgICAgICBydW5JZDogcmVzdWx0LnJ1bklkLFxuICAgICAgICAgIGlucHV0TWVzc2FnZXMsXG4gICAgICAgICAgb3V0cHV0TWVzc2FnZXMsXG4gICAgICAgICAgcHJvcGVydGllczogZ3JhcGhxbENvbnRleHQucHJvcGVydGllcyxcbiAgICAgICAgICB1cmxcbiAgICAgICAgfSk7XG4gICAgICB9KS5jYXRjaCgoX2Vycm9yKSA9PiB7XG4gICAgICB9KTtcbiAgICAgIHJldHVybiB7XG4gICAgICAgIHRocmVhZElkOiByZXN1bHQudGhyZWFkSWQsXG4gICAgICAgIHJ1bklkOiByZXN1bHQucnVuSWQsXG4gICAgICAgIGV2ZW50U291cmNlLFxuICAgICAgICBzZXJ2ZXJTaWRlQWN0aW9ucyxcbiAgICAgICAgYWN0aW9uSW5wdXRzV2l0aG91dEFnZW50czogYWN0aW9uSW5wdXRzLmZpbHRlcigoYWN0aW9uKSA9PiAoXG4gICAgICAgICAgLy8gVE9ETy1BR0VOVFM6IGRvIG5vdCBleGNsdWRlIEFMTCBzZXJ2ZXIgc2lkZSBhY3Rpb25zXG4gICAgICAgICAgIXNlcnZlclNpZGVBY3Rpb25zLmZpbmQoKHNlcnZlclNpZGVBY3Rpb24pID0+IHNlcnZlclNpZGVBY3Rpb24ubmFtZSA9PSBhY3Rpb24ubmFtZSlcbiAgICAgICAgKSlcbiAgICAgIH07XG4gICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgIGNvbnNvbGUuZXJyb3IoXCJFcnJvciBnZXR0aW5nIHJlc3BvbnNlOlwiLCBlcnJvcik7XG4gICAgICB0aHJvdyBlcnJvcjtcbiAgICB9XG4gIH1cbiAgYXN5bmMgcHJvY2Vzc0FnZW50UmVxdWVzdChyZXF1ZXN0KSB7XG4gICAgdmFyIF9hO1xuICAgIGNvbnN0IHsgbWVzc2FnZXM6IHJhd01lc3NhZ2VzLCBvdXRwdXRNZXNzYWdlc1Byb21pc2UsIGdyYXBocWxDb250ZXh0LCBhZ2VudFNlc3Npb24gfSA9IHJlcXVlc3Q7XG4gICAgY29uc3QgeyB0aHJlYWRJZCA9ICgwLCBpbXBvcnRfc2hhcmVkOS5yYW5kb21JZCkoKSwgYWdlbnROYW1lLCBub2RlTmFtZSB9ID0gYWdlbnRTZXNzaW9uO1xuICAgIGNvbnN0IHNlcnZlclNpZGVBY3Rpb25zID0gYXdhaXQgdGhpcy5nZXRTZXJ2ZXJTaWRlQWN0aW9ucyhyZXF1ZXN0KTtcbiAgICBjb25zdCBtZXNzYWdlcyA9IGNvbnZlcnRHcWxJbnB1dFRvTWVzc2FnZXMocmF3TWVzc2FnZXMpO1xuICAgIGNvbnN0IGFnZW50ID0gc2VydmVyU2lkZUFjdGlvbnMuZmluZCgoYWN0aW9uKSA9PiBhY3Rpb24ubmFtZSA9PT0gYWdlbnROYW1lICYmIGlzTGFuZ0dyYXBoQWdlbnRBY3Rpb24oYWN0aW9uKSk7XG4gICAgaWYgKCFhZ2VudCkge1xuICAgICAgdGhyb3cgbmV3IEVycm9yKGBBZ2VudCAke2FnZW50TmFtZX0gbm90IGZvdW5kYCk7XG4gICAgfVxuICAgIGNvbnN0IHNlcnZlclNpZGVBY3Rpb25zSW5wdXQgPSBzZXJ2ZXJTaWRlQWN0aW9ucy5maWx0ZXIoKGFjdGlvbikgPT4gIWlzTGFuZ0dyYXBoQWdlbnRBY3Rpb24oYWN0aW9uKSkubWFwKChhY3Rpb24pID0+ICh7XG4gICAgICBuYW1lOiBhY3Rpb24ubmFtZSxcbiAgICAgIGRlc2NyaXB0aW9uOiBhY3Rpb24uZGVzY3JpcHRpb24sXG4gICAgICBqc29uU2NoZW1hOiBKU09OLnN0cmluZ2lmeSgoMCwgaW1wb3J0X3NoYXJlZDkuYWN0aW9uUGFyYW1ldGVyc1RvSnNvblNjaGVtYSkoYWN0aW9uLnBhcmFtZXRlcnMpKVxuICAgIH0pKTtcbiAgICBjb25zdCBhY3Rpb25JbnB1dHNXaXRob3V0QWdlbnRzID0gZmxhdHRlblRvb2xDYWxsc05vRHVwbGljYXRlcyhbXG4gICAgICAuLi5zZXJ2ZXJTaWRlQWN0aW9uc0lucHV0LFxuICAgICAgLi4ucmVxdWVzdC5hY3Rpb25zXG4gICAgXSk7XG4gICAgYXdhaXQgKChfYSA9IHRoaXMub25CZWZvcmVSZXF1ZXN0KSA9PSBudWxsID8gdm9pZCAwIDogX2EuY2FsbCh0aGlzLCB7XG4gICAgICB0aHJlYWRJZCxcbiAgICAgIHJ1bklkOiB2b2lkIDAsXG4gICAgICBpbnB1dE1lc3NhZ2VzOiBtZXNzYWdlcyxcbiAgICAgIHByb3BlcnRpZXM6IGdyYXBocWxDb250ZXh0LnByb3BlcnRpZXNcbiAgICB9KSk7XG4gICAgdHJ5IHtcbiAgICAgIGNvbnN0IGV2ZW50U291cmNlID0gbmV3IFJ1bnRpbWVFdmVudFNvdXJjZSgpO1xuICAgICAgY29uc3Qgc3RyZWFtID0gYXdhaXQgYWdlbnQubGFuZ0dyYXBoQWdlbnRIYW5kbGVyKHtcbiAgICAgICAgbmFtZTogYWdlbnROYW1lLFxuICAgICAgICB0aHJlYWRJZCxcbiAgICAgICAgbm9kZU5hbWUsXG4gICAgICAgIGFjdGlvbklucHV0c1dpdGhvdXRBZ2VudHNcbiAgICAgIH0pO1xuICAgICAgZXZlbnRTb3VyY2Uuc3RyZWFtKGFzeW5jIChldmVudFN0cmVhbSQpID0+IHtcbiAgICAgICAgKDAsIGltcG9ydF9yeGpzMy5mcm9tKShzdHJlYW0pLnN1YnNjcmliZSh7XG4gICAgICAgICAgbmV4dDogKGV2ZW50KSA9PiBldmVudFN0cmVhbSQubmV4dChldmVudCksXG4gICAgICAgICAgZXJyb3I6IChlcnIpID0+IGNvbnNvbGUuZXJyb3IoXCJFcnJvciBpbiBzdHJlYW1cIiwgZXJyKSxcbiAgICAgICAgICBjb21wbGV0ZTogKCkgPT4gZXZlbnRTdHJlYW0kLmNvbXBsZXRlKClcbiAgICAgICAgfSk7XG4gICAgICB9KTtcbiAgICAgIG91dHB1dE1lc3NhZ2VzUHJvbWlzZS50aGVuKChvdXRwdXRNZXNzYWdlcykgPT4ge1xuICAgICAgICB2YXIgX2EyO1xuICAgICAgICAoX2EyID0gdGhpcy5vbkFmdGVyUmVxdWVzdCkgPT0gbnVsbCA/IHZvaWQgMCA6IF9hMi5jYWxsKHRoaXMsIHtcbiAgICAgICAgICB0aHJlYWRJZCxcbiAgICAgICAgICBydW5JZDogdm9pZCAwLFxuICAgICAgICAgIGlucHV0TWVzc2FnZXM6IG1lc3NhZ2VzLFxuICAgICAgICAgIG91dHB1dE1lc3NhZ2VzLFxuICAgICAgICAgIHByb3BlcnRpZXM6IGdyYXBocWxDb250ZXh0LnByb3BlcnRpZXNcbiAgICAgICAgfSk7XG4gICAgICB9KS5jYXRjaCgoX2Vycm9yKSA9PiB7XG4gICAgICB9KTtcbiAgICAgIHJldHVybiB7XG4gICAgICAgIHRocmVhZElkLFxuICAgICAgICBydW5JZDogdm9pZCAwLFxuICAgICAgICBldmVudFNvdXJjZSxcbiAgICAgICAgc2VydmVyU2lkZUFjdGlvbnM6IFtdLFxuICAgICAgICBhY3Rpb25JbnB1dHNXaXRob3V0QWdlbnRzXG4gICAgICB9O1xuICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICBjb25zb2xlLmVycm9yKFwiRXJyb3IgZ2V0dGluZyByZXNwb25zZTpcIiwgZXJyb3IpO1xuICAgICAgdGhyb3cgZXJyb3I7XG4gICAgfVxuICB9XG4gIGFzeW5jIGdldFNlcnZlclNpZGVBY3Rpb25zKHJlcXVlc3QpIHtcbiAgICBjb25zdCB7IG1lc3NhZ2VzOiByYXdNZXNzYWdlcywgZ3JhcGhxbENvbnRleHQsIGFnZW50U3RhdGVzLCB1cmwgfSA9IHJlcXVlc3Q7XG4gICAgY29uc3QgaW5wdXRNZXNzYWdlcyA9IGNvbnZlcnRHcWxJbnB1dFRvTWVzc2FnZXMocmF3TWVzc2FnZXMpO1xuICAgIGNvbnN0IGxhbmdzZXJ2ZUZ1bmN0aW9ucyA9IFtdO1xuICAgIGZvciAoY29uc3QgY2hhaW5Qcm9taXNlIG9mIHRoaXMubGFuZ3NlcnZlKSB7XG4gICAgICB0cnkge1xuICAgICAgICBjb25zdCBjaGFpbiA9IGF3YWl0IGNoYWluUHJvbWlzZTtcbiAgICAgICAgbGFuZ3NlcnZlRnVuY3Rpb25zLnB1c2goY2hhaW4pO1xuICAgICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgICAgY29uc29sZS5lcnJvcihcIkVycm9yIGxvYWRpbmcgbGFuZ3NlcnZlIGNoYWluOlwiLCBlcnJvcik7XG4gICAgICB9XG4gICAgfVxuICAgIGNvbnN0IHJlbW90ZUFjdGlvbnMgPSBhd2FpdCBzZXR1cFJlbW90ZUFjdGlvbnMoe1xuICAgICAgcmVtb3RlQWN0aW9uRGVmaW5pdGlvbnM6IHRoaXMucmVtb3RlQWN0aW9uRGVmaW5pdGlvbnMsXG4gICAgICBncmFwaHFsQ29udGV4dCxcbiAgICAgIG1lc3NhZ2VzOiBpbnB1dE1lc3NhZ2VzLFxuICAgICAgYWdlbnRTdGF0ZXNcbiAgICB9KTtcbiAgICBjb25zdCBjb25maWd1cmVkQWN0aW9ucyA9IHR5cGVvZiB0aGlzLmFjdGlvbnMgPT09IFwiZnVuY3Rpb25cIiA/IHRoaXMuYWN0aW9ucyh7XG4gICAgICBwcm9wZXJ0aWVzOiBncmFwaHFsQ29udGV4dC5wcm9wZXJ0aWVzLFxuICAgICAgdXJsXG4gICAgfSkgOiB0aGlzLmFjdGlvbnM7XG4gICAgcmV0dXJuIFtcbiAgICAgIC4uLmNvbmZpZ3VyZWRBY3Rpb25zLFxuICAgICAgLi4ubGFuZ3NlcnZlRnVuY3Rpb25zLFxuICAgICAgLi4ucmVtb3RlQWN0aW9uc1xuICAgIF07XG4gIH1cbn07XG5fX25hbWUoQ29waWxvdFJ1bnRpbWUsIFwiQ29waWxvdFJ1bnRpbWVcIik7XG5mdW5jdGlvbiBmbGF0dGVuVG9vbENhbGxzTm9EdXBsaWNhdGVzKHRvb2xzQnlQcmlvcml0eSkge1xuICBsZXQgYWxsVG9vbHMgPSBbXTtcbiAgY29uc3QgYWxsVG9vbE5hbWVzID0gW107XG4gIGZvciAoY29uc3QgdG9vbCBvZiB0b29sc0J5UHJpb3JpdHkpIHtcbiAgICBpZiAoIWFsbFRvb2xOYW1lcy5pbmNsdWRlcyh0b29sLm5hbWUpKSB7XG4gICAgICBhbGxUb29scy5wdXNoKHRvb2wpO1xuICAgICAgYWxsVG9vbE5hbWVzLnB1c2godG9vbC5uYW1lKTtcbiAgICB9XG4gIH1cbiAgcmV0dXJuIGFsbFRvb2xzO1xufVxuX19uYW1lKGZsYXR0ZW5Ub29sQ2FsbHNOb0R1cGxpY2F0ZXMsIFwiZmxhdHRlblRvb2xDYWxsc05vRHVwbGljYXRlc1wiKTtcblxuLy8gc3JjL2xpYi9pbnRlZ3JhdGlvbnMvc2hhcmVkLnRzXG52YXIgaW1wb3J0X3R5cGVfZ3JhcGhxbDE2ID0gcmVxdWlyZShcInR5cGUtZ3JhcGhxbFwiKTtcblxuLy8gc3JjL2dyYXBocWwvcmVzb2x2ZXJzL2NvcGlsb3QucmVzb2x2ZXIudHNcbnZhciBpbXBvcnRfdHlwZV9ncmFwaHFsMTUgPSByZXF1aXJlKFwidHlwZS1ncmFwaHFsXCIpO1xudmFyIGltcG9ydF9yeGpzNCA9IHJlcXVpcmUoXCJyeGpzXCIpO1xuXG4vLyBzcmMvZ3JhcGhxbC9pbnB1dHMvZ2VuZXJhdGUtY29waWxvdC1yZXNwb25zZS5pbnB1dC50c1xudmFyIGltcG9ydF90eXBlX2dyYXBocWwxMSA9IHJlcXVpcmUoXCJ0eXBlLWdyYXBocWxcIik7XG5cbi8vIHNyYy9ncmFwaHFsL2lucHV0cy9tZXNzYWdlLmlucHV0LnRzXG52YXIgaW1wb3J0X3R5cGVfZ3JhcGhxbDMgPSByZXF1aXJlKFwidHlwZS1ncmFwaHFsXCIpO1xuXG4vLyBzcmMvZ3JhcGhxbC90eXBlcy9lbnVtcy50c1xudmFyIGltcG9ydF90eXBlX2dyYXBocWwyID0gcmVxdWlyZShcInR5cGUtZ3JhcGhxbFwiKTtcbnZhciBNZXNzYWdlUm9sZTtcbihmdW5jdGlvbihNZXNzYWdlUm9sZTIpIHtcbiAgTWVzc2FnZVJvbGUyW1widXNlclwiXSA9IFwidXNlclwiO1xuICBNZXNzYWdlUm9sZTJbXCJhc3Npc3RhbnRcIl0gPSBcImFzc2lzdGFudFwiO1xuICBNZXNzYWdlUm9sZTJbXCJzeXN0ZW1cIl0gPSBcInN5c3RlbVwiO1xufSkoTWVzc2FnZVJvbGUgfHwgKE1lc3NhZ2VSb2xlID0ge30pKTtcbnZhciBBY3Rpb25FeGVjdXRpb25TY29wZTtcbihmdW5jdGlvbihBY3Rpb25FeGVjdXRpb25TY29wZTIpIHtcbiAgQWN0aW9uRXhlY3V0aW9uU2NvcGUyW1wic2VydmVyXCJdID0gXCJzZXJ2ZXJcIjtcbiAgQWN0aW9uRXhlY3V0aW9uU2NvcGUyW1wiY2xpZW50XCJdID0gXCJjbGllbnRcIjtcbiAgQWN0aW9uRXhlY3V0aW9uU2NvcGUyW1wicGFzc1Rocm91Z2hcIl0gPSBcInBhc3NUaHJvdWdoXCI7XG59KShBY3Rpb25FeGVjdXRpb25TY29wZSB8fCAoQWN0aW9uRXhlY3V0aW9uU2NvcGUgPSB7fSkpO1xudmFyIENvcGlsb3RSZXF1ZXN0VHlwZTtcbihmdW5jdGlvbihDb3BpbG90UmVxdWVzdFR5cGUyKSB7XG4gIENvcGlsb3RSZXF1ZXN0VHlwZTJbXCJDaGF0XCJdID0gXCJDaGF0XCI7XG4gIENvcGlsb3RSZXF1ZXN0VHlwZTJbXCJUYXNrXCJdID0gXCJUYXNrXCI7XG4gIENvcGlsb3RSZXF1ZXN0VHlwZTJbXCJUZXh0YXJlYUNvbXBsZXRpb25cIl0gPSBcIlRleHRhcmVhQ29tcGxldGlvblwiO1xuICBDb3BpbG90UmVxdWVzdFR5cGUyW1wiVGV4dGFyZWFQb3BvdmVyXCJdID0gXCJUZXh0YXJlYVBvcG92ZXJcIjtcbiAgQ29waWxvdFJlcXVlc3RUeXBlMltcIlN1Z2dlc3Rpb25cIl0gPSBcIlN1Z2dlc3Rpb25cIjtcbn0pKENvcGlsb3RSZXF1ZXN0VHlwZSB8fCAoQ29waWxvdFJlcXVlc3RUeXBlID0ge30pKTtcbigwLCBpbXBvcnRfdHlwZV9ncmFwaHFsMi5yZWdpc3RlckVudW1UeXBlKShNZXNzYWdlUm9sZSwge1xuICBuYW1lOiBcIk1lc3NhZ2VSb2xlXCIsXG4gIGRlc2NyaXB0aW9uOiBcIlRoZSByb2xlIG9mIHRoZSBtZXNzYWdlXCJcbn0pO1xuKDAsIGltcG9ydF90eXBlX2dyYXBocWwyLnJlZ2lzdGVyRW51bVR5cGUpKEFjdGlvbkV4ZWN1dGlvblNjb3BlLCB7XG4gIG5hbWU6IFwiQWN0aW9uRXhlY3V0aW9uU2NvcGVcIixcbiAgZGVzY3JpcHRpb246IFwiVGhlIHNjb3BlIG9mIHRoZSBhY3Rpb25cIlxufSk7XG4oMCwgaW1wb3J0X3R5cGVfZ3JhcGhxbDIucmVnaXN0ZXJFbnVtVHlwZSkoQ29waWxvdFJlcXVlc3RUeXBlLCB7XG4gIG5hbWU6IFwiQ29waWxvdFJlcXVlc3RUeXBlXCIsXG4gIGRlc2NyaXB0aW9uOiBcIlRoZSB0eXBlIG9mIENvcGlsb3QgcmVxdWVzdFwiXG59KTtcblxuLy8gc3JjL2dyYXBocWwvaW5wdXRzL21lc3NhZ2UuaW5wdXQudHNcbmZ1bmN0aW9uIF90c19kZWNvcmF0ZTIoZGVjb3JhdG9ycywgdGFyZ2V0LCBrZXksIGRlc2MpIHtcbiAgdmFyIGMgPSBhcmd1bWVudHMubGVuZ3RoLCByID0gYyA8IDMgPyB0YXJnZXQgOiBkZXNjID09PSBudWxsID8gZGVzYyA9IE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IodGFyZ2V0LCBrZXkpIDogZGVzYywgZDtcbiAgaWYgKHR5cGVvZiBSZWZsZWN0ID09PSBcIm9iamVjdFwiICYmIHR5cGVvZiBSZWZsZWN0LmRlY29yYXRlID09PSBcImZ1bmN0aW9uXCIpXG4gICAgciA9IFJlZmxlY3QuZGVjb3JhdGUoZGVjb3JhdG9ycywgdGFyZ2V0LCBrZXksIGRlc2MpO1xuICBlbHNlXG4gICAgZm9yICh2YXIgaSA9IGRlY29yYXRvcnMubGVuZ3RoIC0gMTsgaSA+PSAwOyBpLS0pXG4gICAgICBpZiAoZCA9IGRlY29yYXRvcnNbaV0pXG4gICAgICAgIHIgPSAoYyA8IDMgPyBkKHIpIDogYyA+IDMgPyBkKHRhcmdldCwga2V5LCByKSA6IGQodGFyZ2V0LCBrZXkpKSB8fCByO1xuICByZXR1cm4gYyA+IDMgJiYgciAmJiBPYmplY3QuZGVmaW5lUHJvcGVydHkodGFyZ2V0LCBrZXksIHIpLCByO1xufVxuX19uYW1lKF90c19kZWNvcmF0ZTIsIFwiX3RzX2RlY29yYXRlXCIpO1xuZnVuY3Rpb24gX3RzX21ldGFkYXRhMihrLCB2KSB7XG4gIGlmICh0eXBlb2YgUmVmbGVjdCA9PT0gXCJvYmplY3RcIiAmJiB0eXBlb2YgUmVmbGVjdC5tZXRhZGF0YSA9PT0gXCJmdW5jdGlvblwiKVxuICAgIHJldHVybiBSZWZsZWN0Lm1ldGFkYXRhKGssIHYpO1xufVxuX19uYW1lKF90c19tZXRhZGF0YTIsIFwiX3RzX21ldGFkYXRhXCIpO1xudmFyIE1lc3NhZ2VJbnB1dCA9IGNsYXNzIGV4dGVuZHMgQmFzZU1lc3NhZ2Uge1xuICB0ZXh0TWVzc2FnZTtcbiAgYWN0aW9uRXhlY3V0aW9uTWVzc2FnZTtcbiAgcmVzdWx0TWVzc2FnZTtcbiAgYWdlbnRTdGF0ZU1lc3NhZ2U7XG59O1xuX19uYW1lKE1lc3NhZ2VJbnB1dCwgXCJNZXNzYWdlSW5wdXRcIik7XG5fdHNfZGVjb3JhdGUyKFtcbiAgKDAsIGltcG9ydF90eXBlX2dyYXBocWwzLkZpZWxkKSgoKSA9PiBUZXh0TWVzc2FnZUlucHV0LCB7XG4gICAgbnVsbGFibGU6IHRydWVcbiAgfSksXG4gIF90c19tZXRhZGF0YTIoXCJkZXNpZ246dHlwZVwiLCB0eXBlb2YgVGV4dE1lc3NhZ2VJbnB1dCA9PT0gXCJ1bmRlZmluZWRcIiA/IE9iamVjdCA6IFRleHRNZXNzYWdlSW5wdXQpXG5dLCBNZXNzYWdlSW5wdXQucHJvdG90eXBlLCBcInRleHRNZXNzYWdlXCIsIHZvaWQgMCk7XG5fdHNfZGVjb3JhdGUyKFtcbiAgKDAsIGltcG9ydF90eXBlX2dyYXBocWwzLkZpZWxkKSgoKSA9PiBBY3Rpb25FeGVjdXRpb25NZXNzYWdlSW5wdXQsIHtcbiAgICBudWxsYWJsZTogdHJ1ZVxuICB9KSxcbiAgX3RzX21ldGFkYXRhMihcImRlc2lnbjp0eXBlXCIsIHR5cGVvZiBBY3Rpb25FeGVjdXRpb25NZXNzYWdlSW5wdXQgPT09IFwidW5kZWZpbmVkXCIgPyBPYmplY3QgOiBBY3Rpb25FeGVjdXRpb25NZXNzYWdlSW5wdXQpXG5dLCBNZXNzYWdlSW5wdXQucHJvdG90eXBlLCBcImFjdGlvbkV4ZWN1dGlvbk1lc3NhZ2VcIiwgdm9pZCAwKTtcbl90c19kZWNvcmF0ZTIoW1xuICAoMCwgaW1wb3J0X3R5cGVfZ3JhcGhxbDMuRmllbGQpKCgpID0+IFJlc3VsdE1lc3NhZ2VJbnB1dCwge1xuICAgIG51bGxhYmxlOiB0cnVlXG4gIH0pLFxuICBfdHNfbWV0YWRhdGEyKFwiZGVzaWduOnR5cGVcIiwgdHlwZW9mIFJlc3VsdE1lc3NhZ2VJbnB1dCA9PT0gXCJ1bmRlZmluZWRcIiA/IE9iamVjdCA6IFJlc3VsdE1lc3NhZ2VJbnB1dClcbl0sIE1lc3NhZ2VJbnB1dC5wcm90b3R5cGUsIFwicmVzdWx0TWVzc2FnZVwiLCB2b2lkIDApO1xuX3RzX2RlY29yYXRlMihbXG4gICgwLCBpbXBvcnRfdHlwZV9ncmFwaHFsMy5GaWVsZCkoKCkgPT4gQWdlbnRTdGF0ZU1lc3NhZ2VJbnB1dCwge1xuICAgIG51bGxhYmxlOiB0cnVlXG4gIH0pLFxuICBfdHNfbWV0YWRhdGEyKFwiZGVzaWduOnR5cGVcIiwgdHlwZW9mIEFnZW50U3RhdGVNZXNzYWdlSW5wdXQgPT09IFwidW5kZWZpbmVkXCIgPyBPYmplY3QgOiBBZ2VudFN0YXRlTWVzc2FnZUlucHV0KVxuXSwgTWVzc2FnZUlucHV0LnByb3RvdHlwZSwgXCJhZ2VudFN0YXRlTWVzc2FnZVwiLCB2b2lkIDApO1xuTWVzc2FnZUlucHV0ID0gX3RzX2RlY29yYXRlMihbXG4gICgwLCBpbXBvcnRfdHlwZV9ncmFwaHFsMy5JbnB1dFR5cGUpKClcbl0sIE1lc3NhZ2VJbnB1dCk7XG52YXIgVGV4dE1lc3NhZ2VJbnB1dCA9IGNsYXNzIHtcbiAgY29udGVudDtcbiAgcm9sZTtcbn07XG5fX25hbWUoVGV4dE1lc3NhZ2VJbnB1dCwgXCJUZXh0TWVzc2FnZUlucHV0XCIpO1xuX3RzX2RlY29yYXRlMihbXG4gICgwLCBpbXBvcnRfdHlwZV9ncmFwaHFsMy5GaWVsZCkoKCkgPT4gU3RyaW5nKSxcbiAgX3RzX21ldGFkYXRhMihcImRlc2lnbjp0eXBlXCIsIFN0cmluZylcbl0sIFRleHRNZXNzYWdlSW5wdXQucHJvdG90eXBlLCBcImNvbnRlbnRcIiwgdm9pZCAwKTtcbl90c19kZWNvcmF0ZTIoW1xuICAoMCwgaW1wb3J0X3R5cGVfZ3JhcGhxbDMuRmllbGQpKCgpID0+IE1lc3NhZ2VSb2xlKSxcbiAgX3RzX21ldGFkYXRhMihcImRlc2lnbjp0eXBlXCIsIHR5cGVvZiBNZXNzYWdlUm9sZSA9PT0gXCJ1bmRlZmluZWRcIiA/IE9iamVjdCA6IE1lc3NhZ2VSb2xlKVxuXSwgVGV4dE1lc3NhZ2VJbnB1dC5wcm90b3R5cGUsIFwicm9sZVwiLCB2b2lkIDApO1xuVGV4dE1lc3NhZ2VJbnB1dCA9IF90c19kZWNvcmF0ZTIoW1xuICAoMCwgaW1wb3J0X3R5cGVfZ3JhcGhxbDMuSW5wdXRUeXBlKSgpXG5dLCBUZXh0TWVzc2FnZUlucHV0KTtcbnZhciBBY3Rpb25FeGVjdXRpb25NZXNzYWdlSW5wdXQgPSBjbGFzcyB7XG4gIG5hbWU7XG4gIGFyZ3VtZW50cztcbiAgc2NvcGU7XG59O1xuX19uYW1lKEFjdGlvbkV4ZWN1dGlvbk1lc3NhZ2VJbnB1dCwgXCJBY3Rpb25FeGVjdXRpb25NZXNzYWdlSW5wdXRcIik7XG5fdHNfZGVjb3JhdGUyKFtcbiAgKDAsIGltcG9ydF90eXBlX2dyYXBocWwzLkZpZWxkKSgoKSA9PiBTdHJpbmcpLFxuICBfdHNfbWV0YWRhdGEyKFwiZGVzaWduOnR5cGVcIiwgU3RyaW5nKVxuXSwgQWN0aW9uRXhlY3V0aW9uTWVzc2FnZUlucHV0LnByb3RvdHlwZSwgXCJuYW1lXCIsIHZvaWQgMCk7XG5fdHNfZGVjb3JhdGUyKFtcbiAgKDAsIGltcG9ydF90eXBlX2dyYXBocWwzLkZpZWxkKSgoKSA9PiBTdHJpbmcpLFxuICBfdHNfbWV0YWRhdGEyKFwiZGVzaWduOnR5cGVcIiwgU3RyaW5nKVxuXSwgQWN0aW9uRXhlY3V0aW9uTWVzc2FnZUlucHV0LnByb3RvdHlwZSwgXCJhcmd1bWVudHNcIiwgdm9pZCAwKTtcbl90c19kZWNvcmF0ZTIoW1xuICAoMCwgaW1wb3J0X3R5cGVfZ3JhcGhxbDMuRmllbGQpKCgpID0+IEFjdGlvbkV4ZWN1dGlvblNjb3BlKSxcbiAgX3RzX21ldGFkYXRhMihcImRlc2lnbjp0eXBlXCIsIHR5cGVvZiBBY3Rpb25FeGVjdXRpb25TY29wZSA9PT0gXCJ1bmRlZmluZWRcIiA/IE9iamVjdCA6IEFjdGlvbkV4ZWN1dGlvblNjb3BlKVxuXSwgQWN0aW9uRXhlY3V0aW9uTWVzc2FnZUlucHV0LnByb3RvdHlwZSwgXCJzY29wZVwiLCB2b2lkIDApO1xuQWN0aW9uRXhlY3V0aW9uTWVzc2FnZUlucHV0ID0gX3RzX2RlY29yYXRlMihbXG4gICgwLCBpbXBvcnRfdHlwZV9ncmFwaHFsMy5JbnB1dFR5cGUpKClcbl0sIEFjdGlvbkV4ZWN1dGlvbk1lc3NhZ2VJbnB1dCk7XG52YXIgUmVzdWx0TWVzc2FnZUlucHV0ID0gY2xhc3Mge1xuICBhY3Rpb25FeGVjdXRpb25JZDtcbiAgYWN0aW9uTmFtZTtcbiAgcmVzdWx0O1xufTtcbl9fbmFtZShSZXN1bHRNZXNzYWdlSW5wdXQsIFwiUmVzdWx0TWVzc2FnZUlucHV0XCIpO1xuX3RzX2RlY29yYXRlMihbXG4gICgwLCBpbXBvcnRfdHlwZV9ncmFwaHFsMy5GaWVsZCkoKCkgPT4gU3RyaW5nKSxcbiAgX3RzX21ldGFkYXRhMihcImRlc2lnbjp0eXBlXCIsIFN0cmluZylcbl0sIFJlc3VsdE1lc3NhZ2VJbnB1dC5wcm90b3R5cGUsIFwiYWN0aW9uRXhlY3V0aW9uSWRcIiwgdm9pZCAwKTtcbl90c19kZWNvcmF0ZTIoW1xuICAoMCwgaW1wb3J0X3R5cGVfZ3JhcGhxbDMuRmllbGQpKCgpID0+IFN0cmluZyksXG4gIF90c19tZXRhZGF0YTIoXCJkZXNpZ246dHlwZVwiLCBTdHJpbmcpXG5dLCBSZXN1bHRNZXNzYWdlSW5wdXQucHJvdG90eXBlLCBcImFjdGlvbk5hbWVcIiwgdm9pZCAwKTtcbl90c19kZWNvcmF0ZTIoW1xuICAoMCwgaW1wb3J0X3R5cGVfZ3JhcGhxbDMuRmllbGQpKCgpID0+IFN0cmluZyksXG4gIF90c19tZXRhZGF0YTIoXCJkZXNpZ246dHlwZVwiLCBTdHJpbmcpXG5dLCBSZXN1bHRNZXNzYWdlSW5wdXQucHJvdG90eXBlLCBcInJlc3VsdFwiLCB2b2lkIDApO1xuUmVzdWx0TWVzc2FnZUlucHV0ID0gX3RzX2RlY29yYXRlMihbXG4gICgwLCBpbXBvcnRfdHlwZV9ncmFwaHFsMy5JbnB1dFR5cGUpKClcbl0sIFJlc3VsdE1lc3NhZ2VJbnB1dCk7XG52YXIgQWdlbnRTdGF0ZU1lc3NhZ2VJbnB1dCA9IGNsYXNzIHtcbiAgdGhyZWFkSWQ7XG4gIGFnZW50TmFtZTtcbiAgcm9sZTtcbiAgc3RhdGU7XG4gIHJ1bm5pbmc7XG4gIG5vZGVOYW1lO1xuICBydW5JZDtcbiAgYWN0aXZlO1xufTtcbl9fbmFtZShBZ2VudFN0YXRlTWVzc2FnZUlucHV0LCBcIkFnZW50U3RhdGVNZXNzYWdlSW5wdXRcIik7XG5fdHNfZGVjb3JhdGUyKFtcbiAgKDAsIGltcG9ydF90eXBlX2dyYXBocWwzLkZpZWxkKSgoKSA9PiBTdHJpbmcpLFxuICBfdHNfbWV0YWRhdGEyKFwiZGVzaWduOnR5cGVcIiwgU3RyaW5nKVxuXSwgQWdlbnRTdGF0ZU1lc3NhZ2VJbnB1dC5wcm90b3R5cGUsIFwidGhyZWFkSWRcIiwgdm9pZCAwKTtcbl90c19kZWNvcmF0ZTIoW1xuICAoMCwgaW1wb3J0X3R5cGVfZ3JhcGhxbDMuRmllbGQpKCgpID0+IFN0cmluZyksXG4gIF90c19tZXRhZGF0YTIoXCJkZXNpZ246dHlwZVwiLCBTdHJpbmcpXG5dLCBBZ2VudFN0YXRlTWVzc2FnZUlucHV0LnByb3RvdHlwZSwgXCJhZ2VudE5hbWVcIiwgdm9pZCAwKTtcbl90c19kZWNvcmF0ZTIoW1xuICAoMCwgaW1wb3J0X3R5cGVfZ3JhcGhxbDMuRmllbGQpKCgpID0+IE1lc3NhZ2VSb2xlKSxcbiAgX3RzX21ldGFkYXRhMihcImRlc2lnbjp0eXBlXCIsIHR5cGVvZiBNZXNzYWdlUm9sZSA9PT0gXCJ1bmRlZmluZWRcIiA/IE9iamVjdCA6IE1lc3NhZ2VSb2xlKVxuXSwgQWdlbnRTdGF0ZU1lc3NhZ2VJbnB1dC5wcm90b3R5cGUsIFwicm9sZVwiLCB2b2lkIDApO1xuX3RzX2RlY29yYXRlMihbXG4gICgwLCBpbXBvcnRfdHlwZV9ncmFwaHFsMy5GaWVsZCkoKCkgPT4gU3RyaW5nKSxcbiAgX3RzX21ldGFkYXRhMihcImRlc2lnbjp0eXBlXCIsIFN0cmluZylcbl0sIEFnZW50U3RhdGVNZXNzYWdlSW5wdXQucHJvdG90eXBlLCBcInN0YXRlXCIsIHZvaWQgMCk7XG5fdHNfZGVjb3JhdGUyKFtcbiAgKDAsIGltcG9ydF90eXBlX2dyYXBocWwzLkZpZWxkKSgoKSA9PiBCb29sZWFuKSxcbiAgX3RzX21ldGFkYXRhMihcImRlc2lnbjp0eXBlXCIsIEJvb2xlYW4pXG5dLCBBZ2VudFN0YXRlTWVzc2FnZUlucHV0LnByb3RvdHlwZSwgXCJydW5uaW5nXCIsIHZvaWQgMCk7XG5fdHNfZGVjb3JhdGUyKFtcbiAgKDAsIGltcG9ydF90eXBlX2dyYXBocWwzLkZpZWxkKSgoKSA9PiBTdHJpbmcpLFxuICBfdHNfbWV0YWRhdGEyKFwiZGVzaWduOnR5cGVcIiwgU3RyaW5nKVxuXSwgQWdlbnRTdGF0ZU1lc3NhZ2VJbnB1dC5wcm90b3R5cGUsIFwibm9kZU5hbWVcIiwgdm9pZCAwKTtcbl90c19kZWNvcmF0ZTIoW1xuICAoMCwgaW1wb3J0X3R5cGVfZ3JhcGhxbDMuRmllbGQpKCgpID0+IFN0cmluZyksXG4gIF90c19tZXRhZGF0YTIoXCJkZXNpZ246dHlwZVwiLCBTdHJpbmcpXG5dLCBBZ2VudFN0YXRlTWVzc2FnZUlucHV0LnByb3RvdHlwZSwgXCJydW5JZFwiLCB2b2lkIDApO1xuX3RzX2RlY29yYXRlMihbXG4gICgwLCBpbXBvcnRfdHlwZV9ncmFwaHFsMy5GaWVsZCkoKCkgPT4gQm9vbGVhbiksXG4gIF90c19tZXRhZGF0YTIoXCJkZXNpZ246dHlwZVwiLCBCb29sZWFuKVxuXSwgQWdlbnRTdGF0ZU1lc3NhZ2VJbnB1dC5wcm90b3R5cGUsIFwiYWN0aXZlXCIsIHZvaWQgMCk7XG5BZ2VudFN0YXRlTWVzc2FnZUlucHV0ID0gX3RzX2RlY29yYXRlMihbXG4gICgwLCBpbXBvcnRfdHlwZV9ncmFwaHFsMy5JbnB1dFR5cGUpKClcbl0sIEFnZW50U3RhdGVNZXNzYWdlSW5wdXQpO1xuXG4vLyBzcmMvZ3JhcGhxbC9pbnB1dHMvZnJvbnRlbmQuaW5wdXQudHNcbnZhciBpbXBvcnRfdHlwZV9ncmFwaHFsNSA9IHJlcXVpcmUoXCJ0eXBlLWdyYXBocWxcIik7XG5cbi8vIHNyYy9ncmFwaHFsL2lucHV0cy9hY3Rpb24uaW5wdXQudHNcbnZhciBpbXBvcnRfdHlwZV9ncmFwaHFsNCA9IHJlcXVpcmUoXCJ0eXBlLWdyYXBocWxcIik7XG5mdW5jdGlvbiBfdHNfZGVjb3JhdGUzKGRlY29yYXRvcnMsIHRhcmdldCwga2V5LCBkZXNjKSB7XG4gIHZhciBjID0gYXJndW1lbnRzLmxlbmd0aCwgciA9IGMgPCAzID8gdGFyZ2V0IDogZGVzYyA9PT0gbnVsbCA/IGRlc2MgPSBPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKHRhcmdldCwga2V5KSA6IGRlc2MsIGQ7XG4gIGlmICh0eXBlb2YgUmVmbGVjdCA9PT0gXCJvYmplY3RcIiAmJiB0eXBlb2YgUmVmbGVjdC5kZWNvcmF0ZSA9PT0gXCJmdW5jdGlvblwiKVxuICAgIHIgPSBSZWZsZWN0LmRlY29yYXRlKGRlY29yYXRvcnMsIHRhcmdldCwga2V5LCBkZXNjKTtcbiAgZWxzZVxuICAgIGZvciAodmFyIGkgPSBkZWNvcmF0b3JzLmxlbmd0aCAtIDE7IGkgPj0gMDsgaS0tKVxuICAgICAgaWYgKGQgPSBkZWNvcmF0b3JzW2ldKVxuICAgICAgICByID0gKGMgPCAzID8gZChyKSA6IGMgPiAzID8gZCh0YXJnZXQsIGtleSwgcikgOiBkKHRhcmdldCwga2V5KSkgfHwgcjtcbiAgcmV0dXJuIGMgPiAzICYmIHIgJiYgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRhcmdldCwga2V5LCByKSwgcjtcbn1cbl9fbmFtZShfdHNfZGVjb3JhdGUzLCBcIl90c19kZWNvcmF0ZVwiKTtcbmZ1bmN0aW9uIF90c19tZXRhZGF0YTMoaywgdikge1xuICBpZiAodHlwZW9mIFJlZmxlY3QgPT09IFwib2JqZWN0XCIgJiYgdHlwZW9mIFJlZmxlY3QubWV0YWRhdGEgPT09IFwiZnVuY3Rpb25cIilcbiAgICByZXR1cm4gUmVmbGVjdC5tZXRhZGF0YShrLCB2KTtcbn1cbl9fbmFtZShfdHNfbWV0YWRhdGEzLCBcIl90c19tZXRhZGF0YVwiKTtcbnZhciBBY3Rpb25JbnB1dCA9IGNsYXNzIHtcbiAgbmFtZTtcbiAgZGVzY3JpcHRpb247XG4gIGpzb25TY2hlbWE7XG59O1xuX19uYW1lKEFjdGlvbklucHV0LCBcIkFjdGlvbklucHV0XCIpO1xuX3RzX2RlY29yYXRlMyhbXG4gICgwLCBpbXBvcnRfdHlwZV9ncmFwaHFsNC5GaWVsZCkoKCkgPT4gU3RyaW5nKSxcbiAgX3RzX21ldGFkYXRhMyhcImRlc2lnbjp0eXBlXCIsIFN0cmluZylcbl0sIEFjdGlvbklucHV0LnByb3RvdHlwZSwgXCJuYW1lXCIsIHZvaWQgMCk7XG5fdHNfZGVjb3JhdGUzKFtcbiAgKDAsIGltcG9ydF90eXBlX2dyYXBocWw0LkZpZWxkKSgoKSA9PiBTdHJpbmcpLFxuICBfdHNfbWV0YWRhdGEzKFwiZGVzaWduOnR5cGVcIiwgU3RyaW5nKVxuXSwgQWN0aW9uSW5wdXQucHJvdG90eXBlLCBcImRlc2NyaXB0aW9uXCIsIHZvaWQgMCk7XG5fdHNfZGVjb3JhdGUzKFtcbiAgKDAsIGltcG9ydF90eXBlX2dyYXBocWw0LkZpZWxkKSgoKSA9PiBTdHJpbmcpLFxuICBfdHNfbWV0YWRhdGEzKFwiZGVzaWduOnR5cGVcIiwgU3RyaW5nKVxuXSwgQWN0aW9uSW5wdXQucHJvdG90eXBlLCBcImpzb25TY2hlbWFcIiwgdm9pZCAwKTtcbkFjdGlvbklucHV0ID0gX3RzX2RlY29yYXRlMyhbXG4gICgwLCBpbXBvcnRfdHlwZV9ncmFwaHFsNC5JbnB1dFR5cGUpKClcbl0sIEFjdGlvbklucHV0KTtcblxuLy8gc3JjL2dyYXBocWwvaW5wdXRzL2Zyb250ZW5kLmlucHV0LnRzXG5mdW5jdGlvbiBfdHNfZGVjb3JhdGU0KGRlY29yYXRvcnMsIHRhcmdldCwga2V5LCBkZXNjKSB7XG4gIHZhciBjID0gYXJndW1lbnRzLmxlbmd0aCwgciA9IGMgPCAzID8gdGFyZ2V0IDogZGVzYyA9PT0gbnVsbCA/IGRlc2MgPSBPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKHRhcmdldCwga2V5KSA6IGRlc2MsIGQ7XG4gIGlmICh0eXBlb2YgUmVmbGVjdCA9PT0gXCJvYmplY3RcIiAmJiB0eXBlb2YgUmVmbGVjdC5kZWNvcmF0ZSA9PT0gXCJmdW5jdGlvblwiKVxuICAgIHIgPSBSZWZsZWN0LmRlY29yYXRlKGRlY29yYXRvcnMsIHRhcmdldCwga2V5LCBkZXNjKTtcbiAgZWxzZVxuICAgIGZvciAodmFyIGkgPSBkZWNvcmF0b3JzLmxlbmd0aCAtIDE7IGkgPj0gMDsgaS0tKVxuICAgICAgaWYgKGQgPSBkZWNvcmF0b3JzW2ldKVxuICAgICAgICByID0gKGMgPCAzID8gZChyKSA6IGMgPiAzID8gZCh0YXJnZXQsIGtleSwgcikgOiBkKHRhcmdldCwga2V5KSkgfHwgcjtcbiAgcmV0dXJuIGMgPiAzICYmIHIgJiYgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRhcmdldCwga2V5LCByKSwgcjtcbn1cbl9fbmFtZShfdHNfZGVjb3JhdGU0LCBcIl90c19kZWNvcmF0ZVwiKTtcbmZ1bmN0aW9uIF90c19tZXRhZGF0YTQoaywgdikge1xuICBpZiAodHlwZW9mIFJlZmxlY3QgPT09IFwib2JqZWN0XCIgJiYgdHlwZW9mIFJlZmxlY3QubWV0YWRhdGEgPT09IFwiZnVuY3Rpb25cIilcbiAgICByZXR1cm4gUmVmbGVjdC5tZXRhZGF0YShrLCB2KTtcbn1cbl9fbmFtZShfdHNfbWV0YWRhdGE0LCBcIl90c19tZXRhZGF0YVwiKTtcbnZhciBGcm9udGVuZElucHV0ID0gY2xhc3Mge1xuICB0b0RlcHJlY2F0ZV9mdWxsQ29udGV4dDtcbiAgYWN0aW9ucztcbiAgdXJsO1xufTtcbl9fbmFtZShGcm9udGVuZElucHV0LCBcIkZyb250ZW5kSW5wdXRcIik7XG5fdHNfZGVjb3JhdGU0KFtcbiAgKDAsIGltcG9ydF90eXBlX2dyYXBocWw1LkZpZWxkKSgoKSA9PiBTdHJpbmcsIHtcbiAgICBudWxsYWJsZTogdHJ1ZVxuICB9KSxcbiAgX3RzX21ldGFkYXRhNChcImRlc2lnbjp0eXBlXCIsIFN0cmluZylcbl0sIEZyb250ZW5kSW5wdXQucHJvdG90eXBlLCBcInRvRGVwcmVjYXRlX2Z1bGxDb250ZXh0XCIsIHZvaWQgMCk7XG5fdHNfZGVjb3JhdGU0KFtcbiAgKDAsIGltcG9ydF90eXBlX2dyYXBocWw1LkZpZWxkKSgoKSA9PiBbXG4gICAgQWN0aW9uSW5wdXRcbiAgXSksXG4gIF90c19tZXRhZGF0YTQoXCJkZXNpZ246dHlwZVwiLCBBcnJheSlcbl0sIEZyb250ZW5kSW5wdXQucHJvdG90eXBlLCBcImFjdGlvbnNcIiwgdm9pZCAwKTtcbl90c19kZWNvcmF0ZTQoW1xuICAoMCwgaW1wb3J0X3R5cGVfZ3JhcGhxbDUuRmllbGQpKCgpID0+IFN0cmluZywge1xuICAgIG51bGxhYmxlOiB0cnVlXG4gIH0pLFxuICBfdHNfbWV0YWRhdGE0KFwiZGVzaWduOnR5cGVcIiwgU3RyaW5nKVxuXSwgRnJvbnRlbmRJbnB1dC5wcm90b3R5cGUsIFwidXJsXCIsIHZvaWQgMCk7XG5Gcm9udGVuZElucHV0ID0gX3RzX2RlY29yYXRlNChbXG4gICgwLCBpbXBvcnRfdHlwZV9ncmFwaHFsNS5JbnB1dFR5cGUpKClcbl0sIEZyb250ZW5kSW5wdXQpO1xuXG4vLyBzcmMvZ3JhcGhxbC9pbnB1dHMvY2xvdWQuaW5wdXQudHNcbnZhciBpbXBvcnRfdHlwZV9ncmFwaHFsNyA9IHJlcXVpcmUoXCJ0eXBlLWdyYXBocWxcIik7XG5cbi8vIHNyYy9ncmFwaHFsL2lucHV0cy9jbG91ZC1ndWFyZHJhaWxzLmlucHV0LnRzXG52YXIgaW1wb3J0X3R5cGVfZ3JhcGhxbDYgPSByZXF1aXJlKFwidHlwZS1ncmFwaHFsXCIpO1xuZnVuY3Rpb24gX3RzX2RlY29yYXRlNShkZWNvcmF0b3JzLCB0YXJnZXQsIGtleSwgZGVzYykge1xuICB2YXIgYyA9IGFyZ3VtZW50cy5sZW5ndGgsIHIgPSBjIDwgMyA/IHRhcmdldCA6IGRlc2MgPT09IG51bGwgPyBkZXNjID0gT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcih0YXJnZXQsIGtleSkgOiBkZXNjLCBkO1xuICBpZiAodHlwZW9mIFJlZmxlY3QgPT09IFwib2JqZWN0XCIgJiYgdHlwZW9mIFJlZmxlY3QuZGVjb3JhdGUgPT09IFwiZnVuY3Rpb25cIilcbiAgICByID0gUmVmbGVjdC5kZWNvcmF0ZShkZWNvcmF0b3JzLCB0YXJnZXQsIGtleSwgZGVzYyk7XG4gIGVsc2VcbiAgICBmb3IgKHZhciBpID0gZGVjb3JhdG9ycy5sZW5ndGggLSAxOyBpID49IDA7IGktLSlcbiAgICAgIGlmIChkID0gZGVjb3JhdG9yc1tpXSlcbiAgICAgICAgciA9IChjIDwgMyA/IGQocikgOiBjID4gMyA/IGQodGFyZ2V0LCBrZXksIHIpIDogZCh0YXJnZXQsIGtleSkpIHx8IHI7XG4gIHJldHVybiBjID4gMyAmJiByICYmIE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0YXJnZXQsIGtleSwgciksIHI7XG59XG5fX25hbWUoX3RzX2RlY29yYXRlNSwgXCJfdHNfZGVjb3JhdGVcIik7XG5mdW5jdGlvbiBfdHNfbWV0YWRhdGE1KGssIHYpIHtcbiAgaWYgKHR5cGVvZiBSZWZsZWN0ID09PSBcIm9iamVjdFwiICYmIHR5cGVvZiBSZWZsZWN0Lm1ldGFkYXRhID09PSBcImZ1bmN0aW9uXCIpXG4gICAgcmV0dXJuIFJlZmxlY3QubWV0YWRhdGEoaywgdik7XG59XG5fX25hbWUoX3RzX21ldGFkYXRhNSwgXCJfdHNfbWV0YWRhdGFcIik7XG52YXIgR3VhcmRyYWlsc1J1bGVJbnB1dCA9IGNsYXNzIHtcbiAgYWxsb3dMaXN0ID0gW107XG4gIGRlbnlMaXN0ID0gW107XG59O1xuX19uYW1lKEd1YXJkcmFpbHNSdWxlSW5wdXQsIFwiR3VhcmRyYWlsc1J1bGVJbnB1dFwiKTtcbl90c19kZWNvcmF0ZTUoW1xuICAoMCwgaW1wb3J0X3R5cGVfZ3JhcGhxbDYuRmllbGQpKCgpID0+IFtcbiAgICBTdHJpbmdcbiAgXSwge1xuICAgIG51bGxhYmxlOiB0cnVlXG4gIH0pLFxuICBfdHNfbWV0YWRhdGE1KFwiZGVzaWduOnR5cGVcIiwgQXJyYXkpXG5dLCBHdWFyZHJhaWxzUnVsZUlucHV0LnByb3RvdHlwZSwgXCJhbGxvd0xpc3RcIiwgdm9pZCAwKTtcbl90c19kZWNvcmF0ZTUoW1xuICAoMCwgaW1wb3J0X3R5cGVfZ3JhcGhxbDYuRmllbGQpKCgpID0+IFtcbiAgICBTdHJpbmdcbiAgXSwge1xuICAgIG51bGxhYmxlOiB0cnVlXG4gIH0pLFxuICBfdHNfbWV0YWRhdGE1KFwiZGVzaWduOnR5cGVcIiwgQXJyYXkpXG5dLCBHdWFyZHJhaWxzUnVsZUlucHV0LnByb3RvdHlwZSwgXCJkZW55TGlzdFwiLCB2b2lkIDApO1xuR3VhcmRyYWlsc1J1bGVJbnB1dCA9IF90c19kZWNvcmF0ZTUoW1xuICAoMCwgaW1wb3J0X3R5cGVfZ3JhcGhxbDYuSW5wdXRUeXBlKSgpXG5dLCBHdWFyZHJhaWxzUnVsZUlucHV0KTtcbnZhciBHdWFyZHJhaWxzSW5wdXQgPSBjbGFzcyB7XG4gIGlucHV0VmFsaWRhdGlvblJ1bGVzO1xufTtcbl9fbmFtZShHdWFyZHJhaWxzSW5wdXQsIFwiR3VhcmRyYWlsc0lucHV0XCIpO1xuX3RzX2RlY29yYXRlNShbXG4gICgwLCBpbXBvcnRfdHlwZV9ncmFwaHFsNi5GaWVsZCkoKCkgPT4gR3VhcmRyYWlsc1J1bGVJbnB1dCwge1xuICAgIG51bGxhYmxlOiBmYWxzZVxuICB9KSxcbiAgX3RzX21ldGFkYXRhNShcImRlc2lnbjp0eXBlXCIsIHR5cGVvZiBHdWFyZHJhaWxzUnVsZUlucHV0ID09PSBcInVuZGVmaW5lZFwiID8gT2JqZWN0IDogR3VhcmRyYWlsc1J1bGVJbnB1dClcbl0sIEd1YXJkcmFpbHNJbnB1dC5wcm90b3R5cGUsIFwiaW5wdXRWYWxpZGF0aW9uUnVsZXNcIiwgdm9pZCAwKTtcbkd1YXJkcmFpbHNJbnB1dCA9IF90c19kZWNvcmF0ZTUoW1xuICAoMCwgaW1wb3J0X3R5cGVfZ3JhcGhxbDYuSW5wdXRUeXBlKSgpXG5dLCBHdWFyZHJhaWxzSW5wdXQpO1xuXG4vLyBzcmMvZ3JhcGhxbC9pbnB1dHMvY2xvdWQuaW5wdXQudHNcbmZ1bmN0aW9uIF90c19kZWNvcmF0ZTYoZGVjb3JhdG9ycywgdGFyZ2V0LCBrZXksIGRlc2MpIHtcbiAgdmFyIGMgPSBhcmd1bWVudHMubGVuZ3RoLCByID0gYyA8IDMgPyB0YXJnZXQgOiBkZXNjID09PSBudWxsID8gZGVzYyA9IE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IodGFyZ2V0LCBrZXkpIDogZGVzYywgZDtcbiAgaWYgKHR5cGVvZiBSZWZsZWN0ID09PSBcIm9iamVjdFwiICYmIHR5cGVvZiBSZWZsZWN0LmRlY29yYXRlID09PSBcImZ1bmN0aW9uXCIpXG4gICAgciA9IFJlZmxlY3QuZGVjb3JhdGUoZGVjb3JhdG9ycywgdGFyZ2V0LCBrZXksIGRlc2MpO1xuICBlbHNlXG4gICAgZm9yICh2YXIgaSA9IGRlY29yYXRvcnMubGVuZ3RoIC0gMTsgaSA+PSAwOyBpLS0pXG4gICAgICBpZiAoZCA9IGRlY29yYXRvcnNbaV0pXG4gICAgICAgIHIgPSAoYyA8IDMgPyBkKHIpIDogYyA+IDMgPyBkKHRhcmdldCwga2V5LCByKSA6IGQodGFyZ2V0LCBrZXkpKSB8fCByO1xuICByZXR1cm4gYyA+IDMgJiYgciAmJiBPYmplY3QuZGVmaW5lUHJvcGVydHkodGFyZ2V0LCBrZXksIHIpLCByO1xufVxuX19uYW1lKF90c19kZWNvcmF0ZTYsIFwiX3RzX2RlY29yYXRlXCIpO1xuZnVuY3Rpb24gX3RzX21ldGFkYXRhNihrLCB2KSB7XG4gIGlmICh0eXBlb2YgUmVmbGVjdCA9PT0gXCJvYmplY3RcIiAmJiB0eXBlb2YgUmVmbGVjdC5tZXRhZGF0YSA9PT0gXCJmdW5jdGlvblwiKVxuICAgIHJldHVybiBSZWZsZWN0Lm1ldGFkYXRhKGssIHYpO1xufVxuX19uYW1lKF90c19tZXRhZGF0YTYsIFwiX3RzX21ldGFkYXRhXCIpO1xudmFyIENsb3VkSW5wdXQgPSBjbGFzcyB7XG4gIGd1YXJkcmFpbHM7XG59O1xuX19uYW1lKENsb3VkSW5wdXQsIFwiQ2xvdWRJbnB1dFwiKTtcbl90c19kZWNvcmF0ZTYoW1xuICAoMCwgaW1wb3J0X3R5cGVfZ3JhcGhxbDcuRmllbGQpKCgpID0+IEd1YXJkcmFpbHNJbnB1dCwge1xuICAgIG51bGxhYmxlOiB0cnVlXG4gIH0pLFxuICBfdHNfbWV0YWRhdGE2KFwiZGVzaWduOnR5cGVcIiwgdHlwZW9mIEd1YXJkcmFpbHNJbnB1dCA9PT0gXCJ1bmRlZmluZWRcIiA/IE9iamVjdCA6IEd1YXJkcmFpbHNJbnB1dClcbl0sIENsb3VkSW5wdXQucHJvdG90eXBlLCBcImd1YXJkcmFpbHNcIiwgdm9pZCAwKTtcbkNsb3VkSW5wdXQgPSBfdHNfZGVjb3JhdGU2KFtcbiAgKDAsIGltcG9ydF90eXBlX2dyYXBocWw3LklucHV0VHlwZSkoKVxuXSwgQ2xvdWRJbnB1dCk7XG5cbi8vIHNyYy9ncmFwaHFsL2lucHV0cy9mb3J3YXJkZWQtcGFyYW1ldGVycy5pbnB1dC50c1xudmFyIGltcG9ydF90eXBlX2dyYXBocWw4ID0gcmVxdWlyZShcInR5cGUtZ3JhcGhxbFwiKTtcbmZ1bmN0aW9uIF90c19kZWNvcmF0ZTcoZGVjb3JhdG9ycywgdGFyZ2V0LCBrZXksIGRlc2MpIHtcbiAgdmFyIGMgPSBhcmd1bWVudHMubGVuZ3RoLCByID0gYyA8IDMgPyB0YXJnZXQgOiBkZXNjID09PSBudWxsID8gZGVzYyA9IE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IodGFyZ2V0LCBrZXkpIDogZGVzYywgZDtcbiAgaWYgKHR5cGVvZiBSZWZsZWN0ID09PSBcIm9iamVjdFwiICYmIHR5cGVvZiBSZWZsZWN0LmRlY29yYXRlID09PSBcImZ1bmN0aW9uXCIpXG4gICAgciA9IFJlZmxlY3QuZGVjb3JhdGUoZGVjb3JhdG9ycywgdGFyZ2V0LCBrZXksIGRlc2MpO1xuICBlbHNlXG4gICAgZm9yICh2YXIgaSA9IGRlY29yYXRvcnMubGVuZ3RoIC0gMTsgaSA+PSAwOyBpLS0pXG4gICAgICBpZiAoZCA9IGRlY29yYXRvcnNbaV0pXG4gICAgICAgIHIgPSAoYyA8IDMgPyBkKHIpIDogYyA+IDMgPyBkKHRhcmdldCwga2V5LCByKSA6IGQodGFyZ2V0LCBrZXkpKSB8fCByO1xuICByZXR1cm4gYyA+IDMgJiYgciAmJiBPYmplY3QuZGVmaW5lUHJvcGVydHkodGFyZ2V0LCBrZXksIHIpLCByO1xufVxuX19uYW1lKF90c19kZWNvcmF0ZTcsIFwiX3RzX2RlY29yYXRlXCIpO1xuZnVuY3Rpb24gX3RzX21ldGFkYXRhNyhrLCB2KSB7XG4gIGlmICh0eXBlb2YgUmVmbGVjdCA9PT0gXCJvYmplY3RcIiAmJiB0eXBlb2YgUmVmbGVjdC5tZXRhZGF0YSA9PT0gXCJmdW5jdGlvblwiKVxuICAgIHJldHVybiBSZWZsZWN0Lm1ldGFkYXRhKGssIHYpO1xufVxuX19uYW1lKF90c19tZXRhZGF0YTcsIFwiX3RzX21ldGFkYXRhXCIpO1xudmFyIEZvcndhcmRlZFBhcmFtZXRlcnNJbnB1dCA9IGNsYXNzIHtcbiAgbW9kZWw7XG4gIG1heFRva2VucztcbiAgc3RvcDtcbiAgdG9vbENob2ljZTtcbiAgdG9vbENob2ljZUZ1bmN0aW9uTmFtZTtcbn07XG5fX25hbWUoRm9yd2FyZGVkUGFyYW1ldGVyc0lucHV0LCBcIkZvcndhcmRlZFBhcmFtZXRlcnNJbnB1dFwiKTtcbl90c19kZWNvcmF0ZTcoW1xuICAoMCwgaW1wb3J0X3R5cGVfZ3JhcGhxbDguRmllbGQpKCgpID0+IFN0cmluZywge1xuICAgIG51bGxhYmxlOiB0cnVlXG4gIH0pLFxuICBfdHNfbWV0YWRhdGE3KFwiZGVzaWduOnR5cGVcIiwgU3RyaW5nKVxuXSwgRm9yd2FyZGVkUGFyYW1ldGVyc0lucHV0LnByb3RvdHlwZSwgXCJtb2RlbFwiLCB2b2lkIDApO1xuX3RzX2RlY29yYXRlNyhbXG4gICgwLCBpbXBvcnRfdHlwZV9ncmFwaHFsOC5GaWVsZCkoKCkgPT4gTnVtYmVyLCB7XG4gICAgbnVsbGFibGU6IHRydWVcbiAgfSksXG4gIF90c19tZXRhZGF0YTcoXCJkZXNpZ246dHlwZVwiLCBOdW1iZXIpXG5dLCBGb3J3YXJkZWRQYXJhbWV0ZXJzSW5wdXQucHJvdG90eXBlLCBcIm1heFRva2Vuc1wiLCB2b2lkIDApO1xuX3RzX2RlY29yYXRlNyhbXG4gICgwLCBpbXBvcnRfdHlwZV9ncmFwaHFsOC5GaWVsZCkoKCkgPT4gW1xuICAgIFN0cmluZ1xuICBdLCB7XG4gICAgbnVsbGFibGU6IHRydWVcbiAgfSksXG4gIF90c19tZXRhZGF0YTcoXCJkZXNpZ246dHlwZVwiLCBBcnJheSlcbl0sIEZvcndhcmRlZFBhcmFtZXRlcnNJbnB1dC5wcm90b3R5cGUsIFwic3RvcFwiLCB2b2lkIDApO1xuX3RzX2RlY29yYXRlNyhbXG4gICgwLCBpbXBvcnRfdHlwZV9ncmFwaHFsOC5GaWVsZCkoKCkgPT4gU3RyaW5nLCB7XG4gICAgbnVsbGFibGU6IHRydWVcbiAgfSksXG4gIF90c19tZXRhZGF0YTcoXCJkZXNpZ246dHlwZVwiLCB0eXBlb2YgU3RyaW5nID09PSBcInVuZGVmaW5lZFwiID8gT2JqZWN0IDogU3RyaW5nKVxuXSwgRm9yd2FyZGVkUGFyYW1ldGVyc0lucHV0LnByb3RvdHlwZSwgXCJ0b29sQ2hvaWNlXCIsIHZvaWQgMCk7XG5fdHNfZGVjb3JhdGU3KFtcbiAgKDAsIGltcG9ydF90eXBlX2dyYXBocWw4LkZpZWxkKSgoKSA9PiBTdHJpbmcsIHtcbiAgICBudWxsYWJsZTogdHJ1ZVxuICB9KSxcbiAgX3RzX21ldGFkYXRhNyhcImRlc2lnbjp0eXBlXCIsIFN0cmluZylcbl0sIEZvcndhcmRlZFBhcmFtZXRlcnNJbnB1dC5wcm90b3R5cGUsIFwidG9vbENob2ljZUZ1bmN0aW9uTmFtZVwiLCB2b2lkIDApO1xuRm9yd2FyZGVkUGFyYW1ldGVyc0lucHV0ID0gX3RzX2RlY29yYXRlNyhbXG4gICgwLCBpbXBvcnRfdHlwZV9ncmFwaHFsOC5JbnB1dFR5cGUpKClcbl0sIEZvcndhcmRlZFBhcmFtZXRlcnNJbnB1dCk7XG5cbi8vIHNyYy9ncmFwaHFsL2lucHV0cy9hZ2VudC1zZXNzaW9uLmlucHV0LnRzXG52YXIgaW1wb3J0X3R5cGVfZ3JhcGhxbDkgPSByZXF1aXJlKFwidHlwZS1ncmFwaHFsXCIpO1xuZnVuY3Rpb24gX3RzX2RlY29yYXRlOChkZWNvcmF0b3JzLCB0YXJnZXQsIGtleSwgZGVzYykge1xuICB2YXIgYyA9IGFyZ3VtZW50cy5sZW5ndGgsIHIgPSBjIDwgMyA/IHRhcmdldCA6IGRlc2MgPT09IG51bGwgPyBkZXNjID0gT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcih0YXJnZXQsIGtleSkgOiBkZXNjLCBkO1xuICBpZiAodHlwZW9mIFJlZmxlY3QgPT09IFwib2JqZWN0XCIgJiYgdHlwZW9mIFJlZmxlY3QuZGVjb3JhdGUgPT09IFwiZnVuY3Rpb25cIilcbiAgICByID0gUmVmbGVjdC5kZWNvcmF0ZShkZWNvcmF0b3JzLCB0YXJnZXQsIGtleSwgZGVzYyk7XG4gIGVsc2VcbiAgICBmb3IgKHZhciBpID0gZGVjb3JhdG9ycy5sZW5ndGggLSAxOyBpID49IDA7IGktLSlcbiAgICAgIGlmIChkID0gZGVjb3JhdG9yc1tpXSlcbiAgICAgICAgciA9IChjIDwgMyA/IGQocikgOiBjID4gMyA/IGQodGFyZ2V0LCBrZXksIHIpIDogZCh0YXJnZXQsIGtleSkpIHx8IHI7XG4gIHJldHVybiBjID4gMyAmJiByICYmIE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0YXJnZXQsIGtleSwgciksIHI7XG59XG5fX25hbWUoX3RzX2RlY29yYXRlOCwgXCJfdHNfZGVjb3JhdGVcIik7XG5mdW5jdGlvbiBfdHNfbWV0YWRhdGE4KGssIHYpIHtcbiAgaWYgKHR5cGVvZiBSZWZsZWN0ID09PSBcIm9iamVjdFwiICYmIHR5cGVvZiBSZWZsZWN0Lm1ldGFkYXRhID09PSBcImZ1bmN0aW9uXCIpXG4gICAgcmV0dXJuIFJlZmxlY3QubWV0YWRhdGEoaywgdik7XG59XG5fX25hbWUoX3RzX21ldGFkYXRhOCwgXCJfdHNfbWV0YWRhdGFcIik7XG52YXIgQWdlbnRTZXNzaW9uSW5wdXQgPSBjbGFzcyB7XG4gIGFnZW50TmFtZTtcbiAgdGhyZWFkSWQ7XG4gIG5vZGVOYW1lO1xufTtcbl9fbmFtZShBZ2VudFNlc3Npb25JbnB1dCwgXCJBZ2VudFNlc3Npb25JbnB1dFwiKTtcbl90c19kZWNvcmF0ZTgoW1xuICAoMCwgaW1wb3J0X3R5cGVfZ3JhcGhxbDkuRmllbGQpKCgpID0+IFN0cmluZyksXG4gIF90c19tZXRhZGF0YTgoXCJkZXNpZ246dHlwZVwiLCBTdHJpbmcpXG5dLCBBZ2VudFNlc3Npb25JbnB1dC5wcm90b3R5cGUsIFwiYWdlbnROYW1lXCIsIHZvaWQgMCk7XG5fdHNfZGVjb3JhdGU4KFtcbiAgKDAsIGltcG9ydF90eXBlX2dyYXBocWw5LkZpZWxkKSgoKSA9PiBTdHJpbmcsIHtcbiAgICBudWxsYWJsZTogdHJ1ZVxuICB9KSxcbiAgX3RzX21ldGFkYXRhOChcImRlc2lnbjp0eXBlXCIsIFN0cmluZylcbl0sIEFnZW50U2Vzc2lvbklucHV0LnByb3RvdHlwZSwgXCJ0aHJlYWRJZFwiLCB2b2lkIDApO1xuX3RzX2RlY29yYXRlOChbXG4gICgwLCBpbXBvcnRfdHlwZV9ncmFwaHFsOS5GaWVsZCkoKCkgPT4gU3RyaW5nLCB7XG4gICAgbnVsbGFibGU6IHRydWVcbiAgfSksXG4gIF90c19tZXRhZGF0YTgoXCJkZXNpZ246dHlwZVwiLCBTdHJpbmcpXG5dLCBBZ2VudFNlc3Npb25JbnB1dC5wcm90b3R5cGUsIFwibm9kZU5hbWVcIiwgdm9pZCAwKTtcbkFnZW50U2Vzc2lvbklucHV0ID0gX3RzX2RlY29yYXRlOChbXG4gICgwLCBpbXBvcnRfdHlwZV9ncmFwaHFsOS5JbnB1dFR5cGUpKClcbl0sIEFnZW50U2Vzc2lvbklucHV0KTtcblxuLy8gc3JjL2dyYXBocWwvaW5wdXRzL2FnZW50LXN0YXRlLmlucHV0LnRzXG52YXIgaW1wb3J0X3R5cGVfZ3JhcGhxbDEwID0gcmVxdWlyZShcInR5cGUtZ3JhcGhxbFwiKTtcbmZ1bmN0aW9uIF90c19kZWNvcmF0ZTkoZGVjb3JhdG9ycywgdGFyZ2V0LCBrZXksIGRlc2MpIHtcbiAgdmFyIGMgPSBhcmd1bWVudHMubGVuZ3RoLCByID0gYyA8IDMgPyB0YXJnZXQgOiBkZXNjID09PSBudWxsID8gZGVzYyA9IE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IodGFyZ2V0LCBrZXkpIDogZGVzYywgZDtcbiAgaWYgKHR5cGVvZiBSZWZsZWN0ID09PSBcIm9iamVjdFwiICYmIHR5cGVvZiBSZWZsZWN0LmRlY29yYXRlID09PSBcImZ1bmN0aW9uXCIpXG4gICAgciA9IFJlZmxlY3QuZGVjb3JhdGUoZGVjb3JhdG9ycywgdGFyZ2V0LCBrZXksIGRlc2MpO1xuICBlbHNlXG4gICAgZm9yICh2YXIgaSA9IGRlY29yYXRvcnMubGVuZ3RoIC0gMTsgaSA+PSAwOyBpLS0pXG4gICAgICBpZiAoZCA9IGRlY29yYXRvcnNbaV0pXG4gICAgICAgIHIgPSAoYyA8IDMgPyBkKHIpIDogYyA+IDMgPyBkKHRhcmdldCwga2V5LCByKSA6IGQodGFyZ2V0LCBrZXkpKSB8fCByO1xuICByZXR1cm4gYyA+IDMgJiYgciAmJiBPYmplY3QuZGVmaW5lUHJvcGVydHkodGFyZ2V0LCBrZXksIHIpLCByO1xufVxuX19uYW1lKF90c19kZWNvcmF0ZTksIFwiX3RzX2RlY29yYXRlXCIpO1xuZnVuY3Rpb24gX3RzX21ldGFkYXRhOShrLCB2KSB7XG4gIGlmICh0eXBlb2YgUmVmbGVjdCA9PT0gXCJvYmplY3RcIiAmJiB0eXBlb2YgUmVmbGVjdC5tZXRhZGF0YSA9PT0gXCJmdW5jdGlvblwiKVxuICAgIHJldHVybiBSZWZsZWN0Lm1ldGFkYXRhKGssIHYpO1xufVxuX19uYW1lKF90c19tZXRhZGF0YTksIFwiX3RzX21ldGFkYXRhXCIpO1xudmFyIEFnZW50U3RhdGVJbnB1dCA9IGNsYXNzIHtcbiAgYWdlbnROYW1lO1xuICBzdGF0ZTtcbn07XG5fX25hbWUoQWdlbnRTdGF0ZUlucHV0LCBcIkFnZW50U3RhdGVJbnB1dFwiKTtcbl90c19kZWNvcmF0ZTkoW1xuICAoMCwgaW1wb3J0X3R5cGVfZ3JhcGhxbDEwLkZpZWxkKSgoKSA9PiBTdHJpbmcpLFxuICBfdHNfbWV0YWRhdGE5KFwiZGVzaWduOnR5cGVcIiwgU3RyaW5nKVxuXSwgQWdlbnRTdGF0ZUlucHV0LnByb3RvdHlwZSwgXCJhZ2VudE5hbWVcIiwgdm9pZCAwKTtcbl90c19kZWNvcmF0ZTkoW1xuICAoMCwgaW1wb3J0X3R5cGVfZ3JhcGhxbDEwLkZpZWxkKSgoKSA9PiBTdHJpbmcpLFxuICBfdHNfbWV0YWRhdGE5KFwiZGVzaWduOnR5cGVcIiwgU3RyaW5nKVxuXSwgQWdlbnRTdGF0ZUlucHV0LnByb3RvdHlwZSwgXCJzdGF0ZVwiLCB2b2lkIDApO1xuQWdlbnRTdGF0ZUlucHV0ID0gX3RzX2RlY29yYXRlOShbXG4gICgwLCBpbXBvcnRfdHlwZV9ncmFwaHFsMTAuSW5wdXRUeXBlKSgpXG5dLCBBZ2VudFN0YXRlSW5wdXQpO1xuXG4vLyBzcmMvZ3JhcGhxbC9pbnB1dHMvZ2VuZXJhdGUtY29waWxvdC1yZXNwb25zZS5pbnB1dC50c1xuZnVuY3Rpb24gX3RzX2RlY29yYXRlMTAoZGVjb3JhdG9ycywgdGFyZ2V0LCBrZXksIGRlc2MpIHtcbiAgdmFyIGMgPSBhcmd1bWVudHMubGVuZ3RoLCByID0gYyA8IDMgPyB0YXJnZXQgOiBkZXNjID09PSBudWxsID8gZGVzYyA9IE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IodGFyZ2V0LCBrZXkpIDogZGVzYywgZDtcbiAgaWYgKHR5cGVvZiBSZWZsZWN0ID09PSBcIm9iamVjdFwiICYmIHR5cGVvZiBSZWZsZWN0LmRlY29yYXRlID09PSBcImZ1bmN0aW9uXCIpXG4gICAgciA9IFJlZmxlY3QuZGVjb3JhdGUoZGVjb3JhdG9ycywgdGFyZ2V0LCBrZXksIGRlc2MpO1xuICBlbHNlXG4gICAgZm9yICh2YXIgaSA9IGRlY29yYXRvcnMubGVuZ3RoIC0gMTsgaSA+PSAwOyBpLS0pXG4gICAgICBpZiAoZCA9IGRlY29yYXRvcnNbaV0pXG4gICAgICAgIHIgPSAoYyA8IDMgPyBkKHIpIDogYyA+IDMgPyBkKHRhcmdldCwga2V5LCByKSA6IGQodGFyZ2V0LCBrZXkpKSB8fCByO1xuICByZXR1cm4gYyA+IDMgJiYgciAmJiBPYmplY3QuZGVmaW5lUHJvcGVydHkodGFyZ2V0LCBrZXksIHIpLCByO1xufVxuX19uYW1lKF90c19kZWNvcmF0ZTEwLCBcIl90c19kZWNvcmF0ZVwiKTtcbmZ1bmN0aW9uIF90c19tZXRhZGF0YTEwKGssIHYpIHtcbiAgaWYgKHR5cGVvZiBSZWZsZWN0ID09PSBcIm9iamVjdFwiICYmIHR5cGVvZiBSZWZsZWN0Lm1ldGFkYXRhID09PSBcImZ1bmN0aW9uXCIpXG4gICAgcmV0dXJuIFJlZmxlY3QubWV0YWRhdGEoaywgdik7XG59XG5fX25hbWUoX3RzX21ldGFkYXRhMTAsIFwiX3RzX21ldGFkYXRhXCIpO1xudmFyIEdlbmVyYXRlQ29waWxvdFJlc3BvbnNlTWV0YWRhdGFJbnB1dCA9IGNsYXNzIHtcbiAgcmVxdWVzdFR5cGU7XG59O1xuX19uYW1lKEdlbmVyYXRlQ29waWxvdFJlc3BvbnNlTWV0YWRhdGFJbnB1dCwgXCJHZW5lcmF0ZUNvcGlsb3RSZXNwb25zZU1ldGFkYXRhSW5wdXRcIik7XG5fdHNfZGVjb3JhdGUxMChbXG4gICgwLCBpbXBvcnRfdHlwZV9ncmFwaHFsMTEuRmllbGQpKCgpID0+IENvcGlsb3RSZXF1ZXN0VHlwZSwge1xuICAgIG51bGxhYmxlOiB0cnVlXG4gIH0pLFxuICBfdHNfbWV0YWRhdGExMChcImRlc2lnbjp0eXBlXCIsIHR5cGVvZiBDb3BpbG90UmVxdWVzdFR5cGUgPT09IFwidW5kZWZpbmVkXCIgPyBPYmplY3QgOiBDb3BpbG90UmVxdWVzdFR5cGUpXG5dLCBHZW5lcmF0ZUNvcGlsb3RSZXNwb25zZU1ldGFkYXRhSW5wdXQucHJvdG90eXBlLCBcInJlcXVlc3RUeXBlXCIsIHZvaWQgMCk7XG5HZW5lcmF0ZUNvcGlsb3RSZXNwb25zZU1ldGFkYXRhSW5wdXQgPSBfdHNfZGVjb3JhdGUxMChbXG4gICgwLCBpbXBvcnRfdHlwZV9ncmFwaHFsMTEuSW5wdXRUeXBlKSgpXG5dLCBHZW5lcmF0ZUNvcGlsb3RSZXNwb25zZU1ldGFkYXRhSW5wdXQpO1xudmFyIEdlbmVyYXRlQ29waWxvdFJlc3BvbnNlSW5wdXQgPSBjbGFzcyB7XG4gIG1ldGFkYXRhO1xuICB0aHJlYWRJZDtcbiAgcnVuSWQ7XG4gIG1lc3NhZ2VzO1xuICBmcm9udGVuZDtcbiAgY2xvdWQ7XG4gIGZvcndhcmRlZFBhcmFtZXRlcnM7XG4gIGFnZW50U2Vzc2lvbjtcbiAgYWdlbnRTdGF0ZTtcbiAgYWdlbnRTdGF0ZXM7XG59O1xuX19uYW1lKEdlbmVyYXRlQ29waWxvdFJlc3BvbnNlSW5wdXQsIFwiR2VuZXJhdGVDb3BpbG90UmVzcG9uc2VJbnB1dFwiKTtcbl90c19kZWNvcmF0ZTEwKFtcbiAgKDAsIGltcG9ydF90eXBlX2dyYXBocWwxMS5GaWVsZCkoKCkgPT4gR2VuZXJhdGVDb3BpbG90UmVzcG9uc2VNZXRhZGF0YUlucHV0LCB7XG4gICAgbnVsbGFibGU6IGZhbHNlXG4gIH0pLFxuICBfdHNfbWV0YWRhdGExMChcImRlc2lnbjp0eXBlXCIsIHR5cGVvZiBHZW5lcmF0ZUNvcGlsb3RSZXNwb25zZU1ldGFkYXRhSW5wdXQgPT09IFwidW5kZWZpbmVkXCIgPyBPYmplY3QgOiBHZW5lcmF0ZUNvcGlsb3RSZXNwb25zZU1ldGFkYXRhSW5wdXQpXG5dLCBHZW5lcmF0ZUNvcGlsb3RSZXNwb25zZUlucHV0LnByb3RvdHlwZSwgXCJtZXRhZGF0YVwiLCB2b2lkIDApO1xuX3RzX2RlY29yYXRlMTAoW1xuICAoMCwgaW1wb3J0X3R5cGVfZ3JhcGhxbDExLkZpZWxkKSgoKSA9PiBTdHJpbmcsIHtcbiAgICBudWxsYWJsZTogdHJ1ZVxuICB9KSxcbiAgX3RzX21ldGFkYXRhMTAoXCJkZXNpZ246dHlwZVwiLCBTdHJpbmcpXG5dLCBHZW5lcmF0ZUNvcGlsb3RSZXNwb25zZUlucHV0LnByb3RvdHlwZSwgXCJ0aHJlYWRJZFwiLCB2b2lkIDApO1xuX3RzX2RlY29yYXRlMTAoW1xuICAoMCwgaW1wb3J0X3R5cGVfZ3JhcGhxbDExLkZpZWxkKSgoKSA9PiBTdHJpbmcsIHtcbiAgICBudWxsYWJsZTogdHJ1ZVxuICB9KSxcbiAgX3RzX21ldGFkYXRhMTAoXCJkZXNpZ246dHlwZVwiLCBTdHJpbmcpXG5dLCBHZW5lcmF0ZUNvcGlsb3RSZXNwb25zZUlucHV0LnByb3RvdHlwZSwgXCJydW5JZFwiLCB2b2lkIDApO1xuX3RzX2RlY29yYXRlMTAoW1xuICAoMCwgaW1wb3J0X3R5cGVfZ3JhcGhxbDExLkZpZWxkKSgoKSA9PiBbXG4gICAgTWVzc2FnZUlucHV0XG4gIF0pLFxuICBfdHNfbWV0YWRhdGExMChcImRlc2lnbjp0eXBlXCIsIEFycmF5KVxuXSwgR2VuZXJhdGVDb3BpbG90UmVzcG9uc2VJbnB1dC5wcm90b3R5cGUsIFwibWVzc2FnZXNcIiwgdm9pZCAwKTtcbl90c19kZWNvcmF0ZTEwKFtcbiAgKDAsIGltcG9ydF90eXBlX2dyYXBocWwxMS5GaWVsZCkoKCkgPT4gRnJvbnRlbmRJbnB1dCksXG4gIF90c19tZXRhZGF0YTEwKFwiZGVzaWduOnR5cGVcIiwgdHlwZW9mIEZyb250ZW5kSW5wdXQgPT09IFwidW5kZWZpbmVkXCIgPyBPYmplY3QgOiBGcm9udGVuZElucHV0KVxuXSwgR2VuZXJhdGVDb3BpbG90UmVzcG9uc2VJbnB1dC5wcm90b3R5cGUsIFwiZnJvbnRlbmRcIiwgdm9pZCAwKTtcbl90c19kZWNvcmF0ZTEwKFtcbiAgKDAsIGltcG9ydF90eXBlX2dyYXBocWwxMS5GaWVsZCkoKCkgPT4gQ2xvdWRJbnB1dCwge1xuICAgIG51bGxhYmxlOiB0cnVlXG4gIH0pLFxuICBfdHNfbWV0YWRhdGExMChcImRlc2lnbjp0eXBlXCIsIHR5cGVvZiBDbG91ZElucHV0ID09PSBcInVuZGVmaW5lZFwiID8gT2JqZWN0IDogQ2xvdWRJbnB1dClcbl0sIEdlbmVyYXRlQ29waWxvdFJlc3BvbnNlSW5wdXQucHJvdG90eXBlLCBcImNsb3VkXCIsIHZvaWQgMCk7XG5fdHNfZGVjb3JhdGUxMChbXG4gICgwLCBpbXBvcnRfdHlwZV9ncmFwaHFsMTEuRmllbGQpKCgpID0+IEZvcndhcmRlZFBhcmFtZXRlcnNJbnB1dCwge1xuICAgIG51bGxhYmxlOiB0cnVlXG4gIH0pLFxuICBfdHNfbWV0YWRhdGExMChcImRlc2lnbjp0eXBlXCIsIHR5cGVvZiBGb3J3YXJkZWRQYXJhbWV0ZXJzSW5wdXQgPT09IFwidW5kZWZpbmVkXCIgPyBPYmplY3QgOiBGb3J3YXJkZWRQYXJhbWV0ZXJzSW5wdXQpXG5dLCBHZW5lcmF0ZUNvcGlsb3RSZXNwb25zZUlucHV0LnByb3RvdHlwZSwgXCJmb3J3YXJkZWRQYXJhbWV0ZXJzXCIsIHZvaWQgMCk7XG5fdHNfZGVjb3JhdGUxMChbXG4gICgwLCBpbXBvcnRfdHlwZV9ncmFwaHFsMTEuRmllbGQpKCgpID0+IEFnZW50U2Vzc2lvbklucHV0LCB7XG4gICAgbnVsbGFibGU6IHRydWVcbiAgfSksXG4gIF90c19tZXRhZGF0YTEwKFwiZGVzaWduOnR5cGVcIiwgdHlwZW9mIEFnZW50U2Vzc2lvbklucHV0ID09PSBcInVuZGVmaW5lZFwiID8gT2JqZWN0IDogQWdlbnRTZXNzaW9uSW5wdXQpXG5dLCBHZW5lcmF0ZUNvcGlsb3RSZXNwb25zZUlucHV0LnByb3RvdHlwZSwgXCJhZ2VudFNlc3Npb25cIiwgdm9pZCAwKTtcbl90c19kZWNvcmF0ZTEwKFtcbiAgKDAsIGltcG9ydF90eXBlX2dyYXBocWwxMS5GaWVsZCkoKCkgPT4gQWdlbnRTdGF0ZUlucHV0LCB7XG4gICAgbnVsbGFibGU6IHRydWVcbiAgfSksXG4gIF90c19tZXRhZGF0YTEwKFwiZGVzaWduOnR5cGVcIiwgdHlwZW9mIEFnZW50U3RhdGVJbnB1dCA9PT0gXCJ1bmRlZmluZWRcIiA/IE9iamVjdCA6IEFnZW50U3RhdGVJbnB1dClcbl0sIEdlbmVyYXRlQ29waWxvdFJlc3BvbnNlSW5wdXQucHJvdG90eXBlLCBcImFnZW50U3RhdGVcIiwgdm9pZCAwKTtcbl90c19kZWNvcmF0ZTEwKFtcbiAgKDAsIGltcG9ydF90eXBlX2dyYXBocWwxMS5GaWVsZCkoKCkgPT4gW1xuICAgIEFnZW50U3RhdGVJbnB1dFxuICBdLCB7XG4gICAgbnVsbGFibGU6IHRydWVcbiAgfSksXG4gIF90c19tZXRhZGF0YTEwKFwiZGVzaWduOnR5cGVcIiwgQXJyYXkpXG5dLCBHZW5lcmF0ZUNvcGlsb3RSZXNwb25zZUlucHV0LnByb3RvdHlwZSwgXCJhZ2VudFN0YXRlc1wiLCB2b2lkIDApO1xuR2VuZXJhdGVDb3BpbG90UmVzcG9uc2VJbnB1dCA9IF90c19kZWNvcmF0ZTEwKFtcbiAgKDAsIGltcG9ydF90eXBlX2dyYXBocWwxMS5JbnB1dFR5cGUpKClcbl0sIEdlbmVyYXRlQ29waWxvdFJlc3BvbnNlSW5wdXQpO1xuXG4vLyBzcmMvZ3JhcGhxbC90eXBlcy9jb3BpbG90LXJlc3BvbnNlLnR5cGUudHNcbnZhciBpbXBvcnRfdHlwZV9ncmFwaHFsMTQgPSByZXF1aXJlKFwidHlwZS1ncmFwaHFsXCIpO1xuXG4vLyBzcmMvZ3JhcGhxbC90eXBlcy9tZXNzYWdlLXN0YXR1cy50eXBlLnRzXG52YXIgaW1wb3J0X3R5cGVfZ3JhcGhxbDEyID0gcmVxdWlyZShcInR5cGUtZ3JhcGhxbFwiKTtcbmZ1bmN0aW9uIF90c19kZWNvcmF0ZTExKGRlY29yYXRvcnMsIHRhcmdldCwga2V5LCBkZXNjKSB7XG4gIHZhciBjID0gYXJndW1lbnRzLmxlbmd0aCwgciA9IGMgPCAzID8gdGFyZ2V0IDogZGVzYyA9PT0gbnVsbCA/IGRlc2MgPSBPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKHRhcmdldCwga2V5KSA6IGRlc2MsIGQ7XG4gIGlmICh0eXBlb2YgUmVmbGVjdCA9PT0gXCJvYmplY3RcIiAmJiB0eXBlb2YgUmVmbGVjdC5kZWNvcmF0ZSA9PT0gXCJmdW5jdGlvblwiKVxuICAgIHIgPSBSZWZsZWN0LmRlY29yYXRlKGRlY29yYXRvcnMsIHRhcmdldCwga2V5LCBkZXNjKTtcbiAgZWxzZVxuICAgIGZvciAodmFyIGkgPSBkZWNvcmF0b3JzLmxlbmd0aCAtIDE7IGkgPj0gMDsgaS0tKVxuICAgICAgaWYgKGQgPSBkZWNvcmF0b3JzW2ldKVxuICAgICAgICByID0gKGMgPCAzID8gZChyKSA6IGMgPiAzID8gZCh0YXJnZXQsIGtleSwgcikgOiBkKHRhcmdldCwga2V5KSkgfHwgcjtcbiAgcmV0dXJuIGMgPiAzICYmIHIgJiYgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRhcmdldCwga2V5LCByKSwgcjtcbn1cbl9fbmFtZShfdHNfZGVjb3JhdGUxMSwgXCJfdHNfZGVjb3JhdGVcIik7XG5mdW5jdGlvbiBfdHNfbWV0YWRhdGExMShrLCB2KSB7XG4gIGlmICh0eXBlb2YgUmVmbGVjdCA9PT0gXCJvYmplY3RcIiAmJiB0eXBlb2YgUmVmbGVjdC5tZXRhZGF0YSA9PT0gXCJmdW5jdGlvblwiKVxuICAgIHJldHVybiBSZWZsZWN0Lm1ldGFkYXRhKGssIHYpO1xufVxuX19uYW1lKF90c19tZXRhZGF0YTExLCBcIl90c19tZXRhZGF0YVwiKTtcbnZhciBNZXNzYWdlU3RhdHVzQ29kZTtcbihmdW5jdGlvbihNZXNzYWdlU3RhdHVzQ29kZTIpIHtcbiAgTWVzc2FnZVN0YXR1c0NvZGUyW1wiUGVuZGluZ1wiXSA9IFwicGVuZGluZ1wiO1xuICBNZXNzYWdlU3RhdHVzQ29kZTJbXCJTdWNjZXNzXCJdID0gXCJzdWNjZXNzXCI7XG4gIE1lc3NhZ2VTdGF0dXNDb2RlMltcIkZhaWxlZFwiXSA9IFwiZmFpbGVkXCI7XG59KShNZXNzYWdlU3RhdHVzQ29kZSB8fCAoTWVzc2FnZVN0YXR1c0NvZGUgPSB7fSkpO1xuKDAsIGltcG9ydF90eXBlX2dyYXBocWwxMi5yZWdpc3RlckVudW1UeXBlKShNZXNzYWdlU3RhdHVzQ29kZSwge1xuICBuYW1lOiBcIk1lc3NhZ2VTdGF0dXNDb2RlXCJcbn0pO1xudmFyIEJhc2VNZXNzYWdlU3RhdHVzID0gLyogQF9fUFVSRV9fICovIF9fbmFtZShjbGFzcyBCYXNlTWVzc2FnZVN0YXR1czIge1xuICBjb2RlO1xufSwgXCJCYXNlTWVzc2FnZVN0YXR1c1wiKTtcbl90c19kZWNvcmF0ZTExKFtcbiAgKDAsIGltcG9ydF90eXBlX2dyYXBocWwxMi5GaWVsZCkoKCkgPT4gTWVzc2FnZVN0YXR1c0NvZGUpLFxuICBfdHNfbWV0YWRhdGExMShcImRlc2lnbjp0eXBlXCIsIFN0cmluZylcbl0sIEJhc2VNZXNzYWdlU3RhdHVzLnByb3RvdHlwZSwgXCJjb2RlXCIsIHZvaWQgMCk7XG5CYXNlTWVzc2FnZVN0YXR1cyA9IF90c19kZWNvcmF0ZTExKFtcbiAgKDAsIGltcG9ydF90eXBlX2dyYXBocWwxMi5PYmplY3RUeXBlKSgpXG5dLCBCYXNlTWVzc2FnZVN0YXR1cyk7XG52YXIgUGVuZGluZ01lc3NhZ2VTdGF0dXMgPSBjbGFzcyBleHRlbmRzIEJhc2VNZXNzYWdlU3RhdHVzIHtcbiAgY29kZSA9IFwicGVuZGluZ1wiO1xufTtcbl9fbmFtZShQZW5kaW5nTWVzc2FnZVN0YXR1cywgXCJQZW5kaW5nTWVzc2FnZVN0YXR1c1wiKTtcblBlbmRpbmdNZXNzYWdlU3RhdHVzID0gX3RzX2RlY29yYXRlMTEoW1xuICAoMCwgaW1wb3J0X3R5cGVfZ3JhcGhxbDEyLk9iamVjdFR5cGUpKClcbl0sIFBlbmRpbmdNZXNzYWdlU3RhdHVzKTtcbnZhciBTdWNjZXNzTWVzc2FnZVN0YXR1cyA9IGNsYXNzIGV4dGVuZHMgQmFzZU1lc3NhZ2VTdGF0dXMge1xuICBjb2RlID0gXCJzdWNjZXNzXCI7XG59O1xuX19uYW1lKFN1Y2Nlc3NNZXNzYWdlU3RhdHVzLCBcIlN1Y2Nlc3NNZXNzYWdlU3RhdHVzXCIpO1xuU3VjY2Vzc01lc3NhZ2VTdGF0dXMgPSBfdHNfZGVjb3JhdGUxMShbXG4gICgwLCBpbXBvcnRfdHlwZV9ncmFwaHFsMTIuT2JqZWN0VHlwZSkoKVxuXSwgU3VjY2Vzc01lc3NhZ2VTdGF0dXMpO1xudmFyIEZhaWxlZE1lc3NhZ2VTdGF0dXMgPSBjbGFzcyBleHRlbmRzIEJhc2VNZXNzYWdlU3RhdHVzIHtcbiAgY29kZSA9IFwiZmFpbGVkXCI7XG4gIHJlYXNvbjtcbn07XG5fX25hbWUoRmFpbGVkTWVzc2FnZVN0YXR1cywgXCJGYWlsZWRNZXNzYWdlU3RhdHVzXCIpO1xuX3RzX2RlY29yYXRlMTEoW1xuICAoMCwgaW1wb3J0X3R5cGVfZ3JhcGhxbDEyLkZpZWxkKSgoKSA9PiBTdHJpbmcpLFxuICBfdHNfbWV0YWRhdGExMShcImRlc2lnbjp0eXBlXCIsIFN0cmluZylcbl0sIEZhaWxlZE1lc3NhZ2VTdGF0dXMucHJvdG90eXBlLCBcInJlYXNvblwiLCB2b2lkIDApO1xuRmFpbGVkTWVzc2FnZVN0YXR1cyA9IF90c19kZWNvcmF0ZTExKFtcbiAgKDAsIGltcG9ydF90eXBlX2dyYXBocWwxMi5PYmplY3RUeXBlKSgpXG5dLCBGYWlsZWRNZXNzYWdlU3RhdHVzKTtcbnZhciBNZXNzYWdlU3RhdHVzVW5pb24gPSAoMCwgaW1wb3J0X3R5cGVfZ3JhcGhxbDEyLmNyZWF0ZVVuaW9uVHlwZSkoe1xuICBuYW1lOiBcIk1lc3NhZ2VTdGF0dXNcIixcbiAgdHlwZXM6ICgpID0+IFtcbiAgICBQZW5kaW5nTWVzc2FnZVN0YXR1cyxcbiAgICBTdWNjZXNzTWVzc2FnZVN0YXR1cyxcbiAgICBGYWlsZWRNZXNzYWdlU3RhdHVzXG4gIF1cbn0pO1xuXG4vLyBzcmMvZ3JhcGhxbC90eXBlcy9yZXNwb25zZS1zdGF0dXMudHlwZS50c1xudmFyIGltcG9ydF9ncmFwaHFsX3NjYWxhcnMgPSByZXF1aXJlKFwiZ3JhcGhxbC1zY2FsYXJzXCIpO1xudmFyIGltcG9ydF90eXBlX2dyYXBocWwxMyA9IHJlcXVpcmUoXCJ0eXBlLWdyYXBocWxcIik7XG5mdW5jdGlvbiBfdHNfZGVjb3JhdGUxMihkZWNvcmF0b3JzLCB0YXJnZXQsIGtleSwgZGVzYykge1xuICB2YXIgYyA9IGFyZ3VtZW50cy5sZW5ndGgsIHIgPSBjIDwgMyA/IHRhcmdldCA6IGRlc2MgPT09IG51bGwgPyBkZXNjID0gT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcih0YXJnZXQsIGtleSkgOiBkZXNjLCBkO1xuICBpZiAodHlwZW9mIFJlZmxlY3QgPT09IFwib2JqZWN0XCIgJiYgdHlwZW9mIFJlZmxlY3QuZGVjb3JhdGUgPT09IFwiZnVuY3Rpb25cIilcbiAgICByID0gUmVmbGVjdC5kZWNvcmF0ZShkZWNvcmF0b3JzLCB0YXJnZXQsIGtleSwgZGVzYyk7XG4gIGVsc2VcbiAgICBmb3IgKHZhciBpID0gZGVjb3JhdG9ycy5sZW5ndGggLSAxOyBpID49IDA7IGktLSlcbiAgICAgIGlmIChkID0gZGVjb3JhdG9yc1tpXSlcbiAgICAgICAgciA9IChjIDwgMyA/IGQocikgOiBjID4gMyA/IGQodGFyZ2V0LCBrZXksIHIpIDogZCh0YXJnZXQsIGtleSkpIHx8IHI7XG4gIHJldHVybiBjID4gMyAmJiByICYmIE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0YXJnZXQsIGtleSwgciksIHI7XG59XG5fX25hbWUoX3RzX2RlY29yYXRlMTIsIFwiX3RzX2RlY29yYXRlXCIpO1xuZnVuY3Rpb24gX3RzX21ldGFkYXRhMTIoaywgdikge1xuICBpZiAodHlwZW9mIFJlZmxlY3QgPT09IFwib2JqZWN0XCIgJiYgdHlwZW9mIFJlZmxlY3QubWV0YWRhdGEgPT09IFwiZnVuY3Rpb25cIilcbiAgICByZXR1cm4gUmVmbGVjdC5tZXRhZGF0YShrLCB2KTtcbn1cbl9fbmFtZShfdHNfbWV0YWRhdGExMiwgXCJfdHNfbWV0YWRhdGFcIik7XG52YXIgUmVzcG9uc2VTdGF0dXNDb2RlO1xuKGZ1bmN0aW9uKFJlc3BvbnNlU3RhdHVzQ29kZTIpIHtcbiAgUmVzcG9uc2VTdGF0dXNDb2RlMltcIlBlbmRpbmdcIl0gPSBcInBlbmRpbmdcIjtcbiAgUmVzcG9uc2VTdGF0dXNDb2RlMltcIlN1Y2Nlc3NcIl0gPSBcInN1Y2Nlc3NcIjtcbiAgUmVzcG9uc2VTdGF0dXNDb2RlMltcIkZhaWxlZFwiXSA9IFwiZmFpbGVkXCI7XG59KShSZXNwb25zZVN0YXR1c0NvZGUgfHwgKFJlc3BvbnNlU3RhdHVzQ29kZSA9IHt9KSk7XG4oMCwgaW1wb3J0X3R5cGVfZ3JhcGhxbDEzLnJlZ2lzdGVyRW51bVR5cGUpKFJlc3BvbnNlU3RhdHVzQ29kZSwge1xuICBuYW1lOiBcIlJlc3BvbnNlU3RhdHVzQ29kZVwiXG59KTtcbnZhciBCYXNlUmVzcG9uc2VTdGF0dXMgPSAvKiBAX19QVVJFX18gKi8gX19uYW1lKGNsYXNzIEJhc2VSZXNwb25zZVN0YXR1czIge1xuICBjb2RlO1xufSwgXCJCYXNlUmVzcG9uc2VTdGF0dXNcIik7XG5fdHNfZGVjb3JhdGUxMihbXG4gICgwLCBpbXBvcnRfdHlwZV9ncmFwaHFsMTMuRmllbGQpKCgpID0+IFJlc3BvbnNlU3RhdHVzQ29kZSksXG4gIF90c19tZXRhZGF0YTEyKFwiZGVzaWduOnR5cGVcIiwgU3RyaW5nKVxuXSwgQmFzZVJlc3BvbnNlU3RhdHVzLnByb3RvdHlwZSwgXCJjb2RlXCIsIHZvaWQgMCk7XG5CYXNlUmVzcG9uc2VTdGF0dXMgPSBfdHNfZGVjb3JhdGUxMihbXG4gICgwLCBpbXBvcnRfdHlwZV9ncmFwaHFsMTMuSW50ZXJmYWNlVHlwZSkoe1xuICAgIHJlc29sdmVUeXBlKHZhbHVlKSB7XG4gICAgICBpZiAodmFsdWUuY29kZSA9PT0gXCJzdWNjZXNzXCIpIHtcbiAgICAgICAgcmV0dXJuIFN1Y2Nlc3NSZXNwb25zZVN0YXR1cztcbiAgICAgIH0gZWxzZSBpZiAodmFsdWUuY29kZSA9PT0gXCJmYWlsZWRcIikge1xuICAgICAgICByZXR1cm4gRmFpbGVkUmVzcG9uc2VTdGF0dXM7XG4gICAgICB9IGVsc2UgaWYgKHZhbHVlLmNvZGUgPT09IFwicGVuZGluZ1wiKSB7XG4gICAgICAgIHJldHVybiBQZW5kaW5nUmVzcG9uc2VTdGF0dXM7XG4gICAgICB9XG4gICAgICByZXR1cm4gdm9pZCAwO1xuICAgIH1cbiAgfSksXG4gICgwLCBpbXBvcnRfdHlwZV9ncmFwaHFsMTMuT2JqZWN0VHlwZSkoKVxuXSwgQmFzZVJlc3BvbnNlU3RhdHVzKTtcbnZhciBQZW5kaW5nUmVzcG9uc2VTdGF0dXMgPSBjbGFzcyBleHRlbmRzIEJhc2VSZXNwb25zZVN0YXR1cyB7XG4gIGNvZGUgPSBcInBlbmRpbmdcIjtcbn07XG5fX25hbWUoUGVuZGluZ1Jlc3BvbnNlU3RhdHVzLCBcIlBlbmRpbmdSZXNwb25zZVN0YXR1c1wiKTtcblBlbmRpbmdSZXNwb25zZVN0YXR1cyA9IF90c19kZWNvcmF0ZTEyKFtcbiAgKDAsIGltcG9ydF90eXBlX2dyYXBocWwxMy5PYmplY3RUeXBlKSh7XG4gICAgaW1wbGVtZW50czogQmFzZVJlc3BvbnNlU3RhdHVzXG4gIH0pXG5dLCBQZW5kaW5nUmVzcG9uc2VTdGF0dXMpO1xudmFyIFN1Y2Nlc3NSZXNwb25zZVN0YXR1cyA9IGNsYXNzIGV4dGVuZHMgQmFzZVJlc3BvbnNlU3RhdHVzIHtcbiAgY29kZSA9IFwic3VjY2Vzc1wiO1xufTtcbl9fbmFtZShTdWNjZXNzUmVzcG9uc2VTdGF0dXMsIFwiU3VjY2Vzc1Jlc3BvbnNlU3RhdHVzXCIpO1xuU3VjY2Vzc1Jlc3BvbnNlU3RhdHVzID0gX3RzX2RlY29yYXRlMTIoW1xuICAoMCwgaW1wb3J0X3R5cGVfZ3JhcGhxbDEzLk9iamVjdFR5cGUpKHtcbiAgICBpbXBsZW1lbnRzOiBCYXNlUmVzcG9uc2VTdGF0dXNcbiAgfSlcbl0sIFN1Y2Nlc3NSZXNwb25zZVN0YXR1cyk7XG52YXIgRmFpbGVkUmVzcG9uc2VTdGF0dXNSZWFzb247XG4oZnVuY3Rpb24oRmFpbGVkUmVzcG9uc2VTdGF0dXNSZWFzb24yKSB7XG4gIEZhaWxlZFJlc3BvbnNlU3RhdHVzUmVhc29uMltcIkdVQVJEUkFJTFNfVkFMSURBVElPTl9GQUlMRURcIl0gPSBcIkdVQVJEUkFJTFNfVkFMSURBVElPTl9GQUlMRURcIjtcbiAgRmFpbGVkUmVzcG9uc2VTdGF0dXNSZWFzb24yW1wiTUVTU0FHRV9TVFJFQU1fSU5URVJSVVBURURcIl0gPSBcIk1FU1NBR0VfU1RSRUFNX0lOVEVSUlVQVEVEXCI7XG4gIEZhaWxlZFJlc3BvbnNlU3RhdHVzUmVhc29uMltcIlVOS05PV05fRVJST1JcIl0gPSBcIlVOS05PV05fRVJST1JcIjtcbn0pKEZhaWxlZFJlc3BvbnNlU3RhdHVzUmVhc29uIHx8IChGYWlsZWRSZXNwb25zZVN0YXR1c1JlYXNvbiA9IHt9KSk7XG4oMCwgaW1wb3J0X3R5cGVfZ3JhcGhxbDEzLnJlZ2lzdGVyRW51bVR5cGUpKEZhaWxlZFJlc3BvbnNlU3RhdHVzUmVhc29uLCB7XG4gIG5hbWU6IFwiRmFpbGVkUmVzcG9uc2VTdGF0dXNSZWFzb25cIlxufSk7XG52YXIgRmFpbGVkUmVzcG9uc2VTdGF0dXMgPSBjbGFzcyBleHRlbmRzIEJhc2VSZXNwb25zZVN0YXR1cyB7XG4gIGNvZGUgPSBcImZhaWxlZFwiO1xuICByZWFzb247XG4gIGRldGFpbHMgPSBudWxsO1xufTtcbl9fbmFtZShGYWlsZWRSZXNwb25zZVN0YXR1cywgXCJGYWlsZWRSZXNwb25zZVN0YXR1c1wiKTtcbl90c19kZWNvcmF0ZTEyKFtcbiAgKDAsIGltcG9ydF90eXBlX2dyYXBocWwxMy5GaWVsZCkoKCkgPT4gRmFpbGVkUmVzcG9uc2VTdGF0dXNSZWFzb24pLFxuICBfdHNfbWV0YWRhdGExMihcImRlc2lnbjp0eXBlXCIsIFN0cmluZylcbl0sIEZhaWxlZFJlc3BvbnNlU3RhdHVzLnByb3RvdHlwZSwgXCJyZWFzb25cIiwgdm9pZCAwKTtcbl90c19kZWNvcmF0ZTEyKFtcbiAgKDAsIGltcG9ydF90eXBlX2dyYXBocWwxMy5GaWVsZCkoKCkgPT4gaW1wb3J0X2dyYXBocWxfc2NhbGFycy5HcmFwaFFMSlNPTiwge1xuICAgIG51bGxhYmxlOiB0cnVlXG4gIH0pLFxuICBfdHNfbWV0YWRhdGExMihcImRlc2lnbjp0eXBlXCIsIHR5cGVvZiBSZWNvcmQgPT09IFwidW5kZWZpbmVkXCIgPyBPYmplY3QgOiBSZWNvcmQpXG5dLCBGYWlsZWRSZXNwb25zZVN0YXR1cy5wcm90b3R5cGUsIFwiZGV0YWlsc1wiLCB2b2lkIDApO1xuRmFpbGVkUmVzcG9uc2VTdGF0dXMgPSBfdHNfZGVjb3JhdGUxMihbXG4gICgwLCBpbXBvcnRfdHlwZV9ncmFwaHFsMTMuT2JqZWN0VHlwZSkoe1xuICAgIGltcGxlbWVudHM6IEJhc2VSZXNwb25zZVN0YXR1c1xuICB9KVxuXSwgRmFpbGVkUmVzcG9uc2VTdGF0dXMpO1xudmFyIFJlc3BvbnNlU3RhdHVzVW5pb24gPSAoMCwgaW1wb3J0X3R5cGVfZ3JhcGhxbDEzLmNyZWF0ZVVuaW9uVHlwZSkoe1xuICBuYW1lOiBcIlJlc3BvbnNlU3RhdHVzXCIsXG4gIHR5cGVzOiAoKSA9PiBbXG4gICAgUGVuZGluZ1Jlc3BvbnNlU3RhdHVzLFxuICAgIFN1Y2Nlc3NSZXNwb25zZVN0YXR1cyxcbiAgICBGYWlsZWRSZXNwb25zZVN0YXR1c1xuICBdXG59KTtcblxuLy8gc3JjL2dyYXBocWwvdHlwZXMvY29waWxvdC1yZXNwb25zZS50eXBlLnRzXG5mdW5jdGlvbiBfdHNfZGVjb3JhdGUxMyhkZWNvcmF0b3JzLCB0YXJnZXQsIGtleSwgZGVzYykge1xuICB2YXIgYyA9IGFyZ3VtZW50cy5sZW5ndGgsIHIgPSBjIDwgMyA/IHRhcmdldCA6IGRlc2MgPT09IG51bGwgPyBkZXNjID0gT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcih0YXJnZXQsIGtleSkgOiBkZXNjLCBkO1xuICBpZiAodHlwZW9mIFJlZmxlY3QgPT09IFwib2JqZWN0XCIgJiYgdHlwZW9mIFJlZmxlY3QuZGVjb3JhdGUgPT09IFwiZnVuY3Rpb25cIilcbiAgICByID0gUmVmbGVjdC5kZWNvcmF0ZShkZWNvcmF0b3JzLCB0YXJnZXQsIGtleSwgZGVzYyk7XG4gIGVsc2VcbiAgICBmb3IgKHZhciBpID0gZGVjb3JhdG9ycy5sZW5ndGggLSAxOyBpID49IDA7IGktLSlcbiAgICAgIGlmIChkID0gZGVjb3JhdG9yc1tpXSlcbiAgICAgICAgciA9IChjIDwgMyA/IGQocikgOiBjID4gMyA/IGQodGFyZ2V0LCBrZXksIHIpIDogZCh0YXJnZXQsIGtleSkpIHx8IHI7XG4gIHJldHVybiBjID4gMyAmJiByICYmIE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0YXJnZXQsIGtleSwgciksIHI7XG59XG5fX25hbWUoX3RzX2RlY29yYXRlMTMsIFwiX3RzX2RlY29yYXRlXCIpO1xuZnVuY3Rpb24gX3RzX21ldGFkYXRhMTMoaywgdikge1xuICBpZiAodHlwZW9mIFJlZmxlY3QgPT09IFwib2JqZWN0XCIgJiYgdHlwZW9mIFJlZmxlY3QubWV0YWRhdGEgPT09IFwiZnVuY3Rpb25cIilcbiAgICByZXR1cm4gUmVmbGVjdC5tZXRhZGF0YShrLCB2KTtcbn1cbl9fbmFtZShfdHNfbWV0YWRhdGExMywgXCJfdHNfbWV0YWRhdGFcIik7XG52YXIgQmFzZU1lc3NhZ2VPdXRwdXQgPSAvKiBAX19QVVJFX18gKi8gX19uYW1lKGNsYXNzIEJhc2VNZXNzYWdlT3V0cHV0MiB7XG4gIGlkO1xuICBjcmVhdGVkQXQ7XG4gIHN0YXR1cztcbn0sIFwiQmFzZU1lc3NhZ2VPdXRwdXRcIik7XG5fdHNfZGVjb3JhdGUxMyhbXG4gICgwLCBpbXBvcnRfdHlwZV9ncmFwaHFsMTQuRmllbGQpKCgpID0+IFN0cmluZyksXG4gIF90c19tZXRhZGF0YTEzKFwiZGVzaWduOnR5cGVcIiwgU3RyaW5nKVxuXSwgQmFzZU1lc3NhZ2VPdXRwdXQucHJvdG90eXBlLCBcImlkXCIsIHZvaWQgMCk7XG5fdHNfZGVjb3JhdGUxMyhbXG4gICgwLCBpbXBvcnRfdHlwZV9ncmFwaHFsMTQuRmllbGQpKCgpID0+IERhdGUpLFxuICBfdHNfbWV0YWRhdGExMyhcImRlc2lnbjp0eXBlXCIsIHR5cGVvZiBEYXRlID09PSBcInVuZGVmaW5lZFwiID8gT2JqZWN0IDogRGF0ZSlcbl0sIEJhc2VNZXNzYWdlT3V0cHV0LnByb3RvdHlwZSwgXCJjcmVhdGVkQXRcIiwgdm9pZCAwKTtcbl90c19kZWNvcmF0ZTEzKFtcbiAgKDAsIGltcG9ydF90eXBlX2dyYXBocWwxNC5GaWVsZCkoKCkgPT4gTWVzc2FnZVN0YXR1c1VuaW9uKSxcbiAgX3RzX21ldGFkYXRhMTMoXCJkZXNpZ246dHlwZVwiLCBPYmplY3QpXG5dLCBCYXNlTWVzc2FnZU91dHB1dC5wcm90b3R5cGUsIFwic3RhdHVzXCIsIHZvaWQgMCk7XG5CYXNlTWVzc2FnZU91dHB1dCA9IF90c19kZWNvcmF0ZTEzKFtcbiAgKDAsIGltcG9ydF90eXBlX2dyYXBocWwxNC5JbnRlcmZhY2VUeXBlKSh7XG4gICAgcmVzb2x2ZVR5cGUodmFsdWUpIHtcbiAgICAgIGlmICh2YWx1ZS5oYXNPd25Qcm9wZXJ0eShcImNvbnRlbnRcIikpIHtcbiAgICAgICAgcmV0dXJuIFRleHRNZXNzYWdlT3V0cHV0O1xuICAgICAgfSBlbHNlIGlmICh2YWx1ZS5oYXNPd25Qcm9wZXJ0eShcIm5hbWVcIikpIHtcbiAgICAgICAgcmV0dXJuIEFjdGlvbkV4ZWN1dGlvbk1lc3NhZ2VPdXRwdXQ7XG4gICAgICB9IGVsc2UgaWYgKHZhbHVlLmhhc093blByb3BlcnR5KFwicmVzdWx0XCIpKSB7XG4gICAgICAgIHJldHVybiBSZXN1bHRNZXNzYWdlT3V0cHV0O1xuICAgICAgfSBlbHNlIGlmICh2YWx1ZS5oYXNPd25Qcm9wZXJ0eShcInN0YXRlXCIpKSB7XG4gICAgICAgIHJldHVybiBBZ2VudFN0YXRlTWVzc2FnZU91dHB1dDtcbiAgICAgIH1cbiAgICAgIHJldHVybiB2b2lkIDA7XG4gICAgfVxuICB9KVxuXSwgQmFzZU1lc3NhZ2VPdXRwdXQpO1xudmFyIFRleHRNZXNzYWdlT3V0cHV0ID0gY2xhc3Mge1xuICByb2xlO1xuICBjb250ZW50O1xufTtcbl9fbmFtZShUZXh0TWVzc2FnZU91dHB1dCwgXCJUZXh0TWVzc2FnZU91dHB1dFwiKTtcbl90c19kZWNvcmF0ZTEzKFtcbiAgKDAsIGltcG9ydF90eXBlX2dyYXBocWwxNC5GaWVsZCkoKCkgPT4gTWVzc2FnZVJvbGUpLFxuICBfdHNfbWV0YWRhdGExMyhcImRlc2lnbjp0eXBlXCIsIHR5cGVvZiBNZXNzYWdlUm9sZSA9PT0gXCJ1bmRlZmluZWRcIiA/IE9iamVjdCA6IE1lc3NhZ2VSb2xlKVxuXSwgVGV4dE1lc3NhZ2VPdXRwdXQucHJvdG90eXBlLCBcInJvbGVcIiwgdm9pZCAwKTtcbl90c19kZWNvcmF0ZTEzKFtcbiAgKDAsIGltcG9ydF90eXBlX2dyYXBocWwxNC5GaWVsZCkoKCkgPT4gW1xuICAgIFN0cmluZ1xuICBdKSxcbiAgX3RzX21ldGFkYXRhMTMoXCJkZXNpZ246dHlwZVwiLCBBcnJheSlcbl0sIFRleHRNZXNzYWdlT3V0cHV0LnByb3RvdHlwZSwgXCJjb250ZW50XCIsIHZvaWQgMCk7XG5UZXh0TWVzc2FnZU91dHB1dCA9IF90c19kZWNvcmF0ZTEzKFtcbiAgKDAsIGltcG9ydF90eXBlX2dyYXBocWwxNC5PYmplY3RUeXBlKSh7XG4gICAgaW1wbGVtZW50czogQmFzZU1lc3NhZ2VPdXRwdXRcbiAgfSlcbl0sIFRleHRNZXNzYWdlT3V0cHV0KTtcbnZhciBBY3Rpb25FeGVjdXRpb25NZXNzYWdlT3V0cHV0ID0gY2xhc3Mge1xuICBuYW1lO1xuICBzY29wZTtcbiAgYXJndW1lbnRzO1xufTtcbl9fbmFtZShBY3Rpb25FeGVjdXRpb25NZXNzYWdlT3V0cHV0LCBcIkFjdGlvbkV4ZWN1dGlvbk1lc3NhZ2VPdXRwdXRcIik7XG5fdHNfZGVjb3JhdGUxMyhbXG4gICgwLCBpbXBvcnRfdHlwZV9ncmFwaHFsMTQuRmllbGQpKCgpID0+IFN0cmluZyksXG4gIF90c19tZXRhZGF0YTEzKFwiZGVzaWduOnR5cGVcIiwgU3RyaW5nKVxuXSwgQWN0aW9uRXhlY3V0aW9uTWVzc2FnZU91dHB1dC5wcm90b3R5cGUsIFwibmFtZVwiLCB2b2lkIDApO1xuX3RzX2RlY29yYXRlMTMoW1xuICAoMCwgaW1wb3J0X3R5cGVfZ3JhcGhxbDE0LkZpZWxkKSgoKSA9PiBBY3Rpb25FeGVjdXRpb25TY29wZSksXG4gIF90c19tZXRhZGF0YTEzKFwiZGVzaWduOnR5cGVcIiwgdHlwZW9mIEFjdGlvbkV4ZWN1dGlvblNjb3BlID09PSBcInVuZGVmaW5lZFwiID8gT2JqZWN0IDogQWN0aW9uRXhlY3V0aW9uU2NvcGUpXG5dLCBBY3Rpb25FeGVjdXRpb25NZXNzYWdlT3V0cHV0LnByb3RvdHlwZSwgXCJzY29wZVwiLCB2b2lkIDApO1xuX3RzX2RlY29yYXRlMTMoW1xuICAoMCwgaW1wb3J0X3R5cGVfZ3JhcGhxbDE0LkZpZWxkKSgoKSA9PiBbXG4gICAgU3RyaW5nXG4gIF0pLFxuICBfdHNfbWV0YWRhdGExMyhcImRlc2lnbjp0eXBlXCIsIEFycmF5KVxuXSwgQWN0aW9uRXhlY3V0aW9uTWVzc2FnZU91dHB1dC5wcm90b3R5cGUsIFwiYXJndW1lbnRzXCIsIHZvaWQgMCk7XG5BY3Rpb25FeGVjdXRpb25NZXNzYWdlT3V0cHV0ID0gX3RzX2RlY29yYXRlMTMoW1xuICAoMCwgaW1wb3J0X3R5cGVfZ3JhcGhxbDE0Lk9iamVjdFR5cGUpKHtcbiAgICBpbXBsZW1lbnRzOiBCYXNlTWVzc2FnZU91dHB1dFxuICB9KVxuXSwgQWN0aW9uRXhlY3V0aW9uTWVzc2FnZU91dHB1dCk7XG52YXIgUmVzdWx0TWVzc2FnZU91dHB1dCA9IGNsYXNzIHtcbiAgYWN0aW9uRXhlY3V0aW9uSWQ7XG4gIGFjdGlvbk5hbWU7XG4gIHJlc3VsdDtcbn07XG5fX25hbWUoUmVzdWx0TWVzc2FnZU91dHB1dCwgXCJSZXN1bHRNZXNzYWdlT3V0cHV0XCIpO1xuX3RzX2RlY29yYXRlMTMoW1xuICAoMCwgaW1wb3J0X3R5cGVfZ3JhcGhxbDE0LkZpZWxkKSgoKSA9PiBTdHJpbmcpLFxuICBfdHNfbWV0YWRhdGExMyhcImRlc2lnbjp0eXBlXCIsIFN0cmluZylcbl0sIFJlc3VsdE1lc3NhZ2VPdXRwdXQucHJvdG90eXBlLCBcImFjdGlvbkV4ZWN1dGlvbklkXCIsIHZvaWQgMCk7XG5fdHNfZGVjb3JhdGUxMyhbXG4gICgwLCBpbXBvcnRfdHlwZV9ncmFwaHFsMTQuRmllbGQpKCgpID0+IFN0cmluZyksXG4gIF90c19tZXRhZGF0YTEzKFwiZGVzaWduOnR5cGVcIiwgU3RyaW5nKVxuXSwgUmVzdWx0TWVzc2FnZU91dHB1dC5wcm90b3R5cGUsIFwiYWN0aW9uTmFtZVwiLCB2b2lkIDApO1xuX3RzX2RlY29yYXRlMTMoW1xuICAoMCwgaW1wb3J0X3R5cGVfZ3JhcGhxbDE0LkZpZWxkKSgoKSA9PiBTdHJpbmcpLFxuICBfdHNfbWV0YWRhdGExMyhcImRlc2lnbjp0eXBlXCIsIFN0cmluZylcbl0sIFJlc3VsdE1lc3NhZ2VPdXRwdXQucHJvdG90eXBlLCBcInJlc3VsdFwiLCB2b2lkIDApO1xuUmVzdWx0TWVzc2FnZU91dHB1dCA9IF90c19kZWNvcmF0ZTEzKFtcbiAgKDAsIGltcG9ydF90eXBlX2dyYXBocWwxNC5PYmplY3RUeXBlKSh7XG4gICAgaW1wbGVtZW50czogQmFzZU1lc3NhZ2VPdXRwdXRcbiAgfSlcbl0sIFJlc3VsdE1lc3NhZ2VPdXRwdXQpO1xudmFyIEFnZW50U3RhdGVNZXNzYWdlT3V0cHV0ID0gY2xhc3Mge1xuICB0aHJlYWRJZDtcbiAgYWdlbnROYW1lO1xuICBub2RlTmFtZTtcbiAgcnVuSWQ7XG4gIGFjdGl2ZTtcbiAgcm9sZTtcbiAgc3RhdGU7XG4gIHJ1bm5pbmc7XG59O1xuX19uYW1lKEFnZW50U3RhdGVNZXNzYWdlT3V0cHV0LCBcIkFnZW50U3RhdGVNZXNzYWdlT3V0cHV0XCIpO1xuX3RzX2RlY29yYXRlMTMoW1xuICAoMCwgaW1wb3J0X3R5cGVfZ3JhcGhxbDE0LkZpZWxkKSgoKSA9PiBTdHJpbmcpLFxuICBfdHNfbWV0YWRhdGExMyhcImRlc2lnbjp0eXBlXCIsIFN0cmluZylcbl0sIEFnZW50U3RhdGVNZXNzYWdlT3V0cHV0LnByb3RvdHlwZSwgXCJ0aHJlYWRJZFwiLCB2b2lkIDApO1xuX3RzX2RlY29yYXRlMTMoW1xuICAoMCwgaW1wb3J0X3R5cGVfZ3JhcGhxbDE0LkZpZWxkKSgoKSA9PiBTdHJpbmcpLFxuICBfdHNfbWV0YWRhdGExMyhcImRlc2lnbjp0eXBlXCIsIFN0cmluZylcbl0sIEFnZW50U3RhdGVNZXNzYWdlT3V0cHV0LnByb3RvdHlwZSwgXCJhZ2VudE5hbWVcIiwgdm9pZCAwKTtcbl90c19kZWNvcmF0ZTEzKFtcbiAgKDAsIGltcG9ydF90eXBlX2dyYXBocWwxNC5GaWVsZCkoKCkgPT4gU3RyaW5nKSxcbiAgX3RzX21ldGFkYXRhMTMoXCJkZXNpZ246dHlwZVwiLCBTdHJpbmcpXG5dLCBBZ2VudFN0YXRlTWVzc2FnZU91dHB1dC5wcm90b3R5cGUsIFwibm9kZU5hbWVcIiwgdm9pZCAwKTtcbl90c19kZWNvcmF0ZTEzKFtcbiAgKDAsIGltcG9ydF90eXBlX2dyYXBocWwxNC5GaWVsZCkoKCkgPT4gU3RyaW5nKSxcbiAgX3RzX21ldGFkYXRhMTMoXCJkZXNpZ246dHlwZVwiLCBTdHJpbmcpXG5dLCBBZ2VudFN0YXRlTWVzc2FnZU91dHB1dC5wcm90b3R5cGUsIFwicnVuSWRcIiwgdm9pZCAwKTtcbl90c19kZWNvcmF0ZTEzKFtcbiAgKDAsIGltcG9ydF90eXBlX2dyYXBocWwxNC5GaWVsZCkoKCkgPT4gQm9vbGVhbiksXG4gIF90c19tZXRhZGF0YTEzKFwiZGVzaWduOnR5cGVcIiwgQm9vbGVhbilcbl0sIEFnZW50U3RhdGVNZXNzYWdlT3V0cHV0LnByb3RvdHlwZSwgXCJhY3RpdmVcIiwgdm9pZCAwKTtcbl90c19kZWNvcmF0ZTEzKFtcbiAgKDAsIGltcG9ydF90eXBlX2dyYXBocWwxNC5GaWVsZCkoKCkgPT4gTWVzc2FnZVJvbGUpLFxuICBfdHNfbWV0YWRhdGExMyhcImRlc2lnbjp0eXBlXCIsIHR5cGVvZiBNZXNzYWdlUm9sZSA9PT0gXCJ1bmRlZmluZWRcIiA/IE9iamVjdCA6IE1lc3NhZ2VSb2xlKVxuXSwgQWdlbnRTdGF0ZU1lc3NhZ2VPdXRwdXQucHJvdG90eXBlLCBcInJvbGVcIiwgdm9pZCAwKTtcbl90c19kZWNvcmF0ZTEzKFtcbiAgKDAsIGltcG9ydF90eXBlX2dyYXBocWwxNC5GaWVsZCkoKCkgPT4gU3RyaW5nKSxcbiAgX3RzX21ldGFkYXRhMTMoXCJkZXNpZ246dHlwZVwiLCBTdHJpbmcpXG5dLCBBZ2VudFN0YXRlTWVzc2FnZU91dHB1dC5wcm90b3R5cGUsIFwic3RhdGVcIiwgdm9pZCAwKTtcbl90c19kZWNvcmF0ZTEzKFtcbiAgKDAsIGltcG9ydF90eXBlX2dyYXBocWwxNC5GaWVsZCkoKCkgPT4gQm9vbGVhbiksXG4gIF90c19tZXRhZGF0YTEzKFwiZGVzaWduOnR5cGVcIiwgQm9vbGVhbilcbl0sIEFnZW50U3RhdGVNZXNzYWdlT3V0cHV0LnByb3RvdHlwZSwgXCJydW5uaW5nXCIsIHZvaWQgMCk7XG5BZ2VudFN0YXRlTWVzc2FnZU91dHB1dCA9IF90c19kZWNvcmF0ZTEzKFtcbiAgKDAsIGltcG9ydF90eXBlX2dyYXBocWwxNC5PYmplY3RUeXBlKSh7XG4gICAgaW1wbGVtZW50czogQmFzZU1lc3NhZ2VPdXRwdXRcbiAgfSlcbl0sIEFnZW50U3RhdGVNZXNzYWdlT3V0cHV0KTtcbnZhciBDb3BpbG90UmVzcG9uc2UgPSBjbGFzcyB7XG4gIHRocmVhZElkO1xuICBzdGF0dXM7XG4gIHJ1bklkO1xuICBtZXNzYWdlcztcbn07XG5fX25hbWUoQ29waWxvdFJlc3BvbnNlLCBcIkNvcGlsb3RSZXNwb25zZVwiKTtcbl90c19kZWNvcmF0ZTEzKFtcbiAgKDAsIGltcG9ydF90eXBlX2dyYXBocWwxNC5GaWVsZCkoKCkgPT4gU3RyaW5nKSxcbiAgX3RzX21ldGFkYXRhMTMoXCJkZXNpZ246dHlwZVwiLCBTdHJpbmcpXG5dLCBDb3BpbG90UmVzcG9uc2UucHJvdG90eXBlLCBcInRocmVhZElkXCIsIHZvaWQgMCk7XG5fdHNfZGVjb3JhdGUxMyhbXG4gICgwLCBpbXBvcnRfdHlwZV9ncmFwaHFsMTQuRmllbGQpKCgpID0+IFJlc3BvbnNlU3RhdHVzVW5pb24pLFxuICBfdHNfbWV0YWRhdGExMyhcImRlc2lnbjp0eXBlXCIsIE9iamVjdClcbl0sIENvcGlsb3RSZXNwb25zZS5wcm90b3R5cGUsIFwic3RhdHVzXCIsIHZvaWQgMCk7XG5fdHNfZGVjb3JhdGUxMyhbXG4gICgwLCBpbXBvcnRfdHlwZV9ncmFwaHFsMTQuRmllbGQpKHtcbiAgICBudWxsYWJsZTogdHJ1ZVxuICB9KSxcbiAgX3RzX21ldGFkYXRhMTMoXCJkZXNpZ246dHlwZVwiLCBTdHJpbmcpXG5dLCBDb3BpbG90UmVzcG9uc2UucHJvdG90eXBlLCBcInJ1bklkXCIsIHZvaWQgMCk7XG5fdHNfZGVjb3JhdGUxMyhbXG4gICgwLCBpbXBvcnRfdHlwZV9ncmFwaHFsMTQuRmllbGQpKCgpID0+IFtcbiAgICBCYXNlTWVzc2FnZU91dHB1dFxuICBdKSxcbiAgX3RzX21ldGFkYXRhMTMoXCJkZXNpZ246dHlwZVwiLCBBcnJheSlcbl0sIENvcGlsb3RSZXNwb25zZS5wcm90b3R5cGUsIFwibWVzc2FnZXNcIiwgdm9pZCAwKTtcbkNvcGlsb3RSZXNwb25zZSA9IF90c19kZWNvcmF0ZTEzKFtcbiAgKDAsIGltcG9ydF90eXBlX2dyYXBocWwxNC5PYmplY3RUeXBlKSgpXG5dLCBDb3BpbG90UmVzcG9uc2UpO1xuXG4vLyBzcmMvZ3JhcGhxbC9yZXNvbHZlcnMvY29waWxvdC5yZXNvbHZlci50c1xudmFyIGltcG9ydF9ncmFwaHFsX3lvZ2EgPSByZXF1aXJlKFwiZ3JhcGhxbC15b2dhXCIpO1xudmFyIGltcG9ydF9ncmFwaHFsX3NjYWxhcnMyID0gcmVxdWlyZShcImdyYXBocWwtc2NhbGFyc1wiKTtcbnZhciBpbXBvcnRfY2xhc3NfdHJhbnNmb3JtZXIyID0gcmVxdWlyZShcImNsYXNzLXRyYW5zZm9ybWVyXCIpO1xudmFyIGltcG9ydF9ncmFwaHFsID0gcmVxdWlyZShcImdyYXBocWxcIik7XG5cbi8vIHNyYy91dGlscy9mYWlsZWQtcmVzcG9uc2Utc3RhdHVzLXJlYXNvbnMudHNcbnZhciBHdWFyZHJhaWxzVmFsaWRhdGlvbkZhaWx1cmVSZXNwb25zZSA9IGNsYXNzIGV4dGVuZHMgRmFpbGVkUmVzcG9uc2VTdGF0dXMge1xuICByZWFzb24gPSBGYWlsZWRSZXNwb25zZVN0YXR1c1JlYXNvbi5HVUFSRFJBSUxTX1ZBTElEQVRJT05fRkFJTEVEO1xuICBjb25zdHJ1Y3Rvcih7IGd1YXJkcmFpbHNSZWFzb24gfSkge1xuICAgIHN1cGVyKCk7XG4gICAgdGhpcy5kZXRhaWxzID0ge1xuICAgICAgZ3VhcmRyYWlsc1JlYXNvblxuICAgIH07XG4gIH1cbn07XG5fX25hbWUoR3VhcmRyYWlsc1ZhbGlkYXRpb25GYWlsdXJlUmVzcG9uc2UsIFwiR3VhcmRyYWlsc1ZhbGlkYXRpb25GYWlsdXJlUmVzcG9uc2VcIik7XG52YXIgTWVzc2FnZVN0cmVhbUludGVycnVwdGVkUmVzcG9uc2UgPSBjbGFzcyBleHRlbmRzIEZhaWxlZFJlc3BvbnNlU3RhdHVzIHtcbiAgcmVhc29uID0gRmFpbGVkUmVzcG9uc2VTdGF0dXNSZWFzb24uTUVTU0FHRV9TVFJFQU1fSU5URVJSVVBURUQ7XG4gIGNvbnN0cnVjdG9yKHsgbWVzc2FnZUlkIH0pIHtcbiAgICBzdXBlcigpO1xuICAgIHRoaXMuZGV0YWlscyA9IHtcbiAgICAgIG1lc3NhZ2VJZCxcbiAgICAgIGRlc2NyaXB0aW9uOiBcIkNoZWNrIHRoZSBtZXNzYWdlIGZvciBtb2RlIGRldGFpbHNcIlxuICAgIH07XG4gIH1cbn07XG5fX25hbWUoTWVzc2FnZVN0cmVhbUludGVycnVwdGVkUmVzcG9uc2UsIFwiTWVzc2FnZVN0cmVhbUludGVycnVwdGVkUmVzcG9uc2VcIik7XG52YXIgVW5rbm93bkVycm9yUmVzcG9uc2UgPSBjbGFzcyBleHRlbmRzIEZhaWxlZFJlc3BvbnNlU3RhdHVzIHtcbiAgcmVhc29uID0gRmFpbGVkUmVzcG9uc2VTdGF0dXNSZWFzb24uVU5LTk9XTl9FUlJPUjtcbiAgY29uc3RydWN0b3IoeyBkZXNjcmlwdGlvbiB9KSB7XG4gICAgc3VwZXIoKTtcbiAgICB0aGlzLmRldGFpbHMgPSB7XG4gICAgICBkZXNjcmlwdGlvblxuICAgIH07XG4gIH1cbn07XG5fX25hbWUoVW5rbm93bkVycm9yUmVzcG9uc2UsIFwiVW5rbm93bkVycm9yUmVzcG9uc2VcIik7XG5cbi8vIHNyYy9ncmFwaHFsL3Jlc29sdmVycy9jb3BpbG90LnJlc29sdmVyLnRzXG52YXIgaW1wb3J0X3NoYXJlZDEwID0gcmVxdWlyZShcIkBjb3BpbG90a2l0L3NoYXJlZFwiKTtcbmZ1bmN0aW9uIF90c19kZWNvcmF0ZTE0KGRlY29yYXRvcnMsIHRhcmdldCwga2V5LCBkZXNjKSB7XG4gIHZhciBjID0gYXJndW1lbnRzLmxlbmd0aCwgciA9IGMgPCAzID8gdGFyZ2V0IDogZGVzYyA9PT0gbnVsbCA/IGRlc2MgPSBPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKHRhcmdldCwga2V5KSA6IGRlc2MsIGQ7XG4gIGlmICh0eXBlb2YgUmVmbGVjdCA9PT0gXCJvYmplY3RcIiAmJiB0eXBlb2YgUmVmbGVjdC5kZWNvcmF0ZSA9PT0gXCJmdW5jdGlvblwiKVxuICAgIHIgPSBSZWZsZWN0LmRlY29yYXRlKGRlY29yYXRvcnMsIHRhcmdldCwga2V5LCBkZXNjKTtcbiAgZWxzZVxuICAgIGZvciAodmFyIGkgPSBkZWNvcmF0b3JzLmxlbmd0aCAtIDE7IGkgPj0gMDsgaS0tKVxuICAgICAgaWYgKGQgPSBkZWNvcmF0b3JzW2ldKVxuICAgICAgICByID0gKGMgPCAzID8gZChyKSA6IGMgPiAzID8gZCh0YXJnZXQsIGtleSwgcikgOiBkKHRhcmdldCwga2V5KSkgfHwgcjtcbiAgcmV0dXJuIGMgPiAzICYmIHIgJiYgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRhcmdldCwga2V5LCByKSwgcjtcbn1cbl9fbmFtZShfdHNfZGVjb3JhdGUxNCwgXCJfdHNfZGVjb3JhdGVcIik7XG5mdW5jdGlvbiBfdHNfbWV0YWRhdGExNChrLCB2KSB7XG4gIGlmICh0eXBlb2YgUmVmbGVjdCA9PT0gXCJvYmplY3RcIiAmJiB0eXBlb2YgUmVmbGVjdC5tZXRhZGF0YSA9PT0gXCJmdW5jdGlvblwiKVxuICAgIHJldHVybiBSZWZsZWN0Lm1ldGFkYXRhKGssIHYpO1xufVxuX19uYW1lKF90c19tZXRhZGF0YTE0LCBcIl90c19tZXRhZGF0YVwiKTtcbmZ1bmN0aW9uIF90c19wYXJhbShwYXJhbUluZGV4LCBkZWNvcmF0b3IpIHtcbiAgcmV0dXJuIGZ1bmN0aW9uKHRhcmdldCwga2V5KSB7XG4gICAgZGVjb3JhdG9yKHRhcmdldCwga2V5LCBwYXJhbUluZGV4KTtcbiAgfTtcbn1cbl9fbmFtZShfdHNfcGFyYW0sIFwiX3RzX3BhcmFtXCIpO1xudmFyIGludm9rZUd1YXJkcmFpbHMgPSAvKiBAX19QVVJFX18gKi8gX19uYW1lKGFzeW5jICh7IGJhc2VVcmwsIGNvcGlsb3RDbG91ZFB1YmxpY0FwaUtleSwgZGF0YSwgb25SZXN1bHQsIG9uRXJyb3IgfSkgPT4ge1xuICB2YXIgX2E7XG4gIGlmIChkYXRhLm1lc3NhZ2VzLmxlbmd0aCAmJiAoKF9hID0gZGF0YS5tZXNzYWdlc1tkYXRhLm1lc3NhZ2VzLmxlbmd0aCAtIDFdLnRleHRNZXNzYWdlKSA9PSBudWxsID8gdm9pZCAwIDogX2Eucm9sZSkgPT09IE1lc3NhZ2VSb2xlLnVzZXIpIHtcbiAgICBjb25zdCBtZXNzYWdlcyA9IGRhdGEubWVzc2FnZXMuZmlsdGVyKChtKSA9PiBtLnRleHRNZXNzYWdlICE9PSB2b2lkIDAgJiYgKG0udGV4dE1lc3NhZ2Uucm9sZSA9PT0gTWVzc2FnZVJvbGUudXNlciB8fCBtLnRleHRNZXNzYWdlLnJvbGUgPT09IE1lc3NhZ2VSb2xlLmFzc2lzdGFudCkpLm1hcCgobSkgPT4gKHtcbiAgICAgIHJvbGU6IG0udGV4dE1lc3NhZ2Uucm9sZSxcbiAgICAgIGNvbnRlbnQ6IG0udGV4dE1lc3NhZ2UuY29udGVudFxuICAgIH0pKTtcbiAgICBjb25zdCBsYXN0TWVzc2FnZSA9IG1lc3NhZ2VzW21lc3NhZ2VzLmxlbmd0aCAtIDFdO1xuICAgIGNvbnN0IHJlc3RPZk1lc3NhZ2VzID0gbWVzc2FnZXMuc2xpY2UoMCwgLTEpO1xuICAgIGNvbnN0IGJvZHkgPSB7XG4gICAgICBpbnB1dDogbGFzdE1lc3NhZ2UuY29udGVudCxcbiAgICAgIHZhbGlkVG9waWNzOiBkYXRhLmNsb3VkLmd1YXJkcmFpbHMuaW5wdXRWYWxpZGF0aW9uUnVsZXMuYWxsb3dMaXN0LFxuICAgICAgaW52YWxpZFRvcGljczogZGF0YS5jbG91ZC5ndWFyZHJhaWxzLmlucHV0VmFsaWRhdGlvblJ1bGVzLmRlbnlMaXN0LFxuICAgICAgbWVzc2FnZXM6IHJlc3RPZk1lc3NhZ2VzXG4gICAgfTtcbiAgICBjb25zdCBndWFyZHJhaWxzUmVzdWx0ID0gYXdhaXQgZmV0Y2goYCR7YmFzZVVybH0vZ3VhcmRyYWlscy92YWxpZGF0ZWAsIHtcbiAgICAgIG1ldGhvZDogXCJQT1NUXCIsXG4gICAgICBoZWFkZXJzOiB7XG4gICAgICAgIFwiQ29udGVudC1UeXBlXCI6IFwiYXBwbGljYXRpb24vanNvblwiLFxuICAgICAgICBcIlgtQ29waWxvdENsb3VkLVB1YmxpYy1BUEktS2V5XCI6IGNvcGlsb3RDbG91ZFB1YmxpY0FwaUtleVxuICAgICAgfSxcbiAgICAgIGJvZHk6IEpTT04uc3RyaW5naWZ5KGJvZHkpXG4gICAgfSk7XG4gICAgaWYgKGd1YXJkcmFpbHNSZXN1bHQub2spIHtcbiAgICAgIGNvbnN0IHJlc3VsdEpzb24gPSBhd2FpdCBndWFyZHJhaWxzUmVzdWx0Lmpzb24oKTtcbiAgICAgIG9uUmVzdWx0KHJlc3VsdEpzb24pO1xuICAgIH0gZWxzZSB7XG4gICAgICBvbkVycm9yKGF3YWl0IGd1YXJkcmFpbHNSZXN1bHQuanNvbigpKTtcbiAgICB9XG4gIH1cbn0sIFwiaW52b2tlR3VhcmRyYWlsc1wiKTtcbnZhciBDb3BpbG90UmVzb2x2ZXIgPSBjbGFzcyB7XG4gIGFzeW5jIGhlbGxvKCkge1xuICAgIHJldHVybiBcIkhlbGxvIFdvcmxkXCI7XG4gIH1cbiAgYXN5bmMgZ2VuZXJhdGVDb3BpbG90UmVzcG9uc2UoY3R4LCBkYXRhLCBwcm9wZXJ0aWVzKSB7XG4gICAgdmFyIF9hLCBfYiwgX2M7XG4gICAgdGVsZW1ldHJ5X2NsaWVudF9kZWZhdWx0LmNhcHR1cmUoXCJvc3MucnVudGltZS5jb3BpbG90X3JlcXVlc3RfY3JlYXRlZFwiLCB7XG4gICAgICBcImNsb3VkLmd1YXJkcmFpbHMuZW5hYmxlZFwiOiAoKF9hID0gZGF0YS5jbG91ZCkgPT0gbnVsbCA/IHZvaWQgMCA6IF9hLmd1YXJkcmFpbHMpICE9PSB2b2lkIDAsXG4gICAgICByZXF1ZXN0VHlwZTogZGF0YS5tZXRhZGF0YS5yZXF1ZXN0VHlwZVxuICAgIH0pO1xuICAgIGxldCBsb2dnZXIyID0gY3R4LmxvZ2dlci5jaGlsZCh7XG4gICAgICBjb21wb25lbnQ6IFwiQ29waWxvdFJlc29sdmVyLmdlbmVyYXRlQ29waWxvdFJlc3BvbnNlXCJcbiAgICB9KTtcbiAgICBsb2dnZXIyLmRlYnVnKHtcbiAgICAgIGRhdGFcbiAgICB9LCBcIkdlbmVyYXRpbmcgQ29waWxvdCByZXNwb25zZVwiKTtcbiAgICBpZiAocHJvcGVydGllcykge1xuICAgICAgbG9nZ2VyMi5kZWJ1ZyhcIlByb3BlcnRpZXMgcHJvdmlkZWQsIG1lcmdpbmcgd2l0aCBjb250ZXh0IHByb3BlcnRpZXNcIik7XG4gICAgICBjdHgucHJvcGVydGllcyA9IHtcbiAgICAgICAgLi4uY3R4LnByb3BlcnRpZXMsXG4gICAgICAgIC4uLnByb3BlcnRpZXNcbiAgICAgIH07XG4gICAgfVxuICAgIGNvbnN0IGNvcGlsb3RSdW50aW1lID0gY3R4Ll9jb3BpbG90a2l0LnJ1bnRpbWU7XG4gICAgY29uc3Qgc2VydmljZUFkYXB0ZXIgPSBjdHguX2NvcGlsb3RraXQuc2VydmljZUFkYXB0ZXI7XG4gICAgbGV0IGNvcGlsb3RDbG91ZFB1YmxpY0FwaUtleSA9IG51bGw7XG4gICAgbGV0IGNvcGlsb3RDbG91ZEJhc2VVcmw7XG4gICAgaWYgKGRhdGEuY2xvdWQpIHtcbiAgICAgIGxvZ2dlcjIgPSBsb2dnZXIyLmNoaWxkKHtcbiAgICAgICAgY2xvdWQ6IHRydWVcbiAgICAgIH0pO1xuICAgICAgbG9nZ2VyMi5kZWJ1ZyhcIkNsb3VkIGNvbmZpZ3VyYXRpb24gcHJvdmlkZWQsIGNoZWNraW5nIGZvciBwdWJsaWMgQVBJIGtleSBpbiBoZWFkZXJzXCIpO1xuICAgICAgY29uc3Qga2V5ID0gY3R4LnJlcXVlc3QuaGVhZGVycy5nZXQoXCJ4LWNvcGlsb3RjbG91ZC1wdWJsaWMtYXBpLWtleVwiKTtcbiAgICAgIGlmIChrZXkpIHtcbiAgICAgICAgbG9nZ2VyMi5kZWJ1ZyhcIlB1YmxpYyBBUEkga2V5IGZvdW5kIGluIGhlYWRlcnNcIik7XG4gICAgICAgIGNvcGlsb3RDbG91ZFB1YmxpY0FwaUtleSA9IGtleTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGxvZ2dlcjIuZXJyb3IoXCJQdWJsaWMgQVBJIGtleSBub3QgZm91bmQgaW4gaGVhZGVyc1wiKTtcbiAgICAgICAgdGhyb3cgbmV3IGltcG9ydF9ncmFwaHFsLkdyYXBoUUxFcnJvcihcIlgtQ29waWxvdENsb3VkLVB1YmxpYy1BUEktS2V5IGhlYWRlciBpcyByZXF1aXJlZFwiKTtcbiAgICAgIH1cbiAgICAgIGlmIChwcm9jZXNzLmVudi5DT1BJTE9UX0NMT1VEX0JBU0VfVVJMKSB7XG4gICAgICAgIGNvcGlsb3RDbG91ZEJhc2VVcmwgPSBwcm9jZXNzLmVudi5DT1BJTE9UX0NMT1VEX0JBU0VfVVJMO1xuICAgICAgfSBlbHNlIGlmICgoX2IgPSBjdHguX2NvcGlsb3RraXQuY2xvdWQpID09IG51bGwgPyB2b2lkIDAgOiBfYi5iYXNlVXJsKSB7XG4gICAgICAgIGNvcGlsb3RDbG91ZEJhc2VVcmwgPSAoX2MgPSBjdHguX2NvcGlsb3RraXQuY2xvdWQpID09IG51bGwgPyB2b2lkIDAgOiBfYy5iYXNlVXJsO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgY29waWxvdENsb3VkQmFzZVVybCA9IFwiaHR0cHM6Ly9hcGkuY2xvdWQuY29waWxvdGtpdC5haVwiO1xuICAgICAgfVxuICAgICAgbG9nZ2VyMiA9IGxvZ2dlcjIuY2hpbGQoe1xuICAgICAgICBjb3BpbG90Q2xvdWRCYXNlVXJsXG4gICAgICB9KTtcbiAgICB9XG4gICAgbG9nZ2VyMi5kZWJ1ZyhcIlNldHRpbmcgdXAgc3ViamVjdHNcIik7XG4gICAgY29uc3QgcmVzcG9uc2VTdGF0dXMkID0gbmV3IGltcG9ydF9yeGpzNC5SZXBsYXlTdWJqZWN0KCk7XG4gICAgY29uc3QgaW50ZXJydXB0U3RyZWFtaW5nJCA9IG5ldyBpbXBvcnRfcnhqczQuUmVwbGF5U3ViamVjdCgpO1xuICAgIGNvbnN0IGd1YXJkcmFpbHNSZXN1bHQkID0gbmV3IGltcG9ydF9yeGpzNC5SZXBsYXlTdWJqZWN0KCk7XG4gICAgbGV0IG91dHB1dE1lc3NhZ2VzID0gW107XG4gICAgbGV0IHJlc29sdmVPdXRwdXRNZXNzYWdlc1Byb21pc2U7XG4gICAgbGV0IHJlamVjdE91dHB1dE1lc3NhZ2VzUHJvbWlzZTtcbiAgICBjb25zdCBvdXRwdXRNZXNzYWdlc1Byb21pc2UgPSBuZXcgUHJvbWlzZSgocmVzb2x2ZSwgcmVqZWN0KSA9PiB7XG4gICAgICByZXNvbHZlT3V0cHV0TWVzc2FnZXNQcm9taXNlID0gcmVzb2x2ZTtcbiAgICAgIHJlamVjdE91dHB1dE1lc3NhZ2VzUHJvbWlzZSA9IHJlamVjdDtcbiAgICB9KTtcbiAgICBsb2dnZXIyLmRlYnVnKFwiUHJvY2Vzc2luZ1wiKTtcbiAgICBjb25zdCB7IGV2ZW50U291cmNlLCB0aHJlYWRJZCA9ICgwLCBpbXBvcnRfc2hhcmVkMTAucmFuZG9tSWQpKCksIHJ1bklkLCBzZXJ2ZXJTaWRlQWN0aW9ucywgYWN0aW9uSW5wdXRzV2l0aG91dEFnZW50cyB9ID0gYXdhaXQgY29waWxvdFJ1bnRpbWUucHJvY2Vzc1J1bnRpbWVSZXF1ZXN0KHtcbiAgICAgIHNlcnZpY2VBZGFwdGVyLFxuICAgICAgbWVzc2FnZXM6IGRhdGEubWVzc2FnZXMsXG4gICAgICBhY3Rpb25zOiBkYXRhLmZyb250ZW5kLmFjdGlvbnMsXG4gICAgICB0aHJlYWRJZDogZGF0YS50aHJlYWRJZCxcbiAgICAgIHJ1bklkOiBkYXRhLnJ1bklkLFxuICAgICAgcHVibGljQXBpS2V5OiB2b2lkIDAsXG4gICAgICBvdXRwdXRNZXNzYWdlc1Byb21pc2UsXG4gICAgICBncmFwaHFsQ29udGV4dDogY3R4LFxuICAgICAgZm9yd2FyZGVkUGFyYW1ldGVyczogZGF0YS5mb3J3YXJkZWRQYXJhbWV0ZXJzLFxuICAgICAgYWdlbnRTZXNzaW9uOiBkYXRhLmFnZW50U2Vzc2lvbixcbiAgICAgIGFnZW50U3RhdGVzOiBkYXRhLmFnZW50U3RhdGVzLFxuICAgICAgdXJsOiBkYXRhLmZyb250ZW5kLnVybFxuICAgIH0pO1xuICAgIGxvZ2dlcjIuZGVidWcoXCJFdmVudCBzb3VyY2UgY3JlYXRlZCwgY3JlYXRpbmcgcmVzcG9uc2VcIik7XG4gICAgY29uc3QgcmVzcG9uc2UgPSB7XG4gICAgICB0aHJlYWRJZCxcbiAgICAgIHJ1bklkLFxuICAgICAgc3RhdHVzOiAoMCwgaW1wb3J0X3J4anM0LmZpcnN0VmFsdWVGcm9tKShyZXNwb25zZVN0YXR1cyQpLFxuICAgICAgbWVzc2FnZXM6IG5ldyBpbXBvcnRfZ3JhcGhxbF95b2dhLlJlcGVhdGVyKGFzeW5jIChwdXNoTWVzc2FnZSwgc3RvcFN0cmVhbWluZ01lc3NhZ2VzKSA9PiB7XG4gICAgICAgIHZhciBfYTIsIF9iMjtcbiAgICAgICAgbG9nZ2VyMi5kZWJ1ZyhcIk1lc3NhZ2VzIHJlcGVhdGVyIGNyZWF0ZWRcIik7XG4gICAgICAgIGlmICgoX2EyID0gZGF0YS5jbG91ZCkgPT0gbnVsbCA/IHZvaWQgMCA6IF9hMi5ndWFyZHJhaWxzKSB7XG4gICAgICAgICAgbG9nZ2VyMiA9IGxvZ2dlcjIuY2hpbGQoe1xuICAgICAgICAgICAgZ3VhcmRyYWlsczogdHJ1ZVxuICAgICAgICAgIH0pO1xuICAgICAgICAgIGxvZ2dlcjIuZGVidWcoXCJHdWFyZHJhaWxzIGlzIGVuYWJsZWQsIHZhbGlkYXRpbmcgaW5wdXRcIik7XG4gICAgICAgICAgaW52b2tlR3VhcmRyYWlscyh7XG4gICAgICAgICAgICBiYXNlVXJsOiBjb3BpbG90Q2xvdWRCYXNlVXJsLFxuICAgICAgICAgICAgY29waWxvdENsb3VkUHVibGljQXBpS2V5LFxuICAgICAgICAgICAgZGF0YSxcbiAgICAgICAgICAgIG9uUmVzdWx0OiAocmVzdWx0KSA9PiB7XG4gICAgICAgICAgICAgIGxvZ2dlcjIuZGVidWcoe1xuICAgICAgICAgICAgICAgIHN0YXR1czogcmVzdWx0LnN0YXR1c1xuICAgICAgICAgICAgICB9LCBcIkd1YXJkcmFpbHMgdmFsaWRhdGlvbiBkb25lXCIpO1xuICAgICAgICAgICAgICBndWFyZHJhaWxzUmVzdWx0JC5uZXh0KHJlc3VsdCk7XG4gICAgICAgICAgICAgIGlmIChyZXN1bHQuc3RhdHVzID09PSBcImRlbmllZFwiKSB7XG4gICAgICAgICAgICAgICAgcmVzcG9uc2VTdGF0dXMkLm5leHQobmV3IEd1YXJkcmFpbHNWYWxpZGF0aW9uRmFpbHVyZVJlc3BvbnNlKHtcbiAgICAgICAgICAgICAgICAgIGd1YXJkcmFpbHNSZWFzb246IHJlc3VsdC5yZWFzb25cbiAgICAgICAgICAgICAgICB9KSk7XG4gICAgICAgICAgICAgICAgaW50ZXJydXB0U3RyZWFtaW5nJC5uZXh0KHtcbiAgICAgICAgICAgICAgICAgIHJlYXNvbjogYEludGVycnVwdGVkIGR1ZSB0byBHdWFyZHJhaWxzIHZhbGlkYXRpb24gZmFpbHVyZS4gUmVhc29uOiAke3Jlc3VsdC5yZWFzb259YFxuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgIG91dHB1dE1lc3NhZ2VzID0gW1xuICAgICAgICAgICAgICAgICAgKDAsIGltcG9ydF9jbGFzc190cmFuc2Zvcm1lcjIucGxhaW5Ub0luc3RhbmNlKShUZXh0TWVzc2FnZSwge1xuICAgICAgICAgICAgICAgICAgICBpZDogKDAsIGltcG9ydF9zaGFyZWQxMC5yYW5kb21JZCkoKSxcbiAgICAgICAgICAgICAgICAgICAgY3JlYXRlZEF0OiAvKiBAX19QVVJFX18gKi8gbmV3IERhdGUoKSxcbiAgICAgICAgICAgICAgICAgICAgY29udGVudDogcmVzdWx0LnJlYXNvbixcbiAgICAgICAgICAgICAgICAgICAgcm9sZTogTWVzc2FnZVJvbGUuYXNzaXN0YW50XG4gICAgICAgICAgICAgICAgICB9KVxuICAgICAgICAgICAgICAgIF07XG4gICAgICAgICAgICAgICAgcmVzb2x2ZU91dHB1dE1lc3NhZ2VzUHJvbWlzZShvdXRwdXRNZXNzYWdlcyk7XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBvbkVycm9yOiAoZXJyKSA9PiB7XG4gICAgICAgICAgICAgIGxvZ2dlcjIuZXJyb3Ioe1xuICAgICAgICAgICAgICAgIGVyclxuICAgICAgICAgICAgICB9LCBcIkVycm9yIGluIGd1YXJkcmFpbHMgdmFsaWRhdGlvblwiKTtcbiAgICAgICAgICAgICAgcmVzcG9uc2VTdGF0dXMkLm5leHQobmV3IFVua25vd25FcnJvclJlc3BvbnNlKHtcbiAgICAgICAgICAgICAgICBkZXNjcmlwdGlvbjogYEFuIHVua25vd24gZXJyb3IgaGFzIG9jY3VycmVkIGluIHRoZSBndWFyZHJhaWxzIHZhbGlkYXRpb25gXG4gICAgICAgICAgICAgIH0pKTtcbiAgICAgICAgICAgICAgaW50ZXJydXB0U3RyZWFtaW5nJC5uZXh0KHtcbiAgICAgICAgICAgICAgICByZWFzb246IGBJbnRlcnJ1cHRlZCBkdWUgdG8gdW5rbm93biBlcnJvciBpbiBndWFyZHJhaWxzIHZhbGlkYXRpb25gXG4gICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICByZWplY3RPdXRwdXRNZXNzYWdlc1Byb21pc2UoZXJyKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgICAgICBsZXQgZXZlbnRTdHJlYW1TdWJzY3JpcHRpb247XG4gICAgICAgIGNvbnN0IGV2ZW50U3RyZWFtID0gZXZlbnRTb3VyY2UucHJvY2Vzc1J1bnRpbWVFdmVudHMoe1xuICAgICAgICAgIHNlcnZlclNpZGVBY3Rpb25zLFxuICAgICAgICAgIGd1YXJkcmFpbHNSZXN1bHQkOiAoKF9iMiA9IGRhdGEuY2xvdWQpID09IG51bGwgPyB2b2lkIDAgOiBfYjIuZ3VhcmRyYWlscykgPyBndWFyZHJhaWxzUmVzdWx0JCA6IG51bGwsXG4gICAgICAgICAgYWN0aW9uSW5wdXRzV2l0aG91dEFnZW50czogYWN0aW9uSW5wdXRzV2l0aG91dEFnZW50cy5maWx0ZXIoXG4gICAgICAgICAgICAvLyBUT0RPLUFHRU5UUzogZG8gbm90IGV4Y2x1ZGUgQUxMIHNlcnZlciBzaWRlIGFjdGlvbnNcbiAgICAgICAgICAgIChhY3Rpb24pID0+ICFzZXJ2ZXJTaWRlQWN0aW9ucy5maW5kKChzZXJ2ZXJTaWRlQWN0aW9uKSA9PiBzZXJ2ZXJTaWRlQWN0aW9uLm5hbWUgPT0gYWN0aW9uLm5hbWUpXG4gICAgICAgICAgKVxuICAgICAgICB9KS5waXBlKFxuICAgICAgICAgIC8vIHNoYXJlUmVwbGF5KCkgZW5zdXJlcyB0aGF0IGxhdGVyIHN1YnNjcmliZXJzIHdpbGwgc2VlIHRoZSB3aG9sZSBzdHJlYW0gaW5zdGVhZCBvZlxuICAgICAgICAgIC8vIGp1c3QgdGhlIGV2ZW50cyB0aGF0IHdlcmUgZW1pdHRlZCBhZnRlciB0aGUgc3Vic2NyaWJlciB3YXMgYWRkZWQuXG4gICAgICAgICAgKDAsIGltcG9ydF9yeGpzNC5zaGFyZVJlcGxheSkoKSxcbiAgICAgICAgICAoMCwgaW1wb3J0X3J4anM0LmZpbmFsaXplKSgoKSA9PiB7XG4gICAgICAgICAgICBsb2dnZXIyLmRlYnVnKFwiRXZlbnQgc3RyZWFtIGZpbmFsaXplZFwiKTtcbiAgICAgICAgICB9KVxuICAgICAgICApO1xuICAgICAgICBsb2dnZXIyLmRlYnVnKFwiRXZlbnQgc3RyZWFtIGNyZWF0ZWQsIHN1YnNjcmliaW5nIHRvIGV2ZW50IHN0cmVhbVwiKTtcbiAgICAgICAgZXZlbnRTdHJlYW1TdWJzY3JpcHRpb24gPSBldmVudFN0cmVhbS5zdWJzY3JpYmUoe1xuICAgICAgICAgIG5leHQ6IGFzeW5jIChldmVudCkgPT4ge1xuICAgICAgICAgICAgc3dpdGNoIChldmVudC50eXBlKSB7XG4gICAgICAgICAgICAgIGNhc2UgUnVudGltZUV2ZW50VHlwZXMuVGV4dE1lc3NhZ2VTdGFydDpcbiAgICAgICAgICAgICAgICBjb25zdCB0ZXh0TWVzc2FnZUNvbnRlbnRTdHJlYW0gPSBldmVudFN0cmVhbS5waXBlKFxuICAgICAgICAgICAgICAgICAgLy8gc2tpcCB1bnRpbCB0aGlzIG1lc3NhZ2Ugc3RhcnQgZXZlbnRcbiAgICAgICAgICAgICAgICAgICgwLCBpbXBvcnRfcnhqczQuc2tpcFdoaWxlKSgoZSkgPT4gZSAhPT0gZXZlbnQpLFxuICAgICAgICAgICAgICAgICAgLy8gdGFrZSB1bnRpbCB0aGUgbWVzc2FnZSBlbmQgZXZlbnRcbiAgICAgICAgICAgICAgICAgICgwLCBpbXBvcnRfcnhqczQudGFrZVdoaWxlKSgoZSkgPT4gZS50eXBlICE9IFJ1bnRpbWVFdmVudFR5cGVzLlRleHRNZXNzYWdlRW5kKVxuICAgICAgICAgICAgICAgICk7XG4gICAgICAgICAgICAgICAgY29uc3Qgc3RyZWFtaW5nVGV4dFN0YXR1cyA9IG5ldyBpbXBvcnRfcnhqczQuU3ViamVjdCgpO1xuICAgICAgICAgICAgICAgIGNvbnN0IG1lc3NhZ2VJZCA9ICgwLCBpbXBvcnRfc2hhcmVkMTAucmFuZG9tSWQpKCk7XG4gICAgICAgICAgICAgICAgcHVzaE1lc3NhZ2Uoe1xuICAgICAgICAgICAgICAgICAgaWQ6IG1lc3NhZ2VJZCxcbiAgICAgICAgICAgICAgICAgIHN0YXR1czogKDAsIGltcG9ydF9yeGpzNC5maXJzdFZhbHVlRnJvbSkoc3RyZWFtaW5nVGV4dFN0YXR1cyksXG4gICAgICAgICAgICAgICAgICBjcmVhdGVkQXQ6IC8qIEBfX1BVUkVfXyAqLyBuZXcgRGF0ZSgpLFxuICAgICAgICAgICAgICAgICAgcm9sZTogTWVzc2FnZVJvbGUuYXNzaXN0YW50LFxuICAgICAgICAgICAgICAgICAgY29udGVudDogbmV3IGltcG9ydF9ncmFwaHFsX3lvZ2EuUmVwZWF0ZXIoYXN5bmMgKHB1c2hUZXh0Q2h1bmssIHN0b3BTdHJlYW1pbmdUZXh0KSA9PiB7XG4gICAgICAgICAgICAgICAgICAgIGxvZ2dlcjIuZGVidWcoXCJUZXh0IG1lc3NhZ2UgY29udGVudCByZXBlYXRlciBjcmVhdGVkXCIpO1xuICAgICAgICAgICAgICAgICAgICBjb25zdCB0ZXh0Q2h1bmtzID0gW107XG4gICAgICAgICAgICAgICAgICAgIGxldCB0ZXh0U3Vic2NyaXB0aW9uO1xuICAgICAgICAgICAgICAgICAgICBpbnRlcnJ1cHRTdHJlYW1pbmckLnBpcGUoKDAsIGltcG9ydF9yeGpzNC5zaGFyZVJlcGxheSkoKSwgKDAsIGltcG9ydF9yeGpzNC50YWtlKSgxKSwgKDAsIGltcG9ydF9yeGpzNC50YXApKCh7IHJlYXNvbiwgbWVzc2FnZUlkOiBtZXNzYWdlSWQyIH0pID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICBsb2dnZXIyLmRlYnVnKHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJlYXNvbixcbiAgICAgICAgICAgICAgICAgICAgICAgIG1lc3NhZ2VJZDogbWVzc2FnZUlkMlxuICAgICAgICAgICAgICAgICAgICAgIH0sIFwiVGV4dCBzdHJlYW1pbmcgaW50ZXJydXB0ZWRcIik7XG4gICAgICAgICAgICAgICAgICAgICAgc3RyZWFtaW5nVGV4dFN0YXR1cy5uZXh0KCgwLCBpbXBvcnRfY2xhc3NfdHJhbnNmb3JtZXIyLnBsYWluVG9JbnN0YW5jZSkoRmFpbGVkTWVzc2FnZVN0YXR1cywge1xuICAgICAgICAgICAgICAgICAgICAgICAgcmVhc29uXG4gICAgICAgICAgICAgICAgICAgICAgfSkpO1xuICAgICAgICAgICAgICAgICAgICAgIHJlc3BvbnNlU3RhdHVzJC5uZXh0KG5ldyBNZXNzYWdlU3RyZWFtSW50ZXJydXB0ZWRSZXNwb25zZSh7XG4gICAgICAgICAgICAgICAgICAgICAgICBtZXNzYWdlSWQ6IG1lc3NhZ2VJZDJcbiAgICAgICAgICAgICAgICAgICAgICB9KSk7XG4gICAgICAgICAgICAgICAgICAgICAgc3RvcFN0cmVhbWluZ1RleHQoKTtcbiAgICAgICAgICAgICAgICAgICAgICB0ZXh0U3Vic2NyaXB0aW9uID09IG51bGwgPyB2b2lkIDAgOiB0ZXh0U3Vic2NyaXB0aW9uLnVuc3Vic2NyaWJlKCk7XG4gICAgICAgICAgICAgICAgICAgIH0pKS5zdWJzY3JpYmUoKTtcbiAgICAgICAgICAgICAgICAgICAgbG9nZ2VyMi5kZWJ1ZyhcIlN1YnNjcmliaW5nIHRvIHRleHQgbWVzc2FnZSBjb250ZW50IHN0cmVhbVwiKTtcbiAgICAgICAgICAgICAgICAgICAgdGV4dFN1YnNjcmlwdGlvbiA9IHRleHRNZXNzYWdlQ29udGVudFN0cmVhbS5zdWJzY3JpYmUoe1xuICAgICAgICAgICAgICAgICAgICAgIG5leHQ6IGFzeW5jIChlKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoZS50eXBlID09IFJ1bnRpbWVFdmVudFR5cGVzLlRleHRNZXNzYWdlQ29udGVudCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICBhd2FpdCBwdXNoVGV4dENodW5rKGUuY29udGVudCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgIHRleHRDaHVua3MucHVzaChlLmNvbnRlbnQpO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgICAgICAgZXJyb3I6IChlcnIpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGxvZ2dlcjIuZXJyb3Ioe1xuICAgICAgICAgICAgICAgICAgICAgICAgICBlcnJcbiAgICAgICAgICAgICAgICAgICAgICAgIH0sIFwiRXJyb3IgaW4gdGV4dCBtZXNzYWdlIGNvbnRlbnQgc3RyZWFtXCIpO1xuICAgICAgICAgICAgICAgICAgICAgICAgaW50ZXJydXB0U3RyZWFtaW5nJC5uZXh0KHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgcmVhc29uOiBcIkVycm9yIHN0cmVhbWluZyBtZXNzYWdlIGNvbnRlbnRcIixcbiAgICAgICAgICAgICAgICAgICAgICAgICAgbWVzc2FnZUlkXG4gICAgICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHN0b3BTdHJlYW1pbmdUZXh0KCk7XG4gICAgICAgICAgICAgICAgICAgICAgICB0ZXh0U3Vic2NyaXB0aW9uID09IG51bGwgPyB2b2lkIDAgOiB0ZXh0U3Vic2NyaXB0aW9uLnVuc3Vic2NyaWJlKCk7XG4gICAgICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICAgICAgICBjb21wbGV0ZTogKCkgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgbG9nZ2VyMi5kZWJ1ZyhcIlRleHQgbWVzc2FnZSBjb250ZW50IHN0cmVhbSBjb21wbGV0ZWRcIik7XG4gICAgICAgICAgICAgICAgICAgICAgICBzdHJlYW1pbmdUZXh0U3RhdHVzLm5leHQobmV3IFN1Y2Nlc3NNZXNzYWdlU3RhdHVzKCkpO1xuICAgICAgICAgICAgICAgICAgICAgICAgc3RvcFN0cmVhbWluZ1RleHQoKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRleHRTdWJzY3JpcHRpb24gPT0gbnVsbCA/IHZvaWQgMCA6IHRleHRTdWJzY3JpcHRpb24udW5zdWJzY3JpYmUoKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIG91dHB1dE1lc3NhZ2VzLnB1c2goKDAsIGltcG9ydF9jbGFzc190cmFuc2Zvcm1lcjIucGxhaW5Ub0luc3RhbmNlKShUZXh0TWVzc2FnZSwge1xuICAgICAgICAgICAgICAgICAgICAgICAgICBpZDogbWVzc2FnZUlkLFxuICAgICAgICAgICAgICAgICAgICAgICAgICBjcmVhdGVkQXQ6IC8qIEBfX1BVUkVfXyAqLyBuZXcgRGF0ZSgpLFxuICAgICAgICAgICAgICAgICAgICAgICAgICBjb250ZW50OiB0ZXh0Q2h1bmtzLmpvaW4oXCJcIiksXG4gICAgICAgICAgICAgICAgICAgICAgICAgIHJvbGU6IE1lc3NhZ2VSb2xlLmFzc2lzdGFudFxuICAgICAgICAgICAgICAgICAgICAgICAgfSkpO1xuICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICB9KVxuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICBjYXNlIFJ1bnRpbWVFdmVudFR5cGVzLkFjdGlvbkV4ZWN1dGlvblN0YXJ0OlxuICAgICAgICAgICAgICAgIGxvZ2dlcjIuZGVidWcoXCJBY3Rpb24gZXhlY3V0aW9uIHN0YXJ0IGV2ZW50IHJlY2VpdmVkXCIpO1xuICAgICAgICAgICAgICAgIGNvbnN0IGFjdGlvbkV4ZWN1dGlvbkFyZ3VtZW50U3RyZWFtID0gZXZlbnRTdHJlYW0ucGlwZSgoMCwgaW1wb3J0X3J4anM0LnNraXBXaGlsZSkoKGUpID0+IGUgIT09IGV2ZW50KSwgKDAsIGltcG9ydF9yeGpzNC50YWtlV2hpbGUpKChlKSA9PiBlLnR5cGUgIT0gUnVudGltZUV2ZW50VHlwZXMuQWN0aW9uRXhlY3V0aW9uRW5kKSk7XG4gICAgICAgICAgICAgICAgY29uc3Qgc3RyZWFtaW5nQXJndW1lbnRzU3RhdHVzID0gbmV3IGltcG9ydF9yeGpzNC5TdWJqZWN0KCk7XG4gICAgICAgICAgICAgICAgcHVzaE1lc3NhZ2Uoe1xuICAgICAgICAgICAgICAgICAgaWQ6IGV2ZW50LmFjdGlvbkV4ZWN1dGlvbklkLFxuICAgICAgICAgICAgICAgICAgc3RhdHVzOiAoMCwgaW1wb3J0X3J4anM0LmZpcnN0VmFsdWVGcm9tKShzdHJlYW1pbmdBcmd1bWVudHNTdGF0dXMpLFxuICAgICAgICAgICAgICAgICAgY3JlYXRlZEF0OiAvKiBAX19QVVJFX18gKi8gbmV3IERhdGUoKSxcbiAgICAgICAgICAgICAgICAgIG5hbWU6IGV2ZW50LmFjdGlvbk5hbWUsXG4gICAgICAgICAgICAgICAgICBzY29wZTogZXZlbnQuc2NvcGUsXG4gICAgICAgICAgICAgICAgICBhcmd1bWVudHM6IG5ldyBpbXBvcnRfZ3JhcGhxbF95b2dhLlJlcGVhdGVyKGFzeW5jIChwdXNoQXJndW1lbnRzQ2h1bmssIHN0b3BTdHJlYW1pbmdBcmd1bWVudHMpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgbG9nZ2VyMi5kZWJ1ZyhcIkFjdGlvbiBleGVjdXRpb24gYXJndW1lbnQgc3RyZWFtIGNyZWF0ZWRcIik7XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IGFyZ3VtZW50Q2h1bmtzID0gW107XG4gICAgICAgICAgICAgICAgICAgIGxldCBhY3Rpb25FeGVjdXRpb25Bcmd1bWVudFN1YnNjcmlwdGlvbjtcbiAgICAgICAgICAgICAgICAgICAgYWN0aW9uRXhlY3V0aW9uQXJndW1lbnRTdWJzY3JpcHRpb24gPSBhY3Rpb25FeGVjdXRpb25Bcmd1bWVudFN0cmVhbS5zdWJzY3JpYmUoe1xuICAgICAgICAgICAgICAgICAgICAgIG5leHQ6IGFzeW5jIChlKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoZS50eXBlID09IFJ1bnRpbWVFdmVudFR5cGVzLkFjdGlvbkV4ZWN1dGlvbkFyZ3MpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgYXdhaXQgcHVzaEFyZ3VtZW50c0NodW5rKGUuYXJncyk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgIGFyZ3VtZW50Q2h1bmtzLnB1c2goZS5hcmdzKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgICAgICAgIGVycm9yOiAoZXJyKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICBsb2dnZXIyLmVycm9yKHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgZXJyXG4gICAgICAgICAgICAgICAgICAgICAgICB9LCBcIkVycm9yIGluIGFjdGlvbiBleGVjdXRpb24gYXJndW1lbnQgc3RyZWFtXCIpO1xuICAgICAgICAgICAgICAgICAgICAgICAgc3RyZWFtaW5nQXJndW1lbnRzU3RhdHVzLm5leHQoKDAsIGltcG9ydF9jbGFzc190cmFuc2Zvcm1lcjIucGxhaW5Ub0luc3RhbmNlKShGYWlsZWRNZXNzYWdlU3RhdHVzLCB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgIHJlYXNvbjogXCJBbiB1bmtub3duIGVycm9yIGhhcyBvY2N1cnJlZCBpbiB0aGUgYWN0aW9uIGV4ZWN1dGlvbiBhcmd1bWVudCBzdHJlYW1cIlxuICAgICAgICAgICAgICAgICAgICAgICAgfSkpO1xuICAgICAgICAgICAgICAgICAgICAgICAgc3RvcFN0cmVhbWluZ0FyZ3VtZW50cygpO1xuICAgICAgICAgICAgICAgICAgICAgICAgYWN0aW9uRXhlY3V0aW9uQXJndW1lbnRTdWJzY3JpcHRpb24gPT0gbnVsbCA/IHZvaWQgMCA6IGFjdGlvbkV4ZWN1dGlvbkFyZ3VtZW50U3Vic2NyaXB0aW9uLnVuc3Vic2NyaWJlKCk7XG4gICAgICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICAgICAgICBjb21wbGV0ZTogKCkgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgbG9nZ2VyMi5kZWJ1ZyhcIkFjdGlvbiBleGVjdXRpb24gYXJndW1lbnQgc3RyZWFtIGNvbXBsZXRlZFwiKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHN0cmVhbWluZ0FyZ3VtZW50c1N0YXR1cy5uZXh0KG5ldyBTdWNjZXNzTWVzc2FnZVN0YXR1cygpKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHN0b3BTdHJlYW1pbmdBcmd1bWVudHMoKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGFjdGlvbkV4ZWN1dGlvbkFyZ3VtZW50U3Vic2NyaXB0aW9uID09IG51bGwgPyB2b2lkIDAgOiBhY3Rpb25FeGVjdXRpb25Bcmd1bWVudFN1YnNjcmlwdGlvbi51bnN1YnNjcmliZSgpO1xuICAgICAgICAgICAgICAgICAgICAgICAgb3V0cHV0TWVzc2FnZXMucHVzaCgoMCwgaW1wb3J0X2NsYXNzX3RyYW5zZm9ybWVyMi5wbGFpblRvSW5zdGFuY2UpKEFjdGlvbkV4ZWN1dGlvbk1lc3NhZ2UsIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgaWQ6IGV2ZW50LmFjdGlvbkV4ZWN1dGlvbklkLFxuICAgICAgICAgICAgICAgICAgICAgICAgICBjcmVhdGVkQXQ6IC8qIEBfX1BVUkVfXyAqLyBuZXcgRGF0ZSgpLFxuICAgICAgICAgICAgICAgICAgICAgICAgICBuYW1lOiBldmVudC5hY3Rpb25OYW1lLFxuICAgICAgICAgICAgICAgICAgICAgICAgICBzY29wZTogZXZlbnQuc2NvcGUsXG4gICAgICAgICAgICAgICAgICAgICAgICAgIGFyZ3VtZW50czogYXJndW1lbnRDaHVua3Muam9pbihcIlwiKVxuICAgICAgICAgICAgICAgICAgICAgICAgfSkpO1xuICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICB9KVxuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICBjYXNlIFJ1bnRpbWVFdmVudFR5cGVzLkFjdGlvbkV4ZWN1dGlvblJlc3VsdDpcbiAgICAgICAgICAgICAgICBsb2dnZXIyLmRlYnVnKHtcbiAgICAgICAgICAgICAgICAgIHJlc3VsdDogZXZlbnQucmVzdWx0XG4gICAgICAgICAgICAgICAgfSwgXCJBY3Rpb24gZXhlY3V0aW9uIHJlc3VsdCBldmVudCByZWNlaXZlZFwiKTtcbiAgICAgICAgICAgICAgICBwdXNoTWVzc2FnZSh7XG4gICAgICAgICAgICAgICAgICBpZDogKDAsIGltcG9ydF9zaGFyZWQxMC5yYW5kb21JZCkoKSxcbiAgICAgICAgICAgICAgICAgIHN0YXR1czogbmV3IFN1Y2Nlc3NNZXNzYWdlU3RhdHVzKCksXG4gICAgICAgICAgICAgICAgICBjcmVhdGVkQXQ6IC8qIEBfX1BVUkVfXyAqLyBuZXcgRGF0ZSgpLFxuICAgICAgICAgICAgICAgICAgYWN0aW9uRXhlY3V0aW9uSWQ6IGV2ZW50LmFjdGlvbkV4ZWN1dGlvbklkLFxuICAgICAgICAgICAgICAgICAgYWN0aW9uTmFtZTogZXZlbnQuYWN0aW9uTmFtZSxcbiAgICAgICAgICAgICAgICAgIHJlc3VsdDogZXZlbnQucmVzdWx0XG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgb3V0cHV0TWVzc2FnZXMucHVzaCgoMCwgaW1wb3J0X2NsYXNzX3RyYW5zZm9ybWVyMi5wbGFpblRvSW5zdGFuY2UpKFJlc3VsdE1lc3NhZ2UsIHtcbiAgICAgICAgICAgICAgICAgIGlkOiAoMCwgaW1wb3J0X3NoYXJlZDEwLnJhbmRvbUlkKSgpLFxuICAgICAgICAgICAgICAgICAgY3JlYXRlZEF0OiAvKiBAX19QVVJFX18gKi8gbmV3IERhdGUoKSxcbiAgICAgICAgICAgICAgICAgIGFjdGlvbkV4ZWN1dGlvbklkOiBldmVudC5hY3Rpb25FeGVjdXRpb25JZCxcbiAgICAgICAgICAgICAgICAgIGFjdGlvbk5hbWU6IGV2ZW50LmFjdGlvbk5hbWUsXG4gICAgICAgICAgICAgICAgICByZXN1bHQ6IGV2ZW50LnJlc3VsdFxuICAgICAgICAgICAgICAgIH0pKTtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgY2FzZSBSdW50aW1lRXZlbnRUeXBlcy5BZ2VudFN0YXRlTWVzc2FnZTpcbiAgICAgICAgICAgICAgICBsb2dnZXIyLmRlYnVnKHtcbiAgICAgICAgICAgICAgICAgIGV2ZW50XG4gICAgICAgICAgICAgICAgfSwgXCJBZ2VudCBtZXNzYWdlIGV2ZW50IHJlY2VpdmVkXCIpO1xuICAgICAgICAgICAgICAgIHB1c2hNZXNzYWdlKHtcbiAgICAgICAgICAgICAgICAgIGlkOiAoMCwgaW1wb3J0X3NoYXJlZDEwLnJhbmRvbUlkKSgpLFxuICAgICAgICAgICAgICAgICAgc3RhdHVzOiBuZXcgU3VjY2Vzc01lc3NhZ2VTdGF0dXMoKSxcbiAgICAgICAgICAgICAgICAgIHRocmVhZElkOiBldmVudC50aHJlYWRJZCxcbiAgICAgICAgICAgICAgICAgIGFnZW50TmFtZTogZXZlbnQuYWdlbnROYW1lLFxuICAgICAgICAgICAgICAgICAgbm9kZU5hbWU6IGV2ZW50Lm5vZGVOYW1lLFxuICAgICAgICAgICAgICAgICAgcnVuSWQ6IGV2ZW50LnJ1bklkLFxuICAgICAgICAgICAgICAgICAgYWN0aXZlOiBldmVudC5hY3RpdmUsXG4gICAgICAgICAgICAgICAgICBzdGF0ZTogZXZlbnQuc3RhdGUsXG4gICAgICAgICAgICAgICAgICBydW5uaW5nOiBldmVudC5ydW5uaW5nLFxuICAgICAgICAgICAgICAgICAgcm9sZTogTWVzc2FnZVJvbGUuYXNzaXN0YW50LFxuICAgICAgICAgICAgICAgICAgY3JlYXRlZEF0OiAvKiBAX19QVVJFX18gKi8gbmV3IERhdGUoKVxuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgIG91dHB1dE1lc3NhZ2VzLnB1c2goKDAsIGltcG9ydF9jbGFzc190cmFuc2Zvcm1lcjIucGxhaW5Ub0luc3RhbmNlKShBZ2VudFN0YXRlTWVzc2FnZSwge1xuICAgICAgICAgICAgICAgICAgaWQ6ICgwLCBpbXBvcnRfc2hhcmVkMTAucmFuZG9tSWQpKCksXG4gICAgICAgICAgICAgICAgICB0aHJlYWRJZDogZXZlbnQudGhyZWFkSWQsXG4gICAgICAgICAgICAgICAgICBhZ2VudE5hbWU6IGV2ZW50LmFnZW50TmFtZSxcbiAgICAgICAgICAgICAgICAgIG5vZGVOYW1lOiBldmVudC5ub2RlTmFtZSxcbiAgICAgICAgICAgICAgICAgIHJ1bklkOiBldmVudC5ydW5JZCxcbiAgICAgICAgICAgICAgICAgIGFjdGl2ZTogZXZlbnQuYWN0aXZlLFxuICAgICAgICAgICAgICAgICAgc3RhdGU6IGV2ZW50LnN0YXRlLFxuICAgICAgICAgICAgICAgICAgcnVubmluZzogZXZlbnQucnVubmluZyxcbiAgICAgICAgICAgICAgICAgIHJvbGU6IE1lc3NhZ2VSb2xlLmFzc2lzdGFudCxcbiAgICAgICAgICAgICAgICAgIGNyZWF0ZWRBdDogLyogQF9fUFVSRV9fICovIG5ldyBEYXRlKClcbiAgICAgICAgICAgICAgICB9KSk7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfSxcbiAgICAgICAgICBlcnJvcjogKGVycikgPT4ge1xuICAgICAgICAgICAgbG9nZ2VyMi5lcnJvcih7XG4gICAgICAgICAgICAgIGVyclxuICAgICAgICAgICAgfSwgXCJFcnJvciBpbiBldmVudCBzdHJlYW1cIik7XG4gICAgICAgICAgICByZXNwb25zZVN0YXR1cyQubmV4dChuZXcgVW5rbm93bkVycm9yUmVzcG9uc2Uoe1xuICAgICAgICAgICAgICBkZXNjcmlwdGlvbjogYEFuIHVua25vd24gZXJyb3IgaGFzIG9jY3VycmVkIGluIHRoZSBldmVudCBzdHJlYW1gXG4gICAgICAgICAgICB9KSk7XG4gICAgICAgICAgICBldmVudFN0cmVhbVN1YnNjcmlwdGlvbiA9PSBudWxsID8gdm9pZCAwIDogZXZlbnRTdHJlYW1TdWJzY3JpcHRpb24udW5zdWJzY3JpYmUoKTtcbiAgICAgICAgICAgIHN0b3BTdHJlYW1pbmdNZXNzYWdlcygpO1xuICAgICAgICAgICAgcmVqZWN0T3V0cHV0TWVzc2FnZXNQcm9taXNlKGVycik7XG4gICAgICAgICAgfSxcbiAgICAgICAgICBjb21wbGV0ZTogYXN5bmMgKCkgPT4ge1xuICAgICAgICAgICAgdmFyIF9hMztcbiAgICAgICAgICAgIGxvZ2dlcjIuZGVidWcoXCJFdmVudCBzdHJlYW0gY29tcGxldGVkXCIpO1xuICAgICAgICAgICAgaWYgKChfYTMgPSBkYXRhLmNsb3VkKSA9PSBudWxsID8gdm9pZCAwIDogX2EzLmd1YXJkcmFpbHMpIHtcbiAgICAgICAgICAgICAgbG9nZ2VyMi5kZWJ1ZyhcIkd1YXJkcmFpbHMgaXMgZW5hYmxlZCwgd2FpdGluZyBmb3IgZ3VhcmRyYWlscyByZXN1bHRcIik7XG4gICAgICAgICAgICAgIGF3YWl0ICgwLCBpbXBvcnRfcnhqczQuZmlyc3RWYWx1ZUZyb20pKGd1YXJkcmFpbHNSZXN1bHQkKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJlc3BvbnNlU3RhdHVzJC5uZXh0KG5ldyBTdWNjZXNzUmVzcG9uc2VTdGF0dXMoKSk7XG4gICAgICAgICAgICBldmVudFN0cmVhbVN1YnNjcmlwdGlvbiA9PSBudWxsID8gdm9pZCAwIDogZXZlbnRTdHJlYW1TdWJzY3JpcHRpb24udW5zdWJzY3JpYmUoKTtcbiAgICAgICAgICAgIHN0b3BTdHJlYW1pbmdNZXNzYWdlcygpO1xuICAgICAgICAgICAgcmVzb2x2ZU91dHB1dE1lc3NhZ2VzUHJvbWlzZShvdXRwdXRNZXNzYWdlcyk7XG4gICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICAgIH0pXG4gICAgfTtcbiAgICByZXR1cm4gcmVzcG9uc2U7XG4gIH1cbn07XG5fX25hbWUoQ29waWxvdFJlc29sdmVyLCBcIkNvcGlsb3RSZXNvbHZlclwiKTtcbl90c19kZWNvcmF0ZTE0KFtcbiAgKDAsIGltcG9ydF90eXBlX2dyYXBocWwxNS5RdWVyeSkoKCkgPT4gU3RyaW5nKSxcbiAgX3RzX21ldGFkYXRhMTQoXCJkZXNpZ246dHlwZVwiLCBGdW5jdGlvbiksXG4gIF90c19tZXRhZGF0YTE0KFwiZGVzaWduOnBhcmFtdHlwZXNcIiwgW10pLFxuICBfdHNfbWV0YWRhdGExNChcImRlc2lnbjpyZXR1cm50eXBlXCIsIFByb21pc2UpXG5dLCBDb3BpbG90UmVzb2x2ZXIucHJvdG90eXBlLCBcImhlbGxvXCIsIG51bGwpO1xuX3RzX2RlY29yYXRlMTQoW1xuICAoMCwgaW1wb3J0X3R5cGVfZ3JhcGhxbDE1Lk11dGF0aW9uKSgoKSA9PiBDb3BpbG90UmVzcG9uc2UpLFxuICBfdHNfcGFyYW0oMCwgKDAsIGltcG9ydF90eXBlX2dyYXBocWwxNS5DdHgpKCkpLFxuICBfdHNfcGFyYW0oMSwgKDAsIGltcG9ydF90eXBlX2dyYXBocWwxNS5BcmcpKFwiZGF0YVwiKSksXG4gIF90c19wYXJhbSgyLCAoMCwgaW1wb3J0X3R5cGVfZ3JhcGhxbDE1LkFyZykoXCJwcm9wZXJ0aWVzXCIsICgpID0+IGltcG9ydF9ncmFwaHFsX3NjYWxhcnMyLkdyYXBoUUxKU09OT2JqZWN0LCB7XG4gICAgbnVsbGFibGU6IHRydWVcbiAgfSkpLFxuICBfdHNfbWV0YWRhdGExNChcImRlc2lnbjp0eXBlXCIsIEZ1bmN0aW9uKSxcbiAgX3RzX21ldGFkYXRhMTQoXCJkZXNpZ246cGFyYW10eXBlc1wiLCBbXG4gICAgdHlwZW9mIEdyYXBoUUxDb250ZXh0ID09PSBcInVuZGVmaW5lZFwiID8gT2JqZWN0IDogR3JhcGhRTENvbnRleHQsXG4gICAgdHlwZW9mIEdlbmVyYXRlQ29waWxvdFJlc3BvbnNlSW5wdXQgPT09IFwidW5kZWZpbmVkXCIgPyBPYmplY3QgOiBHZW5lcmF0ZUNvcGlsb3RSZXNwb25zZUlucHV0LFxuICAgIHR5cGVvZiBDb3BpbG90UmVxdWVzdENvbnRleHRQcm9wZXJ0aWVzID09PSBcInVuZGVmaW5lZFwiID8gT2JqZWN0IDogQ29waWxvdFJlcXVlc3RDb250ZXh0UHJvcGVydGllc1xuICBdKSxcbiAgX3RzX21ldGFkYXRhMTQoXCJkZXNpZ246cmV0dXJudHlwZVwiLCBQcm9taXNlKVxuXSwgQ29waWxvdFJlc29sdmVyLnByb3RvdHlwZSwgXCJnZW5lcmF0ZUNvcGlsb3RSZXNwb25zZVwiLCBudWxsKTtcbkNvcGlsb3RSZXNvbHZlciA9IF90c19kZWNvcmF0ZTE0KFtcbiAgKDAsIGltcG9ydF90eXBlX2dyYXBocWwxNS5SZXNvbHZlcikoKCkgPT4gQ29waWxvdFJlc3BvbnNlKVxuXSwgQ29waWxvdFJlc29sdmVyKTtcblxuLy8gc3JjL2xpYi9pbnRlZ3JhdGlvbnMvc2hhcmVkLnRzXG52YXIgaW1wb3J0X3BsdWdpbl9kZWZlcl9zdHJlYW0gPSByZXF1aXJlKFwiQGdyYXBocWwteW9nYS9wbHVnaW4tZGVmZXItc3RyZWFtXCIpO1xuXG4vLyBzcmMvbGliL2xvZ2dlci50c1xudmFyIGltcG9ydF9waW5vID0gX190b0VTTShyZXF1aXJlKFwicGlub1wiKSk7XG52YXIgaW1wb3J0X3Bpbm9fcHJldHR5ID0gX190b0VTTShyZXF1aXJlKFwicGluby1wcmV0dHlcIikpO1xuZnVuY3Rpb24gY3JlYXRlTG9nZ2VyKG9wdGlvbnMpIHtcbiAgY29uc3QgeyBsZXZlbCwgY29tcG9uZW50IH0gPSBvcHRpb25zIHx8IHt9O1xuICBjb25zdCBzdHJlYW0gPSAoMCwgaW1wb3J0X3Bpbm9fcHJldHR5LmRlZmF1bHQpKHtcbiAgICBjb2xvcml6ZTogdHJ1ZVxuICB9KTtcbiAgY29uc3QgbG9nZ2VyMiA9ICgwLCBpbXBvcnRfcGluby5kZWZhdWx0KSh7XG4gICAgbGV2ZWw6IHByb2Nlc3MuZW52LkxPR19MRVZFTCB8fCBsZXZlbCB8fCBcImVycm9yXCIsXG4gICAgcmVkYWN0OiB7XG4gICAgICBwYXRoczogW1xuICAgICAgICBcInBpZFwiLFxuICAgICAgICBcImhvc3RuYW1lXCJcbiAgICAgIF0sXG4gICAgICByZW1vdmU6IHRydWVcbiAgICB9XG4gIH0sIHN0cmVhbSk7XG4gIGlmIChjb21wb25lbnQpIHtcbiAgICByZXR1cm4gbG9nZ2VyMi5jaGlsZCh7XG4gICAgICBjb21wb25lbnRcbiAgICB9KTtcbiAgfSBlbHNlIHtcbiAgICByZXR1cm4gbG9nZ2VyMjtcbiAgfVxufVxuX19uYW1lKGNyZWF0ZUxvZ2dlciwgXCJjcmVhdGVMb2dnZXJcIik7XG5cbi8vIHNyYy9saWIvaW50ZWdyYXRpb25zL3NoYXJlZC50c1xudmFyIGxvZ2dlciA9IGNyZWF0ZUxvZ2dlcigpO1xuYXN5bmMgZnVuY3Rpb24gY3JlYXRlQ29udGV4dChpbml0aWFsQ29udGV4dCwgY29waWxvdEtpdENvbnRleHQsIGNvbnRleHRMb2dnZXIsIHByb3BlcnRpZXMgPSB7fSkge1xuICBsb2dnZXIuZGVidWcoe1xuICAgIGNvcGlsb3RLaXRDb250ZXh0XG4gIH0sIFwiQ3JlYXRpbmcgR3JhcGhRTCBjb250ZXh0XCIpO1xuICBjb25zdCBjdHggPSB7XG4gICAgLi4uaW5pdGlhbENvbnRleHQsXG4gICAgX2NvcGlsb3RraXQ6IHtcbiAgICAgIC4uLmNvcGlsb3RLaXRDb250ZXh0XG4gICAgfSxcbiAgICBwcm9wZXJ0aWVzOiB7XG4gICAgICAuLi5wcm9wZXJ0aWVzXG4gICAgfSxcbiAgICBsb2dnZXI6IGNvbnRleHRMb2dnZXJcbiAgfTtcbiAgcmV0dXJuIGN0eDtcbn1cbl9fbmFtZShjcmVhdGVDb250ZXh0LCBcImNyZWF0ZUNvbnRleHRcIik7XG5mdW5jdGlvbiBidWlsZFNjaGVtYShvcHRpb25zID0ge30pIHtcbiAgbG9nZ2VyLmRlYnVnKFwiQnVpbGRpbmcgR3JhcGhRTCBzY2hlbWEuLi5cIik7XG4gIGNvbnN0IHNjaGVtYSA9ICgwLCBpbXBvcnRfdHlwZV9ncmFwaHFsMTYuYnVpbGRTY2hlbWFTeW5jKSh7XG4gICAgcmVzb2x2ZXJzOiBbXG4gICAgICBDb3BpbG90UmVzb2x2ZXJcbiAgICBdLFxuICAgIGVtaXRTY2hlbWFGaWxlOiBvcHRpb25zLmVtaXRTY2hlbWFGaWxlXG4gIH0pO1xuICBsb2dnZXIuZGVidWcoXCJHcmFwaFFMIHNjaGVtYSBidWlsdCBzdWNjZXNzZnVsbHlcIik7XG4gIHJldHVybiBzY2hlbWE7XG59XG5fX25hbWUoYnVpbGRTY2hlbWEsIFwiYnVpbGRTY2hlbWFcIik7XG5mdW5jdGlvbiBnZXRDb21tb25Db25maWcob3B0aW9ucykge1xuICB2YXIgX2E7XG4gIGNvbnN0IGxvZ0xldmVsID0gcHJvY2Vzcy5lbnYuTE9HX0xFVkVMIHx8IG9wdGlvbnMubG9nTGV2ZWwgfHwgXCJlcnJvclwiO1xuICBjb25zdCBsb2dnZXIyID0gY3JlYXRlTG9nZ2VyKHtcbiAgICBsZXZlbDogbG9nTGV2ZWwsXG4gICAgY29tcG9uZW50OiBcImdldENvbW1vbkNvbmZpZ1wiXG4gIH0pO1xuICBjb25zdCBjb250ZXh0TG9nZ2VyID0gY3JlYXRlTG9nZ2VyKHtcbiAgICBsZXZlbDogbG9nTGV2ZWxcbiAgfSk7XG4gIGlmIChvcHRpb25zLmNsb3VkKSB7XG4gICAgdGVsZW1ldHJ5X2NsaWVudF9kZWZhdWx0LnNldENsb3VkQ29uZmlndXJhdGlvbih7XG4gICAgICBwdWJsaWNBcGlLZXk6IG9wdGlvbnMuY2xvdWQucHVibGljQXBpS2V5LFxuICAgICAgYmFzZVVybDogb3B0aW9ucy5jbG91ZC5iYXNlVXJsXG4gICAgfSk7XG4gIH1cbiAgaWYgKChfYSA9IG9wdGlvbnMucHJvcGVydGllcykgPT0gbnVsbCA/IHZvaWQgMCA6IF9hLl9jb3BpbG90a2l0KSB7XG4gICAgdGVsZW1ldHJ5X2NsaWVudF9kZWZhdWx0LnNldEdsb2JhbFByb3BlcnRpZXMoe1xuICAgICAgX2NvcGlsb3RraXQ6IHtcbiAgICAgICAgLi4ub3B0aW9ucy5wcm9wZXJ0aWVzLl9jb3BpbG90a2l0XG4gICAgICB9XG4gICAgfSk7XG4gIH1cbiAgdGVsZW1ldHJ5X2NsaWVudF9kZWZhdWx0LnNldEdsb2JhbFByb3BlcnRpZXMoe1xuICAgIHJ1bnRpbWU6IHtcbiAgICAgIHNlcnZpY2VBZGFwdGVyOiBvcHRpb25zLnNlcnZpY2VBZGFwdGVyLmNvbnN0cnVjdG9yLm5hbWVcbiAgICB9XG4gIH0pO1xuICByZXR1cm4ge1xuICAgIGxvZ2dpbmc6IGNyZWF0ZUxvZ2dlcih7XG4gICAgICBjb21wb25lbnQ6IFwiWW9nYSBHcmFwaFFMXCIsXG4gICAgICBsZXZlbDogbG9nTGV2ZWxcbiAgICB9KSxcbiAgICBzY2hlbWE6IGJ1aWxkU2NoZW1hKCksXG4gICAgcGx1Z2luczogW1xuICAgICAgKDAsIGltcG9ydF9wbHVnaW5fZGVmZXJfc3RyZWFtLnVzZURlZmVyU3RyZWFtKSgpXG4gICAgXSxcbiAgICBjb250ZXh0OiAoY3R4KSA9PiBjcmVhdGVDb250ZXh0KGN0eCwgb3B0aW9ucywgY29udGV4dExvZ2dlciwgb3B0aW9ucy5wcm9wZXJ0aWVzKVxuICB9O1xufVxuX19uYW1lKGdldENvbW1vbkNvbmZpZywgXCJnZXRDb21tb25Db25maWdcIik7XG5cbi8vIHNyYy9saWIvaW50ZWdyYXRpb25zL25leHRqcy9hcHAtcm91dGVyLnRzXG52YXIgaW1wb3J0X2dyYXBocWxfeW9nYTIgPSByZXF1aXJlKFwiZ3JhcGhxbC15b2dhXCIpO1xuZnVuY3Rpb24gY29waWxvdFJ1bnRpbWVOZXh0SlNBcHBSb3V0ZXJFbmRwb2ludChvcHRpb25zKSB7XG4gIHZhciBfYTtcbiAgY29uc3QgY29tbW9uQ29uZmlnID0gZ2V0Q29tbW9uQ29uZmlnKG9wdGlvbnMpO1xuICB0ZWxlbWV0cnlfY2xpZW50X2RlZmF1bHQuc2V0R2xvYmFsUHJvcGVydGllcyh7XG4gICAgcnVudGltZToge1xuICAgICAgZnJhbWV3b3JrOiBcIm5leHRqcy1hcHAtcm91dGVyXCJcbiAgICB9XG4gIH0pO1xuICBpZiAoKF9hID0gb3B0aW9ucy5wcm9wZXJ0aWVzKSA9PSBudWxsID8gdm9pZCAwIDogX2EuX2NvcGlsb3RraXQpIHtcbiAgICB0ZWxlbWV0cnlfY2xpZW50X2RlZmF1bHQuc2V0R2xvYmFsUHJvcGVydGllcyh7XG4gICAgICBfY29waWxvdGtpdDogb3B0aW9ucy5wcm9wZXJ0aWVzLl9jb3BpbG90a2l0XG4gICAgfSk7XG4gIH1cbiAgdGVsZW1ldHJ5X2NsaWVudF9kZWZhdWx0LmNhcHR1cmUoXCJvc3MucnVudGltZS5pbnN0YW5jZV9jcmVhdGVkXCIsIHt9KTtcbiAgY29uc3QgbG9nZ2VyMiA9IGNvbW1vbkNvbmZpZy5sb2dnaW5nO1xuICBsb2dnZXIyLmRlYnVnKFwiQ3JlYXRpbmcgTmV4dEpTIEFwcCBSb3V0ZXIgZW5kcG9pbnRcIik7XG4gIGNvbnN0IHlvZ2EgPSAoMCwgaW1wb3J0X2dyYXBocWxfeW9nYTIuY3JlYXRlWW9nYSkoe1xuICAgIC4uLmNvbW1vbkNvbmZpZyxcbiAgICBncmFwaHFsRW5kcG9pbnQ6IG9wdGlvbnMuZW5kcG9pbnQsXG4gICAgZmV0Y2hBUEk6IHtcbiAgICAgIFJlc3BvbnNlOiBnbG9iYWxUaGlzLlJlc3BvbnNlXG4gICAgfVxuICB9KTtcbiAgcmV0dXJuIHtcbiAgICBoYW5kbGVSZXF1ZXN0OiB5b2dhLFxuICAgIEdFVDogeW9nYSxcbiAgICBQT1NUOiB5b2dhLFxuICAgIE9QVElPTlM6IHlvZ2FcbiAgfTtcbn1cbl9fbmFtZShjb3BpbG90UnVudGltZU5leHRKU0FwcFJvdXRlckVuZHBvaW50LCBcImNvcGlsb3RSdW50aW1lTmV4dEpTQXBwUm91dGVyRW5kcG9pbnRcIik7XG5cbi8vIHNyYy9saWIvaW50ZWdyYXRpb25zL25leHRqcy9wYWdlcy1yb3V0ZXIudHNcbnZhciBpbXBvcnRfZ3JhcGhxbF95b2dhMyA9IHJlcXVpcmUoXCJncmFwaHFsLXlvZ2FcIik7XG52YXIgY29uZmlnID0ge1xuICBhcGk6IHtcbiAgICBib2R5UGFyc2VyOiBmYWxzZVxuICB9XG59O1xuZnVuY3Rpb24gY29waWxvdFJ1bnRpbWVOZXh0SlNQYWdlc1JvdXRlckVuZHBvaW50KG9wdGlvbnMpIHtcbiAgdmFyIF9hO1xuICBjb25zdCBjb21tb25Db25maWcgPSBnZXRDb21tb25Db25maWcob3B0aW9ucyk7XG4gIHRlbGVtZXRyeV9jbGllbnRfZGVmYXVsdC5zZXRHbG9iYWxQcm9wZXJ0aWVzKHtcbiAgICBydW50aW1lOiB7XG4gICAgICBmcmFtZXdvcms6IFwibmV4dGpzLXBhZ2VzLXJvdXRlclwiXG4gICAgfVxuICB9KTtcbiAgaWYgKChfYSA9IG9wdGlvbnMucHJvcGVydGllcykgPT0gbnVsbCA/IHZvaWQgMCA6IF9hLl9jb3BpbG90a2l0KSB7XG4gICAgdGVsZW1ldHJ5X2NsaWVudF9kZWZhdWx0LnNldEdsb2JhbFByb3BlcnRpZXMoe1xuICAgICAgX2NvcGlsb3RraXQ6IG9wdGlvbnMucHJvcGVydGllcy5fY29waWxvdGtpdFxuICAgIH0pO1xuICB9XG4gIHRlbGVtZXRyeV9jbGllbnRfZGVmYXVsdC5jYXB0dXJlKFwib3NzLnJ1bnRpbWUuaW5zdGFuY2VfY3JlYXRlZFwiLCB7fSk7XG4gIGNvbnN0IGxvZ2dlcjIgPSBjb21tb25Db25maWcubG9nZ2luZztcbiAgbG9nZ2VyMi5kZWJ1ZyhcIkNyZWF0aW5nIE5leHRKUyBQYWdlcyBSb3V0ZXIgZW5kcG9pbnRcIik7XG4gIGNvbnN0IHlvZ2EgPSAoMCwgaW1wb3J0X2dyYXBocWxfeW9nYTMuY3JlYXRlWW9nYSkoe1xuICAgIC4uLmNvbW1vbkNvbmZpZyxcbiAgICBncmFwaHFsRW5kcG9pbnQ6IG9wdGlvbnMuZW5kcG9pbnRcbiAgfSk7XG4gIHJldHVybiB5b2dhO1xufVxuX19uYW1lKGNvcGlsb3RSdW50aW1lTmV4dEpTUGFnZXNSb3V0ZXJFbmRwb2ludCwgXCJjb3BpbG90UnVudGltZU5leHRKU1BhZ2VzUm91dGVyRW5kcG9pbnRcIik7XG5cbi8vIHNyYy9saWIvaW50ZWdyYXRpb25zL25vZGUtaHR0cC9pbmRleC50c1xudmFyIGltcG9ydF9ncmFwaHFsX3lvZ2E0ID0gcmVxdWlyZShcImdyYXBocWwteW9nYVwiKTtcbmZ1bmN0aW9uIGNvcGlsb3RSdW50aW1lTm9kZUh0dHBFbmRwb2ludChvcHRpb25zKSB7XG4gIHZhciBfYTtcbiAgY29uc3QgY29tbW9uQ29uZmlnID0gZ2V0Q29tbW9uQ29uZmlnKG9wdGlvbnMpO1xuICB0ZWxlbWV0cnlfY2xpZW50X2RlZmF1bHQuc2V0R2xvYmFsUHJvcGVydGllcyh7XG4gICAgcnVudGltZToge1xuICAgICAgZnJhbWV3b3JrOiBcIm5vZGUtaHR0cFwiXG4gICAgfVxuICB9KTtcbiAgaWYgKChfYSA9IG9wdGlvbnMucHJvcGVydGllcykgPT0gbnVsbCA/IHZvaWQgMCA6IF9hLl9jb3BpbG90a2l0KSB7XG4gICAgdGVsZW1ldHJ5X2NsaWVudF9kZWZhdWx0LnNldEdsb2JhbFByb3BlcnRpZXMoe1xuICAgICAgX2NvcGlsb3RraXQ6IG9wdGlvbnMucHJvcGVydGllcy5fY29waWxvdGtpdFxuICAgIH0pO1xuICB9XG4gIHRlbGVtZXRyeV9jbGllbnRfZGVmYXVsdC5jYXB0dXJlKFwib3NzLnJ1bnRpbWUuaW5zdGFuY2VfY3JlYXRlZFwiLCB7fSk7XG4gIGNvbnN0IGxvZ2dlcjIgPSBjb21tb25Db25maWcubG9nZ2luZztcbiAgbG9nZ2VyMi5kZWJ1ZyhcIkNyZWF0aW5nIE5vZGUgSFRUUCBlbmRwb2ludFwiKTtcbiAgY29uc3QgeW9nYSA9ICgwLCBpbXBvcnRfZ3JhcGhxbF95b2dhNC5jcmVhdGVZb2dhKSh7XG4gICAgLi4uY29tbW9uQ29uZmlnLFxuICAgIGdyYXBocWxFbmRwb2ludDogb3B0aW9ucy5lbmRwb2ludFxuICB9KTtcbiAgcmV0dXJuIHlvZ2E7XG59XG5fX25hbWUoY29waWxvdFJ1bnRpbWVOb2RlSHR0cEVuZHBvaW50LCBcImNvcGlsb3RSdW50aW1lTm9kZUh0dHBFbmRwb2ludFwiKTtcblxuLy8gc3JjL2xpYi9pbnRlZ3JhdGlvbnMvbm9kZS1leHByZXNzL2luZGV4LnRzXG5mdW5jdGlvbiBjb3BpbG90UnVudGltZU5vZGVFeHByZXNzRW5kcG9pbnQob3B0aW9ucykge1xuICB0ZWxlbWV0cnlfY2xpZW50X2RlZmF1bHQuc2V0R2xvYmFsUHJvcGVydGllcyh7XG4gICAgcnVudGltZToge1xuICAgICAgZnJhbWV3b3JrOiBcIm5vZGUtZXhwcmVzc1wiXG4gICAgfVxuICB9KTtcbiAgdGVsZW1ldHJ5X2NsaWVudF9kZWZhdWx0LmNhcHR1cmUoXCJvc3MucnVudGltZS5pbnN0YW5jZV9jcmVhdGVkXCIsIHt9KTtcbiAgcmV0dXJuIGNvcGlsb3RSdW50aW1lTm9kZUh0dHBFbmRwb2ludChvcHRpb25zKTtcbn1cbl9fbmFtZShjb3BpbG90UnVudGltZU5vZGVFeHByZXNzRW5kcG9pbnQsIFwiY29waWxvdFJ1bnRpbWVOb2RlRXhwcmVzc0VuZHBvaW50XCIpO1xuXG4vLyBzcmMvbGliL2ludGVncmF0aW9ucy9uZXN0L2luZGV4LnRzXG5mdW5jdGlvbiBjb3BpbG90UnVudGltZU5lc3RFbmRwb2ludChvcHRpb25zKSB7XG4gIHRlbGVtZXRyeV9jbGllbnRfZGVmYXVsdC5zZXRHbG9iYWxQcm9wZXJ0aWVzKHtcbiAgICBydW50aW1lOiB7XG4gICAgICBmcmFtZXdvcms6IFwibmVzdFwiXG4gICAgfVxuICB9KTtcbiAgdGVsZW1ldHJ5X2NsaWVudF9kZWZhdWx0LmNhcHR1cmUoXCJvc3MucnVudGltZS5pbnN0YW5jZV9jcmVhdGVkXCIsIHt9KTtcbiAgcmV0dXJuIGNvcGlsb3RSdW50aW1lTm9kZUh0dHBFbmRwb2ludChvcHRpb25zKTtcbn1cbl9fbmFtZShjb3BpbG90UnVudGltZU5lc3RFbmRwb2ludCwgXCJjb3BpbG90UnVudGltZU5lc3RFbmRwb2ludFwiKTtcbi8vIEFubm90YXRlIHRoZSBDb21tb25KUyBleHBvcnQgbmFtZXMgZm9yIEVTTSBpbXBvcnQgaW4gbm9kZTpcbjAgJiYgKG1vZHVsZS5leHBvcnRzID0ge1xuICBBbnRocm9waWNBZGFwdGVyLFxuICBDb3BpbG90UnVudGltZSxcbiAgR29vZ2xlR2VuZXJhdGl2ZUFJQWRhcHRlcixcbiAgR3JvcUFkYXB0ZXIsXG4gIEd1YXJkcmFpbHNWYWxpZGF0aW9uRmFpbHVyZVJlc3BvbnNlLFxuICBMYW5nQ2hhaW5BZGFwdGVyLFxuICBNZXNzYWdlU3RyZWFtSW50ZXJydXB0ZWRSZXNwb25zZSxcbiAgT3BlbkFJQWRhcHRlcixcbiAgT3BlbkFJQXNzaXN0YW50QWRhcHRlcixcbiAgUmVtb3RlQ2hhaW4sXG4gIFVuaWZ5QWRhcHRlcixcbiAgVW5rbm93bkVycm9yUmVzcG9uc2UsXG4gIGJ1aWxkU2NoZW1hLFxuICBjb25maWcsXG4gIGNvcGlsb3RSdW50aW1lTmVzdEVuZHBvaW50LFxuICBjb3BpbG90UnVudGltZU5leHRKU0FwcFJvdXRlckVuZHBvaW50LFxuICBjb3BpbG90UnVudGltZU5leHRKU1BhZ2VzUm91dGVyRW5kcG9pbnQsXG4gIGNvcGlsb3RSdW50aW1lTm9kZUV4cHJlc3NFbmRwb2ludCxcbiAgY29waWxvdFJ1bnRpbWVOb2RlSHR0cEVuZHBvaW50LFxuICBjcmVhdGVDb250ZXh0LFxuICBmbGF0dGVuVG9vbENhbGxzTm9EdXBsaWNhdGVzLFxuICBnZXRDb21tb25Db25maWdcbn0pO1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9aW5kZXguanMubWFwIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(rsc)/./node_modules/@copilotkit/runtime/dist/index.js\n");

/***/ }),

/***/ "(rsc)/./node_modules/@copilotkit/shared/dist/index.js":
/*!*******************************************************!*\
  !*** ./node_modules/@copilotkit/shared/dist/index.js ***!
  \*******************************************************/
/***/ ((module, __unused_webpack_exports, __webpack_require__) => {

"use strict";
eval("\nvar __create = Object.create;\nvar __defProp = Object.defineProperty;\nvar __getOwnPropDesc = Object.getOwnPropertyDescriptor;\nvar __getOwnPropNames = Object.getOwnPropertyNames;\nvar __getProtoOf = Object.getPrototypeOf;\nvar __hasOwnProp = Object.prototype.hasOwnProperty;\nvar __export = (target, all) => {\n  for (var name in all)\n    __defProp(target, name, { get: all[name], enumerable: true });\n};\nvar __copyProps = (to, from, except, desc) => {\n  if (from && typeof from === \"object\" || typeof from === \"function\") {\n    for (let key of __getOwnPropNames(from))\n      if (!__hasOwnProp.call(to, key) && key !== except)\n        __defProp(to, key, { get: () => from[key], enumerable: !(desc = __getOwnPropDesc(from, key)) || desc.enumerable });\n  }\n  return to;\n};\nvar __toESM = (mod, isNodeMode, target) => (target = mod != null ? __create(__getProtoOf(mod)) : {}, __copyProps(\n  // If the importer is in node compatibility mode or this is not an ESM\n  // file that has been converted to a CommonJS file using a Babel-\n  // compatible transform (i.e. \"__esModule\" has not been set), then set\n  // \"default\" to the CommonJS \"module.exports\" for node compatibility.\n  isNodeMode || !mod || !mod.__esModule ? __defProp(target, \"default\", { value: mod, enumerable: true }) : target,\n  mod\n));\nvar __toCommonJS = (mod) => __copyProps(__defProp({}, \"__esModule\", { value: true }), mod);\n\n// src/index.ts\nvar src_exports = {};\n__export(src_exports, {\n  COPILOTKIT_VERSION: () => COPILOTKIT_VERSION,\n  COPILOT_CLOUD_API_URL: () => COPILOT_CLOUD_API_URL,\n  COPILOT_CLOUD_CHAT_URL: () => COPILOT_CLOUD_CHAT_URL,\n  COPILOT_CLOUD_PUBLIC_API_KEY_HEADER: () => COPILOT_CLOUD_PUBLIC_API_KEY_HEADER,\n  COPILOT_CLOUD_VERSION: () => COPILOT_CLOUD_VERSION,\n  TelemetryClient: () => TelemetryClient,\n  actionParametersToJsonSchema: () => actionParametersToJsonSchema,\n  randomId: () => randomId\n});\nmodule.exports = __toCommonJS(src_exports);\n\n// src/utils/json-schema.ts\nfunction actionParametersToJsonSchema(actionParameters) {\n  let parameters = {};\n  for (let parameter of actionParameters || []) {\n    parameters[parameter.name] = convertAttribute(parameter);\n  }\n  let requiredParameterNames = [];\n  for (let arg of actionParameters || []) {\n    if (arg.required !== false) {\n      requiredParameterNames.push(arg.name);\n    }\n  }\n  return {\n    type: \"object\",\n    properties: parameters,\n    required: requiredParameterNames\n  };\n}\nfunction convertAttribute(attribute) {\n  var _a, _b, _c;\n  switch (attribute.type) {\n    case \"string\":\n      return {\n        type: \"string\",\n        description: attribute.description,\n        ...attribute.enum && { enum: attribute.enum }\n      };\n    case \"number\":\n    case \"boolean\":\n      return {\n        type: attribute.type,\n        description: attribute.description\n      };\n    case \"object\":\n    case \"object[]\":\n      const properties = (_a = attribute.attributes) == null ? void 0 : _a.reduce(\n        (acc, attr) => {\n          acc[attr.name] = convertAttribute(attr);\n          return acc;\n        },\n        {}\n      );\n      const required = (_b = attribute.attributes) == null ? void 0 : _b.filter((attr) => attr.required !== false).map((attr) => attr.name);\n      if (attribute.type === \"object[]\") {\n        return {\n          type: \"array\",\n          items: {\n            type: \"object\",\n            ...properties && { properties },\n            ...required && required.length > 0 && { required }\n          },\n          description: attribute.description\n        };\n      }\n      return {\n        type: \"object\",\n        description: attribute.description,\n        ...properties && { properties },\n        ...required && required.length > 0 && { required }\n      };\n    default:\n      if ((_c = attribute.type) == null ? void 0 : _c.endsWith(\"[]\")) {\n        const itemType = attribute.type.slice(0, -2);\n        return {\n          type: \"array\",\n          items: { type: itemType },\n          description: attribute.description\n        };\n      }\n      return {\n        type: \"string\",\n        description: attribute.description\n      };\n  }\n}\n\n// src/utils/random-id.ts\nvar import_uuid = __webpack_require__(/*! uuid */ \"(rsc)/./node_modules/uuid/dist/esm-node/index.js\");\nfunction randomId() {\n  return \"ck-\" + (0, import_uuid.v4)();\n}\n\n// src/constants/index.ts\nvar COPILOT_CLOUD_API_URL = \"https://api.copilotkit.ai\";\nvar COPILOT_CLOUD_VERSION = \"v1\";\nvar COPILOT_CLOUD_CHAT_URL = `${COPILOT_CLOUD_API_URL}/copilotkit/${COPILOT_CLOUD_VERSION}`;\nvar COPILOT_CLOUD_PUBLIC_API_KEY_HEADER = \"X-CopilotCloud-Public-Api-Key\";\n\n// src/telemetry/telemetry-client.ts\nvar import_analytics_node = __webpack_require__(/*! @segment/analytics-node */ \"(rsc)/./node_modules/@segment/analytics-node/dist/esm/index.js\");\n\n// src/telemetry/utils.ts\nvar import_chalk = __toESM(__webpack_require__(/*! chalk */ \"(rsc)/./node_modules/chalk/source/index.js\"));\nfunction flattenObject(obj, parentKey = \"\", res = {}) {\n  for (let key in obj) {\n    const propName = parentKey ? `${parentKey}.${key}` : key;\n    if (typeof obj[key] === \"object\" && obj[key] !== null) {\n      flattenObject(obj[key], propName, res);\n    } else {\n      res[propName] = obj[key];\n    }\n  }\n  return res;\n}\n\n// src/telemetry/telemetry-client.ts\nvar import_crypto = __webpack_require__(/*! crypto */ \"crypto\");\nvar TelemetryClient = class {\n  constructor({\n    packageName,\n    packageVersion,\n    telemetryDisabled,\n    telemetryBaseUrl,\n    sampleRate\n  }) {\n    this.globalProperties = {};\n    this.cloudConfiguration = null;\n    this.telemetryDisabled = false;\n    this.sampleRate = 0.05;\n    this.anonymousId = `anon_${(0, import_crypto.randomUUID)()}`;\n    this.packageName = packageName;\n    this.packageVersion = packageVersion;\n    this.telemetryDisabled = telemetryDisabled || process.env.COPILOTKIT_TELEMETRY_DISABLED === \"true\" || process.env.COPILOTKIT_TELEMETRY_DISABLED === \"1\" || process.env.DO_NOT_TRACK === \"true\" || process.env.DO_NOT_TRACK === \"1\";\n    if (this.telemetryDisabled) {\n      return;\n    }\n    this.setSampleRate(sampleRate);\n    const writeKey = process.env.COPILOTKIT_SEGMENT_WRITE_KEY || \"n7XAZtQCGS2v1vvBy3LgBCv2h3Y8whja\";\n    this.segment = new import_analytics_node.Analytics({\n      writeKey\n    });\n    this.setGlobalProperties({\n      \"copilotkit.package.name\": packageName,\n      \"copilotkit.package.version\": packageVersion\n    });\n  }\n  shouldSendEvent() {\n    const randomNumber = Math.random();\n    return randomNumber < this.sampleRate;\n  }\n  async capture(event, properties) {\n    if (!this.shouldSendEvent() || !this.segment) {\n      return;\n    }\n    const flattenedProperties = flattenObject(properties);\n    const propertiesWithGlobal = {\n      ...this.globalProperties,\n      ...flattenedProperties\n    };\n    const orderedPropertiesWithGlobal = Object.keys(propertiesWithGlobal).sort().reduce(\n      (obj, key) => {\n        obj[key] = propertiesWithGlobal[key];\n        return obj;\n      },\n      {}\n    );\n    this.segment.track({\n      anonymousId: this.anonymousId,\n      event,\n      properties: { ...orderedPropertiesWithGlobal }\n    });\n  }\n  setGlobalProperties(properties) {\n    const flattenedProperties = flattenObject(properties);\n    this.globalProperties = { ...this.globalProperties, ...flattenedProperties };\n  }\n  setCloudConfiguration(properties) {\n    this.cloudConfiguration = properties;\n    this.setGlobalProperties({\n      cloud: {\n        publicApiKey: properties.publicApiKey,\n        baseUrl: properties.baseUrl\n      }\n    });\n  }\n  setSampleRate(sampleRate) {\n    let _sampleRate;\n    _sampleRate = sampleRate ?? 0.05;\n    if (process.env.COPILOTKIT_TELEMETRY_SAMPLE_RATE) {\n      _sampleRate = parseFloat(process.env.COPILOTKIT_TELEMETRY_SAMPLE_RATE);\n    }\n    if (_sampleRate < 0 || _sampleRate > 1) {\n      throw new Error(\"Sample rate must be between 0 and 1\");\n    }\n    this.sampleRate = _sampleRate;\n    this.setGlobalProperties({\n      sampleRate: this.sampleRate,\n      sampleRateAdjustmentFactor: 1 - this.sampleRate\n    });\n  }\n};\n\n// package.json\nvar version = \"1.3.0\";\n\n// src/index.ts\nvar COPILOTKIT_VERSION = version;\n// Annotate the CommonJS export names for ESM import in node:\n0 && (0);\n//# sourceMappingURL=index.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9ub2RlX21vZHVsZXMvQGNvcGlsb3RraXQvc2hhcmVkL2Rpc3QvaW5kZXguanMiLCJtYXBwaW5ncyI6IkFBQWE7QUFDYjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsOEJBQThCLGtDQUFrQztBQUNoRTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsNkJBQTZCLDRGQUE0RjtBQUN6SDtBQUNBO0FBQ0E7QUFDQSxtR0FBbUc7QUFDbkc7QUFDQTtBQUNBO0FBQ0E7QUFDQSx5RUFBeUUsOEJBQThCO0FBQ3ZHO0FBQ0E7QUFDQSxvREFBb0Qsa0JBQWtCLGFBQWE7O0FBRW5GO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxDQUFDO0FBQ0Q7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSwrQkFBK0I7QUFDL0I7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLCtCQUErQixZQUFZO0FBQzNDLG9EQUFvRDtBQUNwRCxXQUFXO0FBQ1g7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsMkJBQTJCLFlBQVk7QUFDdkMsZ0RBQWdEO0FBQ2hEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLG1CQUFtQixnQkFBZ0I7QUFDbkM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0Esa0JBQWtCLG1CQUFPLENBQUMsOERBQU07QUFDaEM7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBLGdDQUFnQyxzQkFBc0IsY0FBYyxzQkFBc0I7QUFDMUY7O0FBRUE7QUFDQSw0QkFBNEIsbUJBQU8sQ0FBQywrRkFBeUI7O0FBRTdEO0FBQ0EsMkJBQTJCLG1CQUFPLENBQUMseURBQU87QUFDMUMsb0RBQW9EO0FBQ3BEO0FBQ0Esb0NBQW9DLFVBQVUsR0FBRyxJQUFJO0FBQ3JEO0FBQ0E7QUFDQSxNQUFNO0FBQ047QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBLG9CQUFvQixtQkFBTyxDQUFDLHNCQUFRO0FBQ3BDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsK0JBQStCLGdDQUFnQztBQUMvRDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsT0FBTztBQUNQO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxvQkFBb0I7QUFDcEIsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBLDhCQUE4QjtBQUM5QjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBLE1BQU0sQ0FTTDtBQUNEIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vZXhhbXBsZS10b2Rvcy1hcHAvLi9ub2RlX21vZHVsZXMvQGNvcGlsb3RraXQvc2hhcmVkL2Rpc3QvaW5kZXguanM/YTkyMiJdLCJzb3VyY2VzQ29udGVudCI6WyJcInVzZSBzdHJpY3RcIjtcbnZhciBfX2NyZWF0ZSA9IE9iamVjdC5jcmVhdGU7XG52YXIgX19kZWZQcm9wID0gT2JqZWN0LmRlZmluZVByb3BlcnR5O1xudmFyIF9fZ2V0T3duUHJvcERlc2MgPSBPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yO1xudmFyIF9fZ2V0T3duUHJvcE5hbWVzID0gT2JqZWN0LmdldE93blByb3BlcnR5TmFtZXM7XG52YXIgX19nZXRQcm90b09mID0gT2JqZWN0LmdldFByb3RvdHlwZU9mO1xudmFyIF9faGFzT3duUHJvcCA9IE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHk7XG52YXIgX19leHBvcnQgPSAodGFyZ2V0LCBhbGwpID0+IHtcbiAgZm9yICh2YXIgbmFtZSBpbiBhbGwpXG4gICAgX19kZWZQcm9wKHRhcmdldCwgbmFtZSwgeyBnZXQ6IGFsbFtuYW1lXSwgZW51bWVyYWJsZTogdHJ1ZSB9KTtcbn07XG52YXIgX19jb3B5UHJvcHMgPSAodG8sIGZyb20sIGV4Y2VwdCwgZGVzYykgPT4ge1xuICBpZiAoZnJvbSAmJiB0eXBlb2YgZnJvbSA9PT0gXCJvYmplY3RcIiB8fCB0eXBlb2YgZnJvbSA9PT0gXCJmdW5jdGlvblwiKSB7XG4gICAgZm9yIChsZXQga2V5IG9mIF9fZ2V0T3duUHJvcE5hbWVzKGZyb20pKVxuICAgICAgaWYgKCFfX2hhc093blByb3AuY2FsbCh0bywga2V5KSAmJiBrZXkgIT09IGV4Y2VwdClcbiAgICAgICAgX19kZWZQcm9wKHRvLCBrZXksIHsgZ2V0OiAoKSA9PiBmcm9tW2tleV0sIGVudW1lcmFibGU6ICEoZGVzYyA9IF9fZ2V0T3duUHJvcERlc2MoZnJvbSwga2V5KSkgfHwgZGVzYy5lbnVtZXJhYmxlIH0pO1xuICB9XG4gIHJldHVybiB0bztcbn07XG52YXIgX190b0VTTSA9IChtb2QsIGlzTm9kZU1vZGUsIHRhcmdldCkgPT4gKHRhcmdldCA9IG1vZCAhPSBudWxsID8gX19jcmVhdGUoX19nZXRQcm90b09mKG1vZCkpIDoge30sIF9fY29weVByb3BzKFxuICAvLyBJZiB0aGUgaW1wb3J0ZXIgaXMgaW4gbm9kZSBjb21wYXRpYmlsaXR5IG1vZGUgb3IgdGhpcyBpcyBub3QgYW4gRVNNXG4gIC8vIGZpbGUgdGhhdCBoYXMgYmVlbiBjb252ZXJ0ZWQgdG8gYSBDb21tb25KUyBmaWxlIHVzaW5nIGEgQmFiZWwtXG4gIC8vIGNvbXBhdGlibGUgdHJhbnNmb3JtIChpLmUuIFwiX19lc01vZHVsZVwiIGhhcyBub3QgYmVlbiBzZXQpLCB0aGVuIHNldFxuICAvLyBcImRlZmF1bHRcIiB0byB0aGUgQ29tbW9uSlMgXCJtb2R1bGUuZXhwb3J0c1wiIGZvciBub2RlIGNvbXBhdGliaWxpdHkuXG4gIGlzTm9kZU1vZGUgfHwgIW1vZCB8fCAhbW9kLl9fZXNNb2R1bGUgPyBfX2RlZlByb3AodGFyZ2V0LCBcImRlZmF1bHRcIiwgeyB2YWx1ZTogbW9kLCBlbnVtZXJhYmxlOiB0cnVlIH0pIDogdGFyZ2V0LFxuICBtb2RcbikpO1xudmFyIF9fdG9Db21tb25KUyA9IChtb2QpID0+IF9fY29weVByb3BzKF9fZGVmUHJvcCh7fSwgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6IHRydWUgfSksIG1vZCk7XG5cbi8vIHNyYy9pbmRleC50c1xudmFyIHNyY19leHBvcnRzID0ge307XG5fX2V4cG9ydChzcmNfZXhwb3J0cywge1xuICBDT1BJTE9US0lUX1ZFUlNJT046ICgpID0+IENPUElMT1RLSVRfVkVSU0lPTixcbiAgQ09QSUxPVF9DTE9VRF9BUElfVVJMOiAoKSA9PiBDT1BJTE9UX0NMT1VEX0FQSV9VUkwsXG4gIENPUElMT1RfQ0xPVURfQ0hBVF9VUkw6ICgpID0+IENPUElMT1RfQ0xPVURfQ0hBVF9VUkwsXG4gIENPUElMT1RfQ0xPVURfUFVCTElDX0FQSV9LRVlfSEVBREVSOiAoKSA9PiBDT1BJTE9UX0NMT1VEX1BVQkxJQ19BUElfS0VZX0hFQURFUixcbiAgQ09QSUxPVF9DTE9VRF9WRVJTSU9OOiAoKSA9PiBDT1BJTE9UX0NMT1VEX1ZFUlNJT04sXG4gIFRlbGVtZXRyeUNsaWVudDogKCkgPT4gVGVsZW1ldHJ5Q2xpZW50LFxuICBhY3Rpb25QYXJhbWV0ZXJzVG9Kc29uU2NoZW1hOiAoKSA9PiBhY3Rpb25QYXJhbWV0ZXJzVG9Kc29uU2NoZW1hLFxuICByYW5kb21JZDogKCkgPT4gcmFuZG9tSWRcbn0pO1xubW9kdWxlLmV4cG9ydHMgPSBfX3RvQ29tbW9uSlMoc3JjX2V4cG9ydHMpO1xuXG4vLyBzcmMvdXRpbHMvanNvbi1zY2hlbWEudHNcbmZ1bmN0aW9uIGFjdGlvblBhcmFtZXRlcnNUb0pzb25TY2hlbWEoYWN0aW9uUGFyYW1ldGVycykge1xuICBsZXQgcGFyYW1ldGVycyA9IHt9O1xuICBmb3IgKGxldCBwYXJhbWV0ZXIgb2YgYWN0aW9uUGFyYW1ldGVycyB8fCBbXSkge1xuICAgIHBhcmFtZXRlcnNbcGFyYW1ldGVyLm5hbWVdID0gY29udmVydEF0dHJpYnV0ZShwYXJhbWV0ZXIpO1xuICB9XG4gIGxldCByZXF1aXJlZFBhcmFtZXRlck5hbWVzID0gW107XG4gIGZvciAobGV0IGFyZyBvZiBhY3Rpb25QYXJhbWV0ZXJzIHx8IFtdKSB7XG4gICAgaWYgKGFyZy5yZXF1aXJlZCAhPT0gZmFsc2UpIHtcbiAgICAgIHJlcXVpcmVkUGFyYW1ldGVyTmFtZXMucHVzaChhcmcubmFtZSk7XG4gICAgfVxuICB9XG4gIHJldHVybiB7XG4gICAgdHlwZTogXCJvYmplY3RcIixcbiAgICBwcm9wZXJ0aWVzOiBwYXJhbWV0ZXJzLFxuICAgIHJlcXVpcmVkOiByZXF1aXJlZFBhcmFtZXRlck5hbWVzXG4gIH07XG59XG5mdW5jdGlvbiBjb252ZXJ0QXR0cmlidXRlKGF0dHJpYnV0ZSkge1xuICB2YXIgX2EsIF9iLCBfYztcbiAgc3dpdGNoIChhdHRyaWJ1dGUudHlwZSkge1xuICAgIGNhc2UgXCJzdHJpbmdcIjpcbiAgICAgIHJldHVybiB7XG4gICAgICAgIHR5cGU6IFwic3RyaW5nXCIsXG4gICAgICAgIGRlc2NyaXB0aW9uOiBhdHRyaWJ1dGUuZGVzY3JpcHRpb24sXG4gICAgICAgIC4uLmF0dHJpYnV0ZS5lbnVtICYmIHsgZW51bTogYXR0cmlidXRlLmVudW0gfVxuICAgICAgfTtcbiAgICBjYXNlIFwibnVtYmVyXCI6XG4gICAgY2FzZSBcImJvb2xlYW5cIjpcbiAgICAgIHJldHVybiB7XG4gICAgICAgIHR5cGU6IGF0dHJpYnV0ZS50eXBlLFxuICAgICAgICBkZXNjcmlwdGlvbjogYXR0cmlidXRlLmRlc2NyaXB0aW9uXG4gICAgICB9O1xuICAgIGNhc2UgXCJvYmplY3RcIjpcbiAgICBjYXNlIFwib2JqZWN0W11cIjpcbiAgICAgIGNvbnN0IHByb3BlcnRpZXMgPSAoX2EgPSBhdHRyaWJ1dGUuYXR0cmlidXRlcykgPT0gbnVsbCA/IHZvaWQgMCA6IF9hLnJlZHVjZShcbiAgICAgICAgKGFjYywgYXR0cikgPT4ge1xuICAgICAgICAgIGFjY1thdHRyLm5hbWVdID0gY29udmVydEF0dHJpYnV0ZShhdHRyKTtcbiAgICAgICAgICByZXR1cm4gYWNjO1xuICAgICAgICB9LFxuICAgICAgICB7fVxuICAgICAgKTtcbiAgICAgIGNvbnN0IHJlcXVpcmVkID0gKF9iID0gYXR0cmlidXRlLmF0dHJpYnV0ZXMpID09IG51bGwgPyB2b2lkIDAgOiBfYi5maWx0ZXIoKGF0dHIpID0+IGF0dHIucmVxdWlyZWQgIT09IGZhbHNlKS5tYXAoKGF0dHIpID0+IGF0dHIubmFtZSk7XG4gICAgICBpZiAoYXR0cmlidXRlLnR5cGUgPT09IFwib2JqZWN0W11cIikge1xuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgIHR5cGU6IFwiYXJyYXlcIixcbiAgICAgICAgICBpdGVtczoge1xuICAgICAgICAgICAgdHlwZTogXCJvYmplY3RcIixcbiAgICAgICAgICAgIC4uLnByb3BlcnRpZXMgJiYgeyBwcm9wZXJ0aWVzIH0sXG4gICAgICAgICAgICAuLi5yZXF1aXJlZCAmJiByZXF1aXJlZC5sZW5ndGggPiAwICYmIHsgcmVxdWlyZWQgfVxuICAgICAgICAgIH0sXG4gICAgICAgICAgZGVzY3JpcHRpb246IGF0dHJpYnV0ZS5kZXNjcmlwdGlvblxuICAgICAgICB9O1xuICAgICAgfVxuICAgICAgcmV0dXJuIHtcbiAgICAgICAgdHlwZTogXCJvYmplY3RcIixcbiAgICAgICAgZGVzY3JpcHRpb246IGF0dHJpYnV0ZS5kZXNjcmlwdGlvbixcbiAgICAgICAgLi4ucHJvcGVydGllcyAmJiB7IHByb3BlcnRpZXMgfSxcbiAgICAgICAgLi4ucmVxdWlyZWQgJiYgcmVxdWlyZWQubGVuZ3RoID4gMCAmJiB7IHJlcXVpcmVkIH1cbiAgICAgIH07XG4gICAgZGVmYXVsdDpcbiAgICAgIGlmICgoX2MgPSBhdHRyaWJ1dGUudHlwZSkgPT0gbnVsbCA/IHZvaWQgMCA6IF9jLmVuZHNXaXRoKFwiW11cIikpIHtcbiAgICAgICAgY29uc3QgaXRlbVR5cGUgPSBhdHRyaWJ1dGUudHlwZS5zbGljZSgwLCAtMik7XG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgdHlwZTogXCJhcnJheVwiLFxuICAgICAgICAgIGl0ZW1zOiB7IHR5cGU6IGl0ZW1UeXBlIH0sXG4gICAgICAgICAgZGVzY3JpcHRpb246IGF0dHJpYnV0ZS5kZXNjcmlwdGlvblxuICAgICAgICB9O1xuICAgICAgfVxuICAgICAgcmV0dXJuIHtcbiAgICAgICAgdHlwZTogXCJzdHJpbmdcIixcbiAgICAgICAgZGVzY3JpcHRpb246IGF0dHJpYnV0ZS5kZXNjcmlwdGlvblxuICAgICAgfTtcbiAgfVxufVxuXG4vLyBzcmMvdXRpbHMvcmFuZG9tLWlkLnRzXG52YXIgaW1wb3J0X3V1aWQgPSByZXF1aXJlKFwidXVpZFwiKTtcbmZ1bmN0aW9uIHJhbmRvbUlkKCkge1xuICByZXR1cm4gXCJjay1cIiArICgwLCBpbXBvcnRfdXVpZC52NCkoKTtcbn1cblxuLy8gc3JjL2NvbnN0YW50cy9pbmRleC50c1xudmFyIENPUElMT1RfQ0xPVURfQVBJX1VSTCA9IFwiaHR0cHM6Ly9hcGkuY29waWxvdGtpdC5haVwiO1xudmFyIENPUElMT1RfQ0xPVURfVkVSU0lPTiA9IFwidjFcIjtcbnZhciBDT1BJTE9UX0NMT1VEX0NIQVRfVVJMID0gYCR7Q09QSUxPVF9DTE9VRF9BUElfVVJMfS9jb3BpbG90a2l0LyR7Q09QSUxPVF9DTE9VRF9WRVJTSU9OfWA7XG52YXIgQ09QSUxPVF9DTE9VRF9QVUJMSUNfQVBJX0tFWV9IRUFERVIgPSBcIlgtQ29waWxvdENsb3VkLVB1YmxpYy1BcGktS2V5XCI7XG5cbi8vIHNyYy90ZWxlbWV0cnkvdGVsZW1ldHJ5LWNsaWVudC50c1xudmFyIGltcG9ydF9hbmFseXRpY3Nfbm9kZSA9IHJlcXVpcmUoXCJAc2VnbWVudC9hbmFseXRpY3Mtbm9kZVwiKTtcblxuLy8gc3JjL3RlbGVtZXRyeS91dGlscy50c1xudmFyIGltcG9ydF9jaGFsayA9IF9fdG9FU00ocmVxdWlyZShcImNoYWxrXCIpKTtcbmZ1bmN0aW9uIGZsYXR0ZW5PYmplY3Qob2JqLCBwYXJlbnRLZXkgPSBcIlwiLCByZXMgPSB7fSkge1xuICBmb3IgKGxldCBrZXkgaW4gb2JqKSB7XG4gICAgY29uc3QgcHJvcE5hbWUgPSBwYXJlbnRLZXkgPyBgJHtwYXJlbnRLZXl9LiR7a2V5fWAgOiBrZXk7XG4gICAgaWYgKHR5cGVvZiBvYmpba2V5XSA9PT0gXCJvYmplY3RcIiAmJiBvYmpba2V5XSAhPT0gbnVsbCkge1xuICAgICAgZmxhdHRlbk9iamVjdChvYmpba2V5XSwgcHJvcE5hbWUsIHJlcyk7XG4gICAgfSBlbHNlIHtcbiAgICAgIHJlc1twcm9wTmFtZV0gPSBvYmpba2V5XTtcbiAgICB9XG4gIH1cbiAgcmV0dXJuIHJlcztcbn1cblxuLy8gc3JjL3RlbGVtZXRyeS90ZWxlbWV0cnktY2xpZW50LnRzXG52YXIgaW1wb3J0X2NyeXB0byA9IHJlcXVpcmUoXCJjcnlwdG9cIik7XG52YXIgVGVsZW1ldHJ5Q2xpZW50ID0gY2xhc3Mge1xuICBjb25zdHJ1Y3Rvcih7XG4gICAgcGFja2FnZU5hbWUsXG4gICAgcGFja2FnZVZlcnNpb24sXG4gICAgdGVsZW1ldHJ5RGlzYWJsZWQsXG4gICAgdGVsZW1ldHJ5QmFzZVVybCxcbiAgICBzYW1wbGVSYXRlXG4gIH0pIHtcbiAgICB0aGlzLmdsb2JhbFByb3BlcnRpZXMgPSB7fTtcbiAgICB0aGlzLmNsb3VkQ29uZmlndXJhdGlvbiA9IG51bGw7XG4gICAgdGhpcy50ZWxlbWV0cnlEaXNhYmxlZCA9IGZhbHNlO1xuICAgIHRoaXMuc2FtcGxlUmF0ZSA9IDAuMDU7XG4gICAgdGhpcy5hbm9ueW1vdXNJZCA9IGBhbm9uXyR7KDAsIGltcG9ydF9jcnlwdG8ucmFuZG9tVVVJRCkoKX1gO1xuICAgIHRoaXMucGFja2FnZU5hbWUgPSBwYWNrYWdlTmFtZTtcbiAgICB0aGlzLnBhY2thZ2VWZXJzaW9uID0gcGFja2FnZVZlcnNpb247XG4gICAgdGhpcy50ZWxlbWV0cnlEaXNhYmxlZCA9IHRlbGVtZXRyeURpc2FibGVkIHx8IHByb2Nlc3MuZW52LkNPUElMT1RLSVRfVEVMRU1FVFJZX0RJU0FCTEVEID09PSBcInRydWVcIiB8fCBwcm9jZXNzLmVudi5DT1BJTE9US0lUX1RFTEVNRVRSWV9ESVNBQkxFRCA9PT0gXCIxXCIgfHwgcHJvY2Vzcy5lbnYuRE9fTk9UX1RSQUNLID09PSBcInRydWVcIiB8fCBwcm9jZXNzLmVudi5ET19OT1RfVFJBQ0sgPT09IFwiMVwiO1xuICAgIGlmICh0aGlzLnRlbGVtZXRyeURpc2FibGVkKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIHRoaXMuc2V0U2FtcGxlUmF0ZShzYW1wbGVSYXRlKTtcbiAgICBjb25zdCB3cml0ZUtleSA9IHByb2Nlc3MuZW52LkNPUElMT1RLSVRfU0VHTUVOVF9XUklURV9LRVkgfHwgXCJuN1hBWnRRQ0dTMnYxdnZCeTNMZ0JDdjJoM1k4d2hqYVwiO1xuICAgIHRoaXMuc2VnbWVudCA9IG5ldyBpbXBvcnRfYW5hbHl0aWNzX25vZGUuQW5hbHl0aWNzKHtcbiAgICAgIHdyaXRlS2V5XG4gICAgfSk7XG4gICAgdGhpcy5zZXRHbG9iYWxQcm9wZXJ0aWVzKHtcbiAgICAgIFwiY29waWxvdGtpdC5wYWNrYWdlLm5hbWVcIjogcGFja2FnZU5hbWUsXG4gICAgICBcImNvcGlsb3RraXQucGFja2FnZS52ZXJzaW9uXCI6IHBhY2thZ2VWZXJzaW9uXG4gICAgfSk7XG4gIH1cbiAgc2hvdWxkU2VuZEV2ZW50KCkge1xuICAgIGNvbnN0IHJhbmRvbU51bWJlciA9IE1hdGgucmFuZG9tKCk7XG4gICAgcmV0dXJuIHJhbmRvbU51bWJlciA8IHRoaXMuc2FtcGxlUmF0ZTtcbiAgfVxuICBhc3luYyBjYXB0dXJlKGV2ZW50LCBwcm9wZXJ0aWVzKSB7XG4gICAgaWYgKCF0aGlzLnNob3VsZFNlbmRFdmVudCgpIHx8ICF0aGlzLnNlZ21lbnQpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgY29uc3QgZmxhdHRlbmVkUHJvcGVydGllcyA9IGZsYXR0ZW5PYmplY3QocHJvcGVydGllcyk7XG4gICAgY29uc3QgcHJvcGVydGllc1dpdGhHbG9iYWwgPSB7XG4gICAgICAuLi50aGlzLmdsb2JhbFByb3BlcnRpZXMsXG4gICAgICAuLi5mbGF0dGVuZWRQcm9wZXJ0aWVzXG4gICAgfTtcbiAgICBjb25zdCBvcmRlcmVkUHJvcGVydGllc1dpdGhHbG9iYWwgPSBPYmplY3Qua2V5cyhwcm9wZXJ0aWVzV2l0aEdsb2JhbCkuc29ydCgpLnJlZHVjZShcbiAgICAgIChvYmosIGtleSkgPT4ge1xuICAgICAgICBvYmpba2V5XSA9IHByb3BlcnRpZXNXaXRoR2xvYmFsW2tleV07XG4gICAgICAgIHJldHVybiBvYmo7XG4gICAgICB9LFxuICAgICAge31cbiAgICApO1xuICAgIHRoaXMuc2VnbWVudC50cmFjayh7XG4gICAgICBhbm9ueW1vdXNJZDogdGhpcy5hbm9ueW1vdXNJZCxcbiAgICAgIGV2ZW50LFxuICAgICAgcHJvcGVydGllczogeyAuLi5vcmRlcmVkUHJvcGVydGllc1dpdGhHbG9iYWwgfVxuICAgIH0pO1xuICB9XG4gIHNldEdsb2JhbFByb3BlcnRpZXMocHJvcGVydGllcykge1xuICAgIGNvbnN0IGZsYXR0ZW5lZFByb3BlcnRpZXMgPSBmbGF0dGVuT2JqZWN0KHByb3BlcnRpZXMpO1xuICAgIHRoaXMuZ2xvYmFsUHJvcGVydGllcyA9IHsgLi4udGhpcy5nbG9iYWxQcm9wZXJ0aWVzLCAuLi5mbGF0dGVuZWRQcm9wZXJ0aWVzIH07XG4gIH1cbiAgc2V0Q2xvdWRDb25maWd1cmF0aW9uKHByb3BlcnRpZXMpIHtcbiAgICB0aGlzLmNsb3VkQ29uZmlndXJhdGlvbiA9IHByb3BlcnRpZXM7XG4gICAgdGhpcy5zZXRHbG9iYWxQcm9wZXJ0aWVzKHtcbiAgICAgIGNsb3VkOiB7XG4gICAgICAgIHB1YmxpY0FwaUtleTogcHJvcGVydGllcy5wdWJsaWNBcGlLZXksXG4gICAgICAgIGJhc2VVcmw6IHByb3BlcnRpZXMuYmFzZVVybFxuICAgICAgfVxuICAgIH0pO1xuICB9XG4gIHNldFNhbXBsZVJhdGUoc2FtcGxlUmF0ZSkge1xuICAgIGxldCBfc2FtcGxlUmF0ZTtcbiAgICBfc2FtcGxlUmF0ZSA9IHNhbXBsZVJhdGUgPz8gMC4wNTtcbiAgICBpZiAocHJvY2Vzcy5lbnYuQ09QSUxPVEtJVF9URUxFTUVUUllfU0FNUExFX1JBVEUpIHtcbiAgICAgIF9zYW1wbGVSYXRlID0gcGFyc2VGbG9hdChwcm9jZXNzLmVudi5DT1BJTE9US0lUX1RFTEVNRVRSWV9TQU1QTEVfUkFURSk7XG4gICAgfVxuICAgIGlmIChfc2FtcGxlUmF0ZSA8IDAgfHwgX3NhbXBsZVJhdGUgPiAxKSB7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoXCJTYW1wbGUgcmF0ZSBtdXN0IGJlIGJldHdlZW4gMCBhbmQgMVwiKTtcbiAgICB9XG4gICAgdGhpcy5zYW1wbGVSYXRlID0gX3NhbXBsZVJhdGU7XG4gICAgdGhpcy5zZXRHbG9iYWxQcm9wZXJ0aWVzKHtcbiAgICAgIHNhbXBsZVJhdGU6IHRoaXMuc2FtcGxlUmF0ZSxcbiAgICAgIHNhbXBsZVJhdGVBZGp1c3RtZW50RmFjdG9yOiAxIC0gdGhpcy5zYW1wbGVSYXRlXG4gICAgfSk7XG4gIH1cbn07XG5cbi8vIHBhY2thZ2UuanNvblxudmFyIHZlcnNpb24gPSBcIjEuMy4wXCI7XG5cbi8vIHNyYy9pbmRleC50c1xudmFyIENPUElMT1RLSVRfVkVSU0lPTiA9IHZlcnNpb247XG4vLyBBbm5vdGF0ZSB0aGUgQ29tbW9uSlMgZXhwb3J0IG5hbWVzIGZvciBFU00gaW1wb3J0IGluIG5vZGU6XG4wICYmIChtb2R1bGUuZXhwb3J0cyA9IHtcbiAgQ09QSUxPVEtJVF9WRVJTSU9OLFxuICBDT1BJTE9UX0NMT1VEX0FQSV9VUkwsXG4gIENPUElMT1RfQ0xPVURfQ0hBVF9VUkwsXG4gIENPUElMT1RfQ0xPVURfUFVCTElDX0FQSV9LRVlfSEVBREVSLFxuICBDT1BJTE9UX0NMT1VEX1ZFUlNJT04sXG4gIFRlbGVtZXRyeUNsaWVudCxcbiAgYWN0aW9uUGFyYW1ldGVyc1RvSnNvblNjaGVtYSxcbiAgcmFuZG9tSWRcbn0pO1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9aW5kZXguanMubWFwIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(rsc)/./node_modules/@copilotkit/shared/dist/index.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/@copilotkit/react-core/dist/chunk-5FHSUKQL.mjs":
/*!*********************************************************************!*\
  !*** ./node_modules/@copilotkit/react-core/dist/chunk-5FHSUKQL.mjs ***!
  \*********************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   use_flat_category_store_default: () => (/* binding */ use_flat_category_store_default)\n/* harmony export */ });\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ \"(ssr)/./node_modules/next/dist/server/future/route-modules/app-page/vendored/ssr/react.js\");\n/* harmony import */ var _copilotkit_shared__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @copilotkit/shared */ \"(ssr)/./node_modules/@copilotkit/shared/dist/chunk-RIPX6APP.mjs\");\n// src/hooks/use-flat-category-store.ts\n\n\nvar useFlatCategoryStore = () => {\n  const [elements, dispatch] = (0,react__WEBPACK_IMPORTED_MODULE_0__.useReducer)(flatCategoryStoreReducer, /* @__PURE__ */ new Map());\n  const addElement = (0,react__WEBPACK_IMPORTED_MODULE_0__.useCallback)((value, categories) => {\n    const newId = (0,_copilotkit_shared__WEBPACK_IMPORTED_MODULE_1__.randomId)();\n    dispatch({\n      type: \"ADD_ELEMENT\",\n      value,\n      id: newId,\n      categories\n    });\n    return newId;\n  }, []);\n  const removeElement = (0,react__WEBPACK_IMPORTED_MODULE_0__.useCallback)((id) => {\n    dispatch({ type: \"REMOVE_ELEMENT\", id });\n  }, []);\n  const allElements = (0,react__WEBPACK_IMPORTED_MODULE_0__.useCallback)(\n    (categories) => {\n      const categoriesSet = new Set(categories);\n      const result = [];\n      elements.forEach((element) => {\n        if (setsHaveIntersection(categoriesSet, element.categories)) {\n          result.push(element.value);\n        }\n      });\n      return result;\n    },\n    [elements]\n  );\n  return { addElement, removeElement, allElements };\n};\nvar use_flat_category_store_default = useFlatCategoryStore;\nfunction flatCategoryStoreReducer(state, action) {\n  switch (action.type) {\n    case \"ADD_ELEMENT\": {\n      const { value, id, categories } = action;\n      const newElement = {\n        id,\n        value,\n        categories: new Set(categories)\n      };\n      const newState = new Map(state);\n      newState.set(id, newElement);\n      return newState;\n    }\n    case \"REMOVE_ELEMENT\": {\n      const newState = new Map(state);\n      newState.delete(action.id);\n      return newState;\n    }\n    default:\n      return state;\n  }\n}\nfunction setsHaveIntersection(setA, setB) {\n  const [smallerSet, largerSet] = setA.size <= setB.size ? [setA, setB] : [setB, setA];\n  for (let item of smallerSet) {\n    if (largerSet.has(item)) {\n      return true;\n    }\n  }\n  return false;\n}\n\n\n//# sourceMappingURL=chunk-5FHSUKQL.mjs.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvQGNvcGlsb3RraXQvcmVhY3QtY29yZS9kaXN0L2NodW5rLTVGSFNVS1FMLm1qcyIsIm1hcHBpbmdzIjoiOzs7Ozs7QUFBQTtBQUNnRDtBQUNGO0FBQzlDO0FBQ0EsK0JBQStCLGlEQUFVO0FBQ3pDLHFCQUFxQixrREFBVztBQUNoQyxrQkFBa0IsNERBQVE7QUFDMUI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBLEdBQUc7QUFDSCx3QkFBd0Isa0RBQVc7QUFDbkMsZUFBZSw0QkFBNEI7QUFDM0MsR0FBRztBQUNILHNCQUFzQixrREFBVztBQUNqQztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLE9BQU87QUFDUDtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0EsV0FBVztBQUNYO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxjQUFjLHdCQUF3QjtBQUN0QztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBSUU7QUFDRiIsInNvdXJjZXMiOlsid2VicGFjazovL2V4YW1wbGUtdG9kb3MtYXBwLy4vbm9kZV9tb2R1bGVzL0Bjb3BpbG90a2l0L3JlYWN0LWNvcmUvZGlzdC9jaHVuay01RkhTVUtRTC5tanM/NTJlNiJdLCJzb3VyY2VzQ29udGVudCI6WyIvLyBzcmMvaG9va3MvdXNlLWZsYXQtY2F0ZWdvcnktc3RvcmUudHNcbmltcG9ydCB7IHVzZUNhbGxiYWNrLCB1c2VSZWR1Y2VyIH0gZnJvbSBcInJlYWN0XCI7XG5pbXBvcnQgeyByYW5kb21JZCB9IGZyb20gXCJAY29waWxvdGtpdC9zaGFyZWRcIjtcbnZhciB1c2VGbGF0Q2F0ZWdvcnlTdG9yZSA9ICgpID0+IHtcbiAgY29uc3QgW2VsZW1lbnRzLCBkaXNwYXRjaF0gPSB1c2VSZWR1Y2VyKGZsYXRDYXRlZ29yeVN0b3JlUmVkdWNlciwgLyogQF9fUFVSRV9fICovIG5ldyBNYXAoKSk7XG4gIGNvbnN0IGFkZEVsZW1lbnQgPSB1c2VDYWxsYmFjaygodmFsdWUsIGNhdGVnb3JpZXMpID0+IHtcbiAgICBjb25zdCBuZXdJZCA9IHJhbmRvbUlkKCk7XG4gICAgZGlzcGF0Y2goe1xuICAgICAgdHlwZTogXCJBRERfRUxFTUVOVFwiLFxuICAgICAgdmFsdWUsXG4gICAgICBpZDogbmV3SWQsXG4gICAgICBjYXRlZ29yaWVzXG4gICAgfSk7XG4gICAgcmV0dXJuIG5ld0lkO1xuICB9LCBbXSk7XG4gIGNvbnN0IHJlbW92ZUVsZW1lbnQgPSB1c2VDYWxsYmFjaygoaWQpID0+IHtcbiAgICBkaXNwYXRjaCh7IHR5cGU6IFwiUkVNT1ZFX0VMRU1FTlRcIiwgaWQgfSk7XG4gIH0sIFtdKTtcbiAgY29uc3QgYWxsRWxlbWVudHMgPSB1c2VDYWxsYmFjayhcbiAgICAoY2F0ZWdvcmllcykgPT4ge1xuICAgICAgY29uc3QgY2F0ZWdvcmllc1NldCA9IG5ldyBTZXQoY2F0ZWdvcmllcyk7XG4gICAgICBjb25zdCByZXN1bHQgPSBbXTtcbiAgICAgIGVsZW1lbnRzLmZvckVhY2goKGVsZW1lbnQpID0+IHtcbiAgICAgICAgaWYgKHNldHNIYXZlSW50ZXJzZWN0aW9uKGNhdGVnb3JpZXNTZXQsIGVsZW1lbnQuY2F0ZWdvcmllcykpIHtcbiAgICAgICAgICByZXN1bHQucHVzaChlbGVtZW50LnZhbHVlKTtcbiAgICAgICAgfVxuICAgICAgfSk7XG4gICAgICByZXR1cm4gcmVzdWx0O1xuICAgIH0sXG4gICAgW2VsZW1lbnRzXVxuICApO1xuICByZXR1cm4geyBhZGRFbGVtZW50LCByZW1vdmVFbGVtZW50LCBhbGxFbGVtZW50cyB9O1xufTtcbnZhciB1c2VfZmxhdF9jYXRlZ29yeV9zdG9yZV9kZWZhdWx0ID0gdXNlRmxhdENhdGVnb3J5U3RvcmU7XG5mdW5jdGlvbiBmbGF0Q2F0ZWdvcnlTdG9yZVJlZHVjZXIoc3RhdGUsIGFjdGlvbikge1xuICBzd2l0Y2ggKGFjdGlvbi50eXBlKSB7XG4gICAgY2FzZSBcIkFERF9FTEVNRU5UXCI6IHtcbiAgICAgIGNvbnN0IHsgdmFsdWUsIGlkLCBjYXRlZ29yaWVzIH0gPSBhY3Rpb247XG4gICAgICBjb25zdCBuZXdFbGVtZW50ID0ge1xuICAgICAgICBpZCxcbiAgICAgICAgdmFsdWUsXG4gICAgICAgIGNhdGVnb3JpZXM6IG5ldyBTZXQoY2F0ZWdvcmllcylcbiAgICAgIH07XG4gICAgICBjb25zdCBuZXdTdGF0ZSA9IG5ldyBNYXAoc3RhdGUpO1xuICAgICAgbmV3U3RhdGUuc2V0KGlkLCBuZXdFbGVtZW50KTtcbiAgICAgIHJldHVybiBuZXdTdGF0ZTtcbiAgICB9XG4gICAgY2FzZSBcIlJFTU9WRV9FTEVNRU5UXCI6IHtcbiAgICAgIGNvbnN0IG5ld1N0YXRlID0gbmV3IE1hcChzdGF0ZSk7XG4gICAgICBuZXdTdGF0ZS5kZWxldGUoYWN0aW9uLmlkKTtcbiAgICAgIHJldHVybiBuZXdTdGF0ZTtcbiAgICB9XG4gICAgZGVmYXVsdDpcbiAgICAgIHJldHVybiBzdGF0ZTtcbiAgfVxufVxuZnVuY3Rpb24gc2V0c0hhdmVJbnRlcnNlY3Rpb24oc2V0QSwgc2V0Qikge1xuICBjb25zdCBbc21hbGxlclNldCwgbGFyZ2VyU2V0XSA9IHNldEEuc2l6ZSA8PSBzZXRCLnNpemUgPyBbc2V0QSwgc2V0Ql0gOiBbc2V0Qiwgc2V0QV07XG4gIGZvciAobGV0IGl0ZW0gb2Ygc21hbGxlclNldCkge1xuICAgIGlmIChsYXJnZXJTZXQuaGFzKGl0ZW0pKSB7XG4gICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9XG4gIH1cbiAgcmV0dXJuIGZhbHNlO1xufVxuXG5leHBvcnQge1xuICB1c2VfZmxhdF9jYXRlZ29yeV9zdG9yZV9kZWZhdWx0XG59O1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9Y2h1bmstNUZIU1VLUUwubWpzLm1hcCJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/@copilotkit/react-core/dist/chunk-5FHSUKQL.mjs\n");

/***/ }),

/***/ "(ssr)/./node_modules/@copilotkit/react-core/dist/chunk-6U3UH3KO.mjs":
/*!*********************************************************************!*\
  !*** ./node_modules/@copilotkit/react-core/dist/chunk-6U3UH3KO.mjs ***!
  \*********************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   use_tree_default: () => (/* binding */ use_tree_default)\n/* harmony export */ });\n/* harmony import */ var _chunk_SKC7AJIV_mjs__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./chunk-SKC7AJIV.mjs */ \"(ssr)/./node_modules/@copilotkit/react-core/dist/chunk-SKC7AJIV.mjs\");\n/* harmony import */ var _copilotkit_shared__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @copilotkit/shared */ \"(ssr)/./node_modules/@copilotkit/shared/dist/chunk-RIPX6APP.mjs\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ \"(ssr)/./node_modules/next/dist/server/future/route-modules/app-page/vendored/ssr/react.js\");\n\n\n// src/hooks/use-tree.ts\n\n\nvar removeNode = (nodes, id) => {\n  return nodes.reduce((result, node) => {\n    if (node.id !== id) {\n      const newNode = (0,_chunk_SKC7AJIV_mjs__WEBPACK_IMPORTED_MODULE_1__.__spreadProps)((0,_chunk_SKC7AJIV_mjs__WEBPACK_IMPORTED_MODULE_1__.__spreadValues)({}, node), { children: removeNode(node.children, id) });\n      result.push(newNode);\n    }\n    return result;\n  }, []);\n};\nvar addNode = (nodes, newNode, parentId) => {\n  if (!parentId) {\n    return [...nodes, newNode];\n  }\n  return nodes.map((node) => {\n    if (node.id === parentId) {\n      return (0,_chunk_SKC7AJIV_mjs__WEBPACK_IMPORTED_MODULE_1__.__spreadProps)((0,_chunk_SKC7AJIV_mjs__WEBPACK_IMPORTED_MODULE_1__.__spreadValues)({}, node), { children: [...node.children, newNode] });\n    } else if (node.children.length) {\n      return (0,_chunk_SKC7AJIV_mjs__WEBPACK_IMPORTED_MODULE_1__.__spreadProps)((0,_chunk_SKC7AJIV_mjs__WEBPACK_IMPORTED_MODULE_1__.__spreadValues)({}, node), { children: addNode(node.children, newNode, parentId) });\n    }\n    return node;\n  });\n};\nvar treeIndentationRepresentation = (index, indentLevel) => {\n  if (indentLevel === 0) {\n    return (index + 1).toString();\n  } else if (indentLevel === 1) {\n    return String.fromCharCode(65 + index);\n  } else if (indentLevel === 2) {\n    return String.fromCharCode(97 + index);\n  } else {\n    return \"-\";\n  }\n};\nvar printNode = (node, prefix = \"\", indentLevel = 0) => {\n  const indent = \" \".repeat(3).repeat(indentLevel);\n  const prefixPlusIndentLength = prefix.length + indent.length;\n  const subsequentLinesPrefix = \" \".repeat(prefixPlusIndentLength);\n  const valueLines = node.value.split(\"\\n\");\n  const outputFirstLine = `${indent}${prefix}${valueLines[0]}`;\n  const outputSubsequentLines = valueLines.slice(1).map((line) => `${subsequentLinesPrefix}${line}`).join(\"\\n\");\n  let output = `${outputFirstLine}\n`;\n  if (outputSubsequentLines) {\n    output += `${outputSubsequentLines}\n`;\n  }\n  const childPrePrefix = \" \".repeat(prefix.length);\n  node.children.forEach(\n    (child, index) => output += printNode(\n      child,\n      `${childPrePrefix}${treeIndentationRepresentation(index, indentLevel + 1)}. `,\n      indentLevel + 1\n    )\n  );\n  return output;\n};\nfunction treeReducer(state, action) {\n  switch (action.type) {\n    case \"ADD_NODE\": {\n      const { value, parentId, id: newNodeId } = action;\n      const newNode = {\n        id: newNodeId,\n        value,\n        children: [],\n        categories: new Set(action.categories)\n      };\n      try {\n        return addNode(state, newNode, parentId);\n      } catch (error) {\n        console.error(`Error while adding node with id ${newNodeId}: ${error}`);\n        return state;\n      }\n    }\n    case \"REMOVE_NODE\":\n      return removeNode(state, action.id);\n    default:\n      return state;\n  }\n}\nvar useTree = () => {\n  const [tree, dispatch] = (0,react__WEBPACK_IMPORTED_MODULE_0__.useReducer)(treeReducer, []);\n  const addElement = (0,react__WEBPACK_IMPORTED_MODULE_0__.useCallback)(\n    (value, categories, parentId) => {\n      const newNodeId = (0,_copilotkit_shared__WEBPACK_IMPORTED_MODULE_2__.randomId)();\n      dispatch({\n        type: \"ADD_NODE\",\n        value,\n        parentId,\n        id: newNodeId,\n        categories\n      });\n      return newNodeId;\n    },\n    []\n  );\n  const removeElement = (0,react__WEBPACK_IMPORTED_MODULE_0__.useCallback)((id) => {\n    dispatch({ type: \"REMOVE_NODE\", id });\n  }, []);\n  const printTree = (0,react__WEBPACK_IMPORTED_MODULE_0__.useCallback)(\n    (categories) => {\n      const categoriesSet = new Set(categories);\n      let output = \"\";\n      tree.forEach((node, index) => {\n        if (!setsHaveIntersection(categoriesSet, node.categories)) {\n          return;\n        }\n        if (index !== 0) {\n          output += \"\\n\";\n        }\n        output += printNode(node, `${treeIndentationRepresentation(index, 0)}. `);\n      });\n      return output;\n    },\n    [tree]\n  );\n  return { tree, addElement, printTree, removeElement };\n};\nvar use_tree_default = useTree;\nfunction setsHaveIntersection(setA, setB) {\n  const [smallerSet, largerSet] = setA.size <= setB.size ? [setA, setB] : [setB, setA];\n  for (let item of smallerSet) {\n    if (largerSet.has(item)) {\n      return true;\n    }\n  }\n  return false;\n}\n\n\n//# sourceMappingURL=chunk-6U3UH3KO.mjs.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvQGNvcGlsb3RraXQvcmVhY3QtY29yZS9kaXN0L2NodW5rLTZVM1VIM0tPLm1qcyIsIm1hcHBpbmdzIjoiOzs7Ozs7O0FBRzhCOztBQUU5QjtBQUM4QztBQUNFO0FBQ2hEO0FBQ0E7QUFDQTtBQUNBLHNCQUFzQixrRUFBYSxDQUFDLG1FQUFjLEdBQUcsV0FBVyx5Q0FBeUM7QUFDekc7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsYUFBYSxrRUFBYSxDQUFDLG1FQUFjLEdBQUcsV0FBVyx1Q0FBdUM7QUFDOUYsTUFBTTtBQUNOLGFBQWEsa0VBQWEsQ0FBQyxtRUFBYyxHQUFHLFdBQVcscURBQXFEO0FBQzVHO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0E7QUFDQSxJQUFJO0FBQ0o7QUFDQSxJQUFJO0FBQ0o7QUFDQSxJQUFJO0FBQ0o7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLDZCQUE2QixPQUFPLEVBQUUsT0FBTyxFQUFFLGNBQWM7QUFDN0QscUVBQXFFLHNCQUFzQixFQUFFLEtBQUs7QUFDbEcsa0JBQWtCO0FBQ2xCO0FBQ0E7QUFDQSxpQkFBaUI7QUFDakI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUyxlQUFlLEVBQUUsc0RBQXNEO0FBQ2hGO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxjQUFjLGlDQUFpQztBQUMvQztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsUUFBUTtBQUNSLHlEQUF5RCxVQUFVLElBQUksTUFBTTtBQUM3RTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLDJCQUEyQixpREFBVTtBQUNyQyxxQkFBcUIsa0RBQVc7QUFDaEM7QUFDQSx3QkFBd0IsNERBQVE7QUFDaEM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsT0FBTztBQUNQO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQSx3QkFBd0Isa0RBQVc7QUFDbkMsZUFBZSx5QkFBeUI7QUFDeEMsR0FBRztBQUNILG9CQUFvQixrREFBVztBQUMvQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHFDQUFxQyx3Q0FBd0M7QUFDN0UsT0FBTztBQUNQO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQSxXQUFXO0FBQ1g7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFJRTtBQUNGIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vZXhhbXBsZS10b2Rvcy1hcHAvLi9ub2RlX21vZHVsZXMvQGNvcGlsb3RraXQvcmVhY3QtY29yZS9kaXN0L2NodW5rLTZVM1VIM0tPLm1qcz9mYmIwIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7XG4gIF9fc3ByZWFkUHJvcHMsXG4gIF9fc3ByZWFkVmFsdWVzXG59IGZyb20gXCIuL2NodW5rLVNLQzdBSklWLm1qc1wiO1xuXG4vLyBzcmMvaG9va3MvdXNlLXRyZWUudHNcbmltcG9ydCB7IHJhbmRvbUlkIH0gZnJvbSBcIkBjb3BpbG90a2l0L3NoYXJlZFwiO1xuaW1wb3J0IHsgdXNlQ2FsbGJhY2ssIHVzZVJlZHVjZXIgfSBmcm9tIFwicmVhY3RcIjtcbnZhciByZW1vdmVOb2RlID0gKG5vZGVzLCBpZCkgPT4ge1xuICByZXR1cm4gbm9kZXMucmVkdWNlKChyZXN1bHQsIG5vZGUpID0+IHtcbiAgICBpZiAobm9kZS5pZCAhPT0gaWQpIHtcbiAgICAgIGNvbnN0IG5ld05vZGUgPSBfX3NwcmVhZFByb3BzKF9fc3ByZWFkVmFsdWVzKHt9LCBub2RlKSwgeyBjaGlsZHJlbjogcmVtb3ZlTm9kZShub2RlLmNoaWxkcmVuLCBpZCkgfSk7XG4gICAgICByZXN1bHQucHVzaChuZXdOb2RlKTtcbiAgICB9XG4gICAgcmV0dXJuIHJlc3VsdDtcbiAgfSwgW10pO1xufTtcbnZhciBhZGROb2RlID0gKG5vZGVzLCBuZXdOb2RlLCBwYXJlbnRJZCkgPT4ge1xuICBpZiAoIXBhcmVudElkKSB7XG4gICAgcmV0dXJuIFsuLi5ub2RlcywgbmV3Tm9kZV07XG4gIH1cbiAgcmV0dXJuIG5vZGVzLm1hcCgobm9kZSkgPT4ge1xuICAgIGlmIChub2RlLmlkID09PSBwYXJlbnRJZCkge1xuICAgICAgcmV0dXJuIF9fc3ByZWFkUHJvcHMoX19zcHJlYWRWYWx1ZXMoe30sIG5vZGUpLCB7IGNoaWxkcmVuOiBbLi4ubm9kZS5jaGlsZHJlbiwgbmV3Tm9kZV0gfSk7XG4gICAgfSBlbHNlIGlmIChub2RlLmNoaWxkcmVuLmxlbmd0aCkge1xuICAgICAgcmV0dXJuIF9fc3ByZWFkUHJvcHMoX19zcHJlYWRWYWx1ZXMoe30sIG5vZGUpLCB7IGNoaWxkcmVuOiBhZGROb2RlKG5vZGUuY2hpbGRyZW4sIG5ld05vZGUsIHBhcmVudElkKSB9KTtcbiAgICB9XG4gICAgcmV0dXJuIG5vZGU7XG4gIH0pO1xufTtcbnZhciB0cmVlSW5kZW50YXRpb25SZXByZXNlbnRhdGlvbiA9IChpbmRleCwgaW5kZW50TGV2ZWwpID0+IHtcbiAgaWYgKGluZGVudExldmVsID09PSAwKSB7XG4gICAgcmV0dXJuIChpbmRleCArIDEpLnRvU3RyaW5nKCk7XG4gIH0gZWxzZSBpZiAoaW5kZW50TGV2ZWwgPT09IDEpIHtcbiAgICByZXR1cm4gU3RyaW5nLmZyb21DaGFyQ29kZSg2NSArIGluZGV4KTtcbiAgfSBlbHNlIGlmIChpbmRlbnRMZXZlbCA9PT0gMikge1xuICAgIHJldHVybiBTdHJpbmcuZnJvbUNoYXJDb2RlKDk3ICsgaW5kZXgpO1xuICB9IGVsc2Uge1xuICAgIHJldHVybiBcIi1cIjtcbiAgfVxufTtcbnZhciBwcmludE5vZGUgPSAobm9kZSwgcHJlZml4ID0gXCJcIiwgaW5kZW50TGV2ZWwgPSAwKSA9PiB7XG4gIGNvbnN0IGluZGVudCA9IFwiIFwiLnJlcGVhdCgzKS5yZXBlYXQoaW5kZW50TGV2ZWwpO1xuICBjb25zdCBwcmVmaXhQbHVzSW5kZW50TGVuZ3RoID0gcHJlZml4Lmxlbmd0aCArIGluZGVudC5sZW5ndGg7XG4gIGNvbnN0IHN1YnNlcXVlbnRMaW5lc1ByZWZpeCA9IFwiIFwiLnJlcGVhdChwcmVmaXhQbHVzSW5kZW50TGVuZ3RoKTtcbiAgY29uc3QgdmFsdWVMaW5lcyA9IG5vZGUudmFsdWUuc3BsaXQoXCJcXG5cIik7XG4gIGNvbnN0IG91dHB1dEZpcnN0TGluZSA9IGAke2luZGVudH0ke3ByZWZpeH0ke3ZhbHVlTGluZXNbMF19YDtcbiAgY29uc3Qgb3V0cHV0U3Vic2VxdWVudExpbmVzID0gdmFsdWVMaW5lcy5zbGljZSgxKS5tYXAoKGxpbmUpID0+IGAke3N1YnNlcXVlbnRMaW5lc1ByZWZpeH0ke2xpbmV9YCkuam9pbihcIlxcblwiKTtcbiAgbGV0IG91dHB1dCA9IGAke291dHB1dEZpcnN0TGluZX1cbmA7XG4gIGlmIChvdXRwdXRTdWJzZXF1ZW50TGluZXMpIHtcbiAgICBvdXRwdXQgKz0gYCR7b3V0cHV0U3Vic2VxdWVudExpbmVzfVxuYDtcbiAgfVxuICBjb25zdCBjaGlsZFByZVByZWZpeCA9IFwiIFwiLnJlcGVhdChwcmVmaXgubGVuZ3RoKTtcbiAgbm9kZS5jaGlsZHJlbi5mb3JFYWNoKFxuICAgIChjaGlsZCwgaW5kZXgpID0+IG91dHB1dCArPSBwcmludE5vZGUoXG4gICAgICBjaGlsZCxcbiAgICAgIGAke2NoaWxkUHJlUHJlZml4fSR7dHJlZUluZGVudGF0aW9uUmVwcmVzZW50YXRpb24oaW5kZXgsIGluZGVudExldmVsICsgMSl9LiBgLFxuICAgICAgaW5kZW50TGV2ZWwgKyAxXG4gICAgKVxuICApO1xuICByZXR1cm4gb3V0cHV0O1xufTtcbmZ1bmN0aW9uIHRyZWVSZWR1Y2VyKHN0YXRlLCBhY3Rpb24pIHtcbiAgc3dpdGNoIChhY3Rpb24udHlwZSkge1xuICAgIGNhc2UgXCJBRERfTk9ERVwiOiB7XG4gICAgICBjb25zdCB7IHZhbHVlLCBwYXJlbnRJZCwgaWQ6IG5ld05vZGVJZCB9ID0gYWN0aW9uO1xuICAgICAgY29uc3QgbmV3Tm9kZSA9IHtcbiAgICAgICAgaWQ6IG5ld05vZGVJZCxcbiAgICAgICAgdmFsdWUsXG4gICAgICAgIGNoaWxkcmVuOiBbXSxcbiAgICAgICAgY2F0ZWdvcmllczogbmV3IFNldChhY3Rpb24uY2F0ZWdvcmllcylcbiAgICAgIH07XG4gICAgICB0cnkge1xuICAgICAgICByZXR1cm4gYWRkTm9kZShzdGF0ZSwgbmV3Tm9kZSwgcGFyZW50SWQpO1xuICAgICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgICAgY29uc29sZS5lcnJvcihgRXJyb3Igd2hpbGUgYWRkaW5nIG5vZGUgd2l0aCBpZCAke25ld05vZGVJZH06ICR7ZXJyb3J9YCk7XG4gICAgICAgIHJldHVybiBzdGF0ZTtcbiAgICAgIH1cbiAgICB9XG4gICAgY2FzZSBcIlJFTU9WRV9OT0RFXCI6XG4gICAgICByZXR1cm4gcmVtb3ZlTm9kZShzdGF0ZSwgYWN0aW9uLmlkKTtcbiAgICBkZWZhdWx0OlxuICAgICAgcmV0dXJuIHN0YXRlO1xuICB9XG59XG52YXIgdXNlVHJlZSA9ICgpID0+IHtcbiAgY29uc3QgW3RyZWUsIGRpc3BhdGNoXSA9IHVzZVJlZHVjZXIodHJlZVJlZHVjZXIsIFtdKTtcbiAgY29uc3QgYWRkRWxlbWVudCA9IHVzZUNhbGxiYWNrKFxuICAgICh2YWx1ZSwgY2F0ZWdvcmllcywgcGFyZW50SWQpID0+IHtcbiAgICAgIGNvbnN0IG5ld05vZGVJZCA9IHJhbmRvbUlkKCk7XG4gICAgICBkaXNwYXRjaCh7XG4gICAgICAgIHR5cGU6IFwiQUREX05PREVcIixcbiAgICAgICAgdmFsdWUsXG4gICAgICAgIHBhcmVudElkLFxuICAgICAgICBpZDogbmV3Tm9kZUlkLFxuICAgICAgICBjYXRlZ29yaWVzXG4gICAgICB9KTtcbiAgICAgIHJldHVybiBuZXdOb2RlSWQ7XG4gICAgfSxcbiAgICBbXVxuICApO1xuICBjb25zdCByZW1vdmVFbGVtZW50ID0gdXNlQ2FsbGJhY2soKGlkKSA9PiB7XG4gICAgZGlzcGF0Y2goeyB0eXBlOiBcIlJFTU9WRV9OT0RFXCIsIGlkIH0pO1xuICB9LCBbXSk7XG4gIGNvbnN0IHByaW50VHJlZSA9IHVzZUNhbGxiYWNrKFxuICAgIChjYXRlZ29yaWVzKSA9PiB7XG4gICAgICBjb25zdCBjYXRlZ29yaWVzU2V0ID0gbmV3IFNldChjYXRlZ29yaWVzKTtcbiAgICAgIGxldCBvdXRwdXQgPSBcIlwiO1xuICAgICAgdHJlZS5mb3JFYWNoKChub2RlLCBpbmRleCkgPT4ge1xuICAgICAgICBpZiAoIXNldHNIYXZlSW50ZXJzZWN0aW9uKGNhdGVnb3JpZXNTZXQsIG5vZGUuY2F0ZWdvcmllcykpIHtcbiAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgaWYgKGluZGV4ICE9PSAwKSB7XG4gICAgICAgICAgb3V0cHV0ICs9IFwiXFxuXCI7XG4gICAgICAgIH1cbiAgICAgICAgb3V0cHV0ICs9IHByaW50Tm9kZShub2RlLCBgJHt0cmVlSW5kZW50YXRpb25SZXByZXNlbnRhdGlvbihpbmRleCwgMCl9LiBgKTtcbiAgICAgIH0pO1xuICAgICAgcmV0dXJuIG91dHB1dDtcbiAgICB9LFxuICAgIFt0cmVlXVxuICApO1xuICByZXR1cm4geyB0cmVlLCBhZGRFbGVtZW50LCBwcmludFRyZWUsIHJlbW92ZUVsZW1lbnQgfTtcbn07XG52YXIgdXNlX3RyZWVfZGVmYXVsdCA9IHVzZVRyZWU7XG5mdW5jdGlvbiBzZXRzSGF2ZUludGVyc2VjdGlvbihzZXRBLCBzZXRCKSB7XG4gIGNvbnN0IFtzbWFsbGVyU2V0LCBsYXJnZXJTZXRdID0gc2V0QS5zaXplIDw9IHNldEIuc2l6ZSA/IFtzZXRBLCBzZXRCXSA6IFtzZXRCLCBzZXRBXTtcbiAgZm9yIChsZXQgaXRlbSBvZiBzbWFsbGVyU2V0KSB7XG4gICAgaWYgKGxhcmdlclNldC5oYXMoaXRlbSkpIHtcbiAgICAgIHJldHVybiB0cnVlO1xuICAgIH1cbiAgfVxuICByZXR1cm4gZmFsc2U7XG59XG5cbmV4cG9ydCB7XG4gIHVzZV90cmVlX2RlZmF1bHRcbn07XG4vLyMgc291cmNlTWFwcGluZ1VSTD1jaHVuay02VTNVSDNLTy5tanMubWFwIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/@copilotkit/react-core/dist/chunk-6U3UH3KO.mjs\n");

/***/ }),

/***/ "(ssr)/./node_modules/@copilotkit/react-core/dist/chunk-A37GANOW.mjs":
/*!*********************************************************************!*\
  !*** ./node_modules/@copilotkit/react-core/dist/chunk-A37GANOW.mjs ***!
  \*********************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   useCopilotAction: () => (/* binding */ useCopilotAction)\n/* harmony export */ });\n/* harmony import */ var _chunk_J2YXDQHR_mjs__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./chunk-J2YXDQHR.mjs */ \"(ssr)/./node_modules/@copilotkit/react-core/dist/chunk-J2YXDQHR.mjs\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ \"(ssr)/./node_modules/next/dist/server/future/route-modules/app-page/vendored/ssr/react.js\");\n/* harmony import */ var _copilotkit_shared__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @copilotkit/shared */ \"(ssr)/./node_modules/@copilotkit/shared/dist/chunk-RIPX6APP.mjs\");\n\n\n// src/hooks/use-copilot-action.ts\n\n\nfunction useCopilotAction(action, dependencies) {\n  const { setAction, removeAction, actions, chatComponentsCache } = (0,_chunk_J2YXDQHR_mjs__WEBPACK_IMPORTED_MODULE_1__.useCopilotContext)();\n  const idRef = (0,react__WEBPACK_IMPORTED_MODULE_0__.useRef)((0,_copilotkit_shared__WEBPACK_IMPORTED_MODULE_2__.randomId)());\n  if (dependencies === void 0) {\n    if (actions[idRef.current]) {\n      actions[idRef.current].handler = action.handler;\n      if (typeof action.render === \"function\") {\n        if (chatComponentsCache.current !== null) {\n          chatComponentsCache.current.actions[action.name] = action.render;\n        }\n      }\n    }\n  }\n  (0,react__WEBPACK_IMPORTED_MODULE_0__.useEffect)(() => {\n    if (action.disabled) {\n      return;\n    }\n    setAction(idRef.current, action);\n    if (chatComponentsCache.current !== null && action.render !== void 0) {\n      chatComponentsCache.current.actions[action.name] = action.render;\n    }\n    return () => {\n      removeAction(idRef.current);\n    };\n  }, [\n    setAction,\n    removeAction,\n    action.description,\n    action.name,\n    action.disabled,\n    // This should be faster than deep equality checking\n    // In addition, all major JS engines guarantee the order of object keys\n    JSON.stringify(action.parameters),\n    // include render only if it's a string\n    typeof action.render === \"string\" ? action.render : void 0,\n    // dependencies set by the developer\n    ...dependencies || []\n  ]);\n}\n\n\n//# sourceMappingURL=chunk-A37GANOW.mjs.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvQGNvcGlsb3RraXQvcmVhY3QtY29yZS9kaXN0L2NodW5rLUEzN0dBTk9XLm1qcyIsIm1hcHBpbmdzIjoiOzs7Ozs7O0FBRThCOztBQUU5QjtBQUMwQztBQUNJO0FBQzlDO0FBQ0EsVUFBVSx3REFBd0QsRUFBRSxzRUFBaUI7QUFDckYsZ0JBQWdCLDZDQUFNLENBQUMsNERBQVE7QUFDL0I7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxFQUFFLGdEQUFTO0FBQ1g7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFJRTtBQUNGIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vZXhhbXBsZS10b2Rvcy1hcHAvLi9ub2RlX21vZHVsZXMvQGNvcGlsb3RraXQvcmVhY3QtY29yZS9kaXN0L2NodW5rLUEzN0dBTk9XLm1qcz9hZWZhIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7XG4gIHVzZUNvcGlsb3RDb250ZXh0XG59IGZyb20gXCIuL2NodW5rLUoyWVhEUUhSLm1qc1wiO1xuXG4vLyBzcmMvaG9va3MvdXNlLWNvcGlsb3QtYWN0aW9uLnRzXG5pbXBvcnQgeyB1c2VSZWYsIHVzZUVmZmVjdCB9IGZyb20gXCJyZWFjdFwiO1xuaW1wb3J0IHsgcmFuZG9tSWQgfSBmcm9tIFwiQGNvcGlsb3RraXQvc2hhcmVkXCI7XG5mdW5jdGlvbiB1c2VDb3BpbG90QWN0aW9uKGFjdGlvbiwgZGVwZW5kZW5jaWVzKSB7XG4gIGNvbnN0IHsgc2V0QWN0aW9uLCByZW1vdmVBY3Rpb24sIGFjdGlvbnMsIGNoYXRDb21wb25lbnRzQ2FjaGUgfSA9IHVzZUNvcGlsb3RDb250ZXh0KCk7XG4gIGNvbnN0IGlkUmVmID0gdXNlUmVmKHJhbmRvbUlkKCkpO1xuICBpZiAoZGVwZW5kZW5jaWVzID09PSB2b2lkIDApIHtcbiAgICBpZiAoYWN0aW9uc1tpZFJlZi5jdXJyZW50XSkge1xuICAgICAgYWN0aW9uc1tpZFJlZi5jdXJyZW50XS5oYW5kbGVyID0gYWN0aW9uLmhhbmRsZXI7XG4gICAgICBpZiAodHlwZW9mIGFjdGlvbi5yZW5kZXIgPT09IFwiZnVuY3Rpb25cIikge1xuICAgICAgICBpZiAoY2hhdENvbXBvbmVudHNDYWNoZS5jdXJyZW50ICE9PSBudWxsKSB7XG4gICAgICAgICAgY2hhdENvbXBvbmVudHNDYWNoZS5jdXJyZW50LmFjdGlvbnNbYWN0aW9uLm5hbWVdID0gYWN0aW9uLnJlbmRlcjtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cbiAgfVxuICB1c2VFZmZlY3QoKCkgPT4ge1xuICAgIGlmIChhY3Rpb24uZGlzYWJsZWQpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgc2V0QWN0aW9uKGlkUmVmLmN1cnJlbnQsIGFjdGlvbik7XG4gICAgaWYgKGNoYXRDb21wb25lbnRzQ2FjaGUuY3VycmVudCAhPT0gbnVsbCAmJiBhY3Rpb24ucmVuZGVyICE9PSB2b2lkIDApIHtcbiAgICAgIGNoYXRDb21wb25lbnRzQ2FjaGUuY3VycmVudC5hY3Rpb25zW2FjdGlvbi5uYW1lXSA9IGFjdGlvbi5yZW5kZXI7XG4gICAgfVxuICAgIHJldHVybiAoKSA9PiB7XG4gICAgICByZW1vdmVBY3Rpb24oaWRSZWYuY3VycmVudCk7XG4gICAgfTtcbiAgfSwgW1xuICAgIHNldEFjdGlvbixcbiAgICByZW1vdmVBY3Rpb24sXG4gICAgYWN0aW9uLmRlc2NyaXB0aW9uLFxuICAgIGFjdGlvbi5uYW1lLFxuICAgIGFjdGlvbi5kaXNhYmxlZCxcbiAgICAvLyBUaGlzIHNob3VsZCBiZSBmYXN0ZXIgdGhhbiBkZWVwIGVxdWFsaXR5IGNoZWNraW5nXG4gICAgLy8gSW4gYWRkaXRpb24sIGFsbCBtYWpvciBKUyBlbmdpbmVzIGd1YXJhbnRlZSB0aGUgb3JkZXIgb2Ygb2JqZWN0IGtleXNcbiAgICBKU09OLnN0cmluZ2lmeShhY3Rpb24ucGFyYW1ldGVycyksXG4gICAgLy8gaW5jbHVkZSByZW5kZXIgb25seSBpZiBpdCdzIGEgc3RyaW5nXG4gICAgdHlwZW9mIGFjdGlvbi5yZW5kZXIgPT09IFwic3RyaW5nXCIgPyBhY3Rpb24ucmVuZGVyIDogdm9pZCAwLFxuICAgIC8vIGRlcGVuZGVuY2llcyBzZXQgYnkgdGhlIGRldmVsb3BlclxuICAgIC4uLmRlcGVuZGVuY2llcyB8fCBbXVxuICBdKTtcbn1cblxuZXhwb3J0IHtcbiAgdXNlQ29waWxvdEFjdGlvblxufTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWNodW5rLUEzN0dBTk9XLm1qcy5tYXAiXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/@copilotkit/react-core/dist/chunk-A37GANOW.mjs\n");

/***/ }),

/***/ "(ssr)/./node_modules/@copilotkit/react-core/dist/chunk-CODXG6KU.mjs":
/*!*********************************************************************!*\
  !*** ./node_modules/@copilotkit/react-core/dist/chunk-CODXG6KU.mjs ***!
  \*********************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   useCopilotReadable: () => (/* binding */ useCopilotReadable)\n/* harmony export */ });\n/* harmony import */ var _chunk_J2YXDQHR_mjs__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./chunk-J2YXDQHR.mjs */ \"(ssr)/./node_modules/@copilotkit/react-core/dist/chunk-J2YXDQHR.mjs\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ \"(ssr)/./node_modules/next/dist/server/future/route-modules/app-page/vendored/ssr/react.js\");\n\n\n// src/hooks/use-copilot-readable.ts\n\nfunction convertToJSON(description, value) {\n  return `${description}: ${typeof value === \"string\" ? value : JSON.stringify(value)}`;\n}\nfunction useCopilotReadable({ description, value, parentId, categories, convert }, dependencies) {\n  const { addContext, removeContext } = (0,_chunk_J2YXDQHR_mjs__WEBPACK_IMPORTED_MODULE_1__.useCopilotContext)();\n  const idRef = (0,react__WEBPACK_IMPORTED_MODULE_0__.useRef)();\n  convert = convert || convertToJSON;\n  const information = convert(description, value);\n  (0,react__WEBPACK_IMPORTED_MODULE_0__.useEffect)(() => {\n    const id = addContext(information, parentId, categories);\n    idRef.current = id;\n    return () => {\n      removeContext(id);\n    };\n  }, [information, parentId, addContext, removeContext, ...dependencies || []]);\n  return idRef.current;\n}\n\n\n//# sourceMappingURL=chunk-CODXG6KU.mjs.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvQGNvcGlsb3RraXQvcmVhY3QtY29yZS9kaXN0L2NodW5rLUNPRFhHNktVLm1qcyIsIm1hcHBpbmdzIjoiOzs7Ozs7QUFFOEI7O0FBRTlCO0FBQzBDO0FBQzFDO0FBQ0EsWUFBWSxZQUFZLElBQUksMERBQTBEO0FBQ3RGO0FBQ0EsOEJBQThCLG1EQUFtRDtBQUNqRixVQUFVLDRCQUE0QixFQUFFLHNFQUFpQjtBQUN6RCxnQkFBZ0IsNkNBQU07QUFDdEI7QUFDQTtBQUNBLEVBQUUsZ0RBQVM7QUFDWDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7O0FBSUU7QUFDRiIsInNvdXJjZXMiOlsid2VicGFjazovL2V4YW1wbGUtdG9kb3MtYXBwLy4vbm9kZV9tb2R1bGVzL0Bjb3BpbG90a2l0L3JlYWN0LWNvcmUvZGlzdC9jaHVuay1DT0RYRzZLVS5tanM/OGY3MyJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQge1xuICB1c2VDb3BpbG90Q29udGV4dFxufSBmcm9tIFwiLi9jaHVuay1KMllYRFFIUi5tanNcIjtcblxuLy8gc3JjL2hvb2tzL3VzZS1jb3BpbG90LXJlYWRhYmxlLnRzXG5pbXBvcnQgeyB1c2VFZmZlY3QsIHVzZVJlZiB9IGZyb20gXCJyZWFjdFwiO1xuZnVuY3Rpb24gY29udmVydFRvSlNPTihkZXNjcmlwdGlvbiwgdmFsdWUpIHtcbiAgcmV0dXJuIGAke2Rlc2NyaXB0aW9ufTogJHt0eXBlb2YgdmFsdWUgPT09IFwic3RyaW5nXCIgPyB2YWx1ZSA6IEpTT04uc3RyaW5naWZ5KHZhbHVlKX1gO1xufVxuZnVuY3Rpb24gdXNlQ29waWxvdFJlYWRhYmxlKHsgZGVzY3JpcHRpb24sIHZhbHVlLCBwYXJlbnRJZCwgY2F0ZWdvcmllcywgY29udmVydCB9LCBkZXBlbmRlbmNpZXMpIHtcbiAgY29uc3QgeyBhZGRDb250ZXh0LCByZW1vdmVDb250ZXh0IH0gPSB1c2VDb3BpbG90Q29udGV4dCgpO1xuICBjb25zdCBpZFJlZiA9IHVzZVJlZigpO1xuICBjb252ZXJ0ID0gY29udmVydCB8fCBjb252ZXJ0VG9KU09OO1xuICBjb25zdCBpbmZvcm1hdGlvbiA9IGNvbnZlcnQoZGVzY3JpcHRpb24sIHZhbHVlKTtcbiAgdXNlRWZmZWN0KCgpID0+IHtcbiAgICBjb25zdCBpZCA9IGFkZENvbnRleHQoaW5mb3JtYXRpb24sIHBhcmVudElkLCBjYXRlZ29yaWVzKTtcbiAgICBpZFJlZi5jdXJyZW50ID0gaWQ7XG4gICAgcmV0dXJuICgpID0+IHtcbiAgICAgIHJlbW92ZUNvbnRleHQoaWQpO1xuICAgIH07XG4gIH0sIFtpbmZvcm1hdGlvbiwgcGFyZW50SWQsIGFkZENvbnRleHQsIHJlbW92ZUNvbnRleHQsIC4uLmRlcGVuZGVuY2llcyB8fCBbXV0pO1xuICByZXR1cm4gaWRSZWYuY3VycmVudDtcbn1cblxuZXhwb3J0IHtcbiAgdXNlQ29waWxvdFJlYWRhYmxlXG59O1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9Y2h1bmstQ09EWEc2S1UubWpzLm1hcCJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/@copilotkit/react-core/dist/chunk-CODXG6KU.mjs\n");

/***/ }),

/***/ "(ssr)/./node_modules/@copilotkit/react-core/dist/chunk-J2YXDQHR.mjs":
/*!*********************************************************************!*\
  !*** ./node_modules/@copilotkit/react-core/dist/chunk-J2YXDQHR.mjs ***!
  \*********************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   CopilotContext: () => (/* binding */ CopilotContext),\n/* harmony export */   useCopilotContext: () => (/* binding */ useCopilotContext)\n/* harmony export */ });\n/* harmony import */ var _chunk_SKC7AJIV_mjs__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./chunk-SKC7AJIV.mjs */ \"(ssr)/./node_modules/@copilotkit/react-core/dist/chunk-SKC7AJIV.mjs\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ \"(ssr)/./node_modules/next/dist/server/future/route-modules/app-page/vendored/ssr/react.js\");\n\n\n// src/context/copilot-context.tsx\n\nvar emptyCopilotContext = {\n  actions: {},\n  setAction: () => {\n  },\n  removeAction: () => {\n  },\n  coagentActions: {},\n  setCoagentAction: () => {\n  },\n  removeCoagentAction: () => {\n  },\n  chatComponentsCache: { current: { actions: {}, coagentActions: {} } },\n  getContextString: (documents, categories) => returnAndThrowInDebug(\"\"),\n  addContext: () => \"\",\n  removeContext: () => {\n  },\n  getFunctionCallHandler: () => returnAndThrowInDebug(() => (0,_chunk_SKC7AJIV_mjs__WEBPACK_IMPORTED_MODULE_1__.__async)(void 0, null, function* () {\n  })),\n  messages: [],\n  setMessages: () => returnAndThrowInDebug([]),\n  isLoading: false,\n  setIsLoading: () => returnAndThrowInDebug(false),\n  chatInstructions: \"\",\n  setChatInstructions: () => returnAndThrowInDebug(\"\"),\n  getDocumentsContext: (categories) => returnAndThrowInDebug([]),\n  addDocumentContext: () => returnAndThrowInDebug(\"\"),\n  removeDocumentContext: () => {\n  },\n  copilotApiConfig: new class {\n    get chatApiEndpoint() {\n      throw new Error(\"Remember to wrap your app in a `<CopilotKit> {...} </CopilotKit>` !!!\");\n    }\n    get headers() {\n      return {};\n    }\n    get body() {\n      return {};\n    }\n  }(),\n  chatSuggestionConfiguration: {},\n  addChatSuggestionConfiguration: () => {\n  },\n  removeChatSuggestionConfiguration: () => {\n  },\n  showDevConsole: \"auto\",\n  coagentStates: {},\n  setCoagentStates: () => {\n  },\n  agentSession: null,\n  setAgentSession: () => {\n  }\n};\nvar CopilotContext = react__WEBPACK_IMPORTED_MODULE_0__.createContext(emptyCopilotContext);\nfunction useCopilotContext() {\n  const context = react__WEBPACK_IMPORTED_MODULE_0__.useContext(CopilotContext);\n  if (context === emptyCopilotContext) {\n    throw new Error(\"Remember to wrap your app in a `<CopilotKit> {...} </CopilotKit>` !!!\");\n  }\n  return context;\n}\nfunction returnAndThrowInDebug(value) {\n  throw new Error(\"Remember to wrap your app in a `<CopilotKit> {...} </CopilotKit>` !!!\");\n  return value;\n}\n\n\n//# sourceMappingURL=chunk-J2YXDQHR.mjs.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvQGNvcGlsb3RraXQvcmVhY3QtY29yZS9kaXN0L2NodW5rLUoyWVhEUUhSLm1qcyIsIm1hcHBpbmdzIjoiOzs7Ozs7O0FBRThCOztBQUU5QjtBQUMwQjtBQUMxQjtBQUNBLGFBQWE7QUFDYjtBQUNBLEdBQUc7QUFDSDtBQUNBLEdBQUc7QUFDSCxvQkFBb0I7QUFDcEI7QUFDQSxHQUFHO0FBQ0g7QUFDQSxHQUFHO0FBQ0gseUJBQXlCLFdBQVcsV0FBVyx3QkFBd0I7QUFDdkU7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNILDREQUE0RCw0REFBTztBQUNuRSxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQSxxRUFBcUUsS0FBSztBQUMxRTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSCxpQ0FBaUM7QUFDakM7QUFDQSxHQUFHO0FBQ0g7QUFDQSxHQUFHO0FBQ0g7QUFDQSxtQkFBbUI7QUFDbkI7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0E7QUFDQSxxQkFBcUIsZ0RBQW1CO0FBQ3hDO0FBQ0Esa0JBQWtCLDZDQUFnQjtBQUNsQztBQUNBLG1FQUFtRSxLQUFLO0FBQ3hFO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsaUVBQWlFLEtBQUs7QUFDdEU7QUFDQTs7QUFLRTtBQUNGIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vZXhhbXBsZS10b2Rvcy1hcHAvLi9ub2RlX21vZHVsZXMvQGNvcGlsb3RraXQvcmVhY3QtY29yZS9kaXN0L2NodW5rLUoyWVhEUUhSLm1qcz8yYjIyIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7XG4gIF9fYXN5bmNcbn0gZnJvbSBcIi4vY2h1bmstU0tDN0FKSVYubWpzXCI7XG5cbi8vIHNyYy9jb250ZXh0L2NvcGlsb3QtY29udGV4dC50c3hcbmltcG9ydCBSZWFjdCBmcm9tIFwicmVhY3RcIjtcbnZhciBlbXB0eUNvcGlsb3RDb250ZXh0ID0ge1xuICBhY3Rpb25zOiB7fSxcbiAgc2V0QWN0aW9uOiAoKSA9PiB7XG4gIH0sXG4gIHJlbW92ZUFjdGlvbjogKCkgPT4ge1xuICB9LFxuICBjb2FnZW50QWN0aW9uczoge30sXG4gIHNldENvYWdlbnRBY3Rpb246ICgpID0+IHtcbiAgfSxcbiAgcmVtb3ZlQ29hZ2VudEFjdGlvbjogKCkgPT4ge1xuICB9LFxuICBjaGF0Q29tcG9uZW50c0NhY2hlOiB7IGN1cnJlbnQ6IHsgYWN0aW9uczoge30sIGNvYWdlbnRBY3Rpb25zOiB7fSB9IH0sXG4gIGdldENvbnRleHRTdHJpbmc6IChkb2N1bWVudHMsIGNhdGVnb3JpZXMpID0+IHJldHVybkFuZFRocm93SW5EZWJ1ZyhcIlwiKSxcbiAgYWRkQ29udGV4dDogKCkgPT4gXCJcIixcbiAgcmVtb3ZlQ29udGV4dDogKCkgPT4ge1xuICB9LFxuICBnZXRGdW5jdGlvbkNhbGxIYW5kbGVyOiAoKSA9PiByZXR1cm5BbmRUaHJvd0luRGVidWcoKCkgPT4gX19hc3luYyh2b2lkIDAsIG51bGwsIGZ1bmN0aW9uKiAoKSB7XG4gIH0pKSxcbiAgbWVzc2FnZXM6IFtdLFxuICBzZXRNZXNzYWdlczogKCkgPT4gcmV0dXJuQW5kVGhyb3dJbkRlYnVnKFtdKSxcbiAgaXNMb2FkaW5nOiBmYWxzZSxcbiAgc2V0SXNMb2FkaW5nOiAoKSA9PiByZXR1cm5BbmRUaHJvd0luRGVidWcoZmFsc2UpLFxuICBjaGF0SW5zdHJ1Y3Rpb25zOiBcIlwiLFxuICBzZXRDaGF0SW5zdHJ1Y3Rpb25zOiAoKSA9PiByZXR1cm5BbmRUaHJvd0luRGVidWcoXCJcIiksXG4gIGdldERvY3VtZW50c0NvbnRleHQ6IChjYXRlZ29yaWVzKSA9PiByZXR1cm5BbmRUaHJvd0luRGVidWcoW10pLFxuICBhZGREb2N1bWVudENvbnRleHQ6ICgpID0+IHJldHVybkFuZFRocm93SW5EZWJ1ZyhcIlwiKSxcbiAgcmVtb3ZlRG9jdW1lbnRDb250ZXh0OiAoKSA9PiB7XG4gIH0sXG4gIGNvcGlsb3RBcGlDb25maWc6IG5ldyBjbGFzcyB7XG4gICAgZ2V0IGNoYXRBcGlFbmRwb2ludCgpIHtcbiAgICAgIHRocm93IG5ldyBFcnJvcihcIlJlbWVtYmVyIHRvIHdyYXAgeW91ciBhcHAgaW4gYSBgPENvcGlsb3RLaXQ+IHsuLi59IDwvQ29waWxvdEtpdD5gICEhIVwiKTtcbiAgICB9XG4gICAgZ2V0IGhlYWRlcnMoKSB7XG4gICAgICByZXR1cm4ge307XG4gICAgfVxuICAgIGdldCBib2R5KCkge1xuICAgICAgcmV0dXJuIHt9O1xuICAgIH1cbiAgfSgpLFxuICBjaGF0U3VnZ2VzdGlvbkNvbmZpZ3VyYXRpb246IHt9LFxuICBhZGRDaGF0U3VnZ2VzdGlvbkNvbmZpZ3VyYXRpb246ICgpID0+IHtcbiAgfSxcbiAgcmVtb3ZlQ2hhdFN1Z2dlc3Rpb25Db25maWd1cmF0aW9uOiAoKSA9PiB7XG4gIH0sXG4gIHNob3dEZXZDb25zb2xlOiBcImF1dG9cIixcbiAgY29hZ2VudFN0YXRlczoge30sXG4gIHNldENvYWdlbnRTdGF0ZXM6ICgpID0+IHtcbiAgfSxcbiAgYWdlbnRTZXNzaW9uOiBudWxsLFxuICBzZXRBZ2VudFNlc3Npb246ICgpID0+IHtcbiAgfVxufTtcbnZhciBDb3BpbG90Q29udGV4dCA9IFJlYWN0LmNyZWF0ZUNvbnRleHQoZW1wdHlDb3BpbG90Q29udGV4dCk7XG5mdW5jdGlvbiB1c2VDb3BpbG90Q29udGV4dCgpIHtcbiAgY29uc3QgY29udGV4dCA9IFJlYWN0LnVzZUNvbnRleHQoQ29waWxvdENvbnRleHQpO1xuICBpZiAoY29udGV4dCA9PT0gZW1wdHlDb3BpbG90Q29udGV4dCkge1xuICAgIHRocm93IG5ldyBFcnJvcihcIlJlbWVtYmVyIHRvIHdyYXAgeW91ciBhcHAgaW4gYSBgPENvcGlsb3RLaXQ+IHsuLi59IDwvQ29waWxvdEtpdD5gICEhIVwiKTtcbiAgfVxuICByZXR1cm4gY29udGV4dDtcbn1cbmZ1bmN0aW9uIHJldHVybkFuZFRocm93SW5EZWJ1Zyh2YWx1ZSkge1xuICB0aHJvdyBuZXcgRXJyb3IoXCJSZW1lbWJlciB0byB3cmFwIHlvdXIgYXBwIGluIGEgYDxDb3BpbG90S2l0PiB7Li4ufSA8L0NvcGlsb3RLaXQ+YCAhISFcIik7XG4gIHJldHVybiB2YWx1ZTtcbn1cblxuZXhwb3J0IHtcbiAgQ29waWxvdENvbnRleHQsXG4gIHVzZUNvcGlsb3RDb250ZXh0XG59O1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9Y2h1bmstSjJZWERRSFIubWpzLm1hcCJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/@copilotkit/react-core/dist/chunk-J2YXDQHR.mjs\n");

/***/ }),

/***/ "(ssr)/./node_modules/@copilotkit/react-core/dist/chunk-RBNULK3U.mjs":
/*!*********************************************************************!*\
  !*** ./node_modules/@copilotkit/react-core/dist/chunk-RBNULK3U.mjs ***!
  \*********************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   CopilotKit: () => (/* binding */ CopilotKit),\n/* harmony export */   defaultCopilotContextCategories: () => (/* binding */ defaultCopilotContextCategories)\n/* harmony export */ });\n/* harmony import */ var _chunk_5FHSUKQL_mjs__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ./chunk-5FHSUKQL.mjs */ \"(ssr)/./node_modules/@copilotkit/react-core/dist/chunk-5FHSUKQL.mjs\");\n/* harmony import */ var _chunk_6U3UH3KO_mjs__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./chunk-6U3UH3KO.mjs */ \"(ssr)/./node_modules/@copilotkit/react-core/dist/chunk-6U3UH3KO.mjs\");\n/* harmony import */ var _chunk_J2YXDQHR_mjs__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ./chunk-J2YXDQHR.mjs */ \"(ssr)/./node_modules/@copilotkit/react-core/dist/chunk-J2YXDQHR.mjs\");\n/* harmony import */ var _chunk_SKC7AJIV_mjs__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./chunk-SKC7AJIV.mjs */ \"(ssr)/./node_modules/@copilotkit/react-core/dist/chunk-SKC7AJIV.mjs\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ \"(ssr)/./node_modules/next/dist/server/future/route-modules/app-page/vendored/ssr/react.js\");\n/* harmony import */ var react_dom__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! react-dom */ \"(ssr)/./node_modules/next/dist/server/future/route-modules/app-page/vendored/ssr/react-dom.js\");\n/* harmony import */ var _copilotkit_shared__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @copilotkit/shared */ \"(ssr)/./node_modules/@copilotkit/shared/dist/chunk-3AJ2GKWG.mjs\");\n/* harmony import */ var react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! react/jsx-runtime */ \"(ssr)/./node_modules/next/dist/server/future/route-modules/app-page/vendored/ssr/react-jsx-runtime.js\");\n\n\n\n\n\n// src/components/copilot-provider/copilotkit.tsx\n\n\n\n\nfunction CopilotKit(_a) {\n  var _b = _a, { children } = _b, props = (0,_chunk_SKC7AJIV_mjs__WEBPACK_IMPORTED_MODULE_3__.__objRest)(_b, [\"children\"]);\n  var _a2, _b2;\n  if (!props.runtimeUrl && !props.publicApiKey) {\n    throw new Error(\n      \"Please provide either a runtimeUrl or a publicApiKey to the CopilotKit component.\"\n    );\n  }\n  const chatApiEndpoint = props.runtimeUrl || _copilotkit_shared__WEBPACK_IMPORTED_MODULE_4__.COPILOT_CLOUD_CHAT_URL;\n  const [actions, setActions] = (0,react__WEBPACK_IMPORTED_MODULE_0__.useState)({});\n  const [coagentActions, setCoagentActions] = (0,react__WEBPACK_IMPORTED_MODULE_0__.useState)({});\n  const chatComponentsCache = (0,react__WEBPACK_IMPORTED_MODULE_0__.useRef)({\n    actions: {},\n    coagentActions: {}\n  });\n  const { addElement, removeElement, printTree } = (0,_chunk_6U3UH3KO_mjs__WEBPACK_IMPORTED_MODULE_5__.use_tree_default)();\n  const [messages, setMessages] = (0,react__WEBPACK_IMPORTED_MODULE_0__.useState)([]);\n  const [isLoading, setIsLoading] = (0,react__WEBPACK_IMPORTED_MODULE_0__.useState)(false);\n  const [chatInstructions, setChatInstructions] = (0,react__WEBPACK_IMPORTED_MODULE_0__.useState)(\"\");\n  const {\n    addElement: addDocument,\n    removeElement: removeDocument,\n    allElements: allDocuments\n  } = (0,_chunk_5FHSUKQL_mjs__WEBPACK_IMPORTED_MODULE_6__.use_flat_category_store_default)();\n  const setAction = (0,react__WEBPACK_IMPORTED_MODULE_0__.useCallback)((id, action) => {\n    setActions((prevPoints) => {\n      return (0,_chunk_SKC7AJIV_mjs__WEBPACK_IMPORTED_MODULE_3__.__spreadProps)((0,_chunk_SKC7AJIV_mjs__WEBPACK_IMPORTED_MODULE_3__.__spreadValues)({}, prevPoints), {\n        [id]: action\n      });\n    });\n  }, []);\n  const removeAction = (0,react__WEBPACK_IMPORTED_MODULE_0__.useCallback)((id) => {\n    setActions((prevPoints) => {\n      const newPoints = (0,_chunk_SKC7AJIV_mjs__WEBPACK_IMPORTED_MODULE_3__.__spreadValues)({}, prevPoints);\n      delete newPoints[id];\n      return newPoints;\n    });\n  }, []);\n  const setCoagentAction = (0,react__WEBPACK_IMPORTED_MODULE_0__.useCallback)((id, action) => {\n    setCoagentActions((prevPoints) => {\n      return (0,_chunk_SKC7AJIV_mjs__WEBPACK_IMPORTED_MODULE_3__.__spreadProps)((0,_chunk_SKC7AJIV_mjs__WEBPACK_IMPORTED_MODULE_3__.__spreadValues)({}, prevPoints), {\n        [id]: action\n      });\n    });\n  }, []);\n  const removeCoagentAction = (0,react__WEBPACK_IMPORTED_MODULE_0__.useCallback)((id) => {\n    setCoagentActions((prevPoints) => {\n      const newPoints = (0,_chunk_SKC7AJIV_mjs__WEBPACK_IMPORTED_MODULE_3__.__spreadValues)({}, prevPoints);\n      delete newPoints[id];\n      return newPoints;\n    });\n  }, []);\n  const getContextString = (0,react__WEBPACK_IMPORTED_MODULE_0__.useCallback)(\n    (documents, categories) => {\n      const documentsString = documents.map((document) => {\n        return `${document.name} (${document.sourceApplication}):\n${document.getContents()}`;\n      }).join(\"\\n\\n\");\n      const nonDocumentStrings = printTree(categories);\n      return `${documentsString}\n\n${nonDocumentStrings}`;\n    },\n    [printTree]\n  );\n  const addContext = (0,react__WEBPACK_IMPORTED_MODULE_0__.useCallback)(\n    (context, parentId, categories = defaultCopilotContextCategories) => {\n      return addElement(context, categories, parentId);\n    },\n    [addElement]\n  );\n  const removeContext = (0,react__WEBPACK_IMPORTED_MODULE_0__.useCallback)(\n    (id) => {\n      removeElement(id);\n    },\n    [removeElement]\n  );\n  const getFunctionCallHandler = (0,react__WEBPACK_IMPORTED_MODULE_0__.useCallback)(\n    (customEntryPoints) => {\n      return entryPointsToFunctionCallHandler(Object.values(customEntryPoints || actions));\n    },\n    [actions]\n  );\n  const getDocumentsContext = (0,react__WEBPACK_IMPORTED_MODULE_0__.useCallback)(\n    (categories) => {\n      return allDocuments(categories);\n    },\n    [allDocuments]\n  );\n  const addDocumentContext = (0,react__WEBPACK_IMPORTED_MODULE_0__.useCallback)(\n    (documentPointer, categories = defaultCopilotContextCategories) => {\n      return addDocument(documentPointer, categories);\n    },\n    [addDocument]\n  );\n  const removeDocumentContext = (0,react__WEBPACK_IMPORTED_MODULE_0__.useCallback)(\n    (documentId) => {\n      removeDocument(documentId);\n    },\n    [removeDocument]\n  );\n  if (!props.publicApiKey) {\n    if (props.cloudRestrictToTopic) {\n      throw new Error(\n        \"To use the cloudRestrictToTopic feature, please sign up at https://copilotkit.ai and provide a publicApiKey.\"\n      );\n    }\n  }\n  let cloud = void 0;\n  if (props.publicApiKey) {\n    cloud = {\n      guardrails: {\n        input: {\n          restrictToTopic: {\n            enabled: props.cloudRestrictToTopic ? true : false,\n            validTopics: ((_a2 = props.cloudRestrictToTopic) == null ? void 0 : _a2.validTopics) || [],\n            invalidTopics: ((_b2 = props.cloudRestrictToTopic) == null ? void 0 : _b2.invalidTopics) || []\n          }\n        }\n      }\n    };\n  }\n  const copilotApiConfig = (0,_chunk_SKC7AJIV_mjs__WEBPACK_IMPORTED_MODULE_3__.__spreadProps)((0,_chunk_SKC7AJIV_mjs__WEBPACK_IMPORTED_MODULE_3__.__spreadValues)({\n    publicApiKey: props.publicApiKey\n  }, cloud ? { cloud } : {}), {\n    chatApiEndpoint,\n    headers: props.headers || {},\n    properties: props.properties || {},\n    transcribeAudioUrl: props.transcribeAudioUrl,\n    textToSpeechUrl: props.textToSpeechUrl,\n    credentials: props.credentials\n  });\n  const [chatSuggestionConfiguration, setChatSuggestionConfiguration] = (0,react__WEBPACK_IMPORTED_MODULE_0__.useState)({});\n  const addChatSuggestionConfiguration = (id, suggestion) => {\n    setChatSuggestionConfiguration((prev) => (0,_chunk_SKC7AJIV_mjs__WEBPACK_IMPORTED_MODULE_3__.__spreadProps)((0,_chunk_SKC7AJIV_mjs__WEBPACK_IMPORTED_MODULE_3__.__spreadValues)({}, prev), { [id]: suggestion }));\n  };\n  const removeChatSuggestionConfiguration = (id) => {\n    setChatSuggestionConfiguration((prev) => {\n      const _a3 = prev, { [id]: _ } = _a3, rest = (0,_chunk_SKC7AJIV_mjs__WEBPACK_IMPORTED_MODULE_3__.__objRest)(_a3, [(0,_chunk_SKC7AJIV_mjs__WEBPACK_IMPORTED_MODULE_3__.__restKey)(id)]);\n      return rest;\n    });\n  };\n  const [coagentStates, setCoagentStates] = (0,react__WEBPACK_IMPORTED_MODULE_0__.useState)({});\n  let initialAgentSession = null;\n  if (props.agent) {\n    initialAgentSession = {\n      agentName: props.agent\n    };\n  }\n  const [agentSession, setAgentSession] = (0,react__WEBPACK_IMPORTED_MODULE_0__.useState)(initialAgentSession);\n  return /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(\n    _chunk_J2YXDQHR_mjs__WEBPACK_IMPORTED_MODULE_7__.CopilotContext.Provider,\n    {\n      value: {\n        actions,\n        chatComponentsCache,\n        getFunctionCallHandler,\n        setAction,\n        removeAction,\n        coagentActions,\n        setCoagentAction,\n        removeCoagentAction,\n        getContextString,\n        addContext,\n        removeContext,\n        getDocumentsContext,\n        addDocumentContext,\n        removeDocumentContext,\n        copilotApiConfig,\n        messages,\n        setMessages,\n        isLoading,\n        setIsLoading,\n        chatSuggestionConfiguration,\n        addChatSuggestionConfiguration,\n        removeChatSuggestionConfiguration,\n        chatInstructions,\n        setChatInstructions,\n        showDevConsole: props.showDevConsole === void 0 ? \"auto\" : props.showDevConsole,\n        coagentStates,\n        setCoagentStates,\n        agentSession,\n        setAgentSession\n      },\n      children\n    }\n  );\n}\nvar defaultCopilotContextCategories = [\"global\"];\nfunction entryPointsToFunctionCallHandler(actions) {\n  return (_0) => (0,_chunk_SKC7AJIV_mjs__WEBPACK_IMPORTED_MODULE_3__.__async)(this, [_0], function* ({ messages, name, args }) {\n    let actionsByFunctionName = {};\n    for (let action2 of actions) {\n      actionsByFunctionName[action2.name] = action2;\n    }\n    const action = actionsByFunctionName[name];\n    let result = void 0;\n    if (action) {\n      yield new Promise((resolve, reject) => {\n        (0,react_dom__WEBPACK_IMPORTED_MODULE_1__.flushSync)(() => (0,_chunk_SKC7AJIV_mjs__WEBPACK_IMPORTED_MODULE_3__.__async)(this, null, function* () {\n          var _a;\n          try {\n            result = yield (_a = action.handler) == null ? void 0 : _a.call(action, args);\n            resolve();\n          } catch (error) {\n            reject(error);\n          }\n        }));\n      });\n      yield new Promise((resolve) => setTimeout(resolve, 20));\n    }\n    return result;\n  });\n}\n\n\n//# sourceMappingURL=chunk-RBNULK3U.mjs.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvQGNvcGlsb3RraXQvcmVhY3QtY29yZS9kaXN0L2NodW5rLVJCTlVMSzNVLm1qcyIsIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7O0FBRThCO0FBR0E7QUFHQTtBQU9BOztBQUU5QjtBQUNzRDtBQUNoQjtBQUdWO0FBQ1k7QUFDeEM7QUFDQSxpQkFBaUIsV0FBVyxjQUFjLDhEQUFTO0FBQ25EO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLDhDQUE4QyxzRUFBc0I7QUFDcEUsZ0NBQWdDLCtDQUFRLEdBQUc7QUFDM0MsOENBQThDLCtDQUFRLEdBQUc7QUFDekQsOEJBQThCLDZDQUFNO0FBQ3BDLGVBQWU7QUFDZjtBQUNBLEdBQUc7QUFDSCxVQUFVLHVDQUF1QyxFQUFFLHFFQUFnQjtBQUNuRSxrQ0FBa0MsK0NBQVE7QUFDMUMsb0NBQW9DLCtDQUFRO0FBQzVDLGtEQUFrRCwrQ0FBUTtBQUMxRDtBQUNBO0FBQ0E7QUFDQTtBQUNBLElBQUksRUFBRSxvRkFBK0I7QUFDckMsb0JBQW9CLGtEQUFXO0FBQy9CO0FBQ0EsYUFBYSxrRUFBYSxDQUFDLG1FQUFjLEdBQUc7QUFDNUM7QUFDQSxPQUFPO0FBQ1AsS0FBSztBQUNMLEdBQUc7QUFDSCx1QkFBdUIsa0RBQVc7QUFDbEM7QUFDQSx3QkFBd0IsbUVBQWMsR0FBRztBQUN6QztBQUNBO0FBQ0EsS0FBSztBQUNMLEdBQUc7QUFDSCwyQkFBMkIsa0RBQVc7QUFDdEM7QUFDQSxhQUFhLGtFQUFhLENBQUMsbUVBQWMsR0FBRztBQUM1QztBQUNBLE9BQU87QUFDUCxLQUFLO0FBQ0wsR0FBRztBQUNILDhCQUE4QixrREFBVztBQUN6QztBQUNBLHdCQUF3QixtRUFBYyxHQUFHO0FBQ3pDO0FBQ0E7QUFDQSxLQUFLO0FBQ0wsR0FBRztBQUNILDJCQUEyQixrREFBVztBQUN0QztBQUNBO0FBQ0Esa0JBQWtCLGVBQWUsR0FBRywyQkFBMkI7QUFDL0QsRUFBRSx1QkFBdUI7QUFDekIsT0FBTztBQUNQO0FBQ0EsZ0JBQWdCOztBQUVoQixFQUFFLG1CQUFtQjtBQUNyQixLQUFLO0FBQ0w7QUFDQTtBQUNBLHFCQUFxQixrREFBVztBQUNoQztBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQSx3QkFBd0Isa0RBQVc7QUFDbkM7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0EsaUNBQWlDLGtEQUFXO0FBQzVDO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBLDhCQUE4QixrREFBVztBQUN6QztBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQSw2QkFBNkIsa0RBQVc7QUFDeEM7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0EsZ0NBQWdDLGtEQUFXO0FBQzNDO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLDJCQUEyQixrRUFBYSxDQUFDLG1FQUFjO0FBQ3ZEO0FBQ0EsR0FBRyxZQUFZLFFBQVEsSUFBSTtBQUMzQjtBQUNBLGdDQUFnQztBQUNoQyxzQ0FBc0M7QUFDdEM7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNILHdFQUF3RSwrQ0FBUSxHQUFHO0FBQ25GO0FBQ0EsNkNBQTZDLGtFQUFhLENBQUMsbUVBQWMsR0FBRyxXQUFXLGtCQUFrQjtBQUN6RztBQUNBO0FBQ0E7QUFDQSwwQkFBMEIsVUFBVSxjQUFjLDhEQUFTLE9BQU8sOERBQVM7QUFDM0U7QUFDQSxLQUFLO0FBQ0w7QUFDQSw0Q0FBNEMsK0NBQVEsR0FBRztBQUN2RDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSwwQ0FBMEMsK0NBQVE7QUFDbEQseUJBQXlCLHNEQUFHO0FBQzVCLElBQUksK0RBQWM7QUFDbEI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxPQUFPO0FBQ1A7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsaUJBQWlCLDREQUFPLDBCQUEwQixzQkFBc0I7QUFDeEU7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFFBQVEsb0RBQVMsT0FBTyw0REFBTztBQUMvQjtBQUNBO0FBQ0E7QUFDQTtBQUNBLFlBQVk7QUFDWjtBQUNBO0FBQ0EsU0FBUztBQUNULE9BQU87QUFDUDtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7O0FBS0U7QUFDRiIsInNvdXJjZXMiOlsid2VicGFjazovL2V4YW1wbGUtdG9kb3MtYXBwLy4vbm9kZV9tb2R1bGVzL0Bjb3BpbG90a2l0L3JlYWN0LWNvcmUvZGlzdC9jaHVuay1SQk5VTEszVS5tanM/YmRlMiJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQge1xuICB1c2VfZmxhdF9jYXRlZ29yeV9zdG9yZV9kZWZhdWx0XG59IGZyb20gXCIuL2NodW5rLTVGSFNVS1FMLm1qc1wiO1xuaW1wb3J0IHtcbiAgdXNlX3RyZWVfZGVmYXVsdFxufSBmcm9tIFwiLi9jaHVuay02VTNVSDNLTy5tanNcIjtcbmltcG9ydCB7XG4gIENvcGlsb3RDb250ZXh0XG59IGZyb20gXCIuL2NodW5rLUoyWVhEUUhSLm1qc1wiO1xuaW1wb3J0IHtcbiAgX19hc3luYyxcbiAgX19vYmpSZXN0LFxuICBfX3Jlc3RLZXksXG4gIF9fc3ByZWFkUHJvcHMsXG4gIF9fc3ByZWFkVmFsdWVzXG59IGZyb20gXCIuL2NodW5rLVNLQzdBSklWLm1qc1wiO1xuXG4vLyBzcmMvY29tcG9uZW50cy9jb3BpbG90LXByb3ZpZGVyL2NvcGlsb3RraXQudHN4XG5pbXBvcnQgeyB1c2VDYWxsYmFjaywgdXNlUmVmLCB1c2VTdGF0ZSB9IGZyb20gXCJyZWFjdFwiO1xuaW1wb3J0IHsgZmx1c2hTeW5jIH0gZnJvbSBcInJlYWN0LWRvbVwiO1xuaW1wb3J0IHtcbiAgQ09QSUxPVF9DTE9VRF9DSEFUX1VSTFxufSBmcm9tIFwiQGNvcGlsb3RraXQvc2hhcmVkXCI7XG5pbXBvcnQgeyBqc3ggfSBmcm9tIFwicmVhY3QvanN4LXJ1bnRpbWVcIjtcbmZ1bmN0aW9uIENvcGlsb3RLaXQoX2EpIHtcbiAgdmFyIF9iID0gX2EsIHsgY2hpbGRyZW4gfSA9IF9iLCBwcm9wcyA9IF9fb2JqUmVzdChfYiwgW1wiY2hpbGRyZW5cIl0pO1xuICB2YXIgX2EyLCBfYjI7XG4gIGlmICghcHJvcHMucnVudGltZVVybCAmJiAhcHJvcHMucHVibGljQXBpS2V5KSB7XG4gICAgdGhyb3cgbmV3IEVycm9yKFxuICAgICAgXCJQbGVhc2UgcHJvdmlkZSBlaXRoZXIgYSBydW50aW1lVXJsIG9yIGEgcHVibGljQXBpS2V5IHRvIHRoZSBDb3BpbG90S2l0IGNvbXBvbmVudC5cIlxuICAgICk7XG4gIH1cbiAgY29uc3QgY2hhdEFwaUVuZHBvaW50ID0gcHJvcHMucnVudGltZVVybCB8fCBDT1BJTE9UX0NMT1VEX0NIQVRfVVJMO1xuICBjb25zdCBbYWN0aW9ucywgc2V0QWN0aW9uc10gPSB1c2VTdGF0ZSh7fSk7XG4gIGNvbnN0IFtjb2FnZW50QWN0aW9ucywgc2V0Q29hZ2VudEFjdGlvbnNdID0gdXNlU3RhdGUoe30pO1xuICBjb25zdCBjaGF0Q29tcG9uZW50c0NhY2hlID0gdXNlUmVmKHtcbiAgICBhY3Rpb25zOiB7fSxcbiAgICBjb2FnZW50QWN0aW9uczoge31cbiAgfSk7XG4gIGNvbnN0IHsgYWRkRWxlbWVudCwgcmVtb3ZlRWxlbWVudCwgcHJpbnRUcmVlIH0gPSB1c2VfdHJlZV9kZWZhdWx0KCk7XG4gIGNvbnN0IFttZXNzYWdlcywgc2V0TWVzc2FnZXNdID0gdXNlU3RhdGUoW10pO1xuICBjb25zdCBbaXNMb2FkaW5nLCBzZXRJc0xvYWRpbmddID0gdXNlU3RhdGUoZmFsc2UpO1xuICBjb25zdCBbY2hhdEluc3RydWN0aW9ucywgc2V0Q2hhdEluc3RydWN0aW9uc10gPSB1c2VTdGF0ZShcIlwiKTtcbiAgY29uc3Qge1xuICAgIGFkZEVsZW1lbnQ6IGFkZERvY3VtZW50LFxuICAgIHJlbW92ZUVsZW1lbnQ6IHJlbW92ZURvY3VtZW50LFxuICAgIGFsbEVsZW1lbnRzOiBhbGxEb2N1bWVudHNcbiAgfSA9IHVzZV9mbGF0X2NhdGVnb3J5X3N0b3JlX2RlZmF1bHQoKTtcbiAgY29uc3Qgc2V0QWN0aW9uID0gdXNlQ2FsbGJhY2soKGlkLCBhY3Rpb24pID0+IHtcbiAgICBzZXRBY3Rpb25zKChwcmV2UG9pbnRzKSA9PiB7XG4gICAgICByZXR1cm4gX19zcHJlYWRQcm9wcyhfX3NwcmVhZFZhbHVlcyh7fSwgcHJldlBvaW50cyksIHtcbiAgICAgICAgW2lkXTogYWN0aW9uXG4gICAgICB9KTtcbiAgICB9KTtcbiAgfSwgW10pO1xuICBjb25zdCByZW1vdmVBY3Rpb24gPSB1c2VDYWxsYmFjaygoaWQpID0+IHtcbiAgICBzZXRBY3Rpb25zKChwcmV2UG9pbnRzKSA9PiB7XG4gICAgICBjb25zdCBuZXdQb2ludHMgPSBfX3NwcmVhZFZhbHVlcyh7fSwgcHJldlBvaW50cyk7XG4gICAgICBkZWxldGUgbmV3UG9pbnRzW2lkXTtcbiAgICAgIHJldHVybiBuZXdQb2ludHM7XG4gICAgfSk7XG4gIH0sIFtdKTtcbiAgY29uc3Qgc2V0Q29hZ2VudEFjdGlvbiA9IHVzZUNhbGxiYWNrKChpZCwgYWN0aW9uKSA9PiB7XG4gICAgc2V0Q29hZ2VudEFjdGlvbnMoKHByZXZQb2ludHMpID0+IHtcbiAgICAgIHJldHVybiBfX3NwcmVhZFByb3BzKF9fc3ByZWFkVmFsdWVzKHt9LCBwcmV2UG9pbnRzKSwge1xuICAgICAgICBbaWRdOiBhY3Rpb25cbiAgICAgIH0pO1xuICAgIH0pO1xuICB9LCBbXSk7XG4gIGNvbnN0IHJlbW92ZUNvYWdlbnRBY3Rpb24gPSB1c2VDYWxsYmFjaygoaWQpID0+IHtcbiAgICBzZXRDb2FnZW50QWN0aW9ucygocHJldlBvaW50cykgPT4ge1xuICAgICAgY29uc3QgbmV3UG9pbnRzID0gX19zcHJlYWRWYWx1ZXMoe30sIHByZXZQb2ludHMpO1xuICAgICAgZGVsZXRlIG5ld1BvaW50c1tpZF07XG4gICAgICByZXR1cm4gbmV3UG9pbnRzO1xuICAgIH0pO1xuICB9LCBbXSk7XG4gIGNvbnN0IGdldENvbnRleHRTdHJpbmcgPSB1c2VDYWxsYmFjayhcbiAgICAoZG9jdW1lbnRzLCBjYXRlZ29yaWVzKSA9PiB7XG4gICAgICBjb25zdCBkb2N1bWVudHNTdHJpbmcgPSBkb2N1bWVudHMubWFwKChkb2N1bWVudCkgPT4ge1xuICAgICAgICByZXR1cm4gYCR7ZG9jdW1lbnQubmFtZX0gKCR7ZG9jdW1lbnQuc291cmNlQXBwbGljYXRpb259KTpcbiR7ZG9jdW1lbnQuZ2V0Q29udGVudHMoKX1gO1xuICAgICAgfSkuam9pbihcIlxcblxcblwiKTtcbiAgICAgIGNvbnN0IG5vbkRvY3VtZW50U3RyaW5ncyA9IHByaW50VHJlZShjYXRlZ29yaWVzKTtcbiAgICAgIHJldHVybiBgJHtkb2N1bWVudHNTdHJpbmd9XG5cbiR7bm9uRG9jdW1lbnRTdHJpbmdzfWA7XG4gICAgfSxcbiAgICBbcHJpbnRUcmVlXVxuICApO1xuICBjb25zdCBhZGRDb250ZXh0ID0gdXNlQ2FsbGJhY2soXG4gICAgKGNvbnRleHQsIHBhcmVudElkLCBjYXRlZ29yaWVzID0gZGVmYXVsdENvcGlsb3RDb250ZXh0Q2F0ZWdvcmllcykgPT4ge1xuICAgICAgcmV0dXJuIGFkZEVsZW1lbnQoY29udGV4dCwgY2F0ZWdvcmllcywgcGFyZW50SWQpO1xuICAgIH0sXG4gICAgW2FkZEVsZW1lbnRdXG4gICk7XG4gIGNvbnN0IHJlbW92ZUNvbnRleHQgPSB1c2VDYWxsYmFjayhcbiAgICAoaWQpID0+IHtcbiAgICAgIHJlbW92ZUVsZW1lbnQoaWQpO1xuICAgIH0sXG4gICAgW3JlbW92ZUVsZW1lbnRdXG4gICk7XG4gIGNvbnN0IGdldEZ1bmN0aW9uQ2FsbEhhbmRsZXIgPSB1c2VDYWxsYmFjayhcbiAgICAoY3VzdG9tRW50cnlQb2ludHMpID0+IHtcbiAgICAgIHJldHVybiBlbnRyeVBvaW50c1RvRnVuY3Rpb25DYWxsSGFuZGxlcihPYmplY3QudmFsdWVzKGN1c3RvbUVudHJ5UG9pbnRzIHx8IGFjdGlvbnMpKTtcbiAgICB9LFxuICAgIFthY3Rpb25zXVxuICApO1xuICBjb25zdCBnZXREb2N1bWVudHNDb250ZXh0ID0gdXNlQ2FsbGJhY2soXG4gICAgKGNhdGVnb3JpZXMpID0+IHtcbiAgICAgIHJldHVybiBhbGxEb2N1bWVudHMoY2F0ZWdvcmllcyk7XG4gICAgfSxcbiAgICBbYWxsRG9jdW1lbnRzXVxuICApO1xuICBjb25zdCBhZGREb2N1bWVudENvbnRleHQgPSB1c2VDYWxsYmFjayhcbiAgICAoZG9jdW1lbnRQb2ludGVyLCBjYXRlZ29yaWVzID0gZGVmYXVsdENvcGlsb3RDb250ZXh0Q2F0ZWdvcmllcykgPT4ge1xuICAgICAgcmV0dXJuIGFkZERvY3VtZW50KGRvY3VtZW50UG9pbnRlciwgY2F0ZWdvcmllcyk7XG4gICAgfSxcbiAgICBbYWRkRG9jdW1lbnRdXG4gICk7XG4gIGNvbnN0IHJlbW92ZURvY3VtZW50Q29udGV4dCA9IHVzZUNhbGxiYWNrKFxuICAgIChkb2N1bWVudElkKSA9PiB7XG4gICAgICByZW1vdmVEb2N1bWVudChkb2N1bWVudElkKTtcbiAgICB9LFxuICAgIFtyZW1vdmVEb2N1bWVudF1cbiAgKTtcbiAgaWYgKCFwcm9wcy5wdWJsaWNBcGlLZXkpIHtcbiAgICBpZiAocHJvcHMuY2xvdWRSZXN0cmljdFRvVG9waWMpIHtcbiAgICAgIHRocm93IG5ldyBFcnJvcihcbiAgICAgICAgXCJUbyB1c2UgdGhlIGNsb3VkUmVzdHJpY3RUb1RvcGljIGZlYXR1cmUsIHBsZWFzZSBzaWduIHVwIGF0IGh0dHBzOi8vY29waWxvdGtpdC5haSBhbmQgcHJvdmlkZSBhIHB1YmxpY0FwaUtleS5cIlxuICAgICAgKTtcbiAgICB9XG4gIH1cbiAgbGV0IGNsb3VkID0gdm9pZCAwO1xuICBpZiAocHJvcHMucHVibGljQXBpS2V5KSB7XG4gICAgY2xvdWQgPSB7XG4gICAgICBndWFyZHJhaWxzOiB7XG4gICAgICAgIGlucHV0OiB7XG4gICAgICAgICAgcmVzdHJpY3RUb1RvcGljOiB7XG4gICAgICAgICAgICBlbmFibGVkOiBwcm9wcy5jbG91ZFJlc3RyaWN0VG9Ub3BpYyA/IHRydWUgOiBmYWxzZSxcbiAgICAgICAgICAgIHZhbGlkVG9waWNzOiAoKF9hMiA9IHByb3BzLmNsb3VkUmVzdHJpY3RUb1RvcGljKSA9PSBudWxsID8gdm9pZCAwIDogX2EyLnZhbGlkVG9waWNzKSB8fCBbXSxcbiAgICAgICAgICAgIGludmFsaWRUb3BpY3M6ICgoX2IyID0gcHJvcHMuY2xvdWRSZXN0cmljdFRvVG9waWMpID09IG51bGwgPyB2b2lkIDAgOiBfYjIuaW52YWxpZFRvcGljcykgfHwgW11cbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9O1xuICB9XG4gIGNvbnN0IGNvcGlsb3RBcGlDb25maWcgPSBfX3NwcmVhZFByb3BzKF9fc3ByZWFkVmFsdWVzKHtcbiAgICBwdWJsaWNBcGlLZXk6IHByb3BzLnB1YmxpY0FwaUtleVxuICB9LCBjbG91ZCA/IHsgY2xvdWQgfSA6IHt9KSwge1xuICAgIGNoYXRBcGlFbmRwb2ludCxcbiAgICBoZWFkZXJzOiBwcm9wcy5oZWFkZXJzIHx8IHt9LFxuICAgIHByb3BlcnRpZXM6IHByb3BzLnByb3BlcnRpZXMgfHwge30sXG4gICAgdHJhbnNjcmliZUF1ZGlvVXJsOiBwcm9wcy50cmFuc2NyaWJlQXVkaW9VcmwsXG4gICAgdGV4dFRvU3BlZWNoVXJsOiBwcm9wcy50ZXh0VG9TcGVlY2hVcmwsXG4gICAgY3JlZGVudGlhbHM6IHByb3BzLmNyZWRlbnRpYWxzXG4gIH0pO1xuICBjb25zdCBbY2hhdFN1Z2dlc3Rpb25Db25maWd1cmF0aW9uLCBzZXRDaGF0U3VnZ2VzdGlvbkNvbmZpZ3VyYXRpb25dID0gdXNlU3RhdGUoe30pO1xuICBjb25zdCBhZGRDaGF0U3VnZ2VzdGlvbkNvbmZpZ3VyYXRpb24gPSAoaWQsIHN1Z2dlc3Rpb24pID0+IHtcbiAgICBzZXRDaGF0U3VnZ2VzdGlvbkNvbmZpZ3VyYXRpb24oKHByZXYpID0+IF9fc3ByZWFkUHJvcHMoX19zcHJlYWRWYWx1ZXMoe30sIHByZXYpLCB7IFtpZF06IHN1Z2dlc3Rpb24gfSkpO1xuICB9O1xuICBjb25zdCByZW1vdmVDaGF0U3VnZ2VzdGlvbkNvbmZpZ3VyYXRpb24gPSAoaWQpID0+IHtcbiAgICBzZXRDaGF0U3VnZ2VzdGlvbkNvbmZpZ3VyYXRpb24oKHByZXYpID0+IHtcbiAgICAgIGNvbnN0IF9hMyA9IHByZXYsIHsgW2lkXTogXyB9ID0gX2EzLCByZXN0ID0gX19vYmpSZXN0KF9hMywgW19fcmVzdEtleShpZCldKTtcbiAgICAgIHJldHVybiByZXN0O1xuICAgIH0pO1xuICB9O1xuICBjb25zdCBbY29hZ2VudFN0YXRlcywgc2V0Q29hZ2VudFN0YXRlc10gPSB1c2VTdGF0ZSh7fSk7XG4gIGxldCBpbml0aWFsQWdlbnRTZXNzaW9uID0gbnVsbDtcbiAgaWYgKHByb3BzLmFnZW50KSB7XG4gICAgaW5pdGlhbEFnZW50U2Vzc2lvbiA9IHtcbiAgICAgIGFnZW50TmFtZTogcHJvcHMuYWdlbnRcbiAgICB9O1xuICB9XG4gIGNvbnN0IFthZ2VudFNlc3Npb24sIHNldEFnZW50U2Vzc2lvbl0gPSB1c2VTdGF0ZShpbml0aWFsQWdlbnRTZXNzaW9uKTtcbiAgcmV0dXJuIC8qIEBfX1BVUkVfXyAqLyBqc3goXG4gICAgQ29waWxvdENvbnRleHQuUHJvdmlkZXIsXG4gICAge1xuICAgICAgdmFsdWU6IHtcbiAgICAgICAgYWN0aW9ucyxcbiAgICAgICAgY2hhdENvbXBvbmVudHNDYWNoZSxcbiAgICAgICAgZ2V0RnVuY3Rpb25DYWxsSGFuZGxlcixcbiAgICAgICAgc2V0QWN0aW9uLFxuICAgICAgICByZW1vdmVBY3Rpb24sXG4gICAgICAgIGNvYWdlbnRBY3Rpb25zLFxuICAgICAgICBzZXRDb2FnZW50QWN0aW9uLFxuICAgICAgICByZW1vdmVDb2FnZW50QWN0aW9uLFxuICAgICAgICBnZXRDb250ZXh0U3RyaW5nLFxuICAgICAgICBhZGRDb250ZXh0LFxuICAgICAgICByZW1vdmVDb250ZXh0LFxuICAgICAgICBnZXREb2N1bWVudHNDb250ZXh0LFxuICAgICAgICBhZGREb2N1bWVudENvbnRleHQsXG4gICAgICAgIHJlbW92ZURvY3VtZW50Q29udGV4dCxcbiAgICAgICAgY29waWxvdEFwaUNvbmZpZyxcbiAgICAgICAgbWVzc2FnZXMsXG4gICAgICAgIHNldE1lc3NhZ2VzLFxuICAgICAgICBpc0xvYWRpbmcsXG4gICAgICAgIHNldElzTG9hZGluZyxcbiAgICAgICAgY2hhdFN1Z2dlc3Rpb25Db25maWd1cmF0aW9uLFxuICAgICAgICBhZGRDaGF0U3VnZ2VzdGlvbkNvbmZpZ3VyYXRpb24sXG4gICAgICAgIHJlbW92ZUNoYXRTdWdnZXN0aW9uQ29uZmlndXJhdGlvbixcbiAgICAgICAgY2hhdEluc3RydWN0aW9ucyxcbiAgICAgICAgc2V0Q2hhdEluc3RydWN0aW9ucyxcbiAgICAgICAgc2hvd0RldkNvbnNvbGU6IHByb3BzLnNob3dEZXZDb25zb2xlID09PSB2b2lkIDAgPyBcImF1dG9cIiA6IHByb3BzLnNob3dEZXZDb25zb2xlLFxuICAgICAgICBjb2FnZW50U3RhdGVzLFxuICAgICAgICBzZXRDb2FnZW50U3RhdGVzLFxuICAgICAgICBhZ2VudFNlc3Npb24sXG4gICAgICAgIHNldEFnZW50U2Vzc2lvblxuICAgICAgfSxcbiAgICAgIGNoaWxkcmVuXG4gICAgfVxuICApO1xufVxudmFyIGRlZmF1bHRDb3BpbG90Q29udGV4dENhdGVnb3JpZXMgPSBbXCJnbG9iYWxcIl07XG5mdW5jdGlvbiBlbnRyeVBvaW50c1RvRnVuY3Rpb25DYWxsSGFuZGxlcihhY3Rpb25zKSB7XG4gIHJldHVybiAoXzApID0+IF9fYXN5bmModGhpcywgW18wXSwgZnVuY3Rpb24qICh7IG1lc3NhZ2VzLCBuYW1lLCBhcmdzIH0pIHtcbiAgICBsZXQgYWN0aW9uc0J5RnVuY3Rpb25OYW1lID0ge307XG4gICAgZm9yIChsZXQgYWN0aW9uMiBvZiBhY3Rpb25zKSB7XG4gICAgICBhY3Rpb25zQnlGdW5jdGlvbk5hbWVbYWN0aW9uMi5uYW1lXSA9IGFjdGlvbjI7XG4gICAgfVxuICAgIGNvbnN0IGFjdGlvbiA9IGFjdGlvbnNCeUZ1bmN0aW9uTmFtZVtuYW1lXTtcbiAgICBsZXQgcmVzdWx0ID0gdm9pZCAwO1xuICAgIGlmIChhY3Rpb24pIHtcbiAgICAgIHlpZWxkIG5ldyBQcm9taXNlKChyZXNvbHZlLCByZWplY3QpID0+IHtcbiAgICAgICAgZmx1c2hTeW5jKCgpID0+IF9fYXN5bmModGhpcywgbnVsbCwgZnVuY3Rpb24qICgpIHtcbiAgICAgICAgICB2YXIgX2E7XG4gICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIHJlc3VsdCA9IHlpZWxkIChfYSA9IGFjdGlvbi5oYW5kbGVyKSA9PSBudWxsID8gdm9pZCAwIDogX2EuY2FsbChhY3Rpb24sIGFyZ3MpO1xuICAgICAgICAgICAgcmVzb2x2ZSgpO1xuICAgICAgICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICAgICAgICByZWplY3QoZXJyb3IpO1xuICAgICAgICAgIH1cbiAgICAgICAgfSkpO1xuICAgICAgfSk7XG4gICAgICB5aWVsZCBuZXcgUHJvbWlzZSgocmVzb2x2ZSkgPT4gc2V0VGltZW91dChyZXNvbHZlLCAyMCkpO1xuICAgIH1cbiAgICByZXR1cm4gcmVzdWx0O1xuICB9KTtcbn1cblxuZXhwb3J0IHtcbiAgQ29waWxvdEtpdCxcbiAgZGVmYXVsdENvcGlsb3RDb250ZXh0Q2F0ZWdvcmllc1xufTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWNodW5rLVJCTlVMSzNVLm1qcy5tYXAiXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/@copilotkit/react-core/dist/chunk-RBNULK3U.mjs\n");

/***/ }),

/***/ "(ssr)/./node_modules/@copilotkit/react-core/dist/chunk-RWPGGPW5.mjs":
/*!*********************************************************************!*\
  !*** ./node_modules/@copilotkit/react-core/dist/chunk-RWPGGPW5.mjs ***!
  \*********************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   useChat: () => (/* binding */ useChat)\n/* harmony export */ });\n/* harmony import */ var _chunk_SKC7AJIV_mjs__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./chunk-SKC7AJIV.mjs */ \"(ssr)/./node_modules/@copilotkit/react-core/dist/chunk-SKC7AJIV.mjs\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ \"(ssr)/./node_modules/next/dist/server/future/route-modules/app-page/vendored/ssr/react.js\");\n/* harmony import */ var _copilotkit_shared__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @copilotkit/shared */ \"(ssr)/./node_modules/@copilotkit/shared/dist/chunk-3AJ2GKWG.mjs\");\n/* harmony import */ var _copilotkit_shared__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! @copilotkit/shared */ \"(ssr)/./node_modules/@copilotkit/shared/dist/chunk-CIPF7PMC.mjs\");\n/* harmony import */ var _copilotkit_runtime_client_gql__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @copilotkit/runtime-client-gql */ \"(ssr)/./node_modules/@copilotkit/runtime-client-gql/dist/chunk-PQKGPNPU.mjs\");\n/* harmony import */ var _copilotkit_runtime_client_gql__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @copilotkit/runtime-client-gql */ \"(ssr)/./node_modules/@copilotkit/runtime-client-gql/dist/chunk-UTB4B2W3.mjs\");\n/* harmony import */ var _copilotkit_runtime_client_gql__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! @copilotkit/runtime-client-gql */ \"(ssr)/./node_modules/@copilotkit/runtime-client-gql/dist/chunk-JNC3D4OO.mjs\");\n/* harmony import */ var _copilotkit_runtime_client_gql__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! @copilotkit/runtime-client-gql */ \"(ssr)/./node_modules/@copilotkit/runtime-client-gql/dist/chunk-OS54FOSV.mjs\");\n\n\n// src/hooks/use-chat.ts\n\n\n\nfunction useChat(options) {\n  const {\n    messages,\n    setMessages,\n    makeSystemMessageCallback,\n    copilotConfig,\n    setIsLoading,\n    initialMessages,\n    isLoading,\n    actions,\n    onFunctionCall,\n    onCoagentAction,\n    setCoagentStates,\n    coagentStates,\n    agentSession,\n    setAgentSession\n  } = options;\n  const abortControllerRef = (0,react__WEBPACK_IMPORTED_MODULE_0__.useRef)();\n  const threadIdRef = (0,react__WEBPACK_IMPORTED_MODULE_0__.useRef)(null);\n  const runIdRef = (0,react__WEBPACK_IMPORTED_MODULE_0__.useRef)(null);\n  const publicApiKey = copilotConfig.publicApiKey;\n  const headers = (0,_chunk_SKC7AJIV_mjs__WEBPACK_IMPORTED_MODULE_1__.__spreadValues)((0,_chunk_SKC7AJIV_mjs__WEBPACK_IMPORTED_MODULE_1__.__spreadValues)({}, copilotConfig.headers || {}), publicApiKey ? { [_copilotkit_shared__WEBPACK_IMPORTED_MODULE_2__.COPILOT_CLOUD_PUBLIC_API_KEY_HEADER]: publicApiKey } : {});\n  const runtimeClient = new _copilotkit_runtime_client_gql__WEBPACK_IMPORTED_MODULE_3__.CopilotRuntimeClient({\n    url: copilotConfig.chatApiEndpoint,\n    publicApiKey: copilotConfig.publicApiKey,\n    headers,\n    credentials: copilotConfig.credentials\n  });\n  const runChatCompletion = (previousMessages) => (0,_chunk_SKC7AJIV_mjs__WEBPACK_IMPORTED_MODULE_1__.__async)(this, null, function* () {\n    var _a, _b, _c, _d, _e, _f, _g, _h, _i;\n    setIsLoading(true);\n    let newMessages = [\n      new _copilotkit_runtime_client_gql__WEBPACK_IMPORTED_MODULE_4__.TextMessage({\n        content: \"\",\n        role: _copilotkit_runtime_client_gql__WEBPACK_IMPORTED_MODULE_4__.Role.Assistant\n      })\n    ];\n    const abortController = new AbortController();\n    abortControllerRef.current = abortController;\n    setMessages([...previousMessages, ...newMessages]);\n    const systemMessage = makeSystemMessageCallback();\n    const messagesWithContext = [systemMessage, ...initialMessages || [], ...previousMessages];\n    const stream = _copilotkit_runtime_client_gql__WEBPACK_IMPORTED_MODULE_3__.CopilotRuntimeClient.asStream(\n      runtimeClient.generateCopilotResponse({\n        data: (0,_chunk_SKC7AJIV_mjs__WEBPACK_IMPORTED_MODULE_1__.__spreadProps)((0,_chunk_SKC7AJIV_mjs__WEBPACK_IMPORTED_MODULE_1__.__spreadValues)((0,_chunk_SKC7AJIV_mjs__WEBPACK_IMPORTED_MODULE_1__.__spreadProps)((0,_chunk_SKC7AJIV_mjs__WEBPACK_IMPORTED_MODULE_1__.__spreadValues)({\n          frontend: {\n            actions: actions.map((action) => ({\n              name: action.name,\n              description: action.description || \"\",\n              jsonSchema: JSON.stringify((0,_copilotkit_shared__WEBPACK_IMPORTED_MODULE_5__.actionParametersToJsonSchema)(action.parameters || []))\n            })),\n            url: window.location.href\n          },\n          threadId: threadIdRef.current,\n          runId: runIdRef.current,\n          messages: (0,_copilotkit_runtime_client_gql__WEBPACK_IMPORTED_MODULE_6__.convertMessagesToGqlInput)((0,_copilotkit_runtime_client_gql__WEBPACK_IMPORTED_MODULE_6__.filterAgentStateMessages)(messagesWithContext))\n        }, copilotConfig.cloud ? {\n          cloud: (0,_chunk_SKC7AJIV_mjs__WEBPACK_IMPORTED_MODULE_1__.__spreadValues)({}, ((_c = (_b = (_a = copilotConfig.cloud.guardrails) == null ? void 0 : _a.input) == null ? void 0 : _b.restrictToTopic) == null ? void 0 : _c.enabled) ? {\n            guardrails: {\n              inputValidationRules: {\n                allowList: copilotConfig.cloud.guardrails.input.restrictToTopic.validTopics,\n                denyList: copilotConfig.cloud.guardrails.input.restrictToTopic.invalidTopics\n              }\n            }\n          } : {})\n        } : {}), {\n          metadata: {\n            requestType: _copilotkit_runtime_client_gql__WEBPACK_IMPORTED_MODULE_7__.CopilotRequestType.Chat\n          }\n        }), agentSession ? {\n          agentSession\n        } : {}), {\n          agentStates: Object.values(coagentStates).map((state) => ({\n            agentName: state.name,\n            state: JSON.stringify(state.state)\n          }))\n        }),\n        properties: copilotConfig.properties,\n        signal: (_d = abortControllerRef.current) == null ? void 0 : _d.signal\n      })\n    );\n    const guardrailsEnabled = ((_g = (_f = (_e = copilotConfig.cloud) == null ? void 0 : _e.guardrails) == null ? void 0 : _f.input) == null ? void 0 : _g.restrictToTopic.enabled) || false;\n    const reader = stream.getReader();\n    let actionResults = {};\n    let executedCoagentActions = [];\n    try {\n      while (true) {\n        const { done, value } = yield reader.read();\n        if (done) {\n          break;\n        }\n        if (!(value == null ? void 0 : value.generateCopilotResponse)) {\n          continue;\n        }\n        threadIdRef.current = value.generateCopilotResponse.threadId || null;\n        runIdRef.current = value.generateCopilotResponse.runId || null;\n        const messages2 = (0,_copilotkit_runtime_client_gql__WEBPACK_IMPORTED_MODULE_6__.convertGqlOutputToMessages)(\n          (0,_copilotkit_runtime_client_gql__WEBPACK_IMPORTED_MODULE_6__.filterAdjacentAgentStateMessages)(value.generateCopilotResponse.messages)\n        );\n        if (messages2.length === 0) {\n          continue;\n        }\n        newMessages = [];\n        if (((_h = value.generateCopilotResponse.status) == null ? void 0 : _h.__typename) === \"FailedResponseStatus\" && value.generateCopilotResponse.status.reason === \"GUARDRAILS_VALIDATION_FAILED\") {\n          newMessages = [\n            new _copilotkit_runtime_client_gql__WEBPACK_IMPORTED_MODULE_4__.TextMessage({\n              role: _copilotkit_runtime_client_gql__WEBPACK_IMPORTED_MODULE_7__.MessageRole.Assistant,\n              content: ((_i = value.generateCopilotResponse.status.details) == null ? void 0 : _i.guardrailsReason) || \"\"\n            })\n          ];\n        } else {\n          for (const message of messages2) {\n            newMessages.push(message);\n            if (message instanceof _copilotkit_runtime_client_gql__WEBPACK_IMPORTED_MODULE_4__.ActionExecutionMessage && message.status.code !== _copilotkit_runtime_client_gql__WEBPACK_IMPORTED_MODULE_7__.MessageStatusCode.Pending && message.scope === \"client\" && onFunctionCall) {\n              if (!(message.id in actionResults)) {\n                if (guardrailsEnabled && value.generateCopilotResponse.status === void 0) {\n                  break;\n                }\n                const result = yield onFunctionCall({\n                  messages: previousMessages,\n                  name: message.name,\n                  args: message.arguments\n                });\n                actionResults[message.id] = result;\n              }\n              newMessages.push(\n                new _copilotkit_runtime_client_gql__WEBPACK_IMPORTED_MODULE_4__.ResultMessage({\n                  result: _copilotkit_runtime_client_gql__WEBPACK_IMPORTED_MODULE_4__.ResultMessage.encodeResult(actionResults[message.id]),\n                  actionExecutionId: message.id,\n                  actionName: message.name\n                })\n              );\n            }\n            if (message instanceof _copilotkit_runtime_client_gql__WEBPACK_IMPORTED_MODULE_4__.AgentStateMessage && !message.active && !executedCoagentActions.includes(message.id) && onCoagentAction) {\n              if (guardrailsEnabled && value.generateCopilotResponse.status === void 0) {\n                break;\n              }\n              yield onCoagentAction({\n                name: message.agentName,\n                nodeName: message.nodeName,\n                state: message.state\n              });\n              executedCoagentActions.push(message.id);\n            }\n          }\n          const lastAgentStateMessage = [...messages2].reverse().find((message) => message instanceof _copilotkit_runtime_client_gql__WEBPACK_IMPORTED_MODULE_4__.AgentStateMessage);\n          if (lastAgentStateMessage) {\n            if (lastAgentStateMessage.running) {\n              setCoagentStates((prevAgentStates) => (0,_chunk_SKC7AJIV_mjs__WEBPACK_IMPORTED_MODULE_1__.__spreadProps)((0,_chunk_SKC7AJIV_mjs__WEBPACK_IMPORTED_MODULE_1__.__spreadValues)({}, prevAgentStates), {\n                [lastAgentStateMessage.agentName]: {\n                  name: lastAgentStateMessage.agentName,\n                  state: lastAgentStateMessage.state,\n                  running: lastAgentStateMessage.running,\n                  active: lastAgentStateMessage.active,\n                  threadId: lastAgentStateMessage.threadId,\n                  nodeName: lastAgentStateMessage.nodeName,\n                  runId: lastAgentStateMessage.runId\n                }\n              }));\n              setAgentSession({\n                threadId: lastAgentStateMessage.threadId,\n                agentName: lastAgentStateMessage.agentName,\n                nodeName: lastAgentStateMessage.nodeName\n              });\n            } else {\n              setAgentSession(null);\n            }\n          }\n        }\n        if (newMessages.length > 0) {\n          setMessages([...previousMessages, ...newMessages]);\n        }\n      }\n      if (\n        // if we have client side results\n        Object.values(actionResults).length || // or the last message we received is a result\n        newMessages.length && newMessages[newMessages.length - 1] instanceof _copilotkit_runtime_client_gql__WEBPACK_IMPORTED_MODULE_4__.ResultMessage\n      ) {\n        yield new Promise((resolve) => setTimeout(resolve, 10));\n        return yield runChatCompletion([...previousMessages, ...newMessages]);\n      } else {\n        return newMessages.slice();\n      }\n    } finally {\n      setIsLoading(false);\n    }\n  });\n  const runChatCompletionAndHandleFunctionCall = (messages2) => (0,_chunk_SKC7AJIV_mjs__WEBPACK_IMPORTED_MODULE_1__.__async)(this, null, function* () {\n    yield runChatCompletion(messages2);\n  });\n  const append = (message) => (0,_chunk_SKC7AJIV_mjs__WEBPACK_IMPORTED_MODULE_1__.__async)(this, null, function* () {\n    if (isLoading) {\n      return;\n    }\n    const newMessages = [...messages, message];\n    setMessages(newMessages);\n    return runChatCompletionAndHandleFunctionCall(newMessages);\n  });\n  const reload = () => (0,_chunk_SKC7AJIV_mjs__WEBPACK_IMPORTED_MODULE_1__.__async)(this, null, function* () {\n    if (isLoading || messages.length === 0) {\n      return;\n    }\n    let newMessages = [...messages];\n    const lastMessage = messages[messages.length - 1];\n    if (lastMessage instanceof _copilotkit_runtime_client_gql__WEBPACK_IMPORTED_MODULE_4__.TextMessage && lastMessage.role === \"assistant\") {\n      newMessages = newMessages.slice(0, -1);\n    }\n    setMessages(newMessages);\n    return runChatCompletionAndHandleFunctionCall(newMessages);\n  });\n  const stop = () => {\n    var _a;\n    (_a = abortControllerRef.current) == null ? void 0 : _a.abort();\n  };\n  return {\n    append,\n    reload,\n    stop\n  };\n}\n\n\n//# sourceMappingURL=chunk-RWPGGPW5.mjs.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvQGNvcGlsb3RraXQvcmVhY3QtY29yZS9kaXN0L2NodW5rLVJXUEdHUFc1Lm1qcyIsIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7QUFJOEI7O0FBRTlCO0FBQytCO0FBSUg7QUFlWTtBQUN4QztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLElBQUk7QUFDSiw2QkFBNkIsNkNBQU07QUFDbkMsc0JBQXNCLDZDQUFNO0FBQzVCLG1CQUFtQiw2Q0FBTTtBQUN6QjtBQUNBLGtCQUFrQixtRUFBYyxDQUFDLG1FQUFjLEdBQUcsNkJBQTZCLG9CQUFvQixDQUFDLG1GQUFtQyxrQkFBa0IsSUFBSTtBQUM3Siw0QkFBNEIsZ0ZBQW9CO0FBQ2hEO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNILGtEQUFrRCw0REFBTztBQUN6RDtBQUNBO0FBQ0E7QUFDQSxVQUFVLHVFQUFXO0FBQ3JCO0FBQ0EsY0FBYyxnRUFBSTtBQUNsQixPQUFPO0FBQ1A7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsbUJBQW1CLGdGQUFvQjtBQUN2QztBQUNBLGNBQWMsa0VBQWEsQ0FBQyxtRUFBYyxDQUFDLGtFQUFhLENBQUMsbUVBQWM7QUFDdkU7QUFDQTtBQUNBO0FBQ0E7QUFDQSx5Q0FBeUMsZ0ZBQTRCO0FBQ3JFLGFBQWE7QUFDYjtBQUNBLFdBQVc7QUFDWDtBQUNBO0FBQ0Esb0JBQW9CLHlGQUF5QixDQUFDLHdGQUF3QjtBQUN0RSxTQUFTO0FBQ1QsaUJBQWlCLG1FQUFjLEdBQUc7QUFDbEM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsWUFBWSxJQUFJO0FBQ2hCLFVBQVUsSUFBSTtBQUNkO0FBQ0EseUJBQXlCLDhFQUFrQjtBQUMzQztBQUNBLFNBQVM7QUFDVDtBQUNBLFVBQVUsSUFBSTtBQUNkO0FBQ0E7QUFDQTtBQUNBLFdBQVc7QUFDWCxTQUFTO0FBQ1Q7QUFDQTtBQUNBLE9BQU87QUFDUDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGdCQUFnQixjQUFjO0FBQzlCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSwwQkFBMEIsMEZBQTBCO0FBQ3BELFVBQVUsZ0dBQWdDO0FBQzFDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsZ0JBQWdCLHVFQUFXO0FBQzNCLG9CQUFvQix1RUFBVztBQUMvQjtBQUNBLGFBQWE7QUFDYjtBQUNBLFVBQVU7QUFDVjtBQUNBO0FBQ0EsbUNBQW1DLGtGQUFzQiw0QkFBNEIsNkVBQWlCO0FBQ3RHO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxpQkFBaUI7QUFDakI7QUFDQTtBQUNBO0FBQ0Esb0JBQW9CLHlFQUFhO0FBQ2pDLDBCQUEwQix5RUFBYTtBQUN2QztBQUNBO0FBQ0EsaUJBQWlCO0FBQ2pCO0FBQ0E7QUFDQSxtQ0FBbUMsNkVBQWlCO0FBQ3BEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsZUFBZTtBQUNmO0FBQ0E7QUFDQTtBQUNBLHNHQUFzRyw2RUFBaUI7QUFDdkg7QUFDQTtBQUNBLG9EQUFvRCxrRUFBYSxDQUFDLG1FQUFjLEdBQUc7QUFDbkY7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsZUFBZTtBQUNmO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsZUFBZTtBQUNmLGNBQWM7QUFDZDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsNkVBQTZFLHlFQUFhO0FBQzFGO0FBQ0E7QUFDQTtBQUNBLFFBQVE7QUFDUjtBQUNBO0FBQ0EsTUFBTTtBQUNOO0FBQ0E7QUFDQSxHQUFHO0FBQ0gsZ0VBQWdFLDREQUFPO0FBQ3ZFO0FBQ0EsR0FBRztBQUNILDhCQUE4Qiw0REFBTztBQUNyQztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0gsdUJBQXVCLDREQUFPO0FBQzlCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSwrQkFBK0IsdUVBQVc7QUFDMUM7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBSUU7QUFDRiIsInNvdXJjZXMiOlsid2VicGFjazovL2V4YW1wbGUtdG9kb3MtYXBwLy4vbm9kZV9tb2R1bGVzL0Bjb3BpbG90a2l0L3JlYWN0LWNvcmUvZGlzdC9jaHVuay1SV1BHR1BXNS5tanM/YzdhZCJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQge1xuICBfX2FzeW5jLFxuICBfX3NwcmVhZFByb3BzLFxuICBfX3NwcmVhZFZhbHVlc1xufSBmcm9tIFwiLi9jaHVuay1TS0M3QUpJVi5tanNcIjtcblxuLy8gc3JjL2hvb2tzL3VzZS1jaGF0LnRzXG5pbXBvcnQgeyB1c2VSZWYgfSBmcm9tIFwicmVhY3RcIjtcbmltcG9ydCB7XG4gIENPUElMT1RfQ0xPVURfUFVCTElDX0FQSV9LRVlfSEVBREVSLFxuICBhY3Rpb25QYXJhbWV0ZXJzVG9Kc29uU2NoZW1hXG59IGZyb20gXCJAY29waWxvdGtpdC9zaGFyZWRcIjtcbmltcG9ydCB7XG4gIFRleHRNZXNzYWdlLFxuICBBY3Rpb25FeGVjdXRpb25NZXNzYWdlLFxuICBSZXN1bHRNZXNzYWdlLFxuICBDb3BpbG90UnVudGltZUNsaWVudCxcbiAgY29udmVydE1lc3NhZ2VzVG9HcWxJbnB1dCxcbiAgZmlsdGVyQWRqYWNlbnRBZ2VudFN0YXRlTWVzc2FnZXMsXG4gIGZpbHRlckFnZW50U3RhdGVNZXNzYWdlcyxcbiAgY29udmVydEdxbE91dHB1dFRvTWVzc2FnZXMsXG4gIE1lc3NhZ2VTdGF0dXNDb2RlLFxuICBNZXNzYWdlUm9sZSxcbiAgUm9sZSxcbiAgQ29waWxvdFJlcXVlc3RUeXBlLFxuICBBZ2VudFN0YXRlTWVzc2FnZVxufSBmcm9tIFwiQGNvcGlsb3RraXQvcnVudGltZS1jbGllbnQtZ3FsXCI7XG5mdW5jdGlvbiB1c2VDaGF0KG9wdGlvbnMpIHtcbiAgY29uc3Qge1xuICAgIG1lc3NhZ2VzLFxuICAgIHNldE1lc3NhZ2VzLFxuICAgIG1ha2VTeXN0ZW1NZXNzYWdlQ2FsbGJhY2ssXG4gICAgY29waWxvdENvbmZpZyxcbiAgICBzZXRJc0xvYWRpbmcsXG4gICAgaW5pdGlhbE1lc3NhZ2VzLFxuICAgIGlzTG9hZGluZyxcbiAgICBhY3Rpb25zLFxuICAgIG9uRnVuY3Rpb25DYWxsLFxuICAgIG9uQ29hZ2VudEFjdGlvbixcbiAgICBzZXRDb2FnZW50U3RhdGVzLFxuICAgIGNvYWdlbnRTdGF0ZXMsXG4gICAgYWdlbnRTZXNzaW9uLFxuICAgIHNldEFnZW50U2Vzc2lvblxuICB9ID0gb3B0aW9ucztcbiAgY29uc3QgYWJvcnRDb250cm9sbGVyUmVmID0gdXNlUmVmKCk7XG4gIGNvbnN0IHRocmVhZElkUmVmID0gdXNlUmVmKG51bGwpO1xuICBjb25zdCBydW5JZFJlZiA9IHVzZVJlZihudWxsKTtcbiAgY29uc3QgcHVibGljQXBpS2V5ID0gY29waWxvdENvbmZpZy5wdWJsaWNBcGlLZXk7XG4gIGNvbnN0IGhlYWRlcnMgPSBfX3NwcmVhZFZhbHVlcyhfX3NwcmVhZFZhbHVlcyh7fSwgY29waWxvdENvbmZpZy5oZWFkZXJzIHx8IHt9KSwgcHVibGljQXBpS2V5ID8geyBbQ09QSUxPVF9DTE9VRF9QVUJMSUNfQVBJX0tFWV9IRUFERVJdOiBwdWJsaWNBcGlLZXkgfSA6IHt9KTtcbiAgY29uc3QgcnVudGltZUNsaWVudCA9IG5ldyBDb3BpbG90UnVudGltZUNsaWVudCh7XG4gICAgdXJsOiBjb3BpbG90Q29uZmlnLmNoYXRBcGlFbmRwb2ludCxcbiAgICBwdWJsaWNBcGlLZXk6IGNvcGlsb3RDb25maWcucHVibGljQXBpS2V5LFxuICAgIGhlYWRlcnMsXG4gICAgY3JlZGVudGlhbHM6IGNvcGlsb3RDb25maWcuY3JlZGVudGlhbHNcbiAgfSk7XG4gIGNvbnN0IHJ1bkNoYXRDb21wbGV0aW9uID0gKHByZXZpb3VzTWVzc2FnZXMpID0+IF9fYXN5bmModGhpcywgbnVsbCwgZnVuY3Rpb24qICgpIHtcbiAgICB2YXIgX2EsIF9iLCBfYywgX2QsIF9lLCBfZiwgX2csIF9oLCBfaTtcbiAgICBzZXRJc0xvYWRpbmcodHJ1ZSk7XG4gICAgbGV0IG5ld01lc3NhZ2VzID0gW1xuICAgICAgbmV3IFRleHRNZXNzYWdlKHtcbiAgICAgICAgY29udGVudDogXCJcIixcbiAgICAgICAgcm9sZTogUm9sZS5Bc3Npc3RhbnRcbiAgICAgIH0pXG4gICAgXTtcbiAgICBjb25zdCBhYm9ydENvbnRyb2xsZXIgPSBuZXcgQWJvcnRDb250cm9sbGVyKCk7XG4gICAgYWJvcnRDb250cm9sbGVyUmVmLmN1cnJlbnQgPSBhYm9ydENvbnRyb2xsZXI7XG4gICAgc2V0TWVzc2FnZXMoWy4uLnByZXZpb3VzTWVzc2FnZXMsIC4uLm5ld01lc3NhZ2VzXSk7XG4gICAgY29uc3Qgc3lzdGVtTWVzc2FnZSA9IG1ha2VTeXN0ZW1NZXNzYWdlQ2FsbGJhY2soKTtcbiAgICBjb25zdCBtZXNzYWdlc1dpdGhDb250ZXh0ID0gW3N5c3RlbU1lc3NhZ2UsIC4uLmluaXRpYWxNZXNzYWdlcyB8fCBbXSwgLi4ucHJldmlvdXNNZXNzYWdlc107XG4gICAgY29uc3Qgc3RyZWFtID0gQ29waWxvdFJ1bnRpbWVDbGllbnQuYXNTdHJlYW0oXG4gICAgICBydW50aW1lQ2xpZW50LmdlbmVyYXRlQ29waWxvdFJlc3BvbnNlKHtcbiAgICAgICAgZGF0YTogX19zcHJlYWRQcm9wcyhfX3NwcmVhZFZhbHVlcyhfX3NwcmVhZFByb3BzKF9fc3ByZWFkVmFsdWVzKHtcbiAgICAgICAgICBmcm9udGVuZDoge1xuICAgICAgICAgICAgYWN0aW9uczogYWN0aW9ucy5tYXAoKGFjdGlvbikgPT4gKHtcbiAgICAgICAgICAgICAgbmFtZTogYWN0aW9uLm5hbWUsXG4gICAgICAgICAgICAgIGRlc2NyaXB0aW9uOiBhY3Rpb24uZGVzY3JpcHRpb24gfHwgXCJcIixcbiAgICAgICAgICAgICAganNvblNjaGVtYTogSlNPTi5zdHJpbmdpZnkoYWN0aW9uUGFyYW1ldGVyc1RvSnNvblNjaGVtYShhY3Rpb24ucGFyYW1ldGVycyB8fCBbXSkpXG4gICAgICAgICAgICB9KSksXG4gICAgICAgICAgICB1cmw6IHdpbmRvdy5sb2NhdGlvbi5ocmVmXG4gICAgICAgICAgfSxcbiAgICAgICAgICB0aHJlYWRJZDogdGhyZWFkSWRSZWYuY3VycmVudCxcbiAgICAgICAgICBydW5JZDogcnVuSWRSZWYuY3VycmVudCxcbiAgICAgICAgICBtZXNzYWdlczogY29udmVydE1lc3NhZ2VzVG9HcWxJbnB1dChmaWx0ZXJBZ2VudFN0YXRlTWVzc2FnZXMobWVzc2FnZXNXaXRoQ29udGV4dCkpXG4gICAgICAgIH0sIGNvcGlsb3RDb25maWcuY2xvdWQgPyB7XG4gICAgICAgICAgY2xvdWQ6IF9fc3ByZWFkVmFsdWVzKHt9LCAoKF9jID0gKF9iID0gKF9hID0gY29waWxvdENvbmZpZy5jbG91ZC5ndWFyZHJhaWxzKSA9PSBudWxsID8gdm9pZCAwIDogX2EuaW5wdXQpID09IG51bGwgPyB2b2lkIDAgOiBfYi5yZXN0cmljdFRvVG9waWMpID09IG51bGwgPyB2b2lkIDAgOiBfYy5lbmFibGVkKSA/IHtcbiAgICAgICAgICAgIGd1YXJkcmFpbHM6IHtcbiAgICAgICAgICAgICAgaW5wdXRWYWxpZGF0aW9uUnVsZXM6IHtcbiAgICAgICAgICAgICAgICBhbGxvd0xpc3Q6IGNvcGlsb3RDb25maWcuY2xvdWQuZ3VhcmRyYWlscy5pbnB1dC5yZXN0cmljdFRvVG9waWMudmFsaWRUb3BpY3MsXG4gICAgICAgICAgICAgICAgZGVueUxpc3Q6IGNvcGlsb3RDb25maWcuY2xvdWQuZ3VhcmRyYWlscy5pbnB1dC5yZXN0cmljdFRvVG9waWMuaW52YWxpZFRvcGljc1xuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfSA6IHt9KVxuICAgICAgICB9IDoge30pLCB7XG4gICAgICAgICAgbWV0YWRhdGE6IHtcbiAgICAgICAgICAgIHJlcXVlc3RUeXBlOiBDb3BpbG90UmVxdWVzdFR5cGUuQ2hhdFxuICAgICAgICAgIH1cbiAgICAgICAgfSksIGFnZW50U2Vzc2lvbiA/IHtcbiAgICAgICAgICBhZ2VudFNlc3Npb25cbiAgICAgICAgfSA6IHt9KSwge1xuICAgICAgICAgIGFnZW50U3RhdGVzOiBPYmplY3QudmFsdWVzKGNvYWdlbnRTdGF0ZXMpLm1hcCgoc3RhdGUpID0+ICh7XG4gICAgICAgICAgICBhZ2VudE5hbWU6IHN0YXRlLm5hbWUsXG4gICAgICAgICAgICBzdGF0ZTogSlNPTi5zdHJpbmdpZnkoc3RhdGUuc3RhdGUpXG4gICAgICAgICAgfSkpXG4gICAgICAgIH0pLFxuICAgICAgICBwcm9wZXJ0aWVzOiBjb3BpbG90Q29uZmlnLnByb3BlcnRpZXMsXG4gICAgICAgIHNpZ25hbDogKF9kID0gYWJvcnRDb250cm9sbGVyUmVmLmN1cnJlbnQpID09IG51bGwgPyB2b2lkIDAgOiBfZC5zaWduYWxcbiAgICAgIH0pXG4gICAgKTtcbiAgICBjb25zdCBndWFyZHJhaWxzRW5hYmxlZCA9ICgoX2cgPSAoX2YgPSAoX2UgPSBjb3BpbG90Q29uZmlnLmNsb3VkKSA9PSBudWxsID8gdm9pZCAwIDogX2UuZ3VhcmRyYWlscykgPT0gbnVsbCA/IHZvaWQgMCA6IF9mLmlucHV0KSA9PSBudWxsID8gdm9pZCAwIDogX2cucmVzdHJpY3RUb1RvcGljLmVuYWJsZWQpIHx8IGZhbHNlO1xuICAgIGNvbnN0IHJlYWRlciA9IHN0cmVhbS5nZXRSZWFkZXIoKTtcbiAgICBsZXQgYWN0aW9uUmVzdWx0cyA9IHt9O1xuICAgIGxldCBleGVjdXRlZENvYWdlbnRBY3Rpb25zID0gW107XG4gICAgdHJ5IHtcbiAgICAgIHdoaWxlICh0cnVlKSB7XG4gICAgICAgIGNvbnN0IHsgZG9uZSwgdmFsdWUgfSA9IHlpZWxkIHJlYWRlci5yZWFkKCk7XG4gICAgICAgIGlmIChkb25lKSB7XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKCEodmFsdWUgPT0gbnVsbCA/IHZvaWQgMCA6IHZhbHVlLmdlbmVyYXRlQ29waWxvdFJlc3BvbnNlKSkge1xuICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICB9XG4gICAgICAgIHRocmVhZElkUmVmLmN1cnJlbnQgPSB2YWx1ZS5nZW5lcmF0ZUNvcGlsb3RSZXNwb25zZS50aHJlYWRJZCB8fCBudWxsO1xuICAgICAgICBydW5JZFJlZi5jdXJyZW50ID0gdmFsdWUuZ2VuZXJhdGVDb3BpbG90UmVzcG9uc2UucnVuSWQgfHwgbnVsbDtcbiAgICAgICAgY29uc3QgbWVzc2FnZXMyID0gY29udmVydEdxbE91dHB1dFRvTWVzc2FnZXMoXG4gICAgICAgICAgZmlsdGVyQWRqYWNlbnRBZ2VudFN0YXRlTWVzc2FnZXModmFsdWUuZ2VuZXJhdGVDb3BpbG90UmVzcG9uc2UubWVzc2FnZXMpXG4gICAgICAgICk7XG4gICAgICAgIGlmIChtZXNzYWdlczIubGVuZ3RoID09PSAwKSB7XG4gICAgICAgICAgY29udGludWU7XG4gICAgICAgIH1cbiAgICAgICAgbmV3TWVzc2FnZXMgPSBbXTtcbiAgICAgICAgaWYgKCgoX2ggPSB2YWx1ZS5nZW5lcmF0ZUNvcGlsb3RSZXNwb25zZS5zdGF0dXMpID09IG51bGwgPyB2b2lkIDAgOiBfaC5fX3R5cGVuYW1lKSA9PT0gXCJGYWlsZWRSZXNwb25zZVN0YXR1c1wiICYmIHZhbHVlLmdlbmVyYXRlQ29waWxvdFJlc3BvbnNlLnN0YXR1cy5yZWFzb24gPT09IFwiR1VBUkRSQUlMU19WQUxJREFUSU9OX0ZBSUxFRFwiKSB7XG4gICAgICAgICAgbmV3TWVzc2FnZXMgPSBbXG4gICAgICAgICAgICBuZXcgVGV4dE1lc3NhZ2Uoe1xuICAgICAgICAgICAgICByb2xlOiBNZXNzYWdlUm9sZS5Bc3Npc3RhbnQsXG4gICAgICAgICAgICAgIGNvbnRlbnQ6ICgoX2kgPSB2YWx1ZS5nZW5lcmF0ZUNvcGlsb3RSZXNwb25zZS5zdGF0dXMuZGV0YWlscykgPT0gbnVsbCA/IHZvaWQgMCA6IF9pLmd1YXJkcmFpbHNSZWFzb24pIHx8IFwiXCJcbiAgICAgICAgICAgIH0pXG4gICAgICAgICAgXTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBmb3IgKGNvbnN0IG1lc3NhZ2Ugb2YgbWVzc2FnZXMyKSB7XG4gICAgICAgICAgICBuZXdNZXNzYWdlcy5wdXNoKG1lc3NhZ2UpO1xuICAgICAgICAgICAgaWYgKG1lc3NhZ2UgaW5zdGFuY2VvZiBBY3Rpb25FeGVjdXRpb25NZXNzYWdlICYmIG1lc3NhZ2Uuc3RhdHVzLmNvZGUgIT09IE1lc3NhZ2VTdGF0dXNDb2RlLlBlbmRpbmcgJiYgbWVzc2FnZS5zY29wZSA9PT0gXCJjbGllbnRcIiAmJiBvbkZ1bmN0aW9uQ2FsbCkge1xuICAgICAgICAgICAgICBpZiAoIShtZXNzYWdlLmlkIGluIGFjdGlvblJlc3VsdHMpKSB7XG4gICAgICAgICAgICAgICAgaWYgKGd1YXJkcmFpbHNFbmFibGVkICYmIHZhbHVlLmdlbmVyYXRlQ29waWxvdFJlc3BvbnNlLnN0YXR1cyA9PT0gdm9pZCAwKSB7XG4gICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgY29uc3QgcmVzdWx0ID0geWllbGQgb25GdW5jdGlvbkNhbGwoe1xuICAgICAgICAgICAgICAgICAgbWVzc2FnZXM6IHByZXZpb3VzTWVzc2FnZXMsXG4gICAgICAgICAgICAgICAgICBuYW1lOiBtZXNzYWdlLm5hbWUsXG4gICAgICAgICAgICAgICAgICBhcmdzOiBtZXNzYWdlLmFyZ3VtZW50c1xuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgIGFjdGlvblJlc3VsdHNbbWVzc2FnZS5pZF0gPSByZXN1bHQ7XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgbmV3TWVzc2FnZXMucHVzaChcbiAgICAgICAgICAgICAgICBuZXcgUmVzdWx0TWVzc2FnZSh7XG4gICAgICAgICAgICAgICAgICByZXN1bHQ6IFJlc3VsdE1lc3NhZ2UuZW5jb2RlUmVzdWx0KGFjdGlvblJlc3VsdHNbbWVzc2FnZS5pZF0pLFxuICAgICAgICAgICAgICAgICAgYWN0aW9uRXhlY3V0aW9uSWQ6IG1lc3NhZ2UuaWQsXG4gICAgICAgICAgICAgICAgICBhY3Rpb25OYW1lOiBtZXNzYWdlLm5hbWVcbiAgICAgICAgICAgICAgICB9KVxuICAgICAgICAgICAgICApO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKG1lc3NhZ2UgaW5zdGFuY2VvZiBBZ2VudFN0YXRlTWVzc2FnZSAmJiAhbWVzc2FnZS5hY3RpdmUgJiYgIWV4ZWN1dGVkQ29hZ2VudEFjdGlvbnMuaW5jbHVkZXMobWVzc2FnZS5pZCkgJiYgb25Db2FnZW50QWN0aW9uKSB7XG4gICAgICAgICAgICAgIGlmIChndWFyZHJhaWxzRW5hYmxlZCAmJiB2YWx1ZS5nZW5lcmF0ZUNvcGlsb3RSZXNwb25zZS5zdGF0dXMgPT09IHZvaWQgMCkge1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgIHlpZWxkIG9uQ29hZ2VudEFjdGlvbih7XG4gICAgICAgICAgICAgICAgbmFtZTogbWVzc2FnZS5hZ2VudE5hbWUsXG4gICAgICAgICAgICAgICAgbm9kZU5hbWU6IG1lc3NhZ2Uubm9kZU5hbWUsXG4gICAgICAgICAgICAgICAgc3RhdGU6IG1lc3NhZ2Uuc3RhdGVcbiAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgIGV4ZWN1dGVkQ29hZ2VudEFjdGlvbnMucHVzaChtZXNzYWdlLmlkKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9XG4gICAgICAgICAgY29uc3QgbGFzdEFnZW50U3RhdGVNZXNzYWdlID0gWy4uLm1lc3NhZ2VzMl0ucmV2ZXJzZSgpLmZpbmQoKG1lc3NhZ2UpID0+IG1lc3NhZ2UgaW5zdGFuY2VvZiBBZ2VudFN0YXRlTWVzc2FnZSk7XG4gICAgICAgICAgaWYgKGxhc3RBZ2VudFN0YXRlTWVzc2FnZSkge1xuICAgICAgICAgICAgaWYgKGxhc3RBZ2VudFN0YXRlTWVzc2FnZS5ydW5uaW5nKSB7XG4gICAgICAgICAgICAgIHNldENvYWdlbnRTdGF0ZXMoKHByZXZBZ2VudFN0YXRlcykgPT4gX19zcHJlYWRQcm9wcyhfX3NwcmVhZFZhbHVlcyh7fSwgcHJldkFnZW50U3RhdGVzKSwge1xuICAgICAgICAgICAgICAgIFtsYXN0QWdlbnRTdGF0ZU1lc3NhZ2UuYWdlbnROYW1lXToge1xuICAgICAgICAgICAgICAgICAgbmFtZTogbGFzdEFnZW50U3RhdGVNZXNzYWdlLmFnZW50TmFtZSxcbiAgICAgICAgICAgICAgICAgIHN0YXRlOiBsYXN0QWdlbnRTdGF0ZU1lc3NhZ2Uuc3RhdGUsXG4gICAgICAgICAgICAgICAgICBydW5uaW5nOiBsYXN0QWdlbnRTdGF0ZU1lc3NhZ2UucnVubmluZyxcbiAgICAgICAgICAgICAgICAgIGFjdGl2ZTogbGFzdEFnZW50U3RhdGVNZXNzYWdlLmFjdGl2ZSxcbiAgICAgICAgICAgICAgICAgIHRocmVhZElkOiBsYXN0QWdlbnRTdGF0ZU1lc3NhZ2UudGhyZWFkSWQsXG4gICAgICAgICAgICAgICAgICBub2RlTmFtZTogbGFzdEFnZW50U3RhdGVNZXNzYWdlLm5vZGVOYW1lLFxuICAgICAgICAgICAgICAgICAgcnVuSWQ6IGxhc3RBZ2VudFN0YXRlTWVzc2FnZS5ydW5JZFxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgfSkpO1xuICAgICAgICAgICAgICBzZXRBZ2VudFNlc3Npb24oe1xuICAgICAgICAgICAgICAgIHRocmVhZElkOiBsYXN0QWdlbnRTdGF0ZU1lc3NhZ2UudGhyZWFkSWQsXG4gICAgICAgICAgICAgICAgYWdlbnROYW1lOiBsYXN0QWdlbnRTdGF0ZU1lc3NhZ2UuYWdlbnROYW1lLFxuICAgICAgICAgICAgICAgIG5vZGVOYW1lOiBsYXN0QWdlbnRTdGF0ZU1lc3NhZ2Uubm9kZU5hbWVcbiAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICBzZXRBZ2VudFNlc3Npb24obnVsbCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGlmIChuZXdNZXNzYWdlcy5sZW5ndGggPiAwKSB7XG4gICAgICAgICAgc2V0TWVzc2FnZXMoWy4uLnByZXZpb3VzTWVzc2FnZXMsIC4uLm5ld01lc3NhZ2VzXSk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIGlmIChcbiAgICAgICAgLy8gaWYgd2UgaGF2ZSBjbGllbnQgc2lkZSByZXN1bHRzXG4gICAgICAgIE9iamVjdC52YWx1ZXMoYWN0aW9uUmVzdWx0cykubGVuZ3RoIHx8IC8vIG9yIHRoZSBsYXN0IG1lc3NhZ2Ugd2UgcmVjZWl2ZWQgaXMgYSByZXN1bHRcbiAgICAgICAgbmV3TWVzc2FnZXMubGVuZ3RoICYmIG5ld01lc3NhZ2VzW25ld01lc3NhZ2VzLmxlbmd0aCAtIDFdIGluc3RhbmNlb2YgUmVzdWx0TWVzc2FnZVxuICAgICAgKSB7XG4gICAgICAgIHlpZWxkIG5ldyBQcm9taXNlKChyZXNvbHZlKSA9PiBzZXRUaW1lb3V0KHJlc29sdmUsIDEwKSk7XG4gICAgICAgIHJldHVybiB5aWVsZCBydW5DaGF0Q29tcGxldGlvbihbLi4ucHJldmlvdXNNZXNzYWdlcywgLi4ubmV3TWVzc2FnZXNdKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHJldHVybiBuZXdNZXNzYWdlcy5zbGljZSgpO1xuICAgICAgfVxuICAgIH0gZmluYWxseSB7XG4gICAgICBzZXRJc0xvYWRpbmcoZmFsc2UpO1xuICAgIH1cbiAgfSk7XG4gIGNvbnN0IHJ1bkNoYXRDb21wbGV0aW9uQW5kSGFuZGxlRnVuY3Rpb25DYWxsID0gKG1lc3NhZ2VzMikgPT4gX19hc3luYyh0aGlzLCBudWxsLCBmdW5jdGlvbiogKCkge1xuICAgIHlpZWxkIHJ1bkNoYXRDb21wbGV0aW9uKG1lc3NhZ2VzMik7XG4gIH0pO1xuICBjb25zdCBhcHBlbmQgPSAobWVzc2FnZSkgPT4gX19hc3luYyh0aGlzLCBudWxsLCBmdW5jdGlvbiogKCkge1xuICAgIGlmIChpc0xvYWRpbmcpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgY29uc3QgbmV3TWVzc2FnZXMgPSBbLi4ubWVzc2FnZXMsIG1lc3NhZ2VdO1xuICAgIHNldE1lc3NhZ2VzKG5ld01lc3NhZ2VzKTtcbiAgICByZXR1cm4gcnVuQ2hhdENvbXBsZXRpb25BbmRIYW5kbGVGdW5jdGlvbkNhbGwobmV3TWVzc2FnZXMpO1xuICB9KTtcbiAgY29uc3QgcmVsb2FkID0gKCkgPT4gX19hc3luYyh0aGlzLCBudWxsLCBmdW5jdGlvbiogKCkge1xuICAgIGlmIChpc0xvYWRpbmcgfHwgbWVzc2FnZXMubGVuZ3RoID09PSAwKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIGxldCBuZXdNZXNzYWdlcyA9IFsuLi5tZXNzYWdlc107XG4gICAgY29uc3QgbGFzdE1lc3NhZ2UgPSBtZXNzYWdlc1ttZXNzYWdlcy5sZW5ndGggLSAxXTtcbiAgICBpZiAobGFzdE1lc3NhZ2UgaW5zdGFuY2VvZiBUZXh0TWVzc2FnZSAmJiBsYXN0TWVzc2FnZS5yb2xlID09PSBcImFzc2lzdGFudFwiKSB7XG4gICAgICBuZXdNZXNzYWdlcyA9IG5ld01lc3NhZ2VzLnNsaWNlKDAsIC0xKTtcbiAgICB9XG4gICAgc2V0TWVzc2FnZXMobmV3TWVzc2FnZXMpO1xuICAgIHJldHVybiBydW5DaGF0Q29tcGxldGlvbkFuZEhhbmRsZUZ1bmN0aW9uQ2FsbChuZXdNZXNzYWdlcyk7XG4gIH0pO1xuICBjb25zdCBzdG9wID0gKCkgPT4ge1xuICAgIHZhciBfYTtcbiAgICAoX2EgPSBhYm9ydENvbnRyb2xsZXJSZWYuY3VycmVudCkgPT0gbnVsbCA/IHZvaWQgMCA6IF9hLmFib3J0KCk7XG4gIH07XG4gIHJldHVybiB7XG4gICAgYXBwZW5kLFxuICAgIHJlbG9hZCxcbiAgICBzdG9wXG4gIH07XG59XG5cbmV4cG9ydCB7XG4gIHVzZUNoYXRcbn07XG4vLyMgc291cmNlTWFwcGluZ1VSTD1jaHVuay1SV1BHR1BXNS5tanMubWFwIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/@copilotkit/react-core/dist/chunk-RWPGGPW5.mjs\n");

/***/ }),

/***/ "(ssr)/./node_modules/@copilotkit/react-core/dist/chunk-SKC7AJIV.mjs":
/*!*********************************************************************!*\
  !*** ./node_modules/@copilotkit/react-core/dist/chunk-SKC7AJIV.mjs ***!
  \*********************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   __async: () => (/* binding */ __async),\n/* harmony export */   __objRest: () => (/* binding */ __objRest),\n/* harmony export */   __restKey: () => (/* binding */ __restKey),\n/* harmony export */   __spreadProps: () => (/* binding */ __spreadProps),\n/* harmony export */   __spreadValues: () => (/* binding */ __spreadValues)\n/* harmony export */ });\nvar __defProp = Object.defineProperty;\nvar __defProps = Object.defineProperties;\nvar __getOwnPropDescs = Object.getOwnPropertyDescriptors;\nvar __getOwnPropSymbols = Object.getOwnPropertySymbols;\nvar __hasOwnProp = Object.prototype.hasOwnProperty;\nvar __propIsEnum = Object.prototype.propertyIsEnumerable;\nvar __defNormalProp = (obj, key, value) => key in obj ? __defProp(obj, key, { enumerable: true, configurable: true, writable: true, value }) : obj[key] = value;\nvar __spreadValues = (a, b) => {\n  for (var prop in b || (b = {}))\n    if (__hasOwnProp.call(b, prop))\n      __defNormalProp(a, prop, b[prop]);\n  if (__getOwnPropSymbols)\n    for (var prop of __getOwnPropSymbols(b)) {\n      if (__propIsEnum.call(b, prop))\n        __defNormalProp(a, prop, b[prop]);\n    }\n  return a;\n};\nvar __spreadProps = (a, b) => __defProps(a, __getOwnPropDescs(b));\nvar __restKey = (key) => typeof key === \"symbol\" ? key : key + \"\";\nvar __objRest = (source, exclude) => {\n  var target = {};\n  for (var prop in source)\n    if (__hasOwnProp.call(source, prop) && exclude.indexOf(prop) < 0)\n      target[prop] = source[prop];\n  if (source != null && __getOwnPropSymbols)\n    for (var prop of __getOwnPropSymbols(source)) {\n      if (exclude.indexOf(prop) < 0 && __propIsEnum.call(source, prop))\n        target[prop] = source[prop];\n    }\n  return target;\n};\nvar __async = (__this, __arguments, generator) => {\n  return new Promise((resolve, reject) => {\n    var fulfilled = (value) => {\n      try {\n        step(generator.next(value));\n      } catch (e) {\n        reject(e);\n      }\n    };\n    var rejected = (value) => {\n      try {\n        step(generator.throw(value));\n      } catch (e) {\n        reject(e);\n      }\n    };\n    var step = (x) => x.done ? resolve(x.value) : Promise.resolve(x.value).then(fulfilled, rejected);\n    step((generator = generator.apply(__this, __arguments)).next());\n  });\n};\n\n\n//# sourceMappingURL=chunk-SKC7AJIV.mjs.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvQGNvcGlsb3RraXQvcmVhY3QtY29yZS9kaXN0L2NodW5rLVNLQzdBSklWLm1qcyIsIm1hcHBpbmdzIjoiOzs7Ozs7OztBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLDhFQUE4RSw2REFBNkQ7QUFDM0k7QUFDQSwrQkFBK0I7QUFDL0I7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxRQUFRO0FBQ1I7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsUUFBUTtBQUNSO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7O0FBUUU7QUFDRiIsInNvdXJjZXMiOlsid2VicGFjazovL2V4YW1wbGUtdG9kb3MtYXBwLy4vbm9kZV9tb2R1bGVzL0Bjb3BpbG90a2l0L3JlYWN0LWNvcmUvZGlzdC9jaHVuay1TS0M3QUpJVi5tanM/ZTFhYyJdLCJzb3VyY2VzQ29udGVudCI6WyJ2YXIgX19kZWZQcm9wID0gT2JqZWN0LmRlZmluZVByb3BlcnR5O1xudmFyIF9fZGVmUHJvcHMgPSBPYmplY3QuZGVmaW5lUHJvcGVydGllcztcbnZhciBfX2dldE93blByb3BEZXNjcyA9IE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3JzO1xudmFyIF9fZ2V0T3duUHJvcFN5bWJvbHMgPSBPYmplY3QuZ2V0T3duUHJvcGVydHlTeW1ib2xzO1xudmFyIF9faGFzT3duUHJvcCA9IE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHk7XG52YXIgX19wcm9wSXNFbnVtID0gT2JqZWN0LnByb3RvdHlwZS5wcm9wZXJ0eUlzRW51bWVyYWJsZTtcbnZhciBfX2RlZk5vcm1hbFByb3AgPSAob2JqLCBrZXksIHZhbHVlKSA9PiBrZXkgaW4gb2JqID8gX19kZWZQcm9wKG9iaiwga2V5LCB7IGVudW1lcmFibGU6IHRydWUsIGNvbmZpZ3VyYWJsZTogdHJ1ZSwgd3JpdGFibGU6IHRydWUsIHZhbHVlIH0pIDogb2JqW2tleV0gPSB2YWx1ZTtcbnZhciBfX3NwcmVhZFZhbHVlcyA9IChhLCBiKSA9PiB7XG4gIGZvciAodmFyIHByb3AgaW4gYiB8fCAoYiA9IHt9KSlcbiAgICBpZiAoX19oYXNPd25Qcm9wLmNhbGwoYiwgcHJvcCkpXG4gICAgICBfX2RlZk5vcm1hbFByb3AoYSwgcHJvcCwgYltwcm9wXSk7XG4gIGlmIChfX2dldE93blByb3BTeW1ib2xzKVxuICAgIGZvciAodmFyIHByb3Agb2YgX19nZXRPd25Qcm9wU3ltYm9scyhiKSkge1xuICAgICAgaWYgKF9fcHJvcElzRW51bS5jYWxsKGIsIHByb3ApKVxuICAgICAgICBfX2RlZk5vcm1hbFByb3AoYSwgcHJvcCwgYltwcm9wXSk7XG4gICAgfVxuICByZXR1cm4gYTtcbn07XG52YXIgX19zcHJlYWRQcm9wcyA9IChhLCBiKSA9PiBfX2RlZlByb3BzKGEsIF9fZ2V0T3duUHJvcERlc2NzKGIpKTtcbnZhciBfX3Jlc3RLZXkgPSAoa2V5KSA9PiB0eXBlb2Yga2V5ID09PSBcInN5bWJvbFwiID8ga2V5IDoga2V5ICsgXCJcIjtcbnZhciBfX29ialJlc3QgPSAoc291cmNlLCBleGNsdWRlKSA9PiB7XG4gIHZhciB0YXJnZXQgPSB7fTtcbiAgZm9yICh2YXIgcHJvcCBpbiBzb3VyY2UpXG4gICAgaWYgKF9faGFzT3duUHJvcC5jYWxsKHNvdXJjZSwgcHJvcCkgJiYgZXhjbHVkZS5pbmRleE9mKHByb3ApIDwgMClcbiAgICAgIHRhcmdldFtwcm9wXSA9IHNvdXJjZVtwcm9wXTtcbiAgaWYgKHNvdXJjZSAhPSBudWxsICYmIF9fZ2V0T3duUHJvcFN5bWJvbHMpXG4gICAgZm9yICh2YXIgcHJvcCBvZiBfX2dldE93blByb3BTeW1ib2xzKHNvdXJjZSkpIHtcbiAgICAgIGlmIChleGNsdWRlLmluZGV4T2YocHJvcCkgPCAwICYmIF9fcHJvcElzRW51bS5jYWxsKHNvdXJjZSwgcHJvcCkpXG4gICAgICAgIHRhcmdldFtwcm9wXSA9IHNvdXJjZVtwcm9wXTtcbiAgICB9XG4gIHJldHVybiB0YXJnZXQ7XG59O1xudmFyIF9fYXN5bmMgPSAoX190aGlzLCBfX2FyZ3VtZW50cywgZ2VuZXJhdG9yKSA9PiB7XG4gIHJldHVybiBuZXcgUHJvbWlzZSgocmVzb2x2ZSwgcmVqZWN0KSA9PiB7XG4gICAgdmFyIGZ1bGZpbGxlZCA9ICh2YWx1ZSkgPT4ge1xuICAgICAgdHJ5IHtcbiAgICAgICAgc3RlcChnZW5lcmF0b3IubmV4dCh2YWx1ZSkpO1xuICAgICAgfSBjYXRjaCAoZSkge1xuICAgICAgICByZWplY3QoZSk7XG4gICAgICB9XG4gICAgfTtcbiAgICB2YXIgcmVqZWN0ZWQgPSAodmFsdWUpID0+IHtcbiAgICAgIHRyeSB7XG4gICAgICAgIHN0ZXAoZ2VuZXJhdG9yLnRocm93KHZhbHVlKSk7XG4gICAgICB9IGNhdGNoIChlKSB7XG4gICAgICAgIHJlamVjdChlKTtcbiAgICAgIH1cbiAgICB9O1xuICAgIHZhciBzdGVwID0gKHgpID0+IHguZG9uZSA/IHJlc29sdmUoeC52YWx1ZSkgOiBQcm9taXNlLnJlc29sdmUoeC52YWx1ZSkudGhlbihmdWxmaWxsZWQsIHJlamVjdGVkKTtcbiAgICBzdGVwKChnZW5lcmF0b3IgPSBnZW5lcmF0b3IuYXBwbHkoX190aGlzLCBfX2FyZ3VtZW50cykpLm5leHQoKSk7XG4gIH0pO1xufTtcblxuZXhwb3J0IHtcbiAgX19zcHJlYWRWYWx1ZXMsXG4gIF9fc3ByZWFkUHJvcHMsXG4gIF9fcmVzdEtleSxcbiAgX19vYmpSZXN0LFxuICBfX2FzeW5jXG59O1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9Y2h1bmstU0tDN0FKSVYubWpzLm1hcCJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/@copilotkit/react-core/dist/chunk-SKC7AJIV.mjs\n");

/***/ }),

/***/ "(ssr)/./node_modules/@copilotkit/react-core/dist/chunk-TCZBK3HZ.mjs":
/*!*********************************************************************!*\
  !*** ./node_modules/@copilotkit/react-core/dist/chunk-TCZBK3HZ.mjs ***!
  \*********************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   extract: () => (/* binding */ extract)\n/* harmony export */ });\n/* harmony import */ var _chunk_RBNULK3U_mjs__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./chunk-RBNULK3U.mjs */ \"(ssr)/./node_modules/@copilotkit/react-core/dist/chunk-RBNULK3U.mjs\");\n/* harmony import */ var _chunk_SKC7AJIV_mjs__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./chunk-SKC7AJIV.mjs */ \"(ssr)/./node_modules/@copilotkit/react-core/dist/chunk-SKC7AJIV.mjs\");\n/* harmony import */ var _copilotkit_shared__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @copilotkit/shared */ \"(ssr)/./node_modules/@copilotkit/shared/dist/chunk-3AJ2GKWG.mjs\");\n/* harmony import */ var _copilotkit_shared__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! @copilotkit/shared */ \"(ssr)/./node_modules/@copilotkit/shared/dist/chunk-CIPF7PMC.mjs\");\n/* harmony import */ var _copilotkit_runtime_client_gql__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @copilotkit/runtime-client-gql */ \"(ssr)/./node_modules/@copilotkit/runtime-client-gql/dist/chunk-OS54FOSV.mjs\");\n/* harmony import */ var _copilotkit_runtime_client_gql__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @copilotkit/runtime-client-gql */ \"(ssr)/./node_modules/@copilotkit/runtime-client-gql/dist/chunk-UTB4B2W3.mjs\");\n/* harmony import */ var _copilotkit_runtime_client_gql__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! @copilotkit/runtime-client-gql */ \"(ssr)/./node_modules/@copilotkit/runtime-client-gql/dist/chunk-JNC3D4OO.mjs\");\n/* harmony import */ var _copilotkit_runtime_client_gql__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! @copilotkit/runtime-client-gql */ \"(ssr)/./node_modules/@copilotkit/runtime-client-gql/dist/chunk-PQKGPNPU.mjs\");\n\n\n\n// src/utils/extract.ts\n\n\n\n\nfunction extract(_0) {\n  return (0,_chunk_SKC7AJIV_mjs__WEBPACK_IMPORTED_MODULE_0__.__async)(this, arguments, function* ({\n    context,\n    instructions,\n    parameters,\n    include,\n    data,\n    abortSignal,\n    stream,\n    requestType = _copilotkit_runtime_client_gql__WEBPACK_IMPORTED_MODULE_1__.CopilotRequestType.Task\n  }) {\n    var _a, _b;\n    const { messages } = context;\n    const action = {\n      name: \"extract\",\n      parameters,\n      handler: (args) => {\n      }\n    };\n    const includeReadable = (_a = include == null ? void 0 : include.readable) != null ? _a : false;\n    const includeMessages = (_b = include == null ? void 0 : include.messages) != null ? _b : false;\n    let contextString = \"\";\n    if (data) {\n      contextString = (typeof data === \"string\" ? data : JSON.stringify(data)) + \"\\n\\n\";\n    }\n    if (includeReadable) {\n      contextString += context.getContextString([], _chunk_RBNULK3U_mjs__WEBPACK_IMPORTED_MODULE_2__.defaultCopilotContextCategories);\n    }\n    const systemMessage = new _copilotkit_runtime_client_gql__WEBPACK_IMPORTED_MODULE_3__.TextMessage({\n      content: makeSystemMessage(contextString, instructions),\n      role: _copilotkit_runtime_client_gql__WEBPACK_IMPORTED_MODULE_3__.Role.System\n    });\n    const headers = (0,_chunk_SKC7AJIV_mjs__WEBPACK_IMPORTED_MODULE_0__.__spreadValues)((0,_chunk_SKC7AJIV_mjs__WEBPACK_IMPORTED_MODULE_0__.__spreadValues)({}, context.copilotApiConfig.headers || {}), context.copilotApiConfig.publicApiKey ? { [_copilotkit_shared__WEBPACK_IMPORTED_MODULE_4__.COPILOT_CLOUD_PUBLIC_API_KEY_HEADER]: context.copilotApiConfig.publicApiKey } : {});\n    const runtimeClient = new _copilotkit_runtime_client_gql__WEBPACK_IMPORTED_MODULE_5__.CopilotRuntimeClient({\n      url: context.copilotApiConfig.chatApiEndpoint,\n      publicApiKey: context.copilotApiConfig.publicApiKey,\n      headers,\n      credentials: context.copilotApiConfig.credentials\n    });\n    const response = _copilotkit_runtime_client_gql__WEBPACK_IMPORTED_MODULE_5__.CopilotRuntimeClient.asStream(\n      runtimeClient.generateCopilotResponse({\n        data: {\n          frontend: {\n            actions: [\n              {\n                name: action.name,\n                description: action.description || \"\",\n                jsonSchema: JSON.stringify((0,_copilotkit_shared__WEBPACK_IMPORTED_MODULE_6__.actionParametersToJsonSchema)(action.parameters || []))\n              }\n            ],\n            url: window.location.href\n          },\n          messages: (0,_copilotkit_runtime_client_gql__WEBPACK_IMPORTED_MODULE_7__.convertMessagesToGqlInput)(\n            includeMessages ? [systemMessage, ...(0,_copilotkit_runtime_client_gql__WEBPACK_IMPORTED_MODULE_7__.filterAgentStateMessages)(messages)] : [systemMessage]\n          ),\n          metadata: {\n            requestType\n          },\n          forwardedParameters: {\n            toolChoice: \"function\",\n            toolChoiceFunctionName: action.name\n          }\n        },\n        properties: context.copilotApiConfig.properties,\n        signal: abortSignal\n      })\n    );\n    const reader = response.getReader();\n    let isInitial = true;\n    let actionExecutionMessage = void 0;\n    while (true) {\n      const { done, value } = yield reader.read();\n      if (done) {\n        break;\n      }\n      if (abortSignal == null ? void 0 : abortSignal.aborted) {\n        throw new Error(\"Aborted\");\n      }\n      actionExecutionMessage = (0,_copilotkit_runtime_client_gql__WEBPACK_IMPORTED_MODULE_7__.convertGqlOutputToMessages)(\n        value.generateCopilotResponse.messages\n      ).find((msg) => msg instanceof _copilotkit_runtime_client_gql__WEBPACK_IMPORTED_MODULE_3__.ActionExecutionMessage);\n      if (!actionExecutionMessage) {\n        continue;\n      }\n      stream == null ? void 0 : stream({\n        status: isInitial ? \"initial\" : \"inProgress\",\n        args: actionExecutionMessage.arguments\n      });\n      isInitial = false;\n    }\n    if (!actionExecutionMessage) {\n      throw new Error(\"extract() failed: No function call occurred\");\n    }\n    stream == null ? void 0 : stream({\n      status: \"complete\",\n      args: actionExecutionMessage.arguments\n    });\n    return actionExecutionMessage.arguments;\n  });\n}\nfunction makeSystemMessage(contextString, instructions) {\n  return `\nPlease act as an efficient, competent, conscientious, and industrious professional assistant.\n\nHelp the user achieve their goals, and you do so in a way that is as efficient as possible, without unnecessary fluff, but also without sacrificing professionalism.\nAlways be polite and respectful, and prefer brevity over verbosity.\n\nThe user has provided you with the following context:\n\\`\\`\\`\n${contextString}\n\\`\\`\\`\n\nThey have also provided you with a function called extract you MUST call to initiate actions on their behalf.\n\nPlease assist them as best you can.\n\nThis is not a conversation, so please do not ask questions. Just call the function without saying anything else.\n\nThe user has given you the following task to complete:\n\n\\`\\`\\`\n${instructions}\n\\`\\`\\`\n\nAny additional messages provided are for providing context only and should not be used to ask questions or engage in conversation.\n`;\n}\n\n\n//# sourceMappingURL=chunk-TCZBK3HZ.mjs.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvQGNvcGlsb3RraXQvcmVhY3QtY29yZS9kaXN0L2NodW5rLVRDWkJLM0haLm1qcyIsIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7QUFFOEI7QUFJQTs7QUFFOUI7QUFJNEI7QUFPWTtBQUM4QjtBQUk5QjtBQUN4QztBQUNBLFNBQVMsNERBQU87QUFDaEI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxrQkFBa0IsOEVBQWtCO0FBQ3BDLEdBQUc7QUFDSDtBQUNBLFlBQVksV0FBVztBQUN2QjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLG9EQUFvRCxnRkFBK0I7QUFDbkY7QUFDQSw4QkFBOEIsdUVBQVc7QUFDekM7QUFDQSxZQUFZLGdFQUFJO0FBQ2hCLEtBQUs7QUFDTCxvQkFBb0IsbUVBQWMsQ0FBQyxtRUFBYyxHQUFHLHdDQUF3Qyw2Q0FBNkMsQ0FBQyxtRkFBbUMsMkNBQTJDLElBQUk7QUFDNU4sOEJBQThCLGdGQUFvQjtBQUNsRDtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTCxxQkFBcUIsZ0ZBQW9CO0FBQ3pDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsMkNBQTJDLGdGQUE0QjtBQUN2RTtBQUNBO0FBQ0E7QUFDQSxXQUFXO0FBQ1gsb0JBQW9CLHlGQUF5QjtBQUM3QyxpREFBaUQsd0ZBQXdCO0FBQ3pFO0FBQ0E7QUFDQTtBQUNBLFdBQVc7QUFDWDtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0EsT0FBTztBQUNQO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxjQUFjLGNBQWM7QUFDNUI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsK0JBQStCLDBGQUEwQjtBQUN6RDtBQUNBLHFDQUFxQyxrRkFBc0I7QUFDM0Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsT0FBTztBQUNQO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0EsRUFBRTtBQUNGOztBQUVBOztBQUVBOztBQUVBOztBQUVBOztBQUVBO0FBQ0EsRUFBRTtBQUNGOztBQUVBO0FBQ0E7QUFDQTs7QUFJRTtBQUNGIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vZXhhbXBsZS10b2Rvcy1hcHAvLi9ub2RlX21vZHVsZXMvQGNvcGlsb3RraXQvcmVhY3QtY29yZS9kaXN0L2NodW5rLVRDWkJLM0haLm1qcz9lMTgzIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7XG4gIGRlZmF1bHRDb3BpbG90Q29udGV4dENhdGVnb3JpZXNcbn0gZnJvbSBcIi4vY2h1bmstUkJOVUxLM1UubWpzXCI7XG5pbXBvcnQge1xuICBfX2FzeW5jLFxuICBfX3NwcmVhZFZhbHVlc1xufSBmcm9tIFwiLi9jaHVuay1TS0M3QUpJVi5tanNcIjtcblxuLy8gc3JjL3V0aWxzL2V4dHJhY3QudHNcbmltcG9ydCB7XG4gIENPUElMT1RfQ0xPVURfUFVCTElDX0FQSV9LRVlfSEVBREVSLFxuICBhY3Rpb25QYXJhbWV0ZXJzVG9Kc29uU2NoZW1hXG59IGZyb20gXCJAY29waWxvdGtpdC9zaGFyZWRcIjtcbmltcG9ydCB7XG4gIEFjdGlvbkV4ZWN1dGlvbk1lc3NhZ2UsXG4gIFJvbGUsXG4gIFRleHRNZXNzYWdlLFxuICBjb252ZXJ0R3FsT3V0cHV0VG9NZXNzYWdlcyxcbiAgQ29waWxvdFJlcXVlc3RUeXBlXG59IGZyb20gXCJAY29waWxvdGtpdC9ydW50aW1lLWNsaWVudC1ncWxcIjtcbmltcG9ydCB7IENvcGlsb3RSdW50aW1lQ2xpZW50IH0gZnJvbSBcIkBjb3BpbG90a2l0L3J1bnRpbWUtY2xpZW50LWdxbFwiO1xuaW1wb3J0IHtcbiAgY29udmVydE1lc3NhZ2VzVG9HcWxJbnB1dCxcbiAgZmlsdGVyQWdlbnRTdGF0ZU1lc3NhZ2VzXG59IGZyb20gXCJAY29waWxvdGtpdC9ydW50aW1lLWNsaWVudC1ncWxcIjtcbmZ1bmN0aW9uIGV4dHJhY3QoXzApIHtcbiAgcmV0dXJuIF9fYXN5bmModGhpcywgYXJndW1lbnRzLCBmdW5jdGlvbiogKHtcbiAgICBjb250ZXh0LFxuICAgIGluc3RydWN0aW9ucyxcbiAgICBwYXJhbWV0ZXJzLFxuICAgIGluY2x1ZGUsXG4gICAgZGF0YSxcbiAgICBhYm9ydFNpZ25hbCxcbiAgICBzdHJlYW0sXG4gICAgcmVxdWVzdFR5cGUgPSBDb3BpbG90UmVxdWVzdFR5cGUuVGFza1xuICB9KSB7XG4gICAgdmFyIF9hLCBfYjtcbiAgICBjb25zdCB7IG1lc3NhZ2VzIH0gPSBjb250ZXh0O1xuICAgIGNvbnN0IGFjdGlvbiA9IHtcbiAgICAgIG5hbWU6IFwiZXh0cmFjdFwiLFxuICAgICAgcGFyYW1ldGVycyxcbiAgICAgIGhhbmRsZXI6IChhcmdzKSA9PiB7XG4gICAgICB9XG4gICAgfTtcbiAgICBjb25zdCBpbmNsdWRlUmVhZGFibGUgPSAoX2EgPSBpbmNsdWRlID09IG51bGwgPyB2b2lkIDAgOiBpbmNsdWRlLnJlYWRhYmxlKSAhPSBudWxsID8gX2EgOiBmYWxzZTtcbiAgICBjb25zdCBpbmNsdWRlTWVzc2FnZXMgPSAoX2IgPSBpbmNsdWRlID09IG51bGwgPyB2b2lkIDAgOiBpbmNsdWRlLm1lc3NhZ2VzKSAhPSBudWxsID8gX2IgOiBmYWxzZTtcbiAgICBsZXQgY29udGV4dFN0cmluZyA9IFwiXCI7XG4gICAgaWYgKGRhdGEpIHtcbiAgICAgIGNvbnRleHRTdHJpbmcgPSAodHlwZW9mIGRhdGEgPT09IFwic3RyaW5nXCIgPyBkYXRhIDogSlNPTi5zdHJpbmdpZnkoZGF0YSkpICsgXCJcXG5cXG5cIjtcbiAgICB9XG4gICAgaWYgKGluY2x1ZGVSZWFkYWJsZSkge1xuICAgICAgY29udGV4dFN0cmluZyArPSBjb250ZXh0LmdldENvbnRleHRTdHJpbmcoW10sIGRlZmF1bHRDb3BpbG90Q29udGV4dENhdGVnb3JpZXMpO1xuICAgIH1cbiAgICBjb25zdCBzeXN0ZW1NZXNzYWdlID0gbmV3IFRleHRNZXNzYWdlKHtcbiAgICAgIGNvbnRlbnQ6IG1ha2VTeXN0ZW1NZXNzYWdlKGNvbnRleHRTdHJpbmcsIGluc3RydWN0aW9ucyksXG4gICAgICByb2xlOiBSb2xlLlN5c3RlbVxuICAgIH0pO1xuICAgIGNvbnN0IGhlYWRlcnMgPSBfX3NwcmVhZFZhbHVlcyhfX3NwcmVhZFZhbHVlcyh7fSwgY29udGV4dC5jb3BpbG90QXBpQ29uZmlnLmhlYWRlcnMgfHwge30pLCBjb250ZXh0LmNvcGlsb3RBcGlDb25maWcucHVibGljQXBpS2V5ID8geyBbQ09QSUxPVF9DTE9VRF9QVUJMSUNfQVBJX0tFWV9IRUFERVJdOiBjb250ZXh0LmNvcGlsb3RBcGlDb25maWcucHVibGljQXBpS2V5IH0gOiB7fSk7XG4gICAgY29uc3QgcnVudGltZUNsaWVudCA9IG5ldyBDb3BpbG90UnVudGltZUNsaWVudCh7XG4gICAgICB1cmw6IGNvbnRleHQuY29waWxvdEFwaUNvbmZpZy5jaGF0QXBpRW5kcG9pbnQsXG4gICAgICBwdWJsaWNBcGlLZXk6IGNvbnRleHQuY29waWxvdEFwaUNvbmZpZy5wdWJsaWNBcGlLZXksXG4gICAgICBoZWFkZXJzLFxuICAgICAgY3JlZGVudGlhbHM6IGNvbnRleHQuY29waWxvdEFwaUNvbmZpZy5jcmVkZW50aWFsc1xuICAgIH0pO1xuICAgIGNvbnN0IHJlc3BvbnNlID0gQ29waWxvdFJ1bnRpbWVDbGllbnQuYXNTdHJlYW0oXG4gICAgICBydW50aW1lQ2xpZW50LmdlbmVyYXRlQ29waWxvdFJlc3BvbnNlKHtcbiAgICAgICAgZGF0YToge1xuICAgICAgICAgIGZyb250ZW5kOiB7XG4gICAgICAgICAgICBhY3Rpb25zOiBbXG4gICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICBuYW1lOiBhY3Rpb24ubmFtZSxcbiAgICAgICAgICAgICAgICBkZXNjcmlwdGlvbjogYWN0aW9uLmRlc2NyaXB0aW9uIHx8IFwiXCIsXG4gICAgICAgICAgICAgICAganNvblNjaGVtYTogSlNPTi5zdHJpbmdpZnkoYWN0aW9uUGFyYW1ldGVyc1RvSnNvblNjaGVtYShhY3Rpb24ucGFyYW1ldGVycyB8fCBbXSkpXG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIF0sXG4gICAgICAgICAgICB1cmw6IHdpbmRvdy5sb2NhdGlvbi5ocmVmXG4gICAgICAgICAgfSxcbiAgICAgICAgICBtZXNzYWdlczogY29udmVydE1lc3NhZ2VzVG9HcWxJbnB1dChcbiAgICAgICAgICAgIGluY2x1ZGVNZXNzYWdlcyA/IFtzeXN0ZW1NZXNzYWdlLCAuLi5maWx0ZXJBZ2VudFN0YXRlTWVzc2FnZXMobWVzc2FnZXMpXSA6IFtzeXN0ZW1NZXNzYWdlXVxuICAgICAgICAgICksXG4gICAgICAgICAgbWV0YWRhdGE6IHtcbiAgICAgICAgICAgIHJlcXVlc3RUeXBlXG4gICAgICAgICAgfSxcbiAgICAgICAgICBmb3J3YXJkZWRQYXJhbWV0ZXJzOiB7XG4gICAgICAgICAgICB0b29sQ2hvaWNlOiBcImZ1bmN0aW9uXCIsXG4gICAgICAgICAgICB0b29sQ2hvaWNlRnVuY3Rpb25OYW1lOiBhY3Rpb24ubmFtZVxuICAgICAgICAgIH1cbiAgICAgICAgfSxcbiAgICAgICAgcHJvcGVydGllczogY29udGV4dC5jb3BpbG90QXBpQ29uZmlnLnByb3BlcnRpZXMsXG4gICAgICAgIHNpZ25hbDogYWJvcnRTaWduYWxcbiAgICAgIH0pXG4gICAgKTtcbiAgICBjb25zdCByZWFkZXIgPSByZXNwb25zZS5nZXRSZWFkZXIoKTtcbiAgICBsZXQgaXNJbml0aWFsID0gdHJ1ZTtcbiAgICBsZXQgYWN0aW9uRXhlY3V0aW9uTWVzc2FnZSA9IHZvaWQgMDtcbiAgICB3aGlsZSAodHJ1ZSkge1xuICAgICAgY29uc3QgeyBkb25lLCB2YWx1ZSB9ID0geWllbGQgcmVhZGVyLnJlYWQoKTtcbiAgICAgIGlmIChkb25lKSB7XG4gICAgICAgIGJyZWFrO1xuICAgICAgfVxuICAgICAgaWYgKGFib3J0U2lnbmFsID09IG51bGwgPyB2b2lkIDAgOiBhYm9ydFNpZ25hbC5hYm9ydGVkKSB7XG4gICAgICAgIHRocm93IG5ldyBFcnJvcihcIkFib3J0ZWRcIik7XG4gICAgICB9XG4gICAgICBhY3Rpb25FeGVjdXRpb25NZXNzYWdlID0gY29udmVydEdxbE91dHB1dFRvTWVzc2FnZXMoXG4gICAgICAgIHZhbHVlLmdlbmVyYXRlQ29waWxvdFJlc3BvbnNlLm1lc3NhZ2VzXG4gICAgICApLmZpbmQoKG1zZykgPT4gbXNnIGluc3RhbmNlb2YgQWN0aW9uRXhlY3V0aW9uTWVzc2FnZSk7XG4gICAgICBpZiAoIWFjdGlvbkV4ZWN1dGlvbk1lc3NhZ2UpIHtcbiAgICAgICAgY29udGludWU7XG4gICAgICB9XG4gICAgICBzdHJlYW0gPT0gbnVsbCA/IHZvaWQgMCA6IHN0cmVhbSh7XG4gICAgICAgIHN0YXR1czogaXNJbml0aWFsID8gXCJpbml0aWFsXCIgOiBcImluUHJvZ3Jlc3NcIixcbiAgICAgICAgYXJnczogYWN0aW9uRXhlY3V0aW9uTWVzc2FnZS5hcmd1bWVudHNcbiAgICAgIH0pO1xuICAgICAgaXNJbml0aWFsID0gZmFsc2U7XG4gICAgfVxuICAgIGlmICghYWN0aW9uRXhlY3V0aW9uTWVzc2FnZSkge1xuICAgICAgdGhyb3cgbmV3IEVycm9yKFwiZXh0cmFjdCgpIGZhaWxlZDogTm8gZnVuY3Rpb24gY2FsbCBvY2N1cnJlZFwiKTtcbiAgICB9XG4gICAgc3RyZWFtID09IG51bGwgPyB2b2lkIDAgOiBzdHJlYW0oe1xuICAgICAgc3RhdHVzOiBcImNvbXBsZXRlXCIsXG4gICAgICBhcmdzOiBhY3Rpb25FeGVjdXRpb25NZXNzYWdlLmFyZ3VtZW50c1xuICAgIH0pO1xuICAgIHJldHVybiBhY3Rpb25FeGVjdXRpb25NZXNzYWdlLmFyZ3VtZW50cztcbiAgfSk7XG59XG5mdW5jdGlvbiBtYWtlU3lzdGVtTWVzc2FnZShjb250ZXh0U3RyaW5nLCBpbnN0cnVjdGlvbnMpIHtcbiAgcmV0dXJuIGBcblBsZWFzZSBhY3QgYXMgYW4gZWZmaWNpZW50LCBjb21wZXRlbnQsIGNvbnNjaWVudGlvdXMsIGFuZCBpbmR1c3RyaW91cyBwcm9mZXNzaW9uYWwgYXNzaXN0YW50LlxuXG5IZWxwIHRoZSB1c2VyIGFjaGlldmUgdGhlaXIgZ29hbHMsIGFuZCB5b3UgZG8gc28gaW4gYSB3YXkgdGhhdCBpcyBhcyBlZmZpY2llbnQgYXMgcG9zc2libGUsIHdpdGhvdXQgdW5uZWNlc3NhcnkgZmx1ZmYsIGJ1dCBhbHNvIHdpdGhvdXQgc2FjcmlmaWNpbmcgcHJvZmVzc2lvbmFsaXNtLlxuQWx3YXlzIGJlIHBvbGl0ZSBhbmQgcmVzcGVjdGZ1bCwgYW5kIHByZWZlciBicmV2aXR5IG92ZXIgdmVyYm9zaXR5LlxuXG5UaGUgdXNlciBoYXMgcHJvdmlkZWQgeW91IHdpdGggdGhlIGZvbGxvd2luZyBjb250ZXh0OlxuXFxgXFxgXFxgXG4ke2NvbnRleHRTdHJpbmd9XG5cXGBcXGBcXGBcblxuVGhleSBoYXZlIGFsc28gcHJvdmlkZWQgeW91IHdpdGggYSBmdW5jdGlvbiBjYWxsZWQgZXh0cmFjdCB5b3UgTVVTVCBjYWxsIHRvIGluaXRpYXRlIGFjdGlvbnMgb24gdGhlaXIgYmVoYWxmLlxuXG5QbGVhc2UgYXNzaXN0IHRoZW0gYXMgYmVzdCB5b3UgY2FuLlxuXG5UaGlzIGlzIG5vdCBhIGNvbnZlcnNhdGlvbiwgc28gcGxlYXNlIGRvIG5vdCBhc2sgcXVlc3Rpb25zLiBKdXN0IGNhbGwgdGhlIGZ1bmN0aW9uIHdpdGhvdXQgc2F5aW5nIGFueXRoaW5nIGVsc2UuXG5cblRoZSB1c2VyIGhhcyBnaXZlbiB5b3UgdGhlIGZvbGxvd2luZyB0YXNrIHRvIGNvbXBsZXRlOlxuXG5cXGBcXGBcXGBcbiR7aW5zdHJ1Y3Rpb25zfVxuXFxgXFxgXFxgXG5cbkFueSBhZGRpdGlvbmFsIG1lc3NhZ2VzIHByb3ZpZGVkIGFyZSBmb3IgcHJvdmlkaW5nIGNvbnRleHQgb25seSBhbmQgc2hvdWxkIG5vdCBiZSB1c2VkIHRvIGFzayBxdWVzdGlvbnMgb3IgZW5nYWdlIGluIGNvbnZlcnNhdGlvbi5cbmA7XG59XG5cbmV4cG9ydCB7XG4gIGV4dHJhY3Rcbn07XG4vLyMgc291cmNlTWFwcGluZ1VSTD1jaHVuay1UQ1pCSzNIWi5tanMubWFwIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/@copilotkit/react-core/dist/chunk-TCZBK3HZ.mjs\n");

/***/ }),

/***/ "(ssr)/./node_modules/@copilotkit/react-core/dist/chunk-VCEOT4GG.mjs":
/*!*********************************************************************!*\
  !*** ./node_modules/@copilotkit/react-core/dist/chunk-VCEOT4GG.mjs ***!
  \*********************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   defaultSystemMessage: () => (/* binding */ defaultSystemMessage),\n/* harmony export */   useCopilotChat: () => (/* binding */ useCopilotChat)\n/* harmony export */ });\n/* harmony import */ var _chunk_RBNULK3U_mjs__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./chunk-RBNULK3U.mjs */ \"(ssr)/./node_modules/@copilotkit/react-core/dist/chunk-RBNULK3U.mjs\");\n/* harmony import */ var _chunk_RWPGGPW5_mjs__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./chunk-RWPGGPW5.mjs */ \"(ssr)/./node_modules/@copilotkit/react-core/dist/chunk-RWPGGPW5.mjs\");\n/* harmony import */ var _chunk_J2YXDQHR_mjs__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./chunk-J2YXDQHR.mjs */ \"(ssr)/./node_modules/@copilotkit/react-core/dist/chunk-J2YXDQHR.mjs\");\n/* harmony import */ var _chunk_SKC7AJIV_mjs__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./chunk-SKC7AJIV.mjs */ \"(ssr)/./node_modules/@copilotkit/react-core/dist/chunk-SKC7AJIV.mjs\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ \"(ssr)/./node_modules/next/dist/server/future/route-modules/app-page/vendored/ssr/react.js\");\n/* harmony import */ var _copilotkit_runtime_client_gql__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @copilotkit/runtime-client-gql */ \"(ssr)/./node_modules/@copilotkit/runtime-client-gql/dist/chunk-UTB4B2W3.mjs\");\n\n\n\n\n\n// src/hooks/use-copilot-chat.ts\n\n\nfunction useCopilotChat(_a = {}) {\n  var _b = _a, {\n    makeSystemMessage\n  } = _b, options = (0,_chunk_SKC7AJIV_mjs__WEBPACK_IMPORTED_MODULE_1__.__objRest)(_b, [\n    \"makeSystemMessage\"\n  ]);\n  const {\n    getContextString,\n    getFunctionCallHandler,\n    copilotApiConfig,\n    messages,\n    setMessages,\n    isLoading,\n    setIsLoading,\n    chatInstructions,\n    actions,\n    coagentStates,\n    setCoagentStates,\n    coagentActions,\n    agentSession,\n    setAgentSession\n  } = (0,_chunk_J2YXDQHR_mjs__WEBPACK_IMPORTED_MODULE_2__.useCopilotContext)();\n  const latestGetContextString = useUpdatedRef(getContextString);\n  const deleteMessage = (0,react__WEBPACK_IMPORTED_MODULE_0__.useCallback)(\n    (messageId) => {\n      setMessages((prev) => prev.filter((message) => message.id !== messageId));\n    },\n    [setMessages]\n  );\n  const makeSystemMessageCallback = (0,react__WEBPACK_IMPORTED_MODULE_0__.useCallback)(() => {\n    const systemMessageMaker = makeSystemMessage || defaultSystemMessage;\n    const contextString = latestGetContextString.current([], _chunk_RBNULK3U_mjs__WEBPACK_IMPORTED_MODULE_3__.defaultCopilotContextCategories);\n    return new _copilotkit_runtime_client_gql__WEBPACK_IMPORTED_MODULE_4__.TextMessage({\n      content: systemMessageMaker(contextString, chatInstructions),\n      role: _copilotkit_runtime_client_gql__WEBPACK_IMPORTED_MODULE_4__.Role.System\n    });\n  }, [getContextString, makeSystemMessage, chatInstructions]);\n  const onCoagentAction = (0,react__WEBPACK_IMPORTED_MODULE_0__.useCallback)(\n    (args) => (0,_chunk_SKC7AJIV_mjs__WEBPACK_IMPORTED_MODULE_1__.__async)(this, null, function* () {\n      var _a2;\n      const { name, nodeName, state } = args;\n      let action = Object.values(coagentActions).find(\n        (action2) => action2.name === name && action2.nodeName === nodeName\n      );\n      if (!action) {\n        action = Object.values(coagentActions).find(\n          (action2) => action2.name === name && !action2.nodeName\n        );\n      }\n      if (action) {\n        yield (_a2 = action.handler) == null ? void 0 : _a2.call(action, { state, nodeName });\n      }\n    }),\n    [coagentActions]\n  );\n  const { append, reload, stop } = (0,_chunk_RWPGGPW5_mjs__WEBPACK_IMPORTED_MODULE_5__.useChat)((0,_chunk_SKC7AJIV_mjs__WEBPACK_IMPORTED_MODULE_1__.__spreadProps)((0,_chunk_SKC7AJIV_mjs__WEBPACK_IMPORTED_MODULE_1__.__spreadValues)({}, options), {\n    actions: Object.values(actions),\n    copilotConfig: copilotApiConfig,\n    initialMessages: options.initialMessages || [],\n    onFunctionCall: getFunctionCallHandler(),\n    onCoagentAction,\n    messages,\n    setMessages,\n    makeSystemMessageCallback,\n    isLoading,\n    setIsLoading,\n    coagentStates,\n    setCoagentStates,\n    agentSession,\n    setAgentSession\n  }));\n  const latestAppend = useUpdatedRef(append);\n  const latestAppendFunc = (0,react__WEBPACK_IMPORTED_MODULE_0__.useCallback)(\n    (message) => {\n      return latestAppend.current(message);\n    },\n    [latestAppend]\n  );\n  const latestReload = useUpdatedRef(reload);\n  const latestReloadFunc = (0,react__WEBPACK_IMPORTED_MODULE_0__.useCallback)(() => {\n    return latestReload.current();\n  }, [latestReload]);\n  const latestStop = useUpdatedRef(stop);\n  const latestStopFunc = (0,react__WEBPACK_IMPORTED_MODULE_0__.useCallback)(() => {\n    return latestStop.current();\n  }, [latestStop]);\n  const latestDelete = useUpdatedRef(deleteMessage);\n  const latestDeleteFunc = (0,react__WEBPACK_IMPORTED_MODULE_0__.useCallback)(\n    (messageId) => {\n      return latestDelete.current(messageId);\n    },\n    [latestDelete]\n  );\n  const latestSetMessages = useUpdatedRef(setMessages);\n  const latestSetMessagesFunc = (0,react__WEBPACK_IMPORTED_MODULE_0__.useCallback)(\n    (messages2) => {\n      return latestSetMessages.current(messages2);\n    },\n    [latestSetMessages]\n  );\n  return {\n    visibleMessages: messages,\n    appendMessage: latestAppendFunc,\n    setMessages: latestSetMessagesFunc,\n    reloadMessages: latestReloadFunc,\n    stopGeneration: latestStopFunc,\n    deleteMessage: latestDeleteFunc,\n    isLoading\n  };\n}\nfunction useUpdatedRef(value) {\n  const ref = (0,react__WEBPACK_IMPORTED_MODULE_0__.useRef)(value);\n  (0,react__WEBPACK_IMPORTED_MODULE_0__.useEffect)(() => {\n    ref.current = value;\n  }, [value]);\n  return ref;\n}\nfunction defaultSystemMessage(contextString, additionalInstructions) {\n  return `\nPlease act as an efficient, competent, conscientious, and industrious professional assistant.\n\nHelp the user achieve their goals, and you do so in a way that is as efficient as possible, without unnecessary fluff, but also without sacrificing professionalism.\nAlways be polite and respectful, and prefer brevity over verbosity.\n\nThe user has provided you with the following context:\n\\`\\`\\`\n${contextString}\n\\`\\`\\`\n\nThey have also provided you with functions you can call to initiate actions on their behalf, or functions you can call to receive more information.\n\nPlease assist them as best you can.\n\nYou can ask them for clarifying questions if needed, but don't be annoying about it. If you can reasonably 'fill in the blanks' yourself, do so.\n\nIf you would like to call a function, call it without saying anything else.\n` + (additionalInstructions ? `\n\n${additionalInstructions}` : \"\");\n}\n\n\n//# sourceMappingURL=chunk-VCEOT4GG.mjs.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvQGNvcGlsb3RraXQvcmVhY3QtY29yZS9kaXN0L2NodW5rLVZDRU9UNEdHLm1qcyIsIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7OztBQUU4QjtBQUdBO0FBR0E7QUFNQTs7QUFFOUI7QUFDdUQ7QUFDWTtBQUNuRSwrQkFBK0I7QUFDL0I7QUFDQTtBQUNBLElBQUksZ0JBQWdCLDhEQUFTO0FBQzdCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxJQUFJLEVBQUUsc0VBQWlCO0FBQ3ZCO0FBQ0Esd0JBQXdCLGtEQUFXO0FBQ25DO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBLG9DQUFvQyxrREFBVztBQUMvQztBQUNBLDZEQUE2RCxnRkFBK0I7QUFDNUYsZUFBZSx1RUFBVztBQUMxQjtBQUNBLFlBQVksZ0VBQUk7QUFDaEIsS0FBSztBQUNMLEdBQUc7QUFDSCwwQkFBMEIsa0RBQVc7QUFDckMsY0FBYyw0REFBTztBQUNyQjtBQUNBLGNBQWMsd0JBQXdCO0FBQ3RDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLDJFQUEyRSxpQkFBaUI7QUFDNUY7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBLFVBQVUsdUJBQXVCLEVBQUUsNERBQU8sQ0FBQyxrRUFBYSxDQUFDLG1FQUFjLEdBQUc7QUFDMUU7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBLDJCQUEyQixrREFBVztBQUN0QztBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBLDJCQUEyQixrREFBVztBQUN0QztBQUNBLEdBQUc7QUFDSDtBQUNBLHlCQUF5QixrREFBVztBQUNwQztBQUNBLEdBQUc7QUFDSDtBQUNBLDJCQUEyQixrREFBVztBQUN0QztBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBLGdDQUFnQyxrREFBVztBQUMzQztBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsY0FBYyw2Q0FBTTtBQUNwQixFQUFFLGdEQUFTO0FBQ1g7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQSxFQUFFO0FBQ0Y7O0FBRUE7O0FBRUE7O0FBRUE7O0FBRUE7QUFDQTs7QUFFQSxFQUFFLHVCQUF1QjtBQUN6Qjs7QUFLRTtBQUNGIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vZXhhbXBsZS10b2Rvcy1hcHAvLi9ub2RlX21vZHVsZXMvQGNvcGlsb3RraXQvcmVhY3QtY29yZS9kaXN0L2NodW5rLVZDRU9UNEdHLm1qcz82YTA4Il0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7XG4gIGRlZmF1bHRDb3BpbG90Q29udGV4dENhdGVnb3JpZXNcbn0gZnJvbSBcIi4vY2h1bmstUkJOVUxLM1UubWpzXCI7XG5pbXBvcnQge1xuICB1c2VDaGF0XG59IGZyb20gXCIuL2NodW5rLVJXUEdHUFc1Lm1qc1wiO1xuaW1wb3J0IHtcbiAgdXNlQ29waWxvdENvbnRleHRcbn0gZnJvbSBcIi4vY2h1bmstSjJZWERRSFIubWpzXCI7XG5pbXBvcnQge1xuICBfX2FzeW5jLFxuICBfX29ialJlc3QsXG4gIF9fc3ByZWFkUHJvcHMsXG4gIF9fc3ByZWFkVmFsdWVzXG59IGZyb20gXCIuL2NodW5rLVNLQzdBSklWLm1qc1wiO1xuXG4vLyBzcmMvaG9va3MvdXNlLWNvcGlsb3QtY2hhdC50c1xuaW1wb3J0IHsgdXNlUmVmLCB1c2VFZmZlY3QsIHVzZUNhbGxiYWNrIH0gZnJvbSBcInJlYWN0XCI7XG5pbXBvcnQgeyBSb2xlLCBUZXh0TWVzc2FnZSB9IGZyb20gXCJAY29waWxvdGtpdC9ydW50aW1lLWNsaWVudC1ncWxcIjtcbmZ1bmN0aW9uIHVzZUNvcGlsb3RDaGF0KF9hID0ge30pIHtcbiAgdmFyIF9iID0gX2EsIHtcbiAgICBtYWtlU3lzdGVtTWVzc2FnZVxuICB9ID0gX2IsIG9wdGlvbnMgPSBfX29ialJlc3QoX2IsIFtcbiAgICBcIm1ha2VTeXN0ZW1NZXNzYWdlXCJcbiAgXSk7XG4gIGNvbnN0IHtcbiAgICBnZXRDb250ZXh0U3RyaW5nLFxuICAgIGdldEZ1bmN0aW9uQ2FsbEhhbmRsZXIsXG4gICAgY29waWxvdEFwaUNvbmZpZyxcbiAgICBtZXNzYWdlcyxcbiAgICBzZXRNZXNzYWdlcyxcbiAgICBpc0xvYWRpbmcsXG4gICAgc2V0SXNMb2FkaW5nLFxuICAgIGNoYXRJbnN0cnVjdGlvbnMsXG4gICAgYWN0aW9ucyxcbiAgICBjb2FnZW50U3RhdGVzLFxuICAgIHNldENvYWdlbnRTdGF0ZXMsXG4gICAgY29hZ2VudEFjdGlvbnMsXG4gICAgYWdlbnRTZXNzaW9uLFxuICAgIHNldEFnZW50U2Vzc2lvblxuICB9ID0gdXNlQ29waWxvdENvbnRleHQoKTtcbiAgY29uc3QgbGF0ZXN0R2V0Q29udGV4dFN0cmluZyA9IHVzZVVwZGF0ZWRSZWYoZ2V0Q29udGV4dFN0cmluZyk7XG4gIGNvbnN0IGRlbGV0ZU1lc3NhZ2UgPSB1c2VDYWxsYmFjayhcbiAgICAobWVzc2FnZUlkKSA9PiB7XG4gICAgICBzZXRNZXNzYWdlcygocHJldikgPT4gcHJldi5maWx0ZXIoKG1lc3NhZ2UpID0+IG1lc3NhZ2UuaWQgIT09IG1lc3NhZ2VJZCkpO1xuICAgIH0sXG4gICAgW3NldE1lc3NhZ2VzXVxuICApO1xuICBjb25zdCBtYWtlU3lzdGVtTWVzc2FnZUNhbGxiYWNrID0gdXNlQ2FsbGJhY2soKCkgPT4ge1xuICAgIGNvbnN0IHN5c3RlbU1lc3NhZ2VNYWtlciA9IG1ha2VTeXN0ZW1NZXNzYWdlIHx8IGRlZmF1bHRTeXN0ZW1NZXNzYWdlO1xuICAgIGNvbnN0IGNvbnRleHRTdHJpbmcgPSBsYXRlc3RHZXRDb250ZXh0U3RyaW5nLmN1cnJlbnQoW10sIGRlZmF1bHRDb3BpbG90Q29udGV4dENhdGVnb3JpZXMpO1xuICAgIHJldHVybiBuZXcgVGV4dE1lc3NhZ2Uoe1xuICAgICAgY29udGVudDogc3lzdGVtTWVzc2FnZU1ha2VyKGNvbnRleHRTdHJpbmcsIGNoYXRJbnN0cnVjdGlvbnMpLFxuICAgICAgcm9sZTogUm9sZS5TeXN0ZW1cbiAgICB9KTtcbiAgfSwgW2dldENvbnRleHRTdHJpbmcsIG1ha2VTeXN0ZW1NZXNzYWdlLCBjaGF0SW5zdHJ1Y3Rpb25zXSk7XG4gIGNvbnN0IG9uQ29hZ2VudEFjdGlvbiA9IHVzZUNhbGxiYWNrKFxuICAgIChhcmdzKSA9PiBfX2FzeW5jKHRoaXMsIG51bGwsIGZ1bmN0aW9uKiAoKSB7XG4gICAgICB2YXIgX2EyO1xuICAgICAgY29uc3QgeyBuYW1lLCBub2RlTmFtZSwgc3RhdGUgfSA9IGFyZ3M7XG4gICAgICBsZXQgYWN0aW9uID0gT2JqZWN0LnZhbHVlcyhjb2FnZW50QWN0aW9ucykuZmluZChcbiAgICAgICAgKGFjdGlvbjIpID0+IGFjdGlvbjIubmFtZSA9PT0gbmFtZSAmJiBhY3Rpb24yLm5vZGVOYW1lID09PSBub2RlTmFtZVxuICAgICAgKTtcbiAgICAgIGlmICghYWN0aW9uKSB7XG4gICAgICAgIGFjdGlvbiA9IE9iamVjdC52YWx1ZXMoY29hZ2VudEFjdGlvbnMpLmZpbmQoXG4gICAgICAgICAgKGFjdGlvbjIpID0+IGFjdGlvbjIubmFtZSA9PT0gbmFtZSAmJiAhYWN0aW9uMi5ub2RlTmFtZVxuICAgICAgICApO1xuICAgICAgfVxuICAgICAgaWYgKGFjdGlvbikge1xuICAgICAgICB5aWVsZCAoX2EyID0gYWN0aW9uLmhhbmRsZXIpID09IG51bGwgPyB2b2lkIDAgOiBfYTIuY2FsbChhY3Rpb24sIHsgc3RhdGUsIG5vZGVOYW1lIH0pO1xuICAgICAgfVxuICAgIH0pLFxuICAgIFtjb2FnZW50QWN0aW9uc11cbiAgKTtcbiAgY29uc3QgeyBhcHBlbmQsIHJlbG9hZCwgc3RvcCB9ID0gdXNlQ2hhdChfX3NwcmVhZFByb3BzKF9fc3ByZWFkVmFsdWVzKHt9LCBvcHRpb25zKSwge1xuICAgIGFjdGlvbnM6IE9iamVjdC52YWx1ZXMoYWN0aW9ucyksXG4gICAgY29waWxvdENvbmZpZzogY29waWxvdEFwaUNvbmZpZyxcbiAgICBpbml0aWFsTWVzc2FnZXM6IG9wdGlvbnMuaW5pdGlhbE1lc3NhZ2VzIHx8IFtdLFxuICAgIG9uRnVuY3Rpb25DYWxsOiBnZXRGdW5jdGlvbkNhbGxIYW5kbGVyKCksXG4gICAgb25Db2FnZW50QWN0aW9uLFxuICAgIG1lc3NhZ2VzLFxuICAgIHNldE1lc3NhZ2VzLFxuICAgIG1ha2VTeXN0ZW1NZXNzYWdlQ2FsbGJhY2ssXG4gICAgaXNMb2FkaW5nLFxuICAgIHNldElzTG9hZGluZyxcbiAgICBjb2FnZW50U3RhdGVzLFxuICAgIHNldENvYWdlbnRTdGF0ZXMsXG4gICAgYWdlbnRTZXNzaW9uLFxuICAgIHNldEFnZW50U2Vzc2lvblxuICB9KSk7XG4gIGNvbnN0IGxhdGVzdEFwcGVuZCA9IHVzZVVwZGF0ZWRSZWYoYXBwZW5kKTtcbiAgY29uc3QgbGF0ZXN0QXBwZW5kRnVuYyA9IHVzZUNhbGxiYWNrKFxuICAgIChtZXNzYWdlKSA9PiB7XG4gICAgICByZXR1cm4gbGF0ZXN0QXBwZW5kLmN1cnJlbnQobWVzc2FnZSk7XG4gICAgfSxcbiAgICBbbGF0ZXN0QXBwZW5kXVxuICApO1xuICBjb25zdCBsYXRlc3RSZWxvYWQgPSB1c2VVcGRhdGVkUmVmKHJlbG9hZCk7XG4gIGNvbnN0IGxhdGVzdFJlbG9hZEZ1bmMgPSB1c2VDYWxsYmFjaygoKSA9PiB7XG4gICAgcmV0dXJuIGxhdGVzdFJlbG9hZC5jdXJyZW50KCk7XG4gIH0sIFtsYXRlc3RSZWxvYWRdKTtcbiAgY29uc3QgbGF0ZXN0U3RvcCA9IHVzZVVwZGF0ZWRSZWYoc3RvcCk7XG4gIGNvbnN0IGxhdGVzdFN0b3BGdW5jID0gdXNlQ2FsbGJhY2soKCkgPT4ge1xuICAgIHJldHVybiBsYXRlc3RTdG9wLmN1cnJlbnQoKTtcbiAgfSwgW2xhdGVzdFN0b3BdKTtcbiAgY29uc3QgbGF0ZXN0RGVsZXRlID0gdXNlVXBkYXRlZFJlZihkZWxldGVNZXNzYWdlKTtcbiAgY29uc3QgbGF0ZXN0RGVsZXRlRnVuYyA9IHVzZUNhbGxiYWNrKFxuICAgIChtZXNzYWdlSWQpID0+IHtcbiAgICAgIHJldHVybiBsYXRlc3REZWxldGUuY3VycmVudChtZXNzYWdlSWQpO1xuICAgIH0sXG4gICAgW2xhdGVzdERlbGV0ZV1cbiAgKTtcbiAgY29uc3QgbGF0ZXN0U2V0TWVzc2FnZXMgPSB1c2VVcGRhdGVkUmVmKHNldE1lc3NhZ2VzKTtcbiAgY29uc3QgbGF0ZXN0U2V0TWVzc2FnZXNGdW5jID0gdXNlQ2FsbGJhY2soXG4gICAgKG1lc3NhZ2VzMikgPT4ge1xuICAgICAgcmV0dXJuIGxhdGVzdFNldE1lc3NhZ2VzLmN1cnJlbnQobWVzc2FnZXMyKTtcbiAgICB9LFxuICAgIFtsYXRlc3RTZXRNZXNzYWdlc11cbiAgKTtcbiAgcmV0dXJuIHtcbiAgICB2aXNpYmxlTWVzc2FnZXM6IG1lc3NhZ2VzLFxuICAgIGFwcGVuZE1lc3NhZ2U6IGxhdGVzdEFwcGVuZEZ1bmMsXG4gICAgc2V0TWVzc2FnZXM6IGxhdGVzdFNldE1lc3NhZ2VzRnVuYyxcbiAgICByZWxvYWRNZXNzYWdlczogbGF0ZXN0UmVsb2FkRnVuYyxcbiAgICBzdG9wR2VuZXJhdGlvbjogbGF0ZXN0U3RvcEZ1bmMsXG4gICAgZGVsZXRlTWVzc2FnZTogbGF0ZXN0RGVsZXRlRnVuYyxcbiAgICBpc0xvYWRpbmdcbiAgfTtcbn1cbmZ1bmN0aW9uIHVzZVVwZGF0ZWRSZWYodmFsdWUpIHtcbiAgY29uc3QgcmVmID0gdXNlUmVmKHZhbHVlKTtcbiAgdXNlRWZmZWN0KCgpID0+IHtcbiAgICByZWYuY3VycmVudCA9IHZhbHVlO1xuICB9LCBbdmFsdWVdKTtcbiAgcmV0dXJuIHJlZjtcbn1cbmZ1bmN0aW9uIGRlZmF1bHRTeXN0ZW1NZXNzYWdlKGNvbnRleHRTdHJpbmcsIGFkZGl0aW9uYWxJbnN0cnVjdGlvbnMpIHtcbiAgcmV0dXJuIGBcblBsZWFzZSBhY3QgYXMgYW4gZWZmaWNpZW50LCBjb21wZXRlbnQsIGNvbnNjaWVudGlvdXMsIGFuZCBpbmR1c3RyaW91cyBwcm9mZXNzaW9uYWwgYXNzaXN0YW50LlxuXG5IZWxwIHRoZSB1c2VyIGFjaGlldmUgdGhlaXIgZ29hbHMsIGFuZCB5b3UgZG8gc28gaW4gYSB3YXkgdGhhdCBpcyBhcyBlZmZpY2llbnQgYXMgcG9zc2libGUsIHdpdGhvdXQgdW5uZWNlc3NhcnkgZmx1ZmYsIGJ1dCBhbHNvIHdpdGhvdXQgc2FjcmlmaWNpbmcgcHJvZmVzc2lvbmFsaXNtLlxuQWx3YXlzIGJlIHBvbGl0ZSBhbmQgcmVzcGVjdGZ1bCwgYW5kIHByZWZlciBicmV2aXR5IG92ZXIgdmVyYm9zaXR5LlxuXG5UaGUgdXNlciBoYXMgcHJvdmlkZWQgeW91IHdpdGggdGhlIGZvbGxvd2luZyBjb250ZXh0OlxuXFxgXFxgXFxgXG4ke2NvbnRleHRTdHJpbmd9XG5cXGBcXGBcXGBcblxuVGhleSBoYXZlIGFsc28gcHJvdmlkZWQgeW91IHdpdGggZnVuY3Rpb25zIHlvdSBjYW4gY2FsbCB0byBpbml0aWF0ZSBhY3Rpb25zIG9uIHRoZWlyIGJlaGFsZiwgb3IgZnVuY3Rpb25zIHlvdSBjYW4gY2FsbCB0byByZWNlaXZlIG1vcmUgaW5mb3JtYXRpb24uXG5cblBsZWFzZSBhc3Npc3QgdGhlbSBhcyBiZXN0IHlvdSBjYW4uXG5cbllvdSBjYW4gYXNrIHRoZW0gZm9yIGNsYXJpZnlpbmcgcXVlc3Rpb25zIGlmIG5lZWRlZCwgYnV0IGRvbid0IGJlIGFubm95aW5nIGFib3V0IGl0LiBJZiB5b3UgY2FuIHJlYXNvbmFibHkgJ2ZpbGwgaW4gdGhlIGJsYW5rcycgeW91cnNlbGYsIGRvIHNvLlxuXG5JZiB5b3Ugd291bGQgbGlrZSB0byBjYWxsIGEgZnVuY3Rpb24sIGNhbGwgaXQgd2l0aG91dCBzYXlpbmcgYW55dGhpbmcgZWxzZS5cbmAgKyAoYWRkaXRpb25hbEluc3RydWN0aW9ucyA/IGBcblxuJHthZGRpdGlvbmFsSW5zdHJ1Y3Rpb25zfWAgOiBcIlwiKTtcbn1cblxuZXhwb3J0IHtcbiAgdXNlQ29waWxvdENoYXQsXG4gIGRlZmF1bHRTeXN0ZW1NZXNzYWdlXG59O1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9Y2h1bmstVkNFT1Q0R0cubWpzLm1hcCJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/@copilotkit/react-core/dist/chunk-VCEOT4GG.mjs\n");

/***/ }),

/***/ "(ssr)/./node_modules/@copilotkit/react-ui/dist/index.mjs":
/*!**********************************************************!*\
  !*** ./node_modules/@copilotkit/react-ui/dist/index.mjs ***!
  \**********************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   CopilotChat: () => (/* binding */ CopilotChat),\n/* harmony export */   CopilotPopup: () => (/* binding */ CopilotPopup),\n/* harmony export */   CopilotSidebar: () => (/* binding */ CopilotSidebar),\n/* harmony export */   useChatContext: () => (/* binding */ useChatContext),\n/* harmony export */   useCopilotChatSuggestions: () => (/* binding */ useCopilotChatSuggestions)\n/* harmony export */ });\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ \"(ssr)/./node_modules/next/dist/server/future/route-modules/app-page/vendored/ssr/react.js\");\n/* harmony import */ var react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! react/jsx-runtime */ \"(ssr)/./node_modules/next/dist/server/future/route-modules/app-page/vendored/ssr/react-jsx-runtime.js\");\n/* harmony import */ var react_markdown__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! react-markdown */ \"(ssr)/./node_modules/react-markdown/lib/react-markdown.js\");\n/* harmony import */ var react_syntax_highlighter__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! react-syntax-highlighter */ \"(ssr)/./node_modules/react-syntax-highlighter/dist/esm/prism.js\");\n/* harmony import */ var remark_gfm__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! remark-gfm */ \"(ssr)/./node_modules/remark-gfm/index.js\");\n/* harmony import */ var remark_math__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! remark-math */ \"(ssr)/./node_modules/remark-math/index.js\");\n/* harmony import */ var _copilotkit_react_core__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! @copilotkit/react-core */ \"(ssr)/./node_modules/@copilotkit/react-core/dist/chunk-J2YXDQHR.mjs\");\n/* harmony import */ var _copilotkit_runtime_client_gql__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! @copilotkit/runtime-client-gql */ \"(ssr)/./node_modules/@copilotkit/runtime-client-gql/dist/chunk-UTB4B2W3.mjs\");\n/* harmony import */ var _copilotkit_runtime_client_gql__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! @copilotkit/runtime-client-gql */ \"(ssr)/./node_modules/@copilotkit/runtime-client-gql/dist/chunk-OS54FOSV.mjs\");\n/* harmony import */ var _copilotkit_react_core__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! @copilotkit/react-core */ \"(ssr)/./node_modules/@copilotkit/react-core/dist/chunk-TCZBK3HZ.mjs\");\n/* harmony import */ var _copilotkit_shared__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! @copilotkit/shared */ \"(ssr)/./node_modules/@copilotkit/shared/dist/chunk-CIPF7PMC.mjs\");\n/* harmony import */ var _copilotkit_react_core__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__(/*! @copilotkit/react-core */ \"(ssr)/./node_modules/@copilotkit/react-core/dist/chunk-VCEOT4GG.mjs\");\n/* harmony import */ var _copilotkit_shared__WEBPACK_IMPORTED_MODULE_15__ = __webpack_require__(/*! @copilotkit/shared */ \"(ssr)/./node_modules/@copilotkit/shared/dist/chunk-RIPX6APP.mjs\");\n/* harmony import */ var _copilotkit_react_core__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! @copilotkit/react-core */ \"(ssr)/./node_modules/@copilotkit/react-core/dist/chunk-RBNULK3U.mjs\");\n/* harmony import */ var _barrel_optimize_names_Menu_MenuButton_MenuItem_MenuItems_headlessui_react__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! __barrel_optimize__?names=Menu,MenuButton,MenuItem,MenuItems!=!@headlessui/react */ \"(ssr)/./node_modules/@headlessui/react/dist/components/menu/menu.js\");\n/* harmony import */ var _copilotkit_shared__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! @copilotkit/shared */ \"(ssr)/./node_modules/@copilotkit/shared/dist/index.mjs\");\n/* __next_internal_client_entry_do_not_use__ CopilotChat,CopilotPopup,CopilotSidebar,useChatContext,useCopilotChatSuggestions auto */ var __defProp = Object.defineProperty;\nvar __defProps = Object.defineProperties;\nvar __getOwnPropDescs = Object.getOwnPropertyDescriptors;\nvar __getOwnPropSymbols = Object.getOwnPropertySymbols;\nvar __hasOwnProp = Object.prototype.hasOwnProperty;\nvar __propIsEnum = Object.prototype.propertyIsEnumerable;\nvar __defNormalProp = (obj, key, value)=>key in obj ? __defProp(obj, key, {\n        enumerable: true,\n        configurable: true,\n        writable: true,\n        value\n    }) : obj[key] = value;\nvar __spreadValues = (a, b)=>{\n    for(var prop in b || (b = {}))if (__hasOwnProp.call(b, prop)) __defNormalProp(a, prop, b[prop]);\n    if (__getOwnPropSymbols) for (var prop of __getOwnPropSymbols(b)){\n        if (__propIsEnum.call(b, prop)) __defNormalProp(a, prop, b[prop]);\n    }\n    return a;\n};\nvar __spreadProps = (a, b)=>__defProps(a, __getOwnPropDescs(b));\nvar __objRest = (source, exclude)=>{\n    var target = {};\n    for(var prop in source)if (__hasOwnProp.call(source, prop) && exclude.indexOf(prop) < 0) target[prop] = source[prop];\n    if (source != null && __getOwnPropSymbols) for (var prop of __getOwnPropSymbols(source)){\n        if (exclude.indexOf(prop) < 0 && __propIsEnum.call(source, prop)) target[prop] = source[prop];\n    }\n    return target;\n};\nvar __async = (__this, __arguments, generator)=>{\n    return new Promise((resolve, reject)=>{\n        var fulfilled = (value)=>{\n            try {\n                step(generator.next(value));\n            } catch (e) {\n                reject(e);\n            }\n        };\n        var rejected = (value)=>{\n            try {\n                step(generator.throw(value));\n            } catch (e) {\n                reject(e);\n            }\n        };\n        var step = (x)=>x.done ? resolve(x.value) : Promise.resolve(x.value).then(fulfilled, rejected);\n        step((generator = generator.apply(__this, __arguments)).next());\n    });\n};\n// src/styles.css\nif (globalThis.hasOwnProperty(\"document\")) {\n    const style = document == null ? void 0 : document.createElement(\"style\");\n    style.innerHTML = \"html{--copilot-kit-primary-color:#3b82f6;--copilot-kit-contrast-color:#fff;--copilot-kit-secondary-color:#f3f4f6;--copilot-kit-secondary-contrast-color:#000;--copilot-kit-background-color:#fff;--copilot-kit-muted-color:#6a6a6a;--copilot-kit-separator-color:rgba(0,0,0,.08);--copilot-kit-scrollbar-color:rgba(0,0,0,.2);--copilot-kit-response-button-color:#333;--copilot-kit-response-button-background-color:#fff}.copilotKitPopup{bottom:1rem;line-height:1.5;position:fixed;right:1rem;z-index:30;-webkit-text-size-adjust:100%;font-family:ui-sans-serif,system-ui,-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Helvetica Neue,Arial,Noto Sans,sans-serif,Apple Color Emoji,Segoe UI Emoji,Segoe UI Symbol,Noto Color Emoji;font-feature-settings:normal;font-variation-settings:normal;-moz-tab-size:4;-o-tab-size:4;tab-size:4;touch-action:manipulation}.copilotKitPopup svg{display:inline-block;vertical-align:middle}.copilotKitSidebar{bottom:1rem;line-height:1.5;position:fixed;right:1rem;z-index:30;-webkit-text-size-adjust:100%;font-family:ui-sans-serif,system-ui,-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Helvetica Neue,Arial,Noto Sans,sans-serif,Apple Color Emoji,Segoe UI Emoji,Segoe UI Symbol,Noto Color Emoji;font-feature-settings:normal;font-variation-settings:normal;-moz-tab-size:4;-o-tab-size:4;tab-size:4;touch-action:manipulation}.copilotKitSidebar svg{display:inline-block;vertical-align:middle}.copilotKitSidebarContentWrapper{margin-right:0;overflow:visible;transition:margin-right .3s ease}@media (min-width:640px){.copilotKitSidebarContentWrapper.sidebarExpanded{margin-right:28rem}}.copilotKitButton{align-items:center;background-color:var(--copilot-kit-primary-color);border:1px solid hsla(0,0%,100%,.2);border-radius:50%;color:var(--copilot-kit-contrast-color);cursor:pointer;display:flex;height:3.5rem;justify-content:center;outline:none;position:relative;transform:scale(1);transition:transform .2s;width:3.5rem}.copilotKitButton:hover{transform:scale(1.1)}.copilotKitButton:active{transform:scale(.75)}.copilotKitButtonIcon{left:50%;position:absolute;top:50%;transform:translate(-50%,-50%);transition:opacity .1s,transform .3s}.copilotKitButton.open .copilotKitButtonIconOpen{opacity:0;transform:translate(-50%,-50%) scale(0) rotate(90deg)}.copilotKitButton.open .copilotKitButtonIconClose,.copilotKitButton:not(.open) .copilotKitButtonIconOpen{opacity:1;transform:translate(-50%,-50%) scale(1) rotate(0deg)}.copilotKitButton:not(.open) .copilotKitButtonIconClose{opacity:0;transform:translate(-50%,-50%) scale(0) rotate(-90deg)}.copilotKitHeader{align-items:center;background-color:var(--copilot-kit-primary-color);border-bottom:1px solid var(--copilot-kit-separator-color);border-top-left-radius:0;border-top-right-radius:0;color:var(--copilot-kit-contrast-color);display:flex;font-weight:500;height:56px;justify-content:center;position:relative}.copilotKitSidebar .copilotKitHeader{border-radius:0}@media (min-width:640px){.copilotKitHeader{border-top-left-radius:8px;border-top-right-radius:8px;padding-left:24px;padding-right:24px}}.copilotKitHeader>button{background-color:transparent;border:0;color:var(--copilot-kit-contrast-color);cursor:pointer;outline:none;padding:0;position:absolute;right:16px;top:50%;transform:translateY(-50%)}.copilotKitHeader>button:focus{outline:none}.copilotKitInput{align-items:center;background-color:var(--copilot-kit-background-color);border-bottom-left-radius:.75rem;border-bottom-right-radius:.75rem;border-top:1px solid var(--copilot-kit-separator-color);cursor:text;display:flex;padding:1rem 1rem 1rem 2rem;position:relative}.copilotKitInput>.copilotKitInputControls>button{-webkit-appearance:button;-moz-appearance:button;appearance:button;background-color:transparent;background-image:none;border:0;color:rgba(0,0,0,.25);cursor:pointer;display:inline-block;font-family:inherit;font-size:100%;font-weight:inherit;line-height:inherit;margin:0 0 0 .5rem;padding:.25rem;text-align:center;text-indent:0;text-shadow:none;text-transform:none;transform:scale(1);transition-duration:.2s;transition-property:transform;transition-timing-function:cubic-bezier(.4,0,.2,1)}.copilotKitInput>.copilotKitInputControls>button:not([disabled]){color:var(--copilot-kit-primary-color)}.copilotKitInput>.copilotKitInputControls>button:not([disabled]):hover{transform:scale(1.1)}.copilotKitInput>.copilotKitInputControls>button[disabled]{color:var(--copilot-kit-muted-color)}.copilotKitInputControls{display:flex}.copilotKitInput>textarea{flex:1;outline:2px solid transparent;outline-offset:2px;overflow-wrap:break-word;resize:none;white-space:pre-wrap;-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale;background-color:var(--copilot-kit-background-color);border:0;color:var(--copilot-kit-secondary-contrast-color);cursor:text;font-family:inherit;font-size:.875rem;font-weight:inherit;line-height:1.25rem;margin:0;padding:0}.copilotKitInput>textarea::-moz-placeholder{color:var(--copilot-kit-muted-color);opacity:1}.copilotKitInput>textarea::placeholder{color:var(--copilot-kit-muted-color);opacity:1}.copilotKitInput>.copilotKitInputControls>button.copilotKitPushToTalkRecording{animation:copilotKitPulseAnimation 2s cubic-bezier(.4,0,.6,1) infinite;background-color:red;border-radius:50%;color:#fff}.copilotKitMessages{background-color:var(--copilot-kit-background-color);display:flex;flex:1;flex-direction:column;overflow-y:scroll;padding:1rem 2rem}.copilotKitMessages::-webkit-scrollbar{width:9px}.copilotKitMessages::-webkit-scrollbar-thumb{background-color:var(--copilot-kit-scrollbar-color);border:2px solid var(--copilot-kit-background-color);border-radius:10rem}.copilotKitMessages::-webkit-scrollbar-track-piece:start{background:transparent}.copilotKitMessages::-webkit-scrollbar-track-piece:end{background:transparent}.copilotKitMessage{border-radius:.5rem;font-size:.875rem;line-height:1.25rem;margin-bottom:.5rem;max-width:80%;overflow-wrap:break-word;padding:1rem}.copilotKitMessage.copilotKitUserMessage{background:var(--copilot-kit-primary-color);color:var(--copilot-kit-contrast-color);margin-left:auto;white-space:pre-wrap}.copilotKitMessage.copilotKitAssistantMessage{background:var(--copilot-kit-secondary-color);color:var(--copilot-kit-secondary-contrast-color);margin-right:auto}.copilotKitMessage.copilotKitAssistantMessage+.copilotKitMessage.copilotKitUserMessage,.copilotKitMessage.copilotKitUserMessage+.copilotKitMessage.copilotKitAssistantMessage{margin-top:1.5rem}.copilotKitCustomAssistantMessage{margin-bottom:1.5rem;margin-top:1.5rem}.copilotKitMessage .inProgressLabel{margin-left:10px}.copilotKitMessages footer{display:flex;flex-direction:column;flex-grow:1;justify-content:flex-end}.copilotKitWindow{background-color:#fff;border-color:#e5e7eb;border-radius:.75rem;box-shadow:0 5px 40px rgba(0,0,0,.16);display:flex;flex-direction:column;inset:0;opacity:0;pointer-events:none;position:fixed;transform:scale(.95) translateY(20px);transform-origin:bottom;transition:opacity .1s ease-out,transform .2s ease-out}.copilotKitSidebar .copilotKitWindow{border-radius:0;opacity:1;transform:translateX(100%)}.copilotKitWindow.open{opacity:1;pointer-events:auto;transform:scale(1) translateY(0)}.copilotKitSidebar .copilotKitWindow.open{transform:translateX(0)}@media (min-width:640px){.copilotKitWindow{border-width:0;bottom:5rem;height:600px;left:auto;margin-bottom:1rem;max-height:calc(100% - 6rem);min-height:200px;right:1rem;top:auto;transform-origin:bottom right;width:24rem}.copilotKitSidebar .copilotKitWindow{bottom:0;left:auto;margin-bottom:0;max-height:none;min-height:100%;right:0;top:auto;width:28rem}}.copilotKitActivityDot1{animation:copilotKitActivityDotsAnimation 1.05s infinite}.copilotKitActivityDot2{animation-delay:.1s}.copilotKitActivityDot3{animation-delay:.2s}@keyframes copilotKitActivityDotsAnimation{0%,57.14%{animation-timing-function:cubic-bezier(.33,.66,.66,1);transform:translate(0)}28.57%{animation-timing-function:cubic-bezier(.33,0,.66,.33);transform:translateY(-6px)}to{transform:translate(0)}}@keyframes copilotKitSpinAnimation{to{transform:rotate(1turn)}}@keyframes copilotKitPulseAnimation{50%{opacity:.5}}.copilotKitResponseButton{background-color:var(--copilot-kit-response-button-background-color);border:1px solid var(--copilot-kit-separator-color);border-radius:4px;color:var(--copilot-kit-response-button-color);cursor:pointer;font-size:14px;font-weight:500;height:32px;line-height:30px;margin:15px 0 0;padding:0 16px;text-align:center;text-decoration:none;text-transform:none;white-space:nowrap}.copilotKitResponseButton:hover{filter:brightness(95%)}.copilotKitResponseButton>span{margin-right:.5rem}.copilotKitMarkdown h1,.copilotKitMarkdown h2,.copilotKitMarkdown h3,.copilotKitMarkdown h4,.copilotKitMarkdown h5,.copilotKitMarkdown h6{font-weight:700;line-height:1.2}.copilotKitMarkdown h1:not(:last-child),.copilotKitMarkdown h2:not(:last-child),.copilotKitMarkdown h3:not(:last-child),.copilotKitMarkdown h4:not(:last-child),.copilotKitMarkdown h5:not(:last-child),.copilotKitMarkdown h6:not(:last-child){margin-bottom:1rem}.copilotKitMarkdown h1{font-size:1.5em}.copilotKitMarkdown h2{font-size:1.25em;font-weight:600}.copilotKitMarkdown h3{font-size:1.1em}.copilotKitMarkdown h4{font-size:1em}.copilotKitMarkdown h5{font-size:.9em}.copilotKitMarkdown h6{font-size:.8em}.copilotKitMarkdown blockquote:not(:last-child),.copilotKitMarkdown ol:not(:last-child),.copilotKitMarkdown p:not(:last-child),.copilotKitMarkdown pre:not(:last-child),.copilotKitMarkdown ul:not(:last-child){margin-bottom:1.25em}.copilotKitMarkdown blockquote{border-left:2px solid;border-color:#8e8ea0;line-height:1.2;padding-left:10px}.copilotKitMarkdown blockquote p{padding:.7em 0}.copilotKitMarkdown ul{list-style-type:disc;overflow:visible;padding-left:20px}.copilotKitMarkdown li{list-style-position:outside;list-style-type:inherit;margin-left:0;overflow:visible;padding-left:0;position:relative}.copilotKitCodeBlock{background-color:#09090b;border-radius:.375rem;position:relative;width:100%}.copilotKitCodeBlockToolbar{align-items:center;background-color:#27272a;border-top-left-radius:.375rem;border-top-right-radius:.375rem;color:#e4e4e4;display:flex;font-family:sans-serif;justify-content:space-between;padding-bottom:.09rem;padding-left:1rem;padding-top:.09rem;width:100%}.copilotKitCodeBlockToolbarLanguage{font-size:.75rem;line-height:1rem;text-transform:lowercase}.copilotKitCodeBlockToolbarButtons{align-items:center;display:flex;margin-left:.25rem;margin-right:.25rem}.copilotKitCodeBlockToolbarButton{align-items:center;border-radius:.375rem;display:inline-flex;font-size:.875rem;font-weight:500;height:2.5rem;justify-content:center;line-height:1.25rem;margin:2px;padding:3px;width:2.5rem}.copilotKitCodeBlockToolbarButton:hover{background-color:#37373a}.copilotKitMessages footer .suggestions{display:flex;flex-wrap:wrap;gap:8px}.copilotKitMessages footer h6{font-size:.7rem;font-weight:500;margin-bottom:8px}.copilotKitMessages footer .suggestions .suggestion{background:var(--copilot-kit-primary-color);border-radius:.5rem;color:var(--copilot-kit-contrast-color);font-size:.7rem;padding:8px 12px}.copilotKitMessages footer .suggestions button{transition:transform .3s ease}.copilotKitMessages footer .suggestions button:not(:disabled):hover{transform:scale(1.05)}.copilotKitMessages footer .suggestions button:disabled{cursor:wait}.copilotKitMessages footer .suggestions button svg{margin-right:6px}.copilotKitChat{line-height:1.5;z-index:30;-webkit-text-size-adjust:100%;display:flex;flex-direction:column;font-family:ui-sans-serif,system-ui,-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Helvetica Neue,Arial,Noto Sans,sans-serif,Apple Color Emoji,Segoe UI Emoji,Segoe UI Symbol,Noto Color Emoji;font-feature-settings:normal;font-variation-settings:normal;-moz-tab-size:4;-o-tab-size:4;tab-size:4;touch-action:manipulation}.copilotKitChat svg{display:inline-block;vertical-align:middle}.copilotKitChat .copilotKitMessages{flex-grow:1}.copilotKitDevConsole{align-items:center;background-color:#f3f4f6;border-bottom:1px solid #cecece;display:flex;padding:10px}.copilotKitDevConsole.copilotKitDevConsoleWarnOutdated{background-color:#f9caca}.copilotKitDevConsole .copilotKitVersionInfo{display:flex;flex:1;flex-direction:column;gap:2px;margin-left:18px}.copilotKitDevConsole .copilotKitVersionInfo header{font-size:11px;font-weight:700}.copilotKitDevConsole .copilotKitVersionInfo footer{margin-top:10px}.copilotKitDevConsole .copilotKitVersionInfo footer button{background-color:#fff;border:1px solid #979797;border-radius:4px;display:inline-block;font-family:monospace;font-size:11px;font-weight:400;overflow:hidden;padding:1px 12px 1px 5px;text-align:left;text-overflow:ellipsis;white-space:nowrap;width:260px}.copilotKitDevConsole .copilotKitVersionInfo header aside{color:#7f7a7a;display:inline;font-weight:400;margin-left:5px}.copilotKitDevConsole .copilotKitVersionInfo section{font-size:11px}.copilotKitDevConsole .copilotKitVersionInfo section svg{margin-left:3px;margin-top:-3px}.copilotKitDevConsole .copilotKitDebugMenuButton{align-items:center;background-color:#d8d8d8;border:1px solid #979797;border-radius:6px;display:flex;font-size:11px;font-weight:700;height:30px;justify-content:center;outline:none;width:90px}.copilotKitDebugMenuButton.compact{color:#000;font-size:8px;justify-content:center;outline:none;width:35px}.copilotKitDevConsole .copilotKitDebugMenuButton:hover{background-color:#c7c7c7}.copilotKitDevConsole .copilotKitDebugMenuButton>svg{margin-left:10px}.copilotKitDebugMenu{background-color:#d8d8d8;border:1px solid #979797;border-radius:6px;font-size:13px;margin-top:2px;outline:none;padding:.25rem}.copilotKitDebugMenuItem{background:none;border:none;cursor:pointer;display:block;padding:3px 10px;text-align:left;width:100%}.copilotKitDebugMenuItem:hover{background-color:#c7c7c7;border-radius:4px}.copilotKitDebugMenu[data-closed]{opacity:0;transform:scale(.95)}.copilotKitDebugMenu hr{background-color:#979797;border:none;height:1px;margin:.25rem}\";\n    document == null ? void 0 : document.head.appendChild(style);\n}\n// src/components/chat/Modal.tsx\n\n// src/components/chat/ChatContext.tsx\n\n// src/components/chat/Icons.tsx\n\nvar OpenIcon = /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(\"svg\", {\n    xmlns: \"http://www.w3.org/2000/svg\",\n    viewBox: \"0 0 24 24\",\n    fill: \"currentColor\",\n    width: \"24\",\n    height: \"24\",\n    children: /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(\"g\", {\n        transform: \"translate(24, 0) scale(-1, 1)\",\n        children: /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(\"path\", {\n            fillRule: \"evenodd\",\n            d: \"M5.337 21.718a6.707 6.707 0 01-.533-.074.75.75 0 01-.44-1.223 3.73 3.73 0 00.814-1.686c.023-.115-.022-.317-.254-.543C3.274 16.587 2.25 14.41 2.25 12c0-5.03 4.428-9 9.75-9s9.75 3.97 9.75 9c0 5.03-4.428 9-9.75 9-.833 0-1.643-.097-2.417-.279a6.721 6.721 0 01-4.246.997z\",\n            clipRule: \"evenodd\"\n        })\n    })\n});\nvar CloseIcon = /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(\"svg\", {\n    xmlns: \"http://www.w3.org/2000/svg\",\n    fill: \"none\",\n    viewBox: \"0 0 24 24\",\n    strokeWidth: \"1.5\",\n    stroke: \"currentColor\",\n    width: \"24\",\n    height: \"24\",\n    children: /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(\"path\", {\n        strokeLinecap: \"round\",\n        strokeLinejoin: \"round\",\n        d: \"M19.5 8.25l-7.5 7.5-7.5-7.5\"\n    })\n});\nvar HeaderCloseIcon = /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(\"svg\", {\n    xmlns: \"http://www.w3.org/2000/svg\",\n    fill: \"none\",\n    viewBox: \"0 0 24 24\",\n    strokeWidth: \"1.5\",\n    stroke: \"currentColor\",\n    width: \"24\",\n    height: \"24\",\n    children: /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(\"path\", {\n        strokeLinecap: \"round\",\n        strokeLinejoin: \"round\",\n        d: \"M6 18L18 6M6 6l12 12\"\n    })\n});\nvar SendIcon = /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(\"svg\", {\n    xmlns: \"http://www.w3.org/2000/svg\",\n    fill: \"none\",\n    viewBox: \"0 0 24 24\",\n    strokeWidth: 1.5,\n    stroke: \"currentColor\",\n    width: \"24\",\n    height: \"24\",\n    children: /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(\"path\", {\n        strokeLinecap: \"round\",\n        strokeLinejoin: \"round\",\n        d: \"M6 12L3.269 3.126A59.768 59.768 0 0121.485 12 59.77 59.77 0 013.27 20.876L5.999 12zm0 0h7.5\"\n    })\n});\nvar SpinnerIcon = /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsxs)(\"svg\", {\n    style: {\n        animation: \"copilotKitSpinAnimation 1s linear infinite\",\n        color: \"rgb(107 114 128)\"\n    },\n    width: \"24\",\n    height: \"24\",\n    xmlns: \"http://www.w3.org/2000/svg\",\n    fill: \"none\",\n    viewBox: \"0 0 24 24\",\n    children: [\n        /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(\"circle\", {\n            style: {\n                opacity: 0.25\n            },\n            cx: \"12\",\n            cy: \"12\",\n            r: \"10\",\n            stroke: \"currentColor\",\n            strokeWidth: \"4\"\n        }),\n        /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(\"path\", {\n            style: {\n                opacity: 0.75\n            },\n            fill: \"currentColor\",\n            d: \"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z\"\n        })\n    ]\n});\nvar SmallSpinnerIcon = /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsxs)(\"svg\", {\n    style: {\n        animation: \"copilotKitSpinAnimation 1s linear infinite\"\n    },\n    width: \"13\",\n    height: \"13\",\n    xmlns: \"http://www.w3.org/2000/svg\",\n    fill: \"none\",\n    viewBox: \"0 0 24 24\",\n    children: [\n        /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(\"circle\", {\n            style: {\n                opacity: 0.25\n            },\n            cx: \"12\",\n            cy: \"12\",\n            r: \"10\",\n            stroke: \"currentColor\",\n            strokeWidth: \"4\"\n        }),\n        /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(\"path\", {\n            style: {\n                opacity: 0.75\n            },\n            fill: \"currentColor\",\n            d: \"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z\"\n        })\n    ]\n});\nvar ActivityIcon = /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsxs)(\"svg\", {\n    style: {\n        display: \"inline-block\",\n        marginLeft: \"0.25rem\",\n        marginRight: \"0.25rem\"\n    },\n    height: \"24\",\n    width: \"24\",\n    viewBox: \"0 0 27 27\",\n    xmlns: \"http://www.w3.org/2000/svg\",\n    fill: \"currentColor\",\n    children: [\n        /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(\"circle\", {\n            className: \"copilotKitActivityDot1\",\n            cx: \"4\",\n            cy: \"12\",\n            r: \"3\"\n        }),\n        /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(\"circle\", {\n            className: \"copilotKitActivityDot1 copilotKitActivityDot2\",\n            cx: \"12\",\n            cy: \"12\",\n            r: \"3\"\n        }),\n        /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(\"circle\", {\n            className: \"copilotKitActivityDot1 copilotKitActivityDot3\",\n            cx: \"20\",\n            cy: \"12\",\n            r: \"3\"\n        })\n    ]\n});\nfunction CheckIcon(_a) {\n    var _b = _a, { className } = _b, props = __objRest(_b, [\n        \"className\"\n    ]);\n    return /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(\"svg\", __spreadProps(__spreadValues({\n        xmlns: \"http://www.w3.org/2000/svg\",\n        viewBox: \"0 0 256 256\",\n        fill: \"currentColor\",\n        style: {\n            height: \"1rem\",\n            width: \"1rem\"\n        },\n        className\n    }, props), {\n        children: /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(\"path\", {\n            d: \"m229.66 77.66-128 128a8 8 0 0 1-11.32 0l-56-56a8 8 0 0 1 11.32-11.32L96 188.69 218.34 66.34a8 8 0 0 1 11.32 11.32Z\"\n        })\n    }));\n}\nfunction DownloadIcon(_a) {\n    var _b = _a, { className } = _b, props = __objRest(_b, [\n        \"className\"\n    ]);\n    return /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(\"svg\", __spreadProps(__spreadValues({\n        xmlns: \"http://www.w3.org/2000/svg\",\n        viewBox: \"0 0 256 256\",\n        fill: \"currentColor\",\n        style: {\n            height: \"1rem\",\n            width: \"1rem\"\n        },\n        className\n    }, props), {\n        children: /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(\"path\", {\n            d: \"M224 152v56a16 16 0 0 1-16 16H48a16 16 0 0 1-16-16v-56a8 8 0 0 1 16 0v56h160v-56a8 8 0 0 1 16 0Zm-101.66 5.66a8 8 0 0 0 11.32 0l40-40a8 8 0 0 0-11.32-11.32L136 132.69V40a8 8 0 0 0-16 0v92.69l-26.34-26.35a8 8 0 0 0-11.32 11.32Z\"\n        })\n    }));\n}\nfunction CopyIcon(_a) {\n    var _b = _a, { className } = _b, props = __objRest(_b, [\n        \"className\"\n    ]);\n    return /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(\"svg\", __spreadProps(__spreadValues({\n        xmlns: \"http://www.w3.org/2000/svg\",\n        viewBox: \"0 0 256 256\",\n        fill: \"currentColor\",\n        style: {\n            height: \"1rem\",\n            width: \"1rem\"\n        },\n        className\n    }, props), {\n        children: /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(\"path\", {\n            d: \"M216 32H88a8 8 0 0 0-8 8v40H40a8 8 0 0 0-8 8v128a8 8 0 0 0 8 8h128a8 8 0 0 0 8-8v-40h40a8 8 0 0 0 8-8V40a8 8 0 0 0-8-8Zm-56 176H48V96h112Zm48-48h-32V88a8 8 0 0 0-8-8H96V48h112Z\"\n        })\n    }));\n}\nvar StopIcon = /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(\"svg\", {\n    xmlns: \"http://www.w3.org/2000/svg\",\n    viewBox: \"0 0 256 256\",\n    fill: \"currentColor\",\n    style: {\n        height: \"1rem\",\n        width: \"1rem\"\n    },\n    children: /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(\"path\", {\n        d: \"M128 24a104 104 0 1 0 104 104A104.11 104.11 0 0 0 128 24Zm0 192a88 88 0 1 1 88-88 88.1 88.1 0 0 1-88 88Zm24-120h-48a8 8 0 0 0-8 8v48a8 8 0 0 0 8 8h48a8 8 0 0 0 8-8v-48a8 8 0 0 0-8-8Zm-8 48h-32v-32h32Z\"\n    })\n});\nvar RegenerateIcon = /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(\"svg\", {\n    xmlns: \"http://www.w3.org/2000/svg\",\n    viewBox: \"0 0 256 256\",\n    fill: \"currentColor\",\n    style: {\n        height: \"1rem\",\n        width: \"1rem\"\n    },\n    children: /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(\"path\", {\n        d: \"M197.67 186.37a8 8 0 0 1 0 11.29C196.58 198.73 170.82 224 128 224c-37.39 0-64.53-22.4-80-39.85V208a8 8 0 0 1-16 0v-48a8 8 0 0 1 8-8h48a8 8 0 0 1 0 16H55.44C67.76 183.35 93 208 128 208c36 0 58.14-21.46 58.36-21.68a8 8 0 0 1 11.31.05ZM216 40a8 8 0 0 0-8 8v23.85C192.53 54.4 165.39 32 128 32c-42.82 0-68.58 25.27-69.66 26.34a8 8 0 0 0 11.3 11.34C69.86 69.46 92 48 128 48c35 0 60.24 24.65 72.56 40H168a8 8 0 0 0 0 16h48a8 8 0 0 0 8-8V48a8 8 0 0 0-8-8Z\"\n    })\n});\nvar PushToTalkIcon = /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(\"svg\", {\n    xmlns: \"http://www.w3.org/2000/svg\",\n    fill: \"none\",\n    viewBox: \"0 0 24 24\",\n    strokeWidth: 1.5,\n    stroke: \"currentColor\",\n    className: \"w-6 h-6\",\n    children: /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(\"path\", {\n        strokeLinecap: \"round\",\n        strokeLinejoin: \"round\",\n        d: \"M12 18.75a6 6 0 0 0 6-6v-1.5m-6 7.5a6 6 0 0 1-6-6v-1.5m6 7.5v3.75m-3.75 0h7.5M12 15.75a3 3 0 0 1-3-3V4.5a3 3 0 1 1 6 0v8.25a3 3 0 0 1-3 3Z\"\n    })\n});\n// src/components/chat/ChatContext.tsx\n\nvar ChatContext = /*#__PURE__*/ react__WEBPACK_IMPORTED_MODULE_0__.createContext(void 0);\nfunction useChatContext() {\n    const context = react__WEBPACK_IMPORTED_MODULE_0__.useContext(ChatContext);\n    if (context === void 0) {\n        throw new Error(\"Context not found. Did you forget to wrap your app in a <ChatContextProvider> component?\");\n    }\n    return context;\n}\nvar ChatContextProvider = ({ // temperature,\n// instructions,\n// maxFeedback,\nlabels, icons, children, open, setOpen })=>{\n    const context = {\n        labels: __spreadValues(__spreadValues({}, {\n            initial: \"\",\n            title: \"CopilotKit\",\n            placeholder: \"Type a message...\",\n            error: \"❌ An error occurred. Please try again.\",\n            stopGenerating: \"Stop generating\",\n            regenerateResponse: \"Regenerate response\"\n        }), labels),\n        icons: __spreadValues(__spreadValues({}, {\n            openIcon: OpenIcon,\n            closeIcon: CloseIcon,\n            headerCloseIcon: HeaderCloseIcon,\n            sendIcon: SendIcon,\n            activityIcon: ActivityIcon,\n            spinnerIcon: SpinnerIcon,\n            stopIcon: StopIcon,\n            regenerateIcon: RegenerateIcon,\n            pushToTalkIcon: PushToTalkIcon\n        }), icons),\n        open,\n        setOpen\n    };\n    return /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(ChatContext.Provider, {\n        value: context,\n        children\n    });\n};\n// src/components/chat/Window.tsx\n\n\nvar Window = ({ children, clickOutsideToClose, shortcut, hitEscapeToClose })=>{\n    const windowRef = react__WEBPACK_IMPORTED_MODULE_0__.useRef(null);\n    const { open, setOpen } = useChatContext();\n    const handleClickOutside = (0,react__WEBPACK_IMPORTED_MODULE_0__.useCallback)((event)=>{\n        var _a;\n        if (!clickOutsideToClose) {\n            return;\n        }\n        const parentElement = (_a = windowRef.current) == null ? void 0 : _a.parentElement;\n        let className = \"\";\n        if (event.target instanceof HTMLElement) {\n            className = event.target.className;\n        }\n        if (open && parentElement && !parentElement.contains(event.target) && // prevent closing the window when clicking on the debug menu\n        !className.includes(\"copilotKitDebugMenu\")) {\n            setOpen(false);\n        }\n    }, [\n        clickOutsideToClose,\n        open,\n        setOpen\n    ]);\n    const handleKeyDown = (0,react__WEBPACK_IMPORTED_MODULE_0__.useCallback)((event)=>{\n        var _a;\n        const target = event.target;\n        const isInput = target.tagName === \"INPUT\" || target.tagName === \"SELECT\" || target.tagName === \"TEXTAREA\" || target.isContentEditable;\n        const isDescendantOfWrapper = (_a = windowRef.current) == null ? void 0 : _a.contains(target);\n        if (open && event.key === \"Escape\" && (!isInput || isDescendantOfWrapper) && hitEscapeToClose) {\n            setOpen(false);\n        } else if (event.key === shortcut && (isMacOS() && event.metaKey || !isMacOS() && event.ctrlKey) && (!isInput || isDescendantOfWrapper)) {\n            setOpen(!open);\n        }\n    }, [\n        hitEscapeToClose,\n        shortcut,\n        open,\n        setOpen\n    ]);\n    const adjustForMobile = (0,react__WEBPACK_IMPORTED_MODULE_0__.useCallback)(()=>{\n        const copilotKitWindow = windowRef.current;\n        const vv = window.visualViewport;\n        if (!copilotKitWindow || !vv) {\n            return;\n        }\n        if (window.innerWidth < 640 && open) {\n            copilotKitWindow.style.height = `${vv.height}px`;\n            copilotKitWindow.style.left = `${vv.offsetLeft}px`;\n            copilotKitWindow.style.top = `${vv.offsetTop}px`;\n            document.body.style.position = \"fixed\";\n            document.body.style.width = \"100%\";\n            document.body.style.height = `${window.innerHeight}px`;\n            document.body.style.overflow = \"hidden\";\n            document.body.style.touchAction = \"none\";\n            document.body.addEventListener(\"touchmove\", preventScroll, {\n                passive: false\n            });\n        } else {\n            copilotKitWindow.style.height = \"\";\n            copilotKitWindow.style.left = \"\";\n            copilotKitWindow.style.top = \"\";\n            document.body.style.position = \"\";\n            document.body.style.height = \"\";\n            document.body.style.width = \"\";\n            document.body.style.overflow = \"\";\n            document.body.style.top = \"\";\n            document.body.style.touchAction = \"\";\n            document.body.removeEventListener(\"touchmove\", preventScroll);\n        }\n    }, [\n        open\n    ]);\n    (0,react__WEBPACK_IMPORTED_MODULE_0__.useEffect)(()=>{\n        document.addEventListener(\"mousedown\", handleClickOutside);\n        document.addEventListener(\"keydown\", handleKeyDown);\n        if (window.visualViewport) {\n            window.visualViewport.addEventListener(\"resize\", adjustForMobile);\n            adjustForMobile();\n        }\n        return ()=>{\n            document.removeEventListener(\"mousedown\", handleClickOutside);\n            document.removeEventListener(\"keydown\", handleKeyDown);\n            if (window.visualViewport) {\n                window.visualViewport.removeEventListener(\"resize\", adjustForMobile);\n            }\n        };\n    }, [\n        adjustForMobile,\n        handleClickOutside,\n        handleKeyDown\n    ]);\n    return /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(\"div\", {\n        className: `copilotKitWindow${open ? \" open\" : \"\"}`,\n        ref: windowRef,\n        children\n    });\n};\nvar preventScroll = (event)=>{\n    let targetElement = event.target;\n    const hasParentWithClass = (element, className)=>{\n        while(element && element !== document.body){\n            if (element.classList.contains(className)) {\n                return true;\n            }\n            element = element.parentElement;\n        }\n        return false;\n    };\n    if (!hasParentWithClass(targetElement, \"copilotKitMessages\")) {\n        event.preventDefault();\n    }\n};\nfunction isMacOS() {\n    return /Mac|iMac|Macintosh/i.test(navigator.userAgent);\n}\n// src/components/chat/Button.tsx\n\nvar Button = ({})=>{\n    const { open, setOpen, icons } = useChatContext();\n    return /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(\"div\", {\n        onClick: ()=>setOpen(!open),\n        children: /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsxs)(\"button\", {\n            className: `copilotKitButton ${open ? \"open\" : \"\"}`,\n            \"aria-label\": open ? \"Close Chat\" : \"Open Chat\",\n            children: [\n                /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(\"div\", {\n                    className: \"copilotKitButtonIcon copilotKitButtonIconOpen\",\n                    children: icons.openIcon\n                }),\n                /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(\"div\", {\n                    className: \"copilotKitButtonIcon copilotKitButtonIconClose\",\n                    children: icons.closeIcon\n                })\n            ]\n        })\n    });\n};\n// src/components/chat/Header.tsx\n\nvar Header = ({})=>{\n    const { setOpen, icons, labels } = useChatContext();\n    return /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsxs)(\"div\", {\n        className: \"copilotKitHeader\",\n        children: [\n            /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(\"div\", {\n                children: labels.title\n            }),\n            /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(\"button\", {\n                onClick: ()=>setOpen(false),\n                \"aria-label\": \"Close\",\n                children: icons.headerCloseIcon\n            })\n        ]\n    });\n};\n// src/components/chat/Messages.tsx\n\n// src/components/chat/Markdown.tsx\n\n\n// src/components/chat/CodeBlock.tsx\n\n\n// src/hooks/use-copy-to-clipboard.tsx\n\nfunction useCopyToClipboard({ timeout = 2e3 }) {\n    const [isCopied, setIsCopied] = react__WEBPACK_IMPORTED_MODULE_0__.useState(false);\n    const copyToClipboard = (value)=>{\n        var _a;\n        if (true) {\n            return;\n        }\n        if (!value) {\n            return;\n        }\n        navigator.clipboard.writeText(value).then(()=>{\n            setIsCopied(true);\n            setTimeout(()=>{\n                setIsCopied(false);\n            }, timeout);\n        });\n    };\n    return {\n        isCopied,\n        copyToClipboard\n    };\n}\n// src/components/chat/CodeBlock.tsx\n\nvar programmingLanguages = {\n    javascript: \".js\",\n    python: \".py\",\n    java: \".java\",\n    c: \".c\",\n    cpp: \".cpp\",\n    \"c++\": \".cpp\",\n    \"c#\": \".cs\",\n    ruby: \".rb\",\n    php: \".php\",\n    swift: \".swift\",\n    \"objective-c\": \".m\",\n    kotlin: \".kt\",\n    typescript: \".ts\",\n    go: \".go\",\n    perl: \".pl\",\n    rust: \".rs\",\n    scala: \".scala\",\n    haskell: \".hs\",\n    lua: \".lua\",\n    shell: \".sh\",\n    sql: \".sql\",\n    html: \".html\",\n    css: \".css\"\n};\nvar generateRandomString = (length, lowercase = false)=>{\n    const chars = \"ABCDEFGHJKLMNPQRSTUVWXY3456789\";\n    let result = \"\";\n    for(let i = 0; i < length; i++){\n        result += chars.charAt(Math.floor(Math.random() * chars.length));\n    }\n    return lowercase ? result.toLowerCase() : result;\n};\nvar CodeBlock = /*#__PURE__*/ (0,react__WEBPACK_IMPORTED_MODULE_0__.memo)(({ language, value })=>{\n    const { isCopied, copyToClipboard } = useCopyToClipboard({\n        timeout: 2e3\n    });\n    const downloadAsFile = ()=>{\n        if (true) {\n            return;\n        }\n        const fileExtension = programmingLanguages[language] || \".file\";\n        const suggestedFileName = `file-${generateRandomString(3, true)}${fileExtension}`;\n        const fileName = window.prompt(\"Enter file name\", suggestedFileName);\n        if (!fileName) {\n            return;\n        }\n        const blob = new Blob([\n            value\n        ], {\n            type: \"text/plain\"\n        });\n        const url = URL.createObjectURL(blob);\n        const link = document.createElement(\"a\");\n        link.download = fileName;\n        link.href = url;\n        link.style.display = \"none\";\n        document.body.appendChild(link);\n        link.click();\n        document.body.removeChild(link);\n        URL.revokeObjectURL(url);\n    };\n    const onCopy = ()=>{\n        if (isCopied) return;\n        copyToClipboard(value);\n    };\n    return /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsxs)(\"div\", {\n        className: \"copilotKitCodeBlock\",\n        children: [\n            /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsxs)(\"div\", {\n                className: \"copilotKitCodeBlockToolbar\",\n                children: [\n                    /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(\"span\", {\n                        className: \"copilotKitCodeBlockToolbarLanguage\",\n                        children: language\n                    }),\n                    /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsxs)(\"div\", {\n                        className: \"copilotKitCodeBlockToolbarButtons\",\n                        children: [\n                            /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsxs)(\"button\", {\n                                className: \"copilotKitCodeBlockToolbarButton\",\n                                onClick: downloadAsFile,\n                                children: [\n                                    /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(DownloadIcon, {}),\n                                    /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(\"span\", {\n                                        className: \"sr-only\",\n                                        children: \"Download\"\n                                    })\n                                ]\n                            }),\n                            /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsxs)(\"button\", {\n                                className: \"copilotKitCodeBlockToolbarButton\",\n                                onClick: onCopy,\n                                children: [\n                                    isCopied ? /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(CheckIcon, {}) : /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(CopyIcon, {}),\n                                    /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(\"span\", {\n                                        className: \"sr-only\",\n                                        children: \"Copy code\"\n                                    })\n                                ]\n                            })\n                        ]\n                    })\n                ]\n            }),\n            /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(react_syntax_highlighter__WEBPACK_IMPORTED_MODULE_2__[\"default\"], {\n                language,\n                style: highlightStyle,\n                PreTag: \"div\",\n                customStyle: {\n                    margin: 0,\n                    borderBottomLeftRadius: \"0.375rem\",\n                    borderBottomRightRadius: \"0.375rem\"\n                },\n                children: value\n            })\n        ]\n    });\n});\nCodeBlock.displayName = \"CodeBlock\";\nvar highlightStyle = {\n    'pre[class*=\"language-\"]': {\n        color: \"#d4d4d4\",\n        fontSize: \"13px\",\n        textShadow: \"none\",\n        fontFamily: 'Menlo, Monaco, Consolas, \"Andale Mono\", \"Ubuntu Mono\", \"Courier New\", monospace',\n        direction: \"ltr\",\n        textAlign: \"left\",\n        whiteSpace: \"pre\",\n        wordSpacing: \"normal\",\n        wordBreak: \"normal\",\n        lineHeight: \"1.5\",\n        MozTabSize: \"4\",\n        OTabSize: \"4\",\n        tabSize: \"4\",\n        WebkitHyphens: \"none\",\n        MozHyphens: \"none\",\n        msHyphens: \"none\",\n        hyphens: \"none\",\n        padding: \"1em\",\n        margin: \".5em 0\",\n        overflow: \"auto\",\n        background: \"#1e1e1e\"\n    },\n    'code[class*=\"language-\"]': {\n        color: \"#d4d4d4\",\n        fontSize: \"13px\",\n        textShadow: \"none\",\n        fontFamily: 'Menlo, Monaco, Consolas, \"Andale Mono\", \"Ubuntu Mono\", \"Courier New\", monospace',\n        direction: \"ltr\",\n        textAlign: \"left\",\n        whiteSpace: \"pre\",\n        wordSpacing: \"normal\",\n        wordBreak: \"normal\",\n        lineHeight: \"1.5\",\n        MozTabSize: \"4\",\n        OTabSize: \"4\",\n        tabSize: \"4\",\n        WebkitHyphens: \"none\",\n        MozHyphens: \"none\",\n        msHyphens: \"none\",\n        hyphens: \"none\"\n    },\n    'pre[class*=\"language-\"]::selection': {\n        textShadow: \"none\",\n        background: \"#264F78\"\n    },\n    'code[class*=\"language-\"]::selection': {\n        textShadow: \"none\",\n        background: \"#264F78\"\n    },\n    'pre[class*=\"language-\"] *::selection': {\n        textShadow: \"none\",\n        background: \"#264F78\"\n    },\n    'code[class*=\"language-\"] *::selection': {\n        textShadow: \"none\",\n        background: \"#264F78\"\n    },\n    ':not(pre) > code[class*=\"language-\"]': {\n        padding: \".1em .3em\",\n        borderRadius: \".3em\",\n        color: \"#db4c69\",\n        background: \"#1e1e1e\"\n    },\n    \".namespace\": {\n        Opacity: \".7\"\n    },\n    \"doctype.doctype-tag\": {\n        color: \"#569CD6\"\n    },\n    \"doctype.name\": {\n        color: \"#9cdcfe\"\n    },\n    comment: {\n        color: \"#6a9955\"\n    },\n    prolog: {\n        color: \"#6a9955\"\n    },\n    punctuation: {\n        color: \"#d4d4d4\"\n    },\n    \".language-html .language-css .token.punctuation\": {\n        color: \"#d4d4d4\"\n    },\n    \".language-html .language-javascript .token.punctuation\": {\n        color: \"#d4d4d4\"\n    },\n    property: {\n        color: \"#9cdcfe\"\n    },\n    tag: {\n        color: \"#569cd6\"\n    },\n    boolean: {\n        color: \"#569cd6\"\n    },\n    number: {\n        color: \"#b5cea8\"\n    },\n    constant: {\n        color: \"#9cdcfe\"\n    },\n    symbol: {\n        color: \"#b5cea8\"\n    },\n    inserted: {\n        color: \"#b5cea8\"\n    },\n    unit: {\n        color: \"#b5cea8\"\n    },\n    selector: {\n        color: \"#d7ba7d\"\n    },\n    \"attr-name\": {\n        color: \"#9cdcfe\"\n    },\n    string: {\n        color: \"#ce9178\"\n    },\n    char: {\n        color: \"#ce9178\"\n    },\n    builtin: {\n        color: \"#ce9178\"\n    },\n    deleted: {\n        color: \"#ce9178\"\n    },\n    \".language-css .token.string.url\": {\n        textDecoration: \"underline\"\n    },\n    operator: {\n        color: \"#d4d4d4\"\n    },\n    entity: {\n        color: \"#569cd6\"\n    },\n    \"operator.arrow\": {\n        color: \"#569CD6\"\n    },\n    atrule: {\n        color: \"#ce9178\"\n    },\n    \"atrule.rule\": {\n        color: \"#c586c0\"\n    },\n    \"atrule.url\": {\n        color: \"#9cdcfe\"\n    },\n    \"atrule.url.function\": {\n        color: \"#dcdcaa\"\n    },\n    \"atrule.url.punctuation\": {\n        color: \"#d4d4d4\"\n    },\n    keyword: {\n        color: \"#569CD6\"\n    },\n    \"keyword.module\": {\n        color: \"#c586c0\"\n    },\n    \"keyword.control-flow\": {\n        color: \"#c586c0\"\n    },\n    function: {\n        color: \"#dcdcaa\"\n    },\n    \"function.maybe-class-name\": {\n        color: \"#dcdcaa\"\n    },\n    regex: {\n        color: \"#d16969\"\n    },\n    important: {\n        color: \"#569cd6\"\n    },\n    italic: {\n        fontStyle: \"italic\"\n    },\n    \"class-name\": {\n        color: \"#4ec9b0\"\n    },\n    \"maybe-class-name\": {\n        color: \"#4ec9b0\"\n    },\n    console: {\n        color: \"#9cdcfe\"\n    },\n    parameter: {\n        color: \"#9cdcfe\"\n    },\n    interpolation: {\n        color: \"#9cdcfe\"\n    },\n    \"punctuation.interpolation-punctuation\": {\n        color: \"#569cd6\"\n    },\n    variable: {\n        color: \"#9cdcfe\"\n    },\n    \"imports.maybe-class-name\": {\n        color: \"#9cdcfe\"\n    },\n    \"exports.maybe-class-name\": {\n        color: \"#9cdcfe\"\n    },\n    escape: {\n        color: \"#d7ba7d\"\n    },\n    \"tag.punctuation\": {\n        color: \"#808080\"\n    },\n    cdata: {\n        color: \"#808080\"\n    },\n    \"attr-value\": {\n        color: \"#ce9178\"\n    },\n    \"attr-value.punctuation\": {\n        color: \"#ce9178\"\n    },\n    \"attr-value.punctuation.attr-equals\": {\n        color: \"#d4d4d4\"\n    },\n    namespace: {\n        color: \"#4ec9b0\"\n    },\n    'pre[class*=\"language-javascript\"]': {\n        color: \"#9cdcfe\"\n    },\n    'code[class*=\"language-javascript\"]': {\n        color: \"#9cdcfe\"\n    },\n    'pre[class*=\"language-jsx\"]': {\n        color: \"#9cdcfe\"\n    },\n    'code[class*=\"language-jsx\"]': {\n        color: \"#9cdcfe\"\n    },\n    'pre[class*=\"language-typescript\"]': {\n        color: \"#9cdcfe\"\n    },\n    'code[class*=\"language-typescript\"]': {\n        color: \"#9cdcfe\"\n    },\n    'pre[class*=\"language-tsx\"]': {\n        color: \"#9cdcfe\"\n    },\n    'code[class*=\"language-tsx\"]': {\n        color: \"#9cdcfe\"\n    },\n    'pre[class*=\"language-css\"]': {\n        color: \"#ce9178\"\n    },\n    'code[class*=\"language-css\"]': {\n        color: \"#ce9178\"\n    },\n    'pre[class*=\"language-html\"]': {\n        color: \"#d4d4d4\"\n    },\n    'code[class*=\"language-html\"]': {\n        color: \"#d4d4d4\"\n    },\n    \".language-regex .token.anchor\": {\n        color: \"#dcdcaa\"\n    },\n    \".language-html .token.punctuation\": {\n        color: \"#808080\"\n    },\n    'pre[class*=\"language-\"] > code[class*=\"language-\"]': {\n        position: \"relative\",\n        zIndex: \"1\"\n    },\n    \".line-highlight.line-highlight\": {\n        background: \"#f7ebc6\",\n        boxShadow: \"inset 5px 0 0 #f7d87c\",\n        zIndex: \"0\"\n    }\n};\n// src/components/chat/Markdown.tsx\n\n\n\nvar MemoizedReactMarkdown = /*#__PURE__*/ (0,react__WEBPACK_IMPORTED_MODULE_0__.memo)(react_markdown__WEBPACK_IMPORTED_MODULE_3__.ReactMarkdown, (prevProps, nextProps)=>prevProps.children === nextProps.children && prevProps.className === nextProps.className);\nvar Markdown = ({ content })=>{\n    return /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(\"div\", {\n        className: \"copilotKitMarkdown\",\n        children: /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(MemoizedReactMarkdown, {\n            components,\n            remarkPlugins: [\n                remark_gfm__WEBPACK_IMPORTED_MODULE_4__[\"default\"],\n                remark_math__WEBPACK_IMPORTED_MODULE_5__[\"default\"]\n            ],\n            children: content\n        })\n    });\n};\nvar components = {\n    p ({ children }) {\n        return /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(\"p\", {\n            children\n        });\n    },\n    a (_a) {\n        var _b = _a, { children } = _b, props = __objRest(_b, [\n            \"children\"\n        ]);\n        return /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(\"a\", __spreadProps(__spreadValues({\n            style: {\n                color: \"blue\",\n                textDecoration: \"underline\"\n            }\n        }, props), {\n            target: \"_blank\",\n            rel: \"noopener noreferrer\",\n            children\n        }));\n    },\n    code (_c) {\n        var _d = _c, { children, className, inline } = _d, props = __objRest(_d, [\n            \"children\",\n            \"className\",\n            \"inline\"\n        ]);\n        if (children.length) {\n            if (children[0] == \"▍\") {\n                return /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(\"span\", {\n                    style: {\n                        animation: \"pulse 2s cubic-bezier(0.4, 0, 0.6, 1) infinite\",\n                        marginTop: \"0.25rem\"\n                    },\n                    children: \"▍\"\n                });\n            }\n            children[0] = children[0].replace(\"`▍`\", \"▍\");\n        }\n        const match = /language-(\\w+)/.exec(className || \"\");\n        if (inline) {\n            return /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(\"code\", __spreadProps(__spreadValues({\n                className\n            }, props), {\n                children\n            }));\n        }\n        return /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(CodeBlock, __spreadValues({\n            language: match && match[1] || \"\",\n            value: String(children).replace(/\\n$/, \"\")\n        }, props), Math.random());\n    }\n};\n// src/components/chat/Messages.tsx\n\n\n\nvar Messages = ({ messages, inProgress, children })=>{\n    const { chatComponentsCache } = (0,_copilotkit_react_core__WEBPACK_IMPORTED_MODULE_6__.useCopilotContext)();\n    const context = useChatContext();\n    const initialMessages = (0,react__WEBPACK_IMPORTED_MODULE_0__.useMemo)(()=>makeInitialMessages(context.labels.initial), [\n        context.labels.initial\n    ]);\n    messages = [\n        ...initialMessages,\n        ...messages\n    ];\n    const functionResults = {};\n    for(let i = 0; i < messages.length; i++){\n        if (messages[i] instanceof _copilotkit_runtime_client_gql__WEBPACK_IMPORTED_MODULE_7__.ActionExecutionMessage) {\n            const id = messages[i].id;\n            const resultMessage = messages.find((message)=>message instanceof _copilotkit_runtime_client_gql__WEBPACK_IMPORTED_MODULE_7__.ResultMessage && message.actionExecutionId === id);\n            if (resultMessage) {\n                functionResults[id] = _copilotkit_runtime_client_gql__WEBPACK_IMPORTED_MODULE_7__.ResultMessage.decodeResult(resultMessage.result || \"\");\n            }\n        }\n    }\n    const messagesEndRef = react__WEBPACK_IMPORTED_MODULE_0__.useRef(null);\n    const scrollToBottom = ()=>{\n        if (messagesEndRef.current) {\n            messagesEndRef.current.scrollIntoView({\n                behavior: \"auto\"\n            });\n        }\n    };\n    (0,react__WEBPACK_IMPORTED_MODULE_0__.useEffect)(()=>{\n        scrollToBottom();\n    }, [\n        messages\n    ]);\n    return /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsxs)(\"div\", {\n        className: \"copilotKitMessages\",\n        children: [\n            messages.map((message, index)=>{\n                const isCurrentMessage = index === messages.length - 1;\n                if (message instanceof _copilotkit_runtime_client_gql__WEBPACK_IMPORTED_MODULE_7__.TextMessage && message.role === \"user\") {\n                    return /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(\"div\", {\n                        className: \"copilotKitMessage copilotKitUserMessage\",\n                        children: message.content\n                    }, index);\n                } else if (message instanceof _copilotkit_runtime_client_gql__WEBPACK_IMPORTED_MODULE_7__.TextMessage && message.role == \"assistant\") {\n                    return /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(\"div\", {\n                        className: `copilotKitMessage copilotKitAssistantMessage`,\n                        children: isCurrentMessage && inProgress && !message.content ? context.icons.spinnerIcon : /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(Markdown, {\n                            content: message.content\n                        })\n                    }, index);\n                } else if (message instanceof _copilotkit_runtime_client_gql__WEBPACK_IMPORTED_MODULE_7__.ActionExecutionMessage) {\n                    if (chatComponentsCache.current !== null && chatComponentsCache.current.actions[message.name]) {\n                        const render = chatComponentsCache.current.actions[message.name];\n                        if (typeof render === \"string\") {\n                            if (isCurrentMessage && inProgress) {\n                                return /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsxs)(\"div\", {\n                                    className: `copilotKitMessage copilotKitAssistantMessage`,\n                                    children: [\n                                        context.icons.spinnerIcon,\n                                        \" \",\n                                        /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(\"span\", {\n                                            className: \"inProgressLabel\",\n                                            children: render\n                                        })\n                                    ]\n                                }, index);\n                            } else {\n                                return null;\n                            }\n                        } else {\n                            const args = message.arguments;\n                            let status = \"inProgress\";\n                            if (functionResults[message.id] !== void 0) {\n                                status = \"complete\";\n                            } else if (message.status.code !== _copilotkit_runtime_client_gql__WEBPACK_IMPORTED_MODULE_8__.MessageStatusCode.Pending) {\n                                status = \"executing\";\n                            }\n                            const toRender = render({\n                                status,\n                                args,\n                                result: functionResults[message.id]\n                            });\n                            if (!toRender && status === \"complete\") {\n                                return null;\n                            }\n                            if (typeof toRender === \"string\") {\n                                return /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsxs)(\"div\", {\n                                    className: `copilotKitMessage copilotKitAssistantMessage`,\n                                    children: [\n                                        isCurrentMessage && inProgress && context.icons.spinnerIcon,\n                                        \" \",\n                                        toRender\n                                    ]\n                                }, index);\n                            } else {\n                                return /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(\"div\", {\n                                    className: \"copilotKitCustomAssistantMessage\",\n                                    children: toRender\n                                }, index);\n                            }\n                        }\n                    } else if (!inProgress || !isCurrentMessage) {\n                        return null;\n                    } else {\n                        return /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(\"div\", {\n                            className: `copilotKitMessage copilotKitAssistantMessage`,\n                            children: context.icons.spinnerIcon\n                        }, index);\n                    }\n                } else if (message instanceof _copilotkit_runtime_client_gql__WEBPACK_IMPORTED_MODULE_7__.AgentStateMessage) {\n                    let render;\n                    if (chatComponentsCache.current !== null) {\n                        render = chatComponentsCache.current.coagentActions[`${message.agentName}-${message.nodeName}`] || chatComponentsCache.current.coagentActions[`${message.agentName}-global`];\n                    }\n                    if (render) {\n                        if (typeof render === \"string\") {\n                            if (isCurrentMessage && inProgress) {\n                                return /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsxs)(\"div\", {\n                                    className: `copilotKitMessage copilotKitAssistantMessage`,\n                                    children: [\n                                        context.icons.spinnerIcon,\n                                        \" \",\n                                        /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(\"span\", {\n                                            className: \"inProgressLabel\",\n                                            children: render\n                                        })\n                                    ]\n                                }, index);\n                            } else {\n                                return null;\n                            }\n                        } else {\n                            const state = message.state;\n                            let status = message.active ? \"inProgress\" : \"complete\";\n                            const toRender = render({\n                                status,\n                                state,\n                                nodeName: message.nodeName\n                            });\n                            if (!toRender && status === \"complete\") {\n                                return null;\n                            }\n                            if (typeof toRender === \"string\") {\n                                return /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsxs)(\"div\", {\n                                    className: `copilotKitMessage copilotKitAssistantMessage`,\n                                    children: [\n                                        isCurrentMessage && inProgress && context.icons.spinnerIcon,\n                                        \" \",\n                                        toRender\n                                    ]\n                                }, index);\n                            } else {\n                                return /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(\"div\", {\n                                    className: \"copilotKitCustomAssistantMessage\",\n                                    children: toRender\n                                }, index);\n                            }\n                        }\n                    } else if (!inProgress || !isCurrentMessage) {\n                        return null;\n                    } else {\n                        return /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(\"div\", {\n                            className: `copilotKitMessage copilotKitAssistantMessage`,\n                            children: context.icons.spinnerIcon\n                        }, index);\n                    }\n                } else if (message instanceof _copilotkit_runtime_client_gql__WEBPACK_IMPORTED_MODULE_7__.ResultMessage && inProgress && isCurrentMessage) {\n                    return /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(\"div\", {\n                        className: `copilotKitMessage copilotKitAssistantMessage`,\n                        children: context.icons.spinnerIcon\n                    }, index);\n                }\n            }),\n            /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(\"footer\", {\n                ref: messagesEndRef,\n                children\n            })\n        ]\n    });\n};\nfunction makeInitialMessages(initial) {\n    let initialArray = [];\n    if (initial) {\n        if (Array.isArray(initial)) {\n            initialArray.push(...initial);\n        } else {\n            initialArray.push(initial);\n        }\n    }\n    return initialArray.map((message)=>new _copilotkit_runtime_client_gql__WEBPACK_IMPORTED_MODULE_7__.TextMessage({\n            role: _copilotkit_runtime_client_gql__WEBPACK_IMPORTED_MODULE_7__.Role.Assistant,\n            content: message\n        }));\n}\n// src/components/chat/Input.tsx\n\n// src/components/chat/Textarea.tsx\n\n\nvar AutoResizingTextarea = /*#__PURE__*/ (0,react__WEBPACK_IMPORTED_MODULE_0__.forwardRef)(({ maxRows = 1, placeholder, value, onChange, onKeyDown, autoFocus }, ref)=>{\n    const internalTextareaRef = (0,react__WEBPACK_IMPORTED_MODULE_0__.useRef)(null);\n    const [maxHeight, setMaxHeight] = (0,react__WEBPACK_IMPORTED_MODULE_0__.useState)(0);\n    (0,react__WEBPACK_IMPORTED_MODULE_0__.useImperativeHandle)(ref, ()=>internalTextareaRef.current);\n    (0,react__WEBPACK_IMPORTED_MODULE_0__.useEffect)(()=>{\n        const calculateMaxHeight = ()=>{\n            const textarea = internalTextareaRef.current;\n            if (textarea) {\n                textarea.style.height = \"auto\";\n                const singleRowHeight = textarea.scrollHeight;\n                setMaxHeight(singleRowHeight * maxRows);\n                if (autoFocus) {\n                    textarea.focus();\n                }\n            }\n        };\n        calculateMaxHeight();\n    }, [\n        maxRows\n    ]);\n    (0,react__WEBPACK_IMPORTED_MODULE_0__.useEffect)(()=>{\n        const textarea = internalTextareaRef.current;\n        if (textarea) {\n            textarea.style.height = \"auto\";\n            textarea.style.height = `${Math.min(textarea.scrollHeight, maxHeight)}px`;\n        }\n    }, [\n        value,\n        maxHeight\n    ]);\n    return /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(\"textarea\", {\n        ref: internalTextareaRef,\n        value,\n        onChange,\n        onKeyDown,\n        placeholder,\n        style: {\n            overflow: \"auto\",\n            resize: \"none\",\n            maxHeight: `${maxHeight}px`\n        },\n        rows: 1\n    });\n});\nvar Textarea_default = AutoResizingTextarea;\n// src/hooks/use-push-to-talk.tsx\n\n\n\nvar startRecording = (mediaStreamRef, mediaRecorderRef, audioContextRef, recordedChunks, onStop)=>__async(void 0, null, function*() {\n        if (!mediaStreamRef.current || !audioContextRef.current) {\n            mediaStreamRef.current = yield navigator.mediaDevices.getUserMedia({\n                audio: true\n            });\n            audioContextRef.current = new window.AudioContext();\n            yield audioContextRef.current.resume();\n        }\n        mediaRecorderRef.current = new MediaRecorder(mediaStreamRef.current);\n        mediaRecorderRef.current.start(1e3);\n        mediaRecorderRef.current.ondataavailable = (event)=>{\n            recordedChunks.push(event.data);\n        };\n        mediaRecorderRef.current.onstop = onStop;\n    });\nvar stopRecording = (mediaRecorderRef)=>{\n    if (mediaRecorderRef.current && mediaRecorderRef.current.state !== \"inactive\") {\n        mediaRecorderRef.current.stop();\n    }\n};\nvar transcribeAudio = (recordedChunks, transcribeAudioUrl)=>__async(void 0, null, function*() {\n        const completeBlob = new Blob(recordedChunks, {\n            type: \"audio/mp4\"\n        });\n        const formData = new FormData();\n        formData.append(\"file\", completeBlob, \"recording.mp4\");\n        const response = yield fetch(transcribeAudioUrl, {\n            method: \"POST\",\n            body: formData\n        });\n        if (!response.ok) {\n            throw new Error(`Error: ${response.statusText}`);\n        }\n        const transcription = yield response.json();\n        return transcription.text;\n    });\nvar playAudioResponse = (text, textToSpeechUrl, audioContext)=>{\n    const encodedText = encodeURIComponent(text);\n    const url = `${textToSpeechUrl}?text=${encodedText}`;\n    fetch(url).then((response)=>response.arrayBuffer()).then((arrayBuffer)=>audioContext.decodeAudioData(arrayBuffer)).then((audioBuffer)=>{\n        const source = audioContext.createBufferSource();\n        source.buffer = audioBuffer;\n        source.connect(audioContext.destination);\n        source.start(0);\n    }).catch((error)=>{\n        console.error(\"Error with decoding audio data\", error);\n    });\n};\nvar usePushToTalk = ({ sendFunction, inProgress })=>{\n    const [pushToTalkState, setPushToTalkState] = (0,react__WEBPACK_IMPORTED_MODULE_0__.useState)(\"idle\");\n    const mediaStreamRef = (0,react__WEBPACK_IMPORTED_MODULE_0__.useRef)(null);\n    const audioContextRef = (0,react__WEBPACK_IMPORTED_MODULE_0__.useRef)(null);\n    const mediaRecorderRef = (0,react__WEBPACK_IMPORTED_MODULE_0__.useRef)(null);\n    const recordedChunks = (0,react__WEBPACK_IMPORTED_MODULE_0__.useRef)([]);\n    const context = (0,_copilotkit_react_core__WEBPACK_IMPORTED_MODULE_6__.useCopilotContext)();\n    const [startReadingFromMessageId, setStartReadingFromMessageId] = (0,react__WEBPACK_IMPORTED_MODULE_0__.useState)(null);\n    (0,react__WEBPACK_IMPORTED_MODULE_0__.useEffect)(()=>{\n        if (pushToTalkState === \"recording\") {\n            startRecording(mediaStreamRef, mediaRecorderRef, audioContextRef, recordedChunks.current, ()=>{\n                setPushToTalkState(\"transcribing\");\n            });\n        } else {\n            stopRecording(mediaRecorderRef);\n            if (pushToTalkState === \"transcribing\") {\n                transcribeAudio(recordedChunks.current, context.copilotApiConfig.transcribeAudioUrl).then((transcription)=>__async(void 0, null, function*() {\n                        recordedChunks.current = [];\n                        setPushToTalkState(\"idle\");\n                        const message = yield sendFunction(transcription);\n                        setStartReadingFromMessageId(message.id);\n                    }));\n            }\n        }\n        return ()=>{\n            stopRecording(mediaRecorderRef);\n        };\n    }, [\n        pushToTalkState\n    ]);\n    (0,react__WEBPACK_IMPORTED_MODULE_0__.useEffect)(()=>{\n        if (inProgress === false && startReadingFromMessageId) {\n            const lastMessageIndex = context.messages.findIndex((message)=>message.id === startReadingFromMessageId);\n            const messagesAfterLast = context.messages.slice(lastMessageIndex + 1).filter((message)=>message instanceof _copilotkit_runtime_client_gql__WEBPACK_IMPORTED_MODULE_7__.TextMessage && message.role === \"assistant\");\n            const text = messagesAfterLast.map((message)=>message.content).join(\"\\n\");\n            playAudioResponse(text, context.copilotApiConfig.textToSpeechUrl, audioContextRef.current);\n            setStartReadingFromMessageId(null);\n        }\n    }, [\n        startReadingFromMessageId,\n        inProgress\n    ]);\n    return {\n        pushToTalkState,\n        setPushToTalkState\n    };\n};\n// src/components/chat/Input.tsx\n\n\nvar Input = ({ inProgress, onSend, isVisible = false })=>{\n    const context = useChatContext();\n    const copilotContext = (0,_copilotkit_react_core__WEBPACK_IMPORTED_MODULE_6__.useCopilotContext)();\n    const pushToTalkConfigured = copilotContext.copilotApiConfig.textToSpeechUrl !== void 0 && copilotContext.copilotApiConfig.transcribeAudioUrl !== void 0;\n    const textareaRef = (0,react__WEBPACK_IMPORTED_MODULE_0__.useRef)(null);\n    const handleDivClick = (event)=>{\n        var _a;\n        if (event.target !== event.currentTarget) return;\n        (_a = textareaRef.current) == null ? void 0 : _a.focus();\n    };\n    const [text, setText] = (0,react__WEBPACK_IMPORTED_MODULE_0__.useState)(\"\");\n    const send = ()=>{\n        var _a;\n        if (inProgress) return;\n        onSend(text);\n        setText(\"\");\n        (_a = textareaRef.current) == null ? void 0 : _a.focus();\n    };\n    (0,react__WEBPACK_IMPORTED_MODULE_0__.useEffect)(()=>{\n        var _a;\n        if (isVisible) {\n            (_a = textareaRef.current) == null ? void 0 : _a.focus();\n        }\n    }, [\n        isVisible\n    ]);\n    const { pushToTalkState, setPushToTalkState } = usePushToTalk({\n        sendFunction: onSend,\n        inProgress\n    });\n    const sendIcon = inProgress || pushToTalkState === \"transcribing\" ? context.icons.activityIcon : context.icons.sendIcon;\n    const showPushToTalk = pushToTalkConfigured && (pushToTalkState === \"idle\" || pushToTalkState === \"recording\") && !inProgress;\n    const sendDisabled = inProgress || text.length === 0 || pushToTalkState !== \"idle\";\n    return /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsxs)(\"div\", {\n        className: \"copilotKitInput\",\n        onClick: handleDivClick,\n        children: [\n            /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(Textarea_default, {\n                ref: textareaRef,\n                placeholder: context.labels.placeholder,\n                autoFocus: true,\n                maxRows: 5,\n                value: text,\n                onChange: (event)=>setText(event.target.value),\n                onKeyDown: (event)=>{\n                    if (event.key === \"Enter\" && !event.shiftKey) {\n                        event.preventDefault();\n                        send();\n                    }\n                }\n            }),\n            /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsxs)(\"div\", {\n                className: \"copilotKitInputControls\",\n                children: [\n                    showPushToTalk && /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(\"button\", {\n                        onClick: ()=>setPushToTalkState(pushToTalkState === \"idle\" ? \"recording\" : \"transcribing\"),\n                        className: pushToTalkState === \"recording\" ? \"copilotKitPushToTalkRecording\" : \"\",\n                        children: context.icons.pushToTalkIcon\n                    }),\n                    /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(\"button\", {\n                        disabled: sendDisabled,\n                        onClick: send,\n                        children: sendIcon\n                    })\n                ]\n            })\n        ]\n    });\n};\n// src/components/chat/Response.tsx\n\nvar ResponseButton = ({ onClick, inProgress })=>{\n    const context = useChatContext();\n    return /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsxs)(\"button\", {\n        onClick,\n        className: \"copilotKitResponseButton\",\n        children: [\n            /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(\"span\", {\n                children: inProgress ? context.icons.stopIcon : context.icons.regenerateIcon\n            }),\n            inProgress ? context.labels.stopGenerating : context.labels.regenerateResponse\n        ]\n    });\n};\n// src/components/chat/Suggestion.tsx\n\n\n\n\nfunction Suggestion({ title, message, onClick, partial, className }) {\n    return /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsxs)(\"button\", {\n        disabled: partial,\n        onClick: (e)=>{\n            e.preventDefault();\n            onClick(message);\n        },\n        className: className || \"suggestion\",\n        children: [\n            partial && SmallSpinnerIcon,\n            /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(\"span\", {\n                children: title\n            })\n        ]\n    });\n}\nvar reloadSuggestions = (context, chatSuggestionConfiguration, setCurrentSuggestions, abortControllerRef)=>__async(void 0, null, function*() {\n        const abortController = abortControllerRef.current;\n        const tools = JSON.stringify(Object.values(context.actions).map((action)=>({\n                name: action.name,\n                description: action.description,\n                jsonSchema: JSON.stringify((0,_copilotkit_shared__WEBPACK_IMPORTED_MODULE_9__.actionParametersToJsonSchema)(action.parameters))\n            })));\n        const allSuggestions = [];\n        for (const config of Object.values(chatSuggestionConfiguration)){\n            try {\n                const numOfSuggestionsInstructions = config.minSuggestions === 0 ? `Produce up to ${config.maxSuggestions} suggestions. If there are no highly relevant suggestions you can think of, provide an empty array.` : `Produce between ${config.minSuggestions} and ${config.maxSuggestions} suggestions.`;\n                const result = yield (0,_copilotkit_react_core__WEBPACK_IMPORTED_MODULE_10__.extract)({\n                    context,\n                    instructions: \"Suggest what the user could say next. Provide clear, highly relevant suggestions. Do not literally suggest function calls. \" + config.instructions + \"\\n\\n\" + numOfSuggestionsInstructions,\n                    data: \"Available tools: \" + tools + \"\\n\\n\",\n                    requestType: _copilotkit_runtime_client_gql__WEBPACK_IMPORTED_MODULE_8__.CopilotRequestType.Task,\n                    parameters: [\n                        {\n                            name: \"suggestions\",\n                            type: \"object[]\",\n                            attributes: [\n                                {\n                                    name: \"title\",\n                                    description: \"The title of the suggestion. This is shown as a button and should be short.\",\n                                    type: \"string\"\n                                },\n                                {\n                                    name: \"message\",\n                                    description: \"The message to send when the suggestion is clicked. This should be a clear, complete sentence and will be sent as an instruction to the AI.\",\n                                    type: \"string\"\n                                }\n                            ]\n                        }\n                    ],\n                    include: {\n                        messages: true,\n                        readable: true\n                    },\n                    abortSignal: abortController == null ? void 0 : abortController.signal,\n                    stream: ({ status, args })=>{\n                        const suggestions = args.suggestions || [];\n                        const newSuggestions = [];\n                        for(let i = 0; i < suggestions.length; i++){\n                            if (config.maxSuggestions !== void 0 && i >= config.maxSuggestions) {\n                                break;\n                            }\n                            const { title, message } = suggestions[i];\n                            const partial = i == suggestions.length - 1 && status !== \"complete\";\n                            newSuggestions.push({\n                                title,\n                                message,\n                                partial,\n                                className: config.className\n                            });\n                        }\n                        setCurrentSuggestions([\n                            ...allSuggestions,\n                            ...newSuggestions\n                        ]);\n                    }\n                });\n                allSuggestions.push(...result.suggestions);\n            } catch (error) {\n                console.error(\"Error loading suggestions\", error);\n            }\n        }\n        if (abortControllerRef.current === abortController) {\n            abortControllerRef.current = null;\n        }\n    });\n// src/components/chat/Chat.tsx\n\n\n\n\n// src/components/dev-console/utils.ts\n\n\n\nfunction shouldShowDevConsole(showDevConsole) {\n    if (typeof showDevConsole === \"boolean\") {\n        return showDevConsole;\n    }\n    return getHostname() === \"localhost\" || getHostname() === \"127.0.0.1\" || getHostname() === \"0.0.0.0\" || getHostname() === \"::1\";\n}\nfunction getHostname() {\n    if (false) {}\n    return \"\";\n}\nfunction getPublishedCopilotKitVersion(current, forceCheck = false) {\n    return __async(this, null, function*() {\n        const LOCAL_STORAGE_KEY = \"__copilotkit_version_check__\";\n        const serializedVersion = localStorage.getItem(LOCAL_STORAGE_KEY);\n        if (serializedVersion && !forceCheck) {\n            try {\n                const parsedVersion = JSON.parse(serializedVersion);\n                const oneHour = 60 * 60 * 1e3;\n                const now = /* @__PURE__ */ new Date().getTime();\n                if (parsedVersion.current === current && now - new Date(parsedVersion.lastChecked).getTime() < oneHour) {\n                    return parsedVersion;\n                }\n            } catch (error) {\n                console.error(\"Failed to parse CopilotKitVersion from localStorage\", error);\n            }\n        }\n        try {\n            const response = yield fetch(\"https://api.cloud.stagingcopilotkit.ai/check-for-updates\", {\n                method: \"POST\",\n                headers: {\n                    \"Content-Type\": \"application/json\"\n                },\n                body: JSON.stringify({\n                    packages: [\n                        {\n                            packageName: \"@copilotkit/shared\",\n                            packageVersion: current\n                        }\n                    ]\n                })\n            });\n            const data = yield response.json();\n            const version = {\n                current,\n                lastChecked: /* @__PURE__ */ new Date().getTime(),\n                latest: data.packages[0].latestVersion,\n                severity: data.packages[0].severity,\n                advisory: data.packages[0].advisory || null\n            };\n            localStorage.setItem(LOCAL_STORAGE_KEY, JSON.stringify(version));\n            return version;\n        } catch (error) {\n            console.error(\"Failed to check for updates\", error);\n            throw error;\n        }\n    });\n}\nfunction logReadables(context) {\n    console.log(\"%cCurrent Readables:\", \"font-size: 16px; font-weight: bold;\");\n    const readables = context.getContextString([], _copilotkit_react_core__WEBPACK_IMPORTED_MODULE_11__.defaultCopilotContextCategories).trim();\n    if (readables.length === 0) {\n        console.log(\"No readables found\");\n        return;\n    }\n    console.log(readables);\n}\nfunction logActions(context) {\n    console.log(\"%cCurrent Actions:\", \"font-size: 16px; font-weight: bold;\");\n    if (Object.values(context.actions).length === 0) {\n        console.log(\"No actions found\");\n        return;\n    }\n    for (const action of Object.values(context.actions)){\n        console.group(action.name);\n        console.log(\"name\", action.name);\n        console.log(\"description\", action.description);\n        console.log(\"parameters\", action.parameters);\n        console.groupEnd();\n    }\n}\nfunction logMessages(context) {\n    console.log(\"%cCurrent Messages:\", \"font-size: 16px; font-weight: bold;\");\n    if (context.messages.length === 0) {\n        console.log(\"No messages found\");\n        return;\n    }\n    const tableData = context.messages.map((message)=>{\n        if (message instanceof _copilotkit_runtime_client_gql__WEBPACK_IMPORTED_MODULE_7__.TextMessage) {\n            return {\n                id: message.id,\n                type: \"TextMessage\",\n                role: message.role,\n                name: void 0,\n                scope: void 0,\n                content: message.content\n            };\n        } else if (message instanceof _copilotkit_runtime_client_gql__WEBPACK_IMPORTED_MODULE_7__.ActionExecutionMessage) {\n            return {\n                id: message.id,\n                type: \"ActionExecutionMessage\",\n                role: void 0,\n                name: message.name,\n                scope: message.scope,\n                content: message.arguments\n            };\n        } else if (message instanceof _copilotkit_runtime_client_gql__WEBPACK_IMPORTED_MODULE_7__.ResultMessage) {\n            return {\n                id: message.id,\n                type: \"ResultMessage\",\n                role: void 0,\n                name: message.actionName,\n                scope: message.actionExecutionId,\n                content: message.result\n            };\n        } else if (message instanceof _copilotkit_runtime_client_gql__WEBPACK_IMPORTED_MODULE_7__.AgentStateMessage) {\n            return {\n                id: message.id,\n                type: `AgentStateMessage (running: ${message.running})`,\n                role: message.role,\n                name: void 0,\n                scope: message.threadId,\n                content: message.state\n            };\n        }\n    });\n    console.table(tableData);\n}\n// src/components/dev-console/console.tsx\n\n\n// src/components/dev-console/icons.tsx\n\nvar ExclamationMarkTriangleIcon = /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(\"svg\", {\n    width: \"13.3967723px\",\n    height: \"12px\",\n    viewBox: \"0 0 13.3967723 12\",\n    version: \"1.1\",\n    xmlns: \"http://www.w3.org/2000/svg\",\n    children: /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(\"g\", {\n        id: \"Page-1\",\n        stroke: \"none\",\n        strokeWidth: \"1\",\n        fill: \"none\",\n        fillRule: \"evenodd\",\n        children: /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(\"g\", {\n            id: \"exclamation-triangle\",\n            fill: \"#CD2121\",\n            children: /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(\"path\", {\n                d: \"M5.39935802,0.75 C5.97670802,-0.25 7.42007802,-0.25 7.99742802,0.75 L13.193588,9.75 C13.770888,10.75 13.049288,12 11.894588,12 L1.50223802,12 C0.34753802,12 -0.37414898,10.75 0.20319802,9.75 L5.39935802,0.75 Z M6.69838802,2.5 C7.11260802,2.5 7.44838802,2.83579 7.44838802,3.25 L7.44838802,6.25 C7.44838802,6.66421 7.11260802,7 6.69838802,7 C6.28417802,7 5.94838802,6.66421 5.94838802,6.25 L5.94838802,3.25 C5.94838802,2.83579 6.28417802,2.5 6.69838802,2.5 Z M6.69838802,10.5 C7.25067802,10.5 7.69838802,10.0523 7.69838802,9.5 C7.69838802,8.9477 7.25067802,8.5 6.69838802,8.5 C6.14610802,8.5 5.69838802,8.9477 5.69838802,9.5 C5.69838802,10.0523 6.14610802,10.5 6.69838802,10.5 Z\",\n                id: \"Shape\"\n            })\n        })\n    })\n});\nvar ExclamationMarkIcon = /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(\"svg\", {\n    width: \"14px\",\n    height: \"14px\",\n    viewBox: \"0 0 14 14\",\n    version: \"1.1\",\n    xmlns: \"http://www.w3.org/2000/svg\",\n    children: /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(\"g\", {\n        id: \"Page-1\",\n        stroke: \"none\",\n        strokeWidth: \"1\",\n        fill: \"none\",\n        fillRule: \"evenodd\",\n        children: /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(\"g\", {\n            id: \"exclamation-circle\",\n            fill: \"#EC662C\",\n            children: /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(\"path\", {\n                d: \"M7,14 C10.866,14 14,10.866 14,7 C14,3.13401 10.866,0 7,0 C3.13401,0 0,3.13401 0,7 C0,10.866 3.13401,14 7,14 Z M7,3 C7.41421,3 7.75,3.33579 7.75,3.75 L7.75,6.75 C7.75,7.16421 7.41421,7.5 7,7.5 C6.58579,7.5 6.25,7.16421 6.25,6.75 L6.25,3.75 C6.25,3.33579 6.58579,3 7,3 Z M7,11 C7.55228,11 8,10.5523 8,10 C8,9.4477 7.55228,9 7,9 C6.44772,9 6,9.4477 6,10 C6,10.5523 6.44772,11 7,11 Z\",\n                id: \"Shape\"\n            })\n        })\n    })\n});\nvar ChevronDownIcon = /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(\"svg\", {\n    width: \"7px\",\n    height: \"4px\",\n    viewBox: \"0 0 7 4\",\n    version: \"1.1\",\n    xmlns: \"http://www.w3.org/2000/svg\",\n    children: /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(\"g\", {\n        id: \"Page-1\",\n        stroke: \"none\",\n        strokeWidth: \"1\",\n        fill: \"none\",\n        fillRule: \"evenodd\",\n        children: /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(\"g\", {\n            id: \"Group\",\n            fill: \"#000000\",\n            fillRule: \"nonzero\",\n            children: /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(\"path\", {\n                d: \"M3.71690723,3.90271086 C3.59268176,4.03242971 3.39143629,4.03242971 3.26721082,3.90271086 L0.0853966595,0.57605615 C-0.0314221035,0.444981627 -0.0279751448,0.240725043 0.0931934622,0.114040675 C0.214362069,-0.0126436935 0.409725445,-0.0162475626 0.535093061,0.105888951 L3.49205902,3.19746006 L6.44902499,0.105888951 C6.52834574,0.0168884389 6.64780588,-0.0197473458 6.7605411,0.0103538404 C6.87327633,0.0404550266 6.96130636,0.132492308 6.99009696,0.250359396 C7.01888756,0.368226483 6.98384687,0.493124608 6.89872139,0.57605615 L3.71690723,3.90271086 Z\",\n                id: \"Path\"\n            })\n        })\n    })\n});\nvar CheckIcon2 = /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(\"svg\", {\n    width: \"14px\",\n    height: \"14px\",\n    viewBox: \"0 0 14 14\",\n    version: \"1.1\",\n    xmlns: \"http://www.w3.org/2000/svg\",\n    children: /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(\"g\", {\n        id: \"Page-1\",\n        stroke: \"none\",\n        strokeWidth: \"1\",\n        fill: \"none\",\n        fillRule: \"evenodd\",\n        children: /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(\"g\", {\n            id: \"Group-2\",\n            transform: \"translate(-118, 0)\",\n            fill: \"#1BC030\",\n            fillRule: \"nonzero\",\n            children: /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(\"g\", {\n                id: \"Group\",\n                transform: \"translate(118, 0)\",\n                children: /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(\"path\", {\n                    d: \"M0,7 C0,3.13384615 3.13384615,0 7,0 C10.8661538,0 14,3.13384615 14,7 C14,10.8661538 10.8661538,14 7,14 C3.13384615,14 0,10.8661538 0,7 Z M9.59179487,5.69764103 C9.70905818,5.54139023 9.73249341,5.33388318 9.65303227,5.15541491 C9.57357113,4.97694665 9.40367989,4.85551619 9.20909814,4.83811118 C9.01451638,4.82070616 8.82577109,4.91005717 8.71589744,5.07158974 L6.39261538,8.32389744 L5.22666667,7.15794872 C5.01450582,6.96025518 4.68389046,6.9660885 4.47883563,7.17114332 C4.27378081,7.37619815 4.26794748,7.70681351 4.46564103,7.91897436 L6.08102564,9.53435897 C6.19289944,9.64614839 6.3482622,9.70310251 6.50588106,9.69010587 C6.66349993,9.67710922 6.80743532,9.59547613 6.89948718,9.46687179 L9.59179487,5.69764103 L9.59179487,5.69764103 Z\",\n                    id: \"Shape\"\n                })\n            })\n        })\n    })\n});\nvar CopilotKitIcon = /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsxs)(\"svg\", {\n    width: \"33px\",\n    height: \"35px\",\n    viewBox: \"0 0 33 35\",\n    version: \"1.1\",\n    xmlns: \"http://www.w3.org/2000/svg\",\n    children: [\n        /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(\"title\", {\n            children: \"bd5c9079-929b-4d55-bdc9-16d1c8181b71\"\n        }),\n        /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(\"g\", {\n            id: \"Page-1\",\n            stroke: \"none\",\n            strokeWidth: \"1\",\n            fill: \"none\",\n            fillRule: \"evenodd\",\n            children: /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(\"image\", {\n                x: \"0\",\n                y: \"0\",\n                width: \"33\",\n                height: \"35\",\n                xlinkHref: \"data:image/png;base64,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\"\n            })\n        })\n    ]\n});\n// src/components/dev-console/console.tsx\n\n\n\nfunction CopilotDevConsole() {\n    const currentVersion = _copilotkit_shared__WEBPACK_IMPORTED_MODULE_12__.COPILOTKIT_VERSION;\n    const context = (0,_copilotkit_react_core__WEBPACK_IMPORTED_MODULE_6__.useCopilotContext)();\n    const [showDevConsole, setShowDevConsole] = (0,react__WEBPACK_IMPORTED_MODULE_0__.useState)(false);\n    (0,react__WEBPACK_IMPORTED_MODULE_0__.useEffect)(()=>{\n        setShowDevConsole(shouldShowDevConsole(context.showDevConsole));\n    }, [\n        context.showDevConsole\n    ]);\n    const dontRunTwiceInDevMode = (0,react__WEBPACK_IMPORTED_MODULE_0__.useRef)(false);\n    const [versionStatus, setVersionStatus] = (0,react__WEBPACK_IMPORTED_MODULE_0__.useState)(\"unknown\");\n    const [latestVersion, setLatestVersion] = (0,react__WEBPACK_IMPORTED_MODULE_0__.useState)(\"\");\n    const consoleRef = (0,react__WEBPACK_IMPORTED_MODULE_0__.useRef)(null);\n    const [debugButtonMode, setDebugButtonMode] = (0,react__WEBPACK_IMPORTED_MODULE_0__.useState)(\"full\");\n    const checkForUpdates = (force = false)=>{\n        setVersionStatus(\"checking\");\n        getPublishedCopilotKitVersion(currentVersion, force).then((v)=>{\n            setLatestVersion(v.latest);\n            let versionOk = false;\n            if (v.current === v.latest) {\n                versionOk = true;\n            } else if (/[a-zA-Z]/.test(v.current)) {\n                versionOk = true;\n            }\n            if (versionOk) {\n                setVersionStatus(\"latest\");\n            } else if (v.severity !== \"low\") {\n                setVersionStatus(\"outdated\");\n            } else {\n                setVersionStatus(\"update-available\");\n            }\n        }).catch((e)=>{\n            console.error(e);\n            setVersionStatus(\"unknown\");\n        });\n    };\n    (0,react__WEBPACK_IMPORTED_MODULE_0__.useEffect)(()=>{\n        if (dontRunTwiceInDevMode.current === true) {\n            return;\n        }\n        dontRunTwiceInDevMode.current = true;\n        checkForUpdates();\n    }, []);\n    (0,react__WEBPACK_IMPORTED_MODULE_0__.useEffect)(()=>{\n        const handleResize = (entries)=>{\n            for (let entry of entries){\n                if (entry.target === consoleRef.current) {\n                    const width = entry.contentRect.width;\n                    if (width < 400) {\n                        setDebugButtonMode(\"compact\");\n                    } else {\n                        setDebugButtonMode(\"full\");\n                    }\n                }\n            }\n        };\n        const observer = new ResizeObserver(handleResize);\n        if (consoleRef.current) {\n            observer.observe(consoleRef.current);\n            const initialWidth = consoleRef.current.getBoundingClientRect().width;\n            if (initialWidth < 400) {\n                setDebugButtonMode(\"compact\");\n            } else {\n                setDebugButtonMode(\"full\");\n            }\n        }\n        return ()=>{\n            if (consoleRef.current) {\n                observer.unobserve(consoleRef.current);\n            }\n        };\n    }, [\n        consoleRef.current\n    ]);\n    if (!showDevConsole) {\n        return null;\n    }\n    return /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsxs)(\"div\", {\n        ref: consoleRef,\n        className: \"copilotKitDevConsole \" + (versionStatus === \"update-available\" ? \"copilotKitDevConsoleUpgrade\" : \"\") + (versionStatus === \"outdated\" ? \"copilotKitDevConsoleWarnOutdated\" : \"\"),\n        children: [\n            /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(\"div\", {\n                className: \"copilotKitDevConsoleLogo\",\n                children: /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(\"a\", {\n                    href: \"https://copilotkit.ai\",\n                    target: \"_blank\",\n                    children: CopilotKitIcon\n                })\n            }),\n            /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(VersionInfo, {\n                showDevConsole: context.showDevConsole,\n                versionStatus,\n                currentVersion,\n                latestVersion\n            }),\n            /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(DebugMenuButton, {\n                setShowDevConsole,\n                checkForUpdates,\n                mode: debugButtonMode\n            })\n        ]\n    });\n}\nfunction VersionInfo({ showDevConsole, versionStatus, currentVersion, latestVersion }) {\n    const [copyStatus, setCopyStatus] = (0,react__WEBPACK_IMPORTED_MODULE_0__.useState)(\"\");\n    let versionLabel = \"\";\n    let versionIcon = \"\";\n    let currentVersionLabel = currentVersion;\n    if (versionStatus === \"latest\") {\n        versionLabel = \"latest\";\n        versionIcon = CheckIcon2;\n    } else if (versionStatus === \"checking\") {\n        versionLabel = \"checking\";\n        versionIcon = SmallSpinnerIcon;\n    } else if (versionStatus === \"update-available\") {\n        versionLabel = \"update available\";\n        versionIcon = ExclamationMarkIcon;\n        currentVersionLabel = `${currentVersion} \\u2192 ${latestVersion}`;\n    } else if (versionStatus === \"outdated\") {\n        versionLabel = \"outdated\";\n        versionIcon = ExclamationMarkTriangleIcon;\n        currentVersionLabel = `${currentVersion} \\u2192 ${latestVersion}`;\n    }\n    let asideLabel = \"\";\n    if (showDevConsole === \"auto\") {\n        asideLabel = \"(localhost only)\";\n    } else if (showDevConsole === true) {\n        asideLabel = \"(always on)\";\n    }\n    const installCommand = [\n        `npm install`,\n        `@copilotkit/react-core@${latestVersion}`,\n        `@copilotkit/react-ui@${latestVersion}`,\n        `@copilotkit/react-textarea@${latestVersion}`\n    ].join(\" \");\n    const handleCopyClick = ()=>{\n        navigator.clipboard.writeText(installCommand.trim()).then(()=>{\n            setCopyStatus(\"Command copied to clipboard!\");\n            setTimeout(()=>setCopyStatus(\"\"), 1e3);\n        });\n    };\n    return /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsxs)(\"div\", {\n        className: \"copilotKitVersionInfo\",\n        children: [\n            /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsxs)(\"header\", {\n                children: [\n                    \"COPILOTKIT DEV CONSOLE\",\n                    showDevConsole === \"auto\" && /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(\"aside\", {\n                        children: asideLabel\n                    })\n                ]\n            }),\n            /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsxs)(\"section\", {\n                children: [\n                    \"Version: \",\n                    versionLabel,\n                    \" (\",\n                    currentVersionLabel,\n                    \") \",\n                    versionIcon\n                ]\n            }),\n            (versionStatus === \"update-available\" || versionStatus === \"outdated\") && /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(\"footer\", {\n                children: /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(\"button\", {\n                    onClick: handleCopyClick,\n                    children: copyStatus || installCommand\n                })\n            })\n        ]\n    });\n}\nfunction DebugMenuButton({ setShowDevConsole, checkForUpdates, mode }) {\n    const context = (0,_copilotkit_react_core__WEBPACK_IMPORTED_MODULE_6__.useCopilotContext)();\n    return /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(\"div\", {\n        className: \"bg-black fixed top-24 w-52 text-right\",\n        children: /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsxs)(_barrel_optimize_names_Menu_MenuButton_MenuItem_MenuItems_headlessui_react__WEBPACK_IMPORTED_MODULE_13__.Menu, {\n            children: [\n                /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(_barrel_optimize_names_Menu_MenuButton_MenuItem_MenuItems_headlessui_react__WEBPACK_IMPORTED_MODULE_13__.MenuButton, {\n                    className: `copilotKitDebugMenuButton ${mode === \"compact\" ? \"compact\" : \"\"}`,\n                    children: mode == \"compact\" ? \"Debug\" : /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsxs)(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.Fragment, {\n                        children: [\n                            \"Debug \",\n                            ChevronDownIcon\n                        ]\n                    })\n                }),\n                /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsxs)(_barrel_optimize_names_Menu_MenuButton_MenuItem_MenuItems_headlessui_react__WEBPACK_IMPORTED_MODULE_13__.MenuItems, {\n                    transition: true,\n                    anchor: \"bottom end\",\n                    className: \"copilotKitDebugMenu\",\n                    style: {\n                        zIndex: 40\n                    },\n                    children: [\n                        /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(_barrel_optimize_names_Menu_MenuButton_MenuItem_MenuItems_headlessui_react__WEBPACK_IMPORTED_MODULE_13__.MenuItem, {\n                            children: /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(\"button\", {\n                                className: \"copilotKitDebugMenuItem\",\n                                onClick: ()=>logReadables(context),\n                                children: \"Log Readables\"\n                            })\n                        }),\n                        /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(_barrel_optimize_names_Menu_MenuButton_MenuItem_MenuItems_headlessui_react__WEBPACK_IMPORTED_MODULE_13__.MenuItem, {\n                            children: /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(\"button\", {\n                                className: \"copilotKitDebugMenuItem\",\n                                onClick: ()=>logActions(context),\n                                children: \"Log Actions\"\n                            })\n                        }),\n                        /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(_barrel_optimize_names_Menu_MenuButton_MenuItem_MenuItems_headlessui_react__WEBPACK_IMPORTED_MODULE_13__.MenuItem, {\n                            children: /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(\"button\", {\n                                className: \"copilotKitDebugMenuItem\",\n                                onClick: ()=>logMessages(context),\n                                children: \"Log Messages\"\n                            })\n                        }),\n                        /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(_barrel_optimize_names_Menu_MenuButton_MenuItem_MenuItems_headlessui_react__WEBPACK_IMPORTED_MODULE_13__.MenuItem, {\n                            children: /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(\"button\", {\n                                className: \"copilotKitDebugMenuItem\",\n                                onClick: ()=>checkForUpdates(true),\n                                children: \"Check for Updates\"\n                            })\n                        }),\n                        /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(\"hr\", {}),\n                        /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(_barrel_optimize_names_Menu_MenuButton_MenuItem_MenuItems_headlessui_react__WEBPACK_IMPORTED_MODULE_13__.MenuItem, {\n                            children: /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(\"button\", {\n                                className: \"copilotKitDebugMenuItem\",\n                                onClick: ()=>setShowDevConsole(false),\n                                children: \"Hide Dev Console\"\n                            })\n                        })\n                    ]\n                })\n            ]\n        })\n    });\n}\n// src/components/chat/Chat.tsx\n\nfunction CopilotChat({ instructions, onSubmitMessage, makeSystemMessage, showResponseButton = true, onInProgress, Messages: Messages2 = Messages, Input: Input2 = Input, ResponseButton: ResponseButton2 = ResponseButton, className, icons, labels }) {\n    const context = (0,_copilotkit_react_core__WEBPACK_IMPORTED_MODULE_6__.useCopilotContext)();\n    (0,react__WEBPACK_IMPORTED_MODULE_0__.useEffect)(()=>{\n        context.setChatInstructions(instructions || \"\");\n    }, [\n        instructions\n    ]);\n    const { visibleMessages, isLoading, currentSuggestions, sendMessage, stopGeneration, reloadMessages } = useCopilotChatLogic(makeSystemMessage, onInProgress, onSubmitMessage);\n    const chatContext = react__WEBPACK_IMPORTED_MODULE_0__.useContext(ChatContext);\n    const isVisible = chatContext ? chatContext.open : true;\n    return /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsxs)(WrappedCopilotChat, {\n        icons,\n        labels,\n        className,\n        children: [\n            /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(CopilotDevConsole, {}),\n            /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsxs)(Messages2, {\n                messages: visibleMessages,\n                inProgress: isLoading,\n                children: [\n                    currentSuggestions.length > 0 && /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsxs)(\"div\", {\n                        children: [\n                            /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(\"h6\", {\n                                children: \"Suggested:\"\n                            }),\n                            /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(\"div\", {\n                                className: \"suggestions\",\n                                children: currentSuggestions.map((suggestion, index)=>/* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(Suggestion, {\n                                        title: suggestion.title,\n                                        message: suggestion.message,\n                                        partial: suggestion.partial,\n                                        className: suggestion.className,\n                                        onClick: (message)=>sendMessage(message)\n                                    }, index))\n                            })\n                        ]\n                    }),\n                    showResponseButton && visibleMessages.length > 0 && /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(ResponseButton2, {\n                        onClick: isLoading ? stopGeneration : reloadMessages,\n                        inProgress: isLoading\n                    })\n                ]\n            }),\n            /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(Input2, {\n                inProgress: isLoading,\n                onSend: sendMessage,\n                isVisible\n            })\n        ]\n    });\n}\nfunction WrappedCopilotChat({ children, icons, labels, className }) {\n    const chatContext = react__WEBPACK_IMPORTED_MODULE_0__.useContext(ChatContext);\n    if (!chatContext) {\n        return /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(ChatContextProvider, {\n            icons,\n            labels,\n            open: true,\n            setOpen: ()=>{},\n            children: /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(\"div\", {\n                className: `copilotKitChat ${className}`,\n                children\n            })\n        });\n    }\n    return /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.Fragment, {\n        children\n    });\n}\nvar SUGGESTIONS_DEBOUNCE_TIMEOUT = 1e3;\nvar useCopilotChatLogic = (makeSystemMessage, onInProgress, onSubmitMessage)=>{\n    const { visibleMessages, appendMessage, reloadMessages, stopGeneration, isLoading } = (0,_copilotkit_react_core__WEBPACK_IMPORTED_MODULE_14__.useCopilotChat)({\n        id: (0,_copilotkit_shared__WEBPACK_IMPORTED_MODULE_15__.randomId)(),\n        makeSystemMessage\n    });\n    const [currentSuggestions, setCurrentSuggestions] = (0,react__WEBPACK_IMPORTED_MODULE_0__.useState)([]);\n    const suggestionsAbortControllerRef = (0,react__WEBPACK_IMPORTED_MODULE_0__.useRef)(null);\n    const debounceTimerRef = (0,react__WEBPACK_IMPORTED_MODULE_0__.useRef)();\n    const abortSuggestions = ()=>{\n        var _a;\n        (_a = suggestionsAbortControllerRef.current) == null ? void 0 : _a.abort();\n        suggestionsAbortControllerRef.current = null;\n    };\n    const context = (0,_copilotkit_react_core__WEBPACK_IMPORTED_MODULE_6__.useCopilotContext)();\n    (0,react__WEBPACK_IMPORTED_MODULE_0__.useEffect)(()=>{\n        onInProgress == null ? void 0 : onInProgress(isLoading);\n        abortSuggestions();\n        debounceTimerRef.current = setTimeout(()=>{\n            if (!isLoading && Object.keys(context.chatSuggestionConfiguration).length !== 0) {\n                suggestionsAbortControllerRef.current = new AbortController();\n                reloadSuggestions(context, context.chatSuggestionConfiguration, setCurrentSuggestions, suggestionsAbortControllerRef);\n            }\n        }, currentSuggestions.length == 0 ? 0 : SUGGESTIONS_DEBOUNCE_TIMEOUT);\n        return ()=>{\n            clearTimeout(debounceTimerRef.current);\n        };\n    }, [\n        isLoading,\n        context.chatSuggestionConfiguration\n    ]);\n    const sendMessage = (messageContent)=>__async(void 0, null, function*() {\n            abortSuggestions();\n            setCurrentSuggestions([]);\n            const message = new _copilotkit_runtime_client_gql__WEBPACK_IMPORTED_MODULE_7__.TextMessage({\n                content: messageContent,\n                role: _copilotkit_runtime_client_gql__WEBPACK_IMPORTED_MODULE_7__.Role.User\n            });\n            appendMessage(message);\n            if (onSubmitMessage) {\n                try {\n                    yield onSubmitMessage(messageContent);\n                } catch (error) {\n                    console.error(\"Error in onSubmitMessage:\", error);\n                }\n            }\n            return message;\n        });\n    return {\n        visibleMessages,\n        isLoading,\n        currentSuggestions,\n        sendMessage,\n        stopGeneration,\n        reloadMessages\n    };\n};\n// src/components/chat/Modal.tsx\n\nvar CopilotModal = ({ instructions, defaultOpen = false, clickOutsideToClose = true, hitEscapeToClose = true, onSetOpen, onSubmitMessage, shortcut = \"/\", icons, labels, makeSystemMessage, showResponseButton = true, onInProgress, Window: Window2 = Window, Button: Button2 = Button, Header: Header2 = Header, Messages: Messages2 = Messages, Input: Input2 = Input, ResponseButton: ResponseButton2 = ResponseButton, className, children })=>{\n    const [openState, setOpenState] = react__WEBPACK_IMPORTED_MODULE_0__.useState(defaultOpen);\n    const setOpen = (open)=>{\n        onSetOpen == null ? void 0 : onSetOpen(open);\n        setOpenState(open);\n    };\n    return /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsxs)(ChatContextProvider, {\n        icons,\n        labels,\n        open: openState,\n        setOpen,\n        children: [\n            children,\n            /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsxs)(\"div\", {\n                className,\n                children: [\n                    /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(Button2, {}),\n                    /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsxs)(Window2, {\n                        clickOutsideToClose,\n                        shortcut,\n                        hitEscapeToClose,\n                        children: [\n                            /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(Header2, {}),\n                            /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(CopilotChat, {\n                                instructions,\n                                onSubmitMessage,\n                                makeSystemMessage,\n                                showResponseButton,\n                                onInProgress,\n                                Messages: Messages2,\n                                Input: Input2,\n                                ResponseButton: ResponseButton2\n                            })\n                        ]\n                    })\n                ]\n            })\n        ]\n    });\n};\n// src/components/chat/Popup.tsx\n\nfunction CopilotPopup(props) {\n    props = __spreadProps(__spreadValues({}, props), {\n        className: props.className ? props.className + \" copilotKitPopup\" : \"copilotKitPopup\"\n    });\n    return /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(CopilotModal, __spreadProps(__spreadValues({}, props), {\n        children: props.children\n    }));\n}\n// src/components/chat/Sidebar.tsx\n\n\nfunction CopilotSidebar(props) {\n    props = __spreadProps(__spreadValues({}, props), {\n        className: props.className ? props.className + \" copilotKitSidebar\" : \"copilotKitSidebar\"\n    });\n    const [expandedClassName, setExpandedClassName] = (0,react__WEBPACK_IMPORTED_MODULE_0__.useState)(props.defaultOpen ? \"sidebarExpanded\" : \"\");\n    const onSetOpen = (open)=>{\n        var _a;\n        (_a = props.onSetOpen) == null ? void 0 : _a.call(props, open);\n        setExpandedClassName(open ? \"sidebarExpanded\" : \"\");\n    };\n    return /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(\"div\", {\n        className: `copilotKitSidebarContentWrapper ${expandedClassName}`,\n        children: /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(CopilotModal, __spreadProps(__spreadValues(__spreadValues({}, props), {\n            onSetOpen\n        }), {\n            children: props.children\n        }))\n    });\n}\n// src/hooks/use-copilot-chat-suggestions.tsx\n\n\n\nfunction useCopilotChatSuggestions({ instructions, className, minSuggestions = 1, maxSuggestions = 3 }, dependencies = []) {\n    const context = (0,_copilotkit_react_core__WEBPACK_IMPORTED_MODULE_6__.useCopilotContext)();\n    (0,react__WEBPACK_IMPORTED_MODULE_0__.useEffect)(()=>{\n        const id = (0,_copilotkit_shared__WEBPACK_IMPORTED_MODULE_15__.randomId)();\n        context.addChatSuggestionConfiguration(id, {\n            instructions,\n            minSuggestions,\n            maxSuggestions,\n            className\n        });\n        return ()=>{\n            context.removeChatSuggestionConfiguration(id);\n        };\n    }, dependencies);\n}\n //# sourceMappingURL=index.mjs.map\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvQGNvcGlsb3RraXQvcmVhY3QtdWkvZGlzdC9pbmRleC5tanMiLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7OztBQUNRLElBQUlBLFdBQVdDLGNBQUEsQ0FBZSxhQUFhO0lBQ3pDLE1BQU1DLFFBQVFDLFlBQUEsZ0JBQUFBLFNBQVVDLGFBQUEsQ0FBYztJQUN0Q0YsTUFBTUcsU0FBQSxHQUFZO0lBQ2xCRixZQUFBLGdCQUFBQSxTQUFVRyxJQUFBLENBQUtDLFdBQUEsQ0FBWUw7QUFDN0I7O0FDTFU7O0FDQXVCOztBQ1duQztBQVRDLElBQU1TLFdBQ1gsZ0JBQUFGLHNEQUFBQSxDQUFDO0lBQ0NHLE9BQU07SUFDTkMsU0FBUTtJQUNSQyxNQUFLO0lBQ0xDLE9BQU07SUFDTkMsUUFBTztJQUVQQyxVQUFBLGdCQUFBUixzREFBQUEsQ0FBQztRQUFFUyxXQUFVO1FBQ1hELFVBQUEsZ0JBQUFSLHNEQUFBQSxDQUFDO1lBQ0NVLFVBQVM7WUFDVEMsR0FBRTtZQUNGQyxVQUFTO1FBQUE7SUFDWDtBQUNGO0FBSUcsSUFBTUMsWUFDWCxnQkFBQWIsc0RBQUFBLENBQUM7SUFDQ0csT0FBTTtJQUNORSxNQUFLO0lBQ0xELFNBQVE7SUFDUlUsYUFBWTtJQUNaQyxRQUFPO0lBQ1BULE9BQU07SUFDTkMsUUFBTztJQUVQQyxVQUFBLGdCQUFBUixzREFBQUEsQ0FBQztRQUFLZ0IsZUFBYztRQUFRQyxnQkFBZTtRQUFRTixHQUFFO0lBQUE7QUFBOEI7QUFJaEYsSUFBTU8sa0JBQ1gsZ0JBQUFsQixzREFBQUEsQ0FBQztJQUNDRyxPQUFNO0lBQ05FLE1BQUs7SUFDTEQsU0FBUTtJQUNSVSxhQUFZO0lBQ1pDLFFBQU87SUFDUFQsT0FBTTtJQUNOQyxRQUFPO0lBRVBDLFVBQUEsZ0JBQUFSLHNEQUFBQSxDQUFDO1FBQUtnQixlQUFjO1FBQVFDLGdC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WixRQUFRK2hCLDhCQUFBLENBQStCelMsSUFBSTtZQUN6Q3VKO1lBQ0FGO1lBQ0FDO1lBQ0E1WjtRQUNGO1FBRUEsT0FBTztZQUNMZ0IsUUFBUWdpQixpQ0FBQSxDQUFrQzFTO1FBQzVDO0lBQ0YsR0FBR3dTO0FBQ0wiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9leGFtcGxlLXRvZG9zLWFwcC8uLi9zcmMvc3R5bGVzLmNzcz84OWY3Iiwid2VicGFjazovL2V4YW1wbGUtdG9kb3MtYXBwLy4uL3NyYy9jb21wb25lbnRzL2NoYXQvTW9kYWwudHN4P2Y1OGMiLCJ3ZWJwYWNrOi8vZXhhbXBsZS10b2Rvcy1hcHAvLi4vc3JjL2NvbXBvbmVudHMvY2hhdC9DaGF0Q29udGV4dC50c3g/YTlhNCIsIndlYnBhY2s6Ly9leGFtcGxlLXRvZG9zLWFwcC8uLi9zcmMvY29tcG9uZW50cy9jaGF0L0ljb25zLnRzeD9kYTlhIiwid2VicGFjazovL2V4YW1wbGUtdG9kb3MtYXBwLy4uL3NyYy9jb21wb25lbnRzL2NoYXQvV2luZG93LnRzeD9jOGNhIiwid2VicGFjazovL2V4YW1wbGUtdG9kb3MtYXBwLy4uL3NyYy9jb21wb25lbnRzL2NoYXQvQnV0dG9uLnRzeD81NTI4Iiwid2VicGFjazovL2V4YW1wbGUtdG9kb3MtYXBwLy4uL3NyYy9jb21wb25lbnRzL2NoYXQvSGVhZGVyLnRzeD9lOWQzIiwid2VicGFjazovL2V4YW1wbGUtdG9kb3MtYXBwLy4uL3NyYy9jb21wb25lbnRzL2NoYXQvTWVzc2FnZXMudHN4P2MzMzEiLCJ3ZWJwYWNrOi8vZXhhbXBsZS10b2Rvcy1hcHAvLi4vc3JjL2NvbXBvbmVudHMvY2hhdC9NYXJrZG93bi50c3g/YzE1ZiIsIndlYnBhY2s6Ly9leGFtcGxlLXRvZG9zLWFwcC8uLi9zcmMvY29tcG9uZW50cy9jaGF0L0NvZGVCbG9jay50c3g/N2ZiNiIsIndlYnBhY2s6Ly9leGFtcGxlLXRvZG9zLWFwcC8uLi9zcmMvaG9va3MvdXNlLWNvcHktdG8tY2xpcGJvYXJkLnRzeD9lMDFiIiwid2VicGFjazovL2V4YW1wbGUtdG9kb3MtYXBwLy4uL3NyYy9jb21wb25lbnRzL2NoYXQvSW5wdXQudHN4Pzg5MTMiLCJ3ZWJwYWNrOi8vZXhhbXBsZS10b2Rvcy1hcHAvLi4vc3JjL2NvbXBvbmVudHMvY2hhdC9UZXh0YXJlYS50c3g/MTgxMyIsIndlYnBhY2s6Ly9leGFtcGxlLXRvZG9zLWFwcC8uLi9zcmMvaG9va3MvdXNlLXB1c2gtdG8tdGFsay50c3g/MDU3ZiIsIndlYnBhY2s6Ly9leGFtcGxlLXRvZG9zLWFwcC8uLi9zcmMvY29tcG9uZW50cy9jaGF0L1Jlc3BvbnNlLnRzeD83OWQwIiwid2VicGFjazovL2V4YW1wbGUtdG9kb3MtYXBwLy4uL3NyYy9jb21wb25lbnRzL2NoYXQvU3VnZ2VzdGlvbi50c3g/YjdlYyIsIndlYnBhY2s6Ly9leGFtcGxlLXRvZG9zLWFwcC8uLi9zcmMvY29tcG9uZW50cy9jaGF0L0NoYXQudHN4PzQyMmUiLCJ3ZWJwYWNrOi8vZXhhbXBsZS10b2Rvcy1hcHAvLi4vc3JjL2NvbXBvbmVudHMvZGV2LWNvbnNvbGUvdXRpbHMudHM/NzY3ZCIsIndlYnBhY2s6Ly9leGFtcGxlLXRvZG9zLWFwcC8uLi9zcmMvY29tcG9uZW50cy9kZXYtY29uc29sZS9jb25zb2xlLnRzeD81MzJjIiwid2VicGFjazovL2V4YW1wbGUtdG9kb3MtYXBwLy4uL3NyYy9jb21wb25lbnRzL2Rldi1jb25zb2xlL2ljb25zLnRzeD81NGM5Iiwid2VicGFjazovL2V4YW1wbGUtdG9kb3MtYXBwLy4uL3NyYy9jb21wb25lbnRzL2NoYXQvUG9wdXAudHN4PzA2YzIiLCJ3ZWJwYWNrOi8vZXhhbXBsZS10b2Rvcy1hcHAvLi4vc3JjL2NvbXBvbmVudHMvY2hhdC9TaWRlYmFyLnRzeD81YTdkIiwid2VicGFjazovL2V4YW1wbGUtdG9kb3MtYXBwLy4uL3NyYy9ob29rcy91c2UtY29waWxvdC1jaGF0LXN1Z2dlc3Rpb25zLnRzeD81NTIyIl0sInNvdXJjZXNDb250ZW50IjpbIlxuICAgICAgICBpZiAoZ2xvYmFsVGhpcy5oYXNPd25Qcm9wZXJ0eShcImRvY3VtZW50XCIpKSB7XG4gICAgICAgICAgY29uc3Qgc3R5bGUgPSBkb2N1bWVudD8uY3JlYXRlRWxlbWVudChcInN0eWxlXCIpO1xuICAgICAgICAgIHN0eWxlLmlubmVySFRNTCA9ICdodG1sey0tY29waWxvdC1raXQtcHJpbWFyeS1jb2xvcjojM2I4MmY2Oy0tY29waWxvdC1raXQtY29udHJhc3QtY29sb3I6I2ZmZjstLWNvcGlsb3Qta2l0LXNlY29uZGFyeS1jb2xvcjojZjNmNGY2Oy0tY29waWxvdC1raXQtc2Vjb25kYXJ5LWNvbnRyYXN0LWNvbG9yOiMwMDA7LS1jb3BpbG90LWtpdC1iYWNrZ3JvdW5kLWNvbG9yOiNmZmY7LS1jb3BpbG90LWtpdC1tdXRlZC1jb2xvcjojNmE2YTZhOy0tY29waWxvdC1raXQtc2VwYXJhdG9yLWNvbG9yOnJnYmEoMCwwLDAsLjA4KTstLWNvcGlsb3Qta2l0LXNjcm9sbGJhci1jb2xvcjpyZ2JhKDAsMCwwLC4yKTstLWNvcGlsb3Qta2l0LXJlc3BvbnNlLWJ1dHRvbi1jb2xvcjojMzMzOy0tY29waWxvdC1raXQtcmVzcG9uc2UtYnV0dG9uLWJhY2tncm91bmQtY29sb3I6I2ZmZn0uY29waWxvdEtpdFBvcHVwe2JvdHRvbToxcmVtO2xpbmUtaGVpZ2h0OjEuNTtwb3NpdGlvbjpmaXhlZDtyaWdodDoxcmVtO3otaW5kZXg6MzA7LXdlYmtpdC10ZXh0LXNpemUtYWRqdXN0OjEwMCU7Zm9udC1mYW1pbHk6dWktc2Fucy1zZXJpZixzeXN0ZW0tdWksLWFwcGxlLXN5c3RlbSxCbGlua01hY1N5c3RlbUZvbnQsU2Vnb2UgVUksUm9ib3RvLEhlbHZldGljYSBOZXVlLEFyaWFsLE5vdG8gU2FucyxzYW5zLXNlcmlmLEFwcGxlIENvbG9yIEVtb2ppLFNlZ29lIFVJIEVtb2ppLFNlZ29lIFVJIFN5bWJvbCxOb3RvIENvbG9yIEVtb2ppO2ZvbnQtZmVhdHVyZS1zZXR0aW5nczpub3JtYWw7Zm9udC12YXJpYXRpb24tc2V0dGluZ3M6bm9ybWFsOy1tb3otdGFiLXNpemU6NDstby10YWItc2l6ZTo0O3RhYi1zaXplOjQ7dG91Y2gtYWN0aW9uOm1hbmlwdWxhdGlvbn0uY29waWxvdEtpdFBvcHVwIHN2Z3tkaXNwbGF5OmlubGluZS1ibG9jazt2ZXJ0aWNhbC1hbGlnbjptaWRkbGV9LmNvcGlsb3RLaXRTaWRlYmFye2JvdHRvbToxcmVtO2xpbmUtaGVpZ2h0OjEuNTtwb3NpdGlvbjpmaXhlZDtyaWdodDoxcmVtO3otaW5kZXg6MzA7LXdlYmtpdC10ZXh0LXNpemUtYWRqdXN0OjEwMCU7Zm9udC1mYW1pbHk6dWktc2Fucy1zZXJpZixzeXN0ZW0tdWksLWFwcGxlLXN5c3RlbSxCbGlua01hY1N5c3RlbUZvbnQsU2Vnb2UgVUksUm9ib3RvLEhlbHZldGljYSBOZXVlLEFyaWFsLE5vdG8gU2FucyxzYW5zLXNlcmlmLEFwcGxlIENvbG9yIEVtb2ppLFNlZ29lIFVJIEVtb2ppLFNlZ29lIFVJIFN5bWJvbCxOb3RvIENvbG9yIEVtb2ppO2ZvbnQtZmVhdHVyZS1zZXR0aW5nczpub3JtYWw7Zm9udC12YXJpYXRpb24tc2V0dGluZ3M6bm9ybWFsOy1tb3otdGFiLXNpemU6NDstby10YWItc2l6ZTo0O3RhYi1zaXplOjQ7dG91Y2gtYWN0aW9uOm1hbmlwdWxhdGlvbn0uY29waWxvdEtpdFNpZGViYXIgc3Zne2Rpc3BsYXk6aW5saW5lLWJsb2NrO3ZlcnRpY2FsLWFsaWduOm1pZGRsZX0uY29waWxvdEtpdFNpZGViYXJDb250ZW50V3JhcHBlcnttYXJnaW4tcmlnaHQ6MDtvdmVyZmxvdzp2aXNpYmxlO3RyYW5zaXRpb246bWFyZ2luLXJpZ2h0IC4zcyBlYXNlfUBtZWRpYSAobWluLXdpZHRoOjY0MHB4KXsuY29waWxvdEtpdFNpZGViYXJDb250ZW50V3JhcHBlci5zaWRlYmFyRXhwYW5kZWR7bWFyZ2luLXJpZ2h0OjI4cmVtfX0uY29waWxvdEtpdEJ1dHRvbnthbGlnbi1pdGVtczpjZW50ZXI7YmFja2dyb3VuZC1jb2xvcjp2YXIoLS1jb3BpbG90LWtpdC1wcmltYXJ5LWNvbG9yKTtib3JkZXI6MXB4IHNvbGlkIGhzbGEoMCwwJSwxMDAlLC4yKTtib3JkZXItcmFkaXVzOjUwJTtjb2xvcjp2YXIoLS1jb3BpbG90LWtpdC1jb250cmFzdC1jb2xvcik7Y3Vyc29yOnBvaW50ZXI7ZGlzcGxheTpmbGV4O2hlaWdodDozLjVyZW07anVzdGlmeS1jb250ZW50OmNlbnRlcjtvdXRsaW5lOm5vbmU7cG9zaXRpb246cmVsYXRpdmU7dHJhbnNmb3JtOnNjYWxlKDEpO3RyYW5zaXRpb246dHJhbnNmb3JtIC4yczt3aWR0aDozLjVyZW19LmNvcGlsb3RLaXRCdXR0b246aG92ZXJ7dHJhbnNmb3JtOnNjYWxlKDEuMSl9LmNvcGlsb3RLaXRCdXR0b246YWN0aXZle3RyYW5zZm9ybTpzY2FsZSguNzUpfS5jb3BpbG90S2l0QnV0dG9uSWNvbntsZWZ0OjUwJTtwb3NpdGlvbjphYnNvbHV0ZTt0b3A6NTAlO3RyYW5zZm9ybTp0cmFuc2xhdGUoLTUwJSwtNTAlKTt0cmFuc2l0aW9uOm9wYWNpdHkgLjFzLHRyYW5zZm9ybSAuM3N9LmNvcGlsb3RLaXRCdXR0b24ub3BlbiAuY29waWxvdEtpdEJ1dHRvbkljb25PcGVue29wYWNpdHk6MDt0cmFuc2Zvcm06dHJhbnNsYXRlKC01MCUsLTUwJSkgc2NhbGUoMCkgcm90YXRlKDkwZGVnKX0uY29waWxvdEtpdEJ1dHRvbi5vcGVuIC5jb3BpbG90S2l0QnV0dG9uSWNvbkNsb3NlLC5jb3BpbG90S2l0QnV0dG9uOm5vdCgub3BlbikgLmNvcGlsb3RLaXRCdXR0b25JY29uT3BlbntvcGFjaXR5OjE7dHJhbnNmb3JtOnRyYW5zbGF0ZSgtNTAlLC01MCUpIHNjYWxlKDEpIHJvdGF0ZSgwZGVnKX0uY29waWxvdEtpdEJ1dHRvbjpub3QoLm9wZW4pIC5jb3BpbG90S2l0QnV0dG9uSWNvbkNsb3Nle29wYWNpdHk6MDt0cmFuc2Zvcm06dHJhbnNsYXRlKC01MCUsLTUwJSkgc2NhbGUoMCkgcm90YXRlKC05MGRlZyl9LmNvcGlsb3RLaXRIZWFkZXJ7YWxpZ24taXRlbXM6Y2VudGVyO2JhY2tncm91bmQtY29sb3I6dmFyKC0tY29waWxvdC1raXQtcHJpbWFyeS1jb2xvcik7Ym9yZGVyLWJvdHRvbToxcHggc29saWQgdmFyKC0tY29waWxvdC1raXQtc2VwYXJhdG9yLWNvbG9yKTtib3JkZXItdG9wLWxlZnQtcmFkaXVzOjA7Ym9yZGVyLXRvcC1yaWdodC1yYWRpdXM6MDtjb2xvcjp2YXIoLS1jb3BpbG90LWtpdC1jb250cmFzdC1jb2xvcik7ZGlzcGxheTpmbGV4O2ZvbnQtd2VpZ2h0OjUwMDtoZWlnaHQ6NTZweDtqdXN0aWZ5LWNvbnRlbnQ6Y2VudGVyO3Bvc2l0aW9uOnJlbGF0aXZlfS5jb3BpbG90S2l0U2lkZWJhciAuY29waWxvdEtpdEhlYWRlcntib3JkZXItcmFkaXVzOjB9QG1lZGlhIChtaW4td2lkdGg6NjQwcHgpey5jb3BpbG90S2l0SGVhZGVye2JvcmRlci10b3AtbGVmdC1yYWRpdXM6OHB4O2JvcmRlci10b3AtcmlnaHQtcmFkaXVzOjhweDtwYWRkaW5nLWxlZnQ6MjRweDtwYWRkaW5nLXJpZ2h0OjI0cHh9fS5jb3BpbG90S2l0SGVhZGVyPmJ1dHRvbntiYWNrZ3JvdW5kLWNvbG9yOnRyYW5zcGFyZW50O2JvcmRlcjowO2NvbG9yOnZhcigtLWNvcGlsb3Qta2l0LWNvbnRyYXN0LWNvbG9yKTtjdXJzb3I6cG9pbnRlcjtvdXRsaW5lOm5vbmU7cGFkZGluZzowO3Bvc2l0aW9uOmFic29sdXRlO3JpZ2h0OjE2cHg7dG9wOjUwJTt0cmFuc2Zvcm06dHJhbnNsYXRlWSgtNTAlKX0uY29waWxvdEtpdEhlYWRlcj5idXR0b246Zm9jdXN7b3V0bGluZTpub25lfS5jb3BpbG90S2l0SW5wdXR7YWxpZ24taXRlbXM6Y2VudGVyO2JhY2tncm91bmQtY29sb3I6dmFyKC0tY29waWxvdC1raXQtYmFja2dyb3VuZC1jb2xvcik7Ym9yZGVyLWJvdHRvbS1sZWZ0LXJhZGl1czouNzVyZW07Ym9yZGVyLWJvdHRvbS1yaWdodC1yYWRpdXM6Ljc1cmVtO2JvcmRlci10b3A6MXB4IHNvbGlkIHZhcigtLWNvcGlsb3Qta2l0LXNlcGFyYXRvci1jb2xvcik7Y3Vyc29yOnRleHQ7ZGlzcGxheTpmbGV4O3BhZGRpbmc6MXJlbSAxcmVtIDFyZW0gMnJlbTtwb3NpdGlvbjpyZWxhdGl2ZX0uY29waWxvdEtpdElucHV0Pi5jb3BpbG90S2l0SW5wdXRDb250cm9scz5idXR0b257LXdlYmtpdC1hcHBlYXJhbmNlOmJ1dHRvbjstbW96LWFwcGVhcmFuY2U6YnV0dG9uO2FwcGVhcmFuY2U6YnV0dG9uO2JhY2tncm91bmQtY29sb3I6dHJhbnNwYXJlbnQ7YmFja2dyb3VuZC1pbWFnZTpub25lO2JvcmRlcjowO2NvbG9yOnJnYmEoMCwwLDAsLjI1KTtjdXJzb3I6cG9pbnRlcjtkaXNwbGF5OmlubGluZS1ibG9jaztmb250LWZhbWlseTppbmhlcml0O2ZvbnQtc2l6ZToxMDAlO2ZvbnQtd2VpZ2h0OmluaGVyaXQ7bGluZS1oZWlnaHQ6aW5oZXJpdDttYXJnaW46MCAwIDAgLjVyZW07cGFkZGluZzouMjVyZW07dGV4dC1hbGlnbjpjZW50ZXI7dGV4dC1pbmRlbnQ6MDt0ZXh0LXNoYWRvdzpub25lO3RleHQtdHJhbnNmb3JtOm5vbmU7dHJhbnNmb3JtOnNjYWxlKDEpO3RyYW5zaXRpb24tZHVyYXRpb246LjJzO3RyYW5zaXRpb24tcHJvcGVydHk6dHJhbnNmb3JtO3RyYW5zaXRpb24tdGltaW5nLWZ1bmN0aW9uOmN1YmljLWJlemllciguNCwwLC4yLDEpfS5jb3BpbG90S2l0SW5wdXQ+LmNvcGlsb3RLaXRJbnB1dENvbnRyb2xzPmJ1dHRvbjpub3QoW2Rpc2FibGVkXSl7Y29sb3I6dmFyKC0tY29waWxvdC1raXQtcHJpbWFyeS1jb2xvcil9LmNvcGlsb3RLaXRJbnB1dD4uY29waWxvdEtpdElucHV0Q29udHJvbHM+YnV0dG9uOm5vdChbZGlzYWJsZWRdKTpob3Zlcnt0cmFuc2Zvcm06c2NhbGUoMS4xKX0uY29waWxvdEtpdElucHV0Pi5jb3BpbG90S2l0SW5wdXRDb250cm9scz5idXR0b25bZGlzYWJsZWRde2NvbG9yOnZhcigtLWNvcGlsb3Qta2l0LW11dGVkLWNvbG9yKX0uY29waWxvdEtpdElucHV0Q29udHJvbHN7ZGlzcGxheTpmbGV4fS5jb3BpbG90S2l0SW5wdXQ+dGV4dGFyZWF7ZmxleDoxO291dGxpbmU6MnB4IHNvbGlkIHRyYW5zcGFyZW50O291dGxpbmUtb2Zmc2V0OjJweDtvdmVyZmxvdy13cmFwOmJyZWFrLXdvcmQ7cmVzaXplOm5vbmU7d2hpdGUtc3BhY2U6cHJlLXdyYXA7LXdlYmtpdC1mb250LXNtb290aGluZzphbnRpYWxpYXNlZDstbW96LW9zeC1mb250LXNtb290aGluZzpncmF5c2NhbGU7YmFja2dyb3VuZC1jb2xvcjp2YXIoLS1jb3BpbG90LWtpdC1iYWNrZ3JvdW5kLWNvbG9yKTtib3JkZXI6MDtjb2xvcjp2YXIoLS1jb3BpbG90LWtpdC1zZWNvbmRhcnktY29udHJhc3QtY29sb3IpO2N1cnNvcjp0ZXh0O2ZvbnQtZmFtaWx5OmluaGVyaXQ7Zm9udC1zaXplOi44NzVyZW07Zm9udC13ZWlnaHQ6aW5oZXJpdDtsaW5lLWhlaWdodDoxLjI1cmVtO21hcmdpbjowO3BhZGRpbmc6MH0uY29waWxvdEtpdElucHV0PnRleHRhcmVhOjotbW96LXBsYWNlaG9sZGVye2NvbG9yOnZhcigtLWNvcGlsb3Qta2l0LW11dGVkLWNvbG9yKTtvcGFjaXR5OjF9LmNvcGlsb3RLaXRJbnB1dD50ZXh0YXJlYTo6cGxhY2Vob2xkZXJ7Y29sb3I6dmFyKC0tY29waWxvdC1raXQtbXV0ZWQtY29sb3IpO29wYWNpdHk6MX0uY29waWxvdEtpdElucHV0Pi5jb3BpbG90S2l0SW5wdXRDb250cm9scz5idXR0b24uY29waWxvdEtpdFB1c2hUb1RhbGtSZWNvcmRpbmd7YW5pbWF0aW9uOmNvcGlsb3RLaXRQdWxzZUFuaW1hdGlvbiAycyBjdWJpYy1iZXppZXIoLjQsMCwuNiwxKSBpbmZpbml0ZTtiYWNrZ3JvdW5kLWNvbG9yOnJlZDtib3JkZXItcmFkaXVzOjUwJTtjb2xvcjojZmZmfS5jb3BpbG90S2l0TWVzc2FnZXN7YmFja2dyb3VuZC1jb2xvcjp2YXIoLS1jb3BpbG90LWtpdC1iYWNrZ3JvdW5kLWNvbG9yKTtkaXNwbGF5OmZsZXg7ZmxleDoxO2ZsZXgtZGlyZWN0aW9uOmNvbHVtbjtvdmVyZmxvdy15OnNjcm9sbDtwYWRkaW5nOjFyZW0gMnJlbX0uY29waWxvdEtpdE1lc3NhZ2VzOjotd2Via2l0LXNjcm9sbGJhcnt3aWR0aDo5cHh9LmNvcGlsb3RLaXRNZXNzYWdlczo6LXdlYmtpdC1zY3JvbGxiYXItdGh1bWJ7YmFja2dyb3VuZC1jb2xvcjp2YXIoLS1jb3BpbG90LWtpdC1zY3JvbGxiYXItY29sb3IpO2JvcmRlcjoycHggc29saWQgdmFyKC0tY29waWxvdC1raXQtYmFja2dyb3VuZC1jb2xvcik7Ym9yZGVyLXJhZGl1czoxMHJlbX0uY29waWxvdEtpdE1lc3NhZ2VzOjotd2Via2l0LXNjcm9sbGJhci10cmFjay1waWVjZTpzdGFydHtiYWNrZ3JvdW5kOnRyYW5zcGFyZW50fS5jb3BpbG90S2l0TWVzc2FnZXM6Oi13ZWJraXQtc2Nyb2xsYmFyLXRyYWNrLXBpZWNlOmVuZHtiYWNrZ3JvdW5kOnRyYW5zcGFyZW50fS5jb3BpbG90S2l0TWVzc2FnZXtib3JkZXItcmFkaXVzOi41cmVtO2ZvbnQtc2l6ZTouODc1cmVtO2xpbmUtaGVpZ2h0OjEuMjVyZW07bWFyZ2luLWJvdHRvbTouNXJlbTttYXgtd2lkdGg6ODAlO292ZXJmbG93LXdyYXA6YnJlYWstd29yZDtwYWRkaW5nOjFyZW19LmNvcGlsb3RLaXRNZXNzYWdlLmNvcGlsb3RLaXRVc2VyTWVzc2FnZXtiYWNrZ3JvdW5kOnZhcigtLWNvcGlsb3Qta2l0LXByaW1hcnktY29sb3IpO2NvbG9yOnZhcigtLWNvcGlsb3Qta2l0LWNvbnRyYXN0LWNvbG9yKTttYXJnaW4tbGVmdDphdXRvO3doaXRlLXNwYWNlOnByZS13cmFwfS5jb3BpbG90S2l0TWVzc2FnZS5jb3BpbG90S2l0QXNzaXN0YW50TWVzc2FnZXtiYWNrZ3JvdW5kOnZhcigtLWNvcGlsb3Qta2l0LXNlY29uZGFyeS1jb2xvcik7Y29sb3I6dmFyKC0tY29waWxvdC1raXQtc2Vjb25kYXJ5LWNvbnRyYXN0LWNvbG9yKTttYXJnaW4tcmlnaHQ6YXV0b30uY29waWxvdEtpdE1lc3NhZ2UuY29waWxvdEtpdEFzc2lzdGFudE1lc3NhZ2UrLmNvcGlsb3RLaXRNZXNzYWdlLmNvcGlsb3RLaXRVc2VyTWVzc2FnZSwuY29waWxvdEtpdE1lc3NhZ2UuY29waWxvdEtpdFVzZXJNZXNzYWdlKy5jb3BpbG90S2l0TWVzc2FnZS5jb3BpbG90S2l0QXNzaXN0YW50TWVzc2FnZXttYXJnaW4tdG9wOjEuNXJlbX0uY29waWxvdEtpdEN1c3RvbUFzc2lzdGFudE1lc3NhZ2V7bWFyZ2luLWJvdHRvbToxLjVyZW07bWFyZ2luLXRvcDoxLjVyZW19LmNvcGlsb3RLaXRNZXNzYWdlIC5pblByb2dyZXNzTGFiZWx7bWFyZ2luLWxlZnQ6MTBweH0uY29waWxvdEtpdE1lc3NhZ2VzIGZvb3RlcntkaXNwbGF5OmZsZXg7ZmxleC1kaXJlY3Rpb246Y29sdW1uO2ZsZXgtZ3JvdzoxO2p1c3RpZnktY29udGVudDpmbGV4LWVuZH0uY29waWxvdEtpdFdpbmRvd3tiYWNrZ3JvdW5kLWNvbG9yOiNmZmY7Ym9yZGVyLWNvbG9yOiNlNWU3ZWI7Ym9yZGVyLXJhZGl1czouNzVyZW07Ym94LXNoYWRvdzowIDVweCA0MHB4IHJnYmEoMCwwLDAsLjE2KTtkaXNwbGF5OmZsZXg7ZmxleC1kaXJlY3Rpb246Y29sdW1uO2luc2V0OjA7b3BhY2l0eTowO3BvaW50ZXItZXZlbnRzOm5vbmU7cG9zaXRpb246Zml4ZWQ7dHJhbnNmb3JtOnNjYWxlKC45NSkgdHJhbnNsYXRlWSgyMHB4KTt0cmFuc2Zvcm0tb3JpZ2luOmJvdHRvbTt0cmFuc2l0aW9uOm9wYWNpdHkgLjFzIGVhc2Utb3V0LHRyYW5zZm9ybSAuMnMgZWFzZS1vdXR9LmNvcGlsb3RLaXRTaWRlYmFyIC5jb3BpbG90S2l0V2luZG93e2JvcmRlci1yYWRpdXM6MDtvcGFjaXR5OjE7dHJhbnNmb3JtOnRyYW5zbGF0ZVgoMTAwJSl9LmNvcGlsb3RLaXRXaW5kb3cub3BlbntvcGFjaXR5OjE7cG9pbnRlci1ldmVudHM6YXV0bzt0cmFuc2Zvcm06c2NhbGUoMSkgdHJhbnNsYXRlWSgwKX0uY29waWxvdEtpdFNpZGViYXIgLmNvcGlsb3RLaXRXaW5kb3cub3Blbnt0cmFuc2Zvcm06dHJhbnNsYXRlWCgwKX1AbWVkaWEgKG1pbi13aWR0aDo2NDBweCl7LmNvcGlsb3RLaXRXaW5kb3d7Ym9yZGVyLXdpZHRoOjA7Ym90dG9tOjVyZW07aGVpZ2h0OjYwMHB4O2xlZnQ6YXV0bzttYXJnaW4tYm90dG9tOjFyZW07bWF4LWhlaWdodDpjYWxjKDEwMCUgLSA2cmVtKTttaW4taGVpZ2h0OjIwMHB4O3JpZ2h0OjFyZW07dG9wOmF1dG87dHJhbnNmb3JtLW9yaWdpbjpib3R0b20gcmlnaHQ7d2lkdGg6MjRyZW19LmNvcGlsb3RLaXRTaWRlYmFyIC5jb3BpbG90S2l0V2luZG93e2JvdHRvbTowO2xlZnQ6YXV0bzttYXJnaW4tYm90dG9tOjA7bWF4LWhlaWdodDpub25lO21pbi1oZWlnaHQ6MTAwJTtyaWdodDowO3RvcDphdXRvO3dpZHRoOjI4cmVtfX0uY29waWxvdEtpdEFjdGl2aXR5RG90MXthbmltYXRpb246Y29waWxvdEtpdEFjdGl2aXR5RG90c0FuaW1hdGlvbiAxLjA1cyBpbmZpbml0ZX0uY29waWxvdEtpdEFjdGl2aXR5RG90MnthbmltYXRpb24tZGVsYXk6LjFzfS5jb3BpbG90S2l0QWN0aXZpdHlEb3Qze2FuaW1hdGlvbi1kZWxheTouMnN9QGtleWZyYW1lcyBjb3BpbG90S2l0QWN0aXZpdHlEb3RzQW5pbWF0aW9uezAlLDU3LjE0JXthbmltYXRpb24tdGltaW5nLWZ1bmN0aW9uOmN1YmljLWJlemllciguMzMsLjY2LC42NiwxKTt0cmFuc2Zvcm06dHJhbnNsYXRlKDApfTI4LjU3JXthbmltYXRpb24tdGltaW5nLWZ1bmN0aW9uOmN1YmljLWJlemllciguMzMsMCwuNjYsLjMzKTt0cmFuc2Zvcm06dHJhbnNsYXRlWSgtNnB4KX10b3t0cmFuc2Zvcm06dHJhbnNsYXRlKDApfX1Aa2V5ZnJhbWVzIGNvcGlsb3RLaXRTcGluQW5pbWF0aW9ue3Rve3RyYW5zZm9ybTpyb3RhdGUoMXR1cm4pfX1Aa2V5ZnJhbWVzIGNvcGlsb3RLaXRQdWxzZUFuaW1hdGlvbns1MCV7b3BhY2l0eTouNX19LmNvcGlsb3RLaXRSZXNwb25zZUJ1dHRvbntiYWNrZ3JvdW5kLWNvbG9yOnZhcigtLWNvcGlsb3Qta2l0LXJlc3BvbnNlLWJ1dHRvbi1iYWNrZ3JvdW5kLWNvbG9yKTtib3JkZXI6MXB4IHNvbGlkIHZhcigtLWNvcGlsb3Qta2l0LXNlcGFyYXRvci1jb2xvcik7Ym9yZGVyLXJhZGl1czo0cHg7Y29sb3I6dmFyKC0tY29waWxvdC1raXQtcmVzcG9uc2UtYnV0dG9uLWNvbG9yKTtjdXJzb3I6cG9pbnRlcjtmb250LXNpemU6MTRweDtmb250LXdlaWdodDo1MDA7aGVpZ2h0OjMycHg7bGluZS1oZWlnaHQ6MzBweDttYXJnaW46MTVweCAwIDA7cGFkZGluZzowIDE2cHg7dGV4dC1hbGlnbjpjZW50ZXI7dGV4dC1kZWNvcmF0aW9uOm5vbmU7dGV4dC10cmFuc2Zvcm06bm9uZTt3aGl0ZS1zcGFjZTpub3dyYXB9LmNvcGlsb3RLaXRSZXNwb25zZUJ1dHRvbjpob3ZlcntmaWx0ZXI6YnJpZ2h0bmVzcyg5NSUpfS5jb3BpbG90S2l0UmVzcG9uc2VCdXR0b24+c3BhbnttYXJnaW4tcmlnaHQ6LjVyZW19LmNvcGlsb3RLaXRNYXJrZG93biBoMSwuY29waWxvdEtpdE1hcmtkb3duIGgyLC5jb3BpbG90S2l0TWFya2Rvd24gaDMsLmNvcGlsb3RLaXRNYXJrZG93biBoNCwuY29waWxvdEtpdE1hcmtkb3duIGg1LC5jb3BpbG90S2l0TWFya2Rvd24gaDZ7Zm9udC13ZWlnaHQ6NzAwO2xpbmUtaGVpZ2h0OjEuMn0uY29waWxvdEtpdE1hcmtkb3duIGgxOm5vdCg6bGFzdC1jaGlsZCksLmNvcGlsb3RLaXRNYXJrZG93biBoMjpub3QoOmxhc3QtY2hpbGQpLC5jb3BpbG90S2l0TWFya2Rvd24gaDM6bm90KDpsYXN0LWNoaWxkKSwuY29waWxvdEtpdE1hcmtkb3duIGg0Om5vdCg6bGFzdC1jaGlsZCksLmNvcGlsb3RLaXRNYXJrZG93biBoNTpub3QoOmxhc3QtY2hpbGQpLC5jb3BpbG90S2l0TWFya2Rvd24gaDY6bm90KDpsYXN0LWNoaWxkKXttYXJnaW4tYm90dG9tOjFyZW19LmNvcGlsb3RLaXRNYXJrZG93biBoMXtmb250LXNpemU6MS41ZW19LmNvcGlsb3RLaXRNYXJrZG93biBoMntmb250LXNpemU6MS4yNWVtO2ZvbnQtd2VpZ2h0OjYwMH0uY29waWxvdEtpdE1hcmtkb3duIGgze2ZvbnQtc2l6ZToxLjFlbX0uY29waWxvdEtpdE1hcmtkb3duIGg0e2ZvbnQtc2l6ZToxZW19LmNvcGlsb3RLaXRNYXJrZG93biBoNXtmb250LXNpemU6LjllbX0uY29waWxvdEtpdE1hcmtkb3duIGg2e2ZvbnQtc2l6ZTouOGVtfS5jb3BpbG90S2l0TWFya2Rvd24gYmxvY2txdW90ZTpub3QoOmxhc3QtY2hpbGQpLC5jb3BpbG90S2l0TWFya2Rvd24gb2w6bm90KDpsYXN0LWNoaWxkKSwuY29waWxvdEtpdE1hcmtkb3duIHA6bm90KDpsYXN0LWNoaWxkKSwuY29waWxvdEtpdE1hcmtkb3duIHByZTpub3QoOmxhc3QtY2hpbGQpLC5jb3BpbG90S2l0TWFya2Rvd24gdWw6bm90KDpsYXN0LWNoaWxkKXttYXJnaW4tYm90dG9tOjEuMjVlbX0uY29waWxvdEtpdE1hcmtkb3duIGJsb2NrcXVvdGV7Ym9yZGVyLWxlZnQ6MnB4IHNvbGlkO2JvcmRlci1jb2xvcjojOGU4ZWEwO2xpbmUtaGVpZ2h0OjEuMjtwYWRkaW5nLWxlZnQ6MTBweH0uY29waWxvdEtpdE1hcmtkb3duIGJsb2NrcXVvdGUgcHtwYWRkaW5nOi43ZW0gMH0uY29waWxvdEtpdE1hcmtkb3duIHVse2xpc3Qtc3R5bGUtdHlwZTpkaXNjO292ZXJmbG93OnZpc2libGU7cGFkZGluZy1sZWZ0OjIwcHh9LmNvcGlsb3RLaXRNYXJrZG93biBsaXtsaXN0LXN0eWxlLXBvc2l0aW9uOm91dHNpZGU7bGlzdC1zdHlsZS10eXBlOmluaGVyaXQ7bWFyZ2luLWxlZnQ6MDtvdmVyZmxvdzp2aXNpYmxlO3BhZGRpbmctbGVmdDowO3Bvc2l0aW9uOnJlbGF0aXZlfS5jb3BpbG90S2l0Q29kZUJsb2Nre2JhY2tncm91bmQtY29sb3I6IzA5MDkwYjtib3JkZXItcmFkaXVzOi4zNzVyZW07cG9zaXRpb246cmVsYXRpdmU7d2lkdGg6MTAwJX0uY29waWxvdEtpdENvZGVCbG9ja1Rvb2xiYXJ7YWxpZ24taXRlbXM6Y2VudGVyO2JhY2tncm91bmQtY29sb3I6IzI3MjcyYTtib3JkZXItdG9wLWxlZnQtcmFkaXVzOi4zNzVyZW07Ym9yZGVyLXRvcC1yaWdodC1yYWRpdXM6LjM3NXJlbTtjb2xvcjojZTRlNGU0O2Rpc3BsYXk6ZmxleDtmb250LWZhbWlseTpzYW5zLXNlcmlmO2p1c3RpZnktY29udGVudDpzcGFjZS1iZXR3ZWVuO3BhZGRpbmctYm90dG9tOi4wOXJlbTtwYWRkaW5nLWxlZnQ6MXJlbTtwYWRkaW5nLXRvcDouMDlyZW07d2lkdGg6MTAwJX0uY29waWxvdEtpdENvZGVCbG9ja1Rvb2xiYXJMYW5ndWFnZXtmb250LXNpemU6Ljc1cmVtO2xpbmUtaGVpZ2h0OjFyZW07dGV4dC10cmFuc2Zvcm06bG93ZXJjYXNlfS5jb3BpbG90S2l0Q29kZUJsb2NrVG9vbGJhckJ1dHRvbnN7YWxpZ24taXRlbXM6Y2VudGVyO2Rpc3BsYXk6ZmxleDttYXJnaW4tbGVmdDouMjVyZW07bWFyZ2luLXJpZ2h0Oi4yNXJlbX0uY29waWxvdEtpdENvZGVCbG9ja1Rvb2xiYXJCdXR0b257YWxpZ24taXRlbXM6Y2VudGVyO2JvcmRlci1yYWRpdXM6LjM3NXJlbTtkaXNwbGF5OmlubGluZS1mbGV4O2ZvbnQtc2l6ZTouODc1cmVtO2ZvbnQtd2VpZ2h0OjUwMDtoZWlnaHQ6Mi41cmVtO2p1c3RpZnktY29udGVudDpjZW50ZXI7bGluZS1oZWlnaHQ6MS4yNXJlbTttYXJnaW46MnB4O3BhZGRpbmc6M3B4O3dpZHRoOjIuNXJlbX0uY29waWxvdEtpdENvZGVCbG9ja1Rvb2xiYXJCdXR0b246aG92ZXJ7YmFja2dyb3VuZC1jb2xvcjojMzczNzNhfS5jb3BpbG90S2l0TWVzc2FnZXMgZm9vdGVyIC5zdWdnZXN0aW9uc3tkaXNwbGF5OmZsZXg7ZmxleC13cmFwOndyYXA7Z2FwOjhweH0uY29waWxvdEtpdE1lc3NhZ2VzIGZvb3RlciBoNntmb250LXNpemU6LjdyZW07Zm9udC13ZWlnaHQ6NTAwO21hcmdpbi1ib3R0b206OHB4fS5jb3BpbG90S2l0TWVzc2FnZXMgZm9vdGVyIC5zdWdnZXN0aW9ucyAuc3VnZ2VzdGlvbntiYWNrZ3JvdW5kOnZhcigtLWNvcGlsb3Qta2l0LXByaW1hcnktY29sb3IpO2JvcmRlci1yYWRpdXM6LjVyZW07Y29sb3I6dmFyKC0tY29waWxvdC1raXQtY29udHJhc3QtY29sb3IpO2ZvbnQtc2l6ZTouN3JlbTtwYWRkaW5nOjhweCAxMnB4fS5jb3BpbG90S2l0TWVzc2FnZXMgZm9vdGVyIC5zdWdnZXN0aW9ucyBidXR0b257dHJhbnNpdGlvbjp0cmFuc2Zvcm0gLjNzIGVhc2V9LmNvcGlsb3RLaXRNZXNzYWdlcyBmb290ZXIgLnN1Z2dlc3Rpb25zIGJ1dHRvbjpub3QoOmRpc2FibGVkKTpob3Zlcnt0cmFuc2Zvcm06c2NhbGUoMS4wNSl9LmNvcGlsb3RLaXRNZXNzYWdlcyBmb290ZXIgLnN1Z2dlc3Rpb25zIGJ1dHRvbjpkaXNhYmxlZHtjdXJzb3I6d2FpdH0uY29waWxvdEtpdE1lc3NhZ2VzIGZvb3RlciAuc3VnZ2VzdGlvbnMgYnV0dG9uIHN2Z3ttYXJnaW4tcmlnaHQ6NnB4fS5jb3BpbG90S2l0Q2hhdHtsaW5lLWhlaWdodDoxLjU7ei1pbmRleDozMDstd2Via2l0LXRleHQtc2l6ZS1hZGp1c3Q6MTAwJTtkaXNwbGF5OmZsZXg7ZmxleC1kaXJlY3Rpb246Y29sdW1uO2ZvbnQtZmFtaWx5OnVpLXNhbnMtc2VyaWYsc3lzdGVtLXVpLC1hcHBsZS1zeXN0ZW0sQmxpbmtNYWNTeXN0ZW1Gb250LFNlZ29lIFVJLFJvYm90byxIZWx2ZXRpY2EgTmV1ZSxBcmlhbCxOb3RvIFNhbnMsc2Fucy1zZXJpZixBcHBsZSBDb2xvciBFbW9qaSxTZWdvZSBVSSBFbW9qaSxTZWdvZSBVSSBTeW1ib2wsTm90byBDb2xvciBFbW9qaTtmb250LWZlYXR1cmUtc2V0dGluZ3M6bm9ybWFsO2ZvbnQtdmFyaWF0aW9uLXNldHRpbmdzOm5vcm1hbDstbW96LXRhYi1zaXplOjQ7LW8tdGFiLXNpemU6NDt0YWItc2l6ZTo0O3RvdWNoLWFjdGlvbjptYW5pcHVsYXRpb259LmNvcGlsb3RLaXRDaGF0IHN2Z3tkaXNwbGF5OmlubGluZS1ibG9jazt2ZXJ0aWNhbC1hbGlnbjptaWRkbGV9LmNvcGlsb3RLaXRDaGF0IC5jb3BpbG90S2l0TWVzc2FnZXN7ZmxleC1ncm93OjF9LmNvcGlsb3RLaXREZXZDb25zb2xle2FsaWduLWl0ZW1zOmNlbnRlcjtiYWNrZ3JvdW5kLWNvbG9yOiNmM2Y0ZjY7Ym9yZGVyLWJvdHRvbToxcHggc29saWQgI2NlY2VjZTtkaXNwbGF5OmZsZXg7cGFkZGluZzoxMHB4fS5jb3BpbG90S2l0RGV2Q29uc29sZS5jb3BpbG90S2l0RGV2Q29uc29sZVdhcm5PdXRkYXRlZHtiYWNrZ3JvdW5kLWNvbG9yOiNmOWNhY2F9LmNvcGlsb3RLaXREZXZDb25zb2xlIC5jb3BpbG90S2l0VmVyc2lvbkluZm97ZGlzcGxheTpmbGV4O2ZsZXg6MTtmbGV4LWRpcmVjdGlvbjpjb2x1bW47Z2FwOjJweDttYXJnaW4tbGVmdDoxOHB4fS5jb3BpbG90S2l0RGV2Q29uc29sZSAuY29waWxvdEtpdFZlcnNpb25JbmZvIGhlYWRlcntmb250LXNpemU6MTFweDtmb250LXdlaWdodDo3MDB9LmNvcGlsb3RLaXREZXZDb25zb2xlIC5jb3BpbG90S2l0VmVyc2lvbkluZm8gZm9vdGVye21hcmdpbi10b3A6MTBweH0uY29waWxvdEtpdERldkNvbnNvbGUgLmNvcGlsb3RLaXRWZXJzaW9uSW5mbyBmb290ZXIgYnV0dG9ue2JhY2tncm91bmQtY29sb3I6I2ZmZjtib3JkZXI6MXB4IHNvbGlkICM5Nzk3OTc7Ym9yZGVyLXJhZGl1czo0cHg7ZGlzcGxheTppbmxpbmUtYmxvY2s7Zm9udC1mYW1pbHk6bW9ub3NwYWNlO2ZvbnQtc2l6ZToxMXB4O2ZvbnQtd2VpZ2h0OjQwMDtvdmVyZmxvdzpoaWRkZW47cGFkZGluZzoxcHggMTJweCAxcHggNXB4O3RleHQtYWxpZ246bGVmdDt0ZXh0LW92ZXJmbG93OmVsbGlwc2lzO3doaXRlLXNwYWNlOm5vd3JhcDt3aWR0aDoyNjBweH0uY29waWxvdEtpdERldkNvbnNvbGUgLmNvcGlsb3RLaXRWZXJzaW9uSW5mbyBoZWFkZXIgYXNpZGV7Y29sb3I6IzdmN2E3YTtkaXNwbGF5OmlubGluZTtmb250LXdlaWdodDo0MDA7bWFyZ2luLWxlZnQ6NXB4fS5jb3BpbG90S2l0RGV2Q29uc29sZSAuY29waWxvdEtpdFZlcnNpb25JbmZvIHNlY3Rpb257Zm9udC1zaXplOjExcHh9LmNvcGlsb3RLaXREZXZDb25zb2xlIC5jb3BpbG90S2l0VmVyc2lvbkluZm8gc2VjdGlvbiBzdmd7bWFyZ2luLWxlZnQ6M3B4O21hcmdpbi10b3A6LTNweH0uY29waWxvdEtpdERldkNvbnNvbGUgLmNvcGlsb3RLaXREZWJ1Z01lbnVCdXR0b257YWxpZ24taXRlbXM6Y2VudGVyO2JhY2tncm91bmQtY29sb3I6I2Q4ZDhkODtib3JkZXI6MXB4IHNvbGlkICM5Nzk3OTc7Ym9yZGVyLXJhZGl1czo2cHg7ZGlzcGxheTpmbGV4O2ZvbnQtc2l6ZToxMXB4O2ZvbnQtd2VpZ2h0OjcwMDtoZWlnaHQ6MzBweDtqdXN0aWZ5LWNvbnRlbnQ6Y2VudGVyO291dGxpbmU6bm9uZTt3aWR0aDo5MHB4fS5jb3BpbG90S2l0RGVidWdNZW51QnV0dG9uLmNvbXBhY3R7Y29sb3I6IzAwMDtmb250LXNpemU6OHB4O2p1c3RpZnktY29udGVudDpjZW50ZXI7b3V0bGluZTpub25lO3dpZHRoOjM1cHh9LmNvcGlsb3RLaXREZXZDb25zb2xlIC5jb3BpbG90S2l0RGVidWdNZW51QnV0dG9uOmhvdmVye2JhY2tncm91bmQtY29sb3I6I2M3YzdjN30uY29waWxvdEtpdERldkNvbnNvbGUgLmNvcGlsb3RLaXREZWJ1Z01lbnVCdXR0b24+c3Zne21hcmdpbi1sZWZ0OjEwcHh9LmNvcGlsb3RLaXREZWJ1Z01lbnV7YmFja2dyb3VuZC1jb2xvcjojZDhkOGQ4O2JvcmRlcjoxcHggc29saWQgIzk3OTc5Nztib3JkZXItcmFkaXVzOjZweDtmb250LXNpemU6MTNweDttYXJnaW4tdG9wOjJweDtvdXRsaW5lOm5vbmU7cGFkZGluZzouMjVyZW19LmNvcGlsb3RLaXREZWJ1Z01lbnVJdGVte2JhY2tncm91bmQ6bm9uZTtib3JkZXI6bm9uZTtjdXJzb3I6cG9pbnRlcjtkaXNwbGF5OmJsb2NrO3BhZGRpbmc6M3B4IDEwcHg7dGV4dC1hbGlnbjpsZWZ0O3dpZHRoOjEwMCV9LmNvcGlsb3RLaXREZWJ1Z01lbnVJdGVtOmhvdmVye2JhY2tncm91bmQtY29sb3I6I2M3YzdjNztib3JkZXItcmFkaXVzOjRweH0uY29waWxvdEtpdERlYnVnTWVudVtkYXRhLWNsb3NlZF17b3BhY2l0eTowO3RyYW5zZm9ybTpzY2FsZSguOTUpfS5jb3BpbG90S2l0RGVidWdNZW51IGhye2JhY2tncm91bmQtY29sb3I6Izk3OTc5Nztib3JkZXI6bm9uZTtoZWlnaHQ6MXB4O21hcmdpbjouMjVyZW19JztcbiAgICAgICAgICBkb2N1bWVudD8uaGVhZC5hcHBlbmRDaGlsZChzdHlsZSk7XG4gICAgICAgIH1cbiAgICAgICIsImltcG9ydCBSZWFjdCBmcm9tIFwicmVhY3RcIjtcbmltcG9ydCB7IENoYXRDb250ZXh0UHJvdmlkZXIgfSBmcm9tIFwiLi9DaGF0Q29udGV4dFwiO1xuaW1wb3J0IHsgQnV0dG9uUHJvcHMsIEhlYWRlclByb3BzLCBXaW5kb3dQcm9wcyB9IGZyb20gXCIuL3Byb3BzXCI7XG5pbXBvcnQgeyBXaW5kb3cgYXMgRGVmYXVsdFdpbmRvdyB9IGZyb20gXCIuL1dpbmRvd1wiO1xuaW1wb3J0IHsgQnV0dG9uIGFzIERlZmF1bHRCdXR0b24gfSBmcm9tIFwiLi9CdXR0b25cIjtcbmltcG9ydCB7IEhlYWRlciBhcyBEZWZhdWx0SGVhZGVyIH0gZnJvbSBcIi4vSGVhZGVyXCI7XG5pbXBvcnQgeyBNZXNzYWdlcyBhcyBEZWZhdWx0TWVzc2FnZXMgfSBmcm9tIFwiLi9NZXNzYWdlc1wiO1xuaW1wb3J0IHsgSW5wdXQgYXMgRGVmYXVsdElucHV0IH0gZnJvbSBcIi4vSW5wdXRcIjtcbmltcG9ydCB7IFJlc3BvbnNlQnV0dG9uIGFzIERlZmF1bHRSZXNwb25zZUJ1dHRvbiB9IGZyb20gXCIuL1Jlc3BvbnNlXCI7XG5pbXBvcnQgeyBDb3BpbG90Q2hhdCwgQ29waWxvdENoYXRQcm9wcyB9IGZyb20gXCIuL0NoYXRcIjtcblxuZXhwb3J0IGludGVyZmFjZSBDb3BpbG90TW9kYWxQcm9wcyBleHRlbmRzIENvcGlsb3RDaGF0UHJvcHMge1xuICAvKipcbiAgICogV2hldGhlciB0aGUgY2hhdCB3aW5kb3cgc2hvdWxkIGJlIG9wZW4gYnkgZGVmYXVsdC5cbiAgICogQGRlZmF1bHQgZmFsc2VcbiAgICovXG4gIGRlZmF1bHRPcGVuPzogYm9vbGVhbjtcblxuICAvKipcbiAgICogSWYgdGhlIGNoYXQgd2luZG93IHNob3VsZCBjbG9zZSB3aGVuIHRoZSB1c2VyIGNsaWNrcyBvdXRzaWRlIG9mIGl0LlxuICAgKiBAZGVmYXVsdCB0cnVlXG4gICAqL1xuICBjbGlja091dHNpZGVUb0Nsb3NlPzogYm9vbGVhbjtcblxuICAvKipcbiAgICogSWYgdGhlIGNoYXQgd2luZG93IHNob3VsZCBjbG9zZSB3aGVuIHRoZSB1c2VyIGhpdHMgdGhlIEVzY2FwZSBrZXkuXG4gICAqIEBkZWZhdWx0IHRydWVcbiAgICovXG4gIGhpdEVzY2FwZVRvQ2xvc2U/OiBib29sZWFuO1xuXG4gIC8qKlxuICAgKiBUaGUgc2hvcnRjdXQga2V5IHRvIG9wZW4gdGhlIGNoYXQgd2luZG93LlxuICAgKiBVc2VzIENvbW1hbmQtW3Nob3J0Y3V0XSBvbiBhIE1hYyBhbmQgQ3RybC1bc2hvcnRjdXRdIG9uIFdpbmRvd3MuXG4gICAqIEBkZWZhdWx0ICcvJ1xuICAgKi9cbiAgc2hvcnRjdXQ/OiBzdHJpbmc7XG5cbiAgLyoqXG4gICAqIEEgY2FsbGJhY2sgdGhhdCBnZXRzIGNhbGxlZCB3aGVuIHRoZSBjaGF0IHdpbmRvdyBvcGVucyBvciBjbG9zZXMuXG4gICAqL1xuICBvblNldE9wZW4/OiAob3BlbjogYm9vbGVhbikgPT4gdm9pZDtcblxuICAvKipcbiAgICogQSBjdXN0b20gV2luZG93IGNvbXBvbmVudCB0byB1c2UgaW5zdGVhZCBvZiB0aGUgZGVmYXVsdC5cbiAgICovXG4gIFdpbmRvdz86IFJlYWN0LkNvbXBvbmVudFR5cGU8V2luZG93UHJvcHM+O1xuXG4gIC8qKlxuICAgKiBBIGN1c3RvbSBCdXR0b24gY29tcG9uZW50IHRvIHVzZSBpbnN0ZWFkIG9mIHRoZSBkZWZhdWx0LlxuICAgKi9cbiAgQnV0dG9uPzogUmVhY3QuQ29tcG9uZW50VHlwZTxCdXR0b25Qcm9wcz47XG5cbiAgLyoqXG4gICAqIEEgY3VzdG9tIEhlYWRlciBjb21wb25lbnQgdG8gdXNlIGluc3RlYWQgb2YgdGhlIGRlZmF1bHQuXG4gICAqL1xuICBIZWFkZXI/OiBSZWFjdC5Db21wb25lbnRUeXBlPEhlYWRlclByb3BzPjtcbn1cblxuZXhwb3J0IGNvbnN0IENvcGlsb3RNb2RhbCA9ICh7XG4gIGluc3RydWN0aW9ucyxcbiAgZGVmYXVsdE9wZW4gPSBmYWxzZSxcbiAgY2xpY2tPdXRzaWRlVG9DbG9zZSA9IHRydWUsXG4gIGhpdEVzY2FwZVRvQ2xvc2UgPSB0cnVlLFxuICBvblNldE9wZW4sXG4gIG9uU3VibWl0TWVzc2FnZSxcbiAgc2hvcnRjdXQgPSBcIi9cIixcbiAgaWNvbnMsXG4gIGxhYmVscyxcbiAgbWFrZVN5c3RlbU1lc3NhZ2UsXG4gIHNob3dSZXNwb25zZUJ1dHRvbiA9IHRydWUsXG4gIG9uSW5Qcm9ncmVzcyxcbiAgV2luZG93ID0gRGVmYXVsdFdpbmRvdyxcbiAgQnV0dG9uID0gRGVmYXVsdEJ1dHRvbixcbiAgSGVhZGVyID0gRGVmYXVsdEhlYWRlcixcbiAgTWVzc2FnZXMgPSBEZWZhdWx0TWVzc2FnZXMsXG4gIElucHV0ID0gRGVmYXVsdElucHV0LFxuICBSZXNwb25zZUJ1dHRvbiA9IERlZmF1bHRSZXNwb25zZUJ1dHRvbixcbiAgY2xhc3NOYW1lLFxuICBjaGlsZHJlbixcbn06IENvcGlsb3RNb2RhbFByb3BzKSA9PiB7XG4gIGNvbnN0IFtvcGVuU3RhdGUsIHNldE9wZW5TdGF0ZV0gPSBSZWFjdC51c2VTdGF0ZShkZWZhdWx0T3Blbik7XG5cbiAgY29uc3Qgc2V0T3BlbiA9IChvcGVuOiBib29sZWFuKSA9PiB7XG4gICAgb25TZXRPcGVuPy4ob3Blbik7XG4gICAgc2V0T3BlblN0YXRlKG9wZW4pO1xuICB9O1xuXG4gIHJldHVybiAoXG4gICAgPENoYXRDb250ZXh0UHJvdmlkZXIgaWNvbnM9e2ljb25zfSBsYWJlbHM9e2xhYmVsc30gb3Blbj17b3BlblN0YXRlfSBzZXRPcGVuPXtzZXRPcGVufT5cbiAgICAgIHtjaGlsZHJlbn1cbiAgICAgIDxkaXYgY2xhc3NOYW1lPXtjbGFzc05hbWV9PlxuICAgICAgICA8QnV0dG9uPjwvQnV0dG9uPlxuICAgICAgICA8V2luZG93XG4gICAgICAgICAgY2xpY2tPdXRzaWRlVG9DbG9zZT17Y2xpY2tPdXRzaWRlVG9DbG9zZX1cbiAgICAgICAgICBzaG9ydGN1dD17c2hvcnRjdXR9XG4gICAgICAgICAgaGl0RXNjYXBlVG9DbG9zZT17aGl0RXNjYXBlVG9DbG9zZX1cbiAgICAgICAgPlxuICAgICAgICAgIDxIZWFkZXIgLz5cbiAgICAgICAgICA8Q29waWxvdENoYXRcbiAgICAgICAgICAgIGluc3RydWN0aW9ucz17aW5zdHJ1Y3Rpb25zfVxuICAgICAgICAgICAgb25TdWJtaXRNZXNzYWdlPXtvblN1Ym1pdE1lc3NhZ2V9XG4gICAgICAgICAgICBtYWtlU3lzdGVtTWVzc2FnZT17bWFrZVN5c3RlbU1lc3NhZ2V9XG4gICAgICAgICAgICBzaG93UmVzcG9uc2VCdXR0b249e3Nob3dSZXNwb25zZUJ1dHRvbn1cbiAgICAgICAgICAgIG9uSW5Qcm9ncmVzcz17b25JblByb2dyZXNzfVxuICAgICAgICAgICAgTWVzc2FnZXM9e01lc3NhZ2VzfVxuICAgICAgICAgICAgSW5wdXQ9e0lucHV0fVxuICAgICAgICAgICAgUmVzcG9uc2VCdXR0b249e1Jlc3BvbnNlQnV0dG9ufVxuICAgICAgICAgIC8+XG4gICAgICAgIDwvV2luZG93PlxuICAgICAgPC9kaXY+XG4gICAgPC9DaGF0Q29udGV4dFByb3ZpZGVyPlxuICApO1xufTtcbiIsImltcG9ydCBSZWFjdCwgeyB1c2VNZW1vLCB1c2VTdGF0ZSB9IGZyb20gXCJyZWFjdFwiO1xuaW1wb3J0ICogYXMgRGVmYXVsdEljb25zIGZyb20gXCIuL0ljb25zXCI7XG5cbi8qKlxuICogSWNvbnMgZm9yIENvcGlsb3RDaGF0IGNvbXBvbmVudC5cbiAqL1xuZXhwb3J0IGludGVyZmFjZSBDb3BpbG90Q2hhdEljb25zIHtcbiAgLyoqXG4gICAqIFRoZSBpY29uIHRvIHVzZSBmb3IgdGhlIG9wZW4gY2hhdCBidXR0b24uXG4gICAqIEBkZWZhdWx0IDxPcGVuSWNvbiAvPlxuICAgKi9cbiAgb3Blbkljb24/OiBSZWFjdC5SZWFjdE5vZGU7XG5cbiAgLyoqXG4gICAqIFRoZSBpY29uIHRvIHVzZSBmb3IgdGhlIGNsb3NlIGNoYXQgYnV0dG9uLlxuICAgKiBAZGVmYXVsdCA8Q2xvc2VJY29uIC8+XG4gICAqL1xuICBjbG9zZUljb24/OiBSZWFjdC5SZWFjdE5vZGU7XG5cbiAgLyoqXG4gICAqIFRoZSBpY29uIHRvIHVzZSBmb3IgdGhlIGNsb3NlIGNoYXQgYnV0dG9uIGluIHRoZSBoZWFkZXIuXG4gICAqIEBkZWZhdWx0IDxIZWFkZXJDbG9zZUljb24gLz5cbiAgICovXG4gIGhlYWRlckNsb3NlSWNvbj86IFJlYWN0LlJlYWN0Tm9kZTtcblxuICAvKipcbiAgICogVGhlIGljb24gdG8gdXNlIGZvciB0aGUgc2VuZCBidXR0b24uXG4gICAqIEBkZWZhdWx0IDxTZW5kSWNvbiAvPlxuICAgKi9cbiAgc2VuZEljb24/OiBSZWFjdC5SZWFjdE5vZGU7XG5cbiAgLyoqXG4gICAqIFRoZSBpY29uIHRvIHVzZSBmb3IgdGhlIGFjdGl2aXR5IGluZGljYXRvci5cbiAgICogQGRlZmF1bHQgPEFjdGl2aXR5SWNvbiAvPlxuICAgKi9cbiAgYWN0aXZpdHlJY29uPzogUmVhY3QuUmVhY3ROb2RlO1xuXG4gIC8qKlxuICAgKiBUaGUgaWNvbiB0byB1c2UgZm9yIHRoZSBzcGlubmVyLlxuICAgKiBAZGVmYXVsdCA8U3Bpbm5lckljb24gLz5cbiAgICovXG4gIHNwaW5uZXJJY29uPzogUmVhY3QuUmVhY3ROb2RlO1xuXG4gIC8qKlxuICAgKiBUaGUgaWNvbiB0byB1c2UgZm9yIHRoZSBzdG9wIGJ1dHRvbi5cbiAgICogQGRlZmF1bHQgPFN0b3BJY29uIC8+XG4gICAqL1xuICBzdG9wSWNvbj86IFJlYWN0LlJlYWN0Tm9kZTtcblxuICAvKipcbiAgICogVGhlIGljb24gdG8gdXNlIGZvciB0aGUgcmVnZW5lcmF0ZSBidXR0b24uXG4gICAqIEBkZWZhdWx0IDxSZWdlbmVyYXRlSWNvbiAvPlxuICAgKi9cbiAgcmVnZW5lcmF0ZUljb24/OiBSZWFjdC5SZWFjdE5vZGU7XG5cbiAgLyoqXG4gICAqIFRoZSBpY29ucyB0byB1c2UgZm9yIHB1c2ggdG8gdGFsay5cbiAgICogQGRlZmF1bHQgPFB1c2hUb1RhbGtJY29uIC8+XG4gICAqL1xuXG4gIHB1c2hUb1RhbGtJY29uPzogUmVhY3QuUmVhY3ROb2RlO1xufVxuXG4vKipcbiAqIExhYmVscyBmb3IgQ29waWxvdENoYXQgY29tcG9uZW50LlxuICovXG5leHBvcnQgaW50ZXJmYWNlIENvcGlsb3RDaGF0TGFiZWxzIHtcbiAgLyoqXG4gICAqIFRoZSBpbml0aWFsIG1lc3NhZ2UocykgdG8gZGlzcGxheSBpbiB0aGUgY2hhdCB3aW5kb3cuXG4gICAqL1xuICBpbml0aWFsPzogc3RyaW5nIHwgc3RyaW5nW107XG5cbiAgLyoqXG4gICAqIFRoZSB0aXRsZSB0byBkaXNwbGF5IGluIHRoZSBoZWFkZXIuXG4gICAqIEBkZWZhdWx0IFwiQ29waWxvdEtpdFwiXG4gICAqL1xuICB0aXRsZT86IHN0cmluZztcblxuICAvKipcbiAgICogVGhlIHBsYWNlaG9sZGVyIHRvIGRpc3BsYXkgaW4gdGhlIGlucHV0LlxuICAgKiBAZGVmYXVsdCBcIlR5cGUgYSBtZXNzYWdlLi4uXCJcbiAgICovXG4gIHBsYWNlaG9sZGVyPzogc3RyaW5nO1xuXG4gIC8qKlxuICAgKiBUaGUgbWVzc2FnZSB0byBkaXNwbGF5IHdoZW4gYW4gZXJyb3Igb2NjdXJzLlxuICAgKiBAZGVmYXVsdCBcIuKdjCBBbiBlcnJvciBvY2N1cnJlZC4gUGxlYXNlIHRyeSBhZ2Fpbi5cIlxuICAgKi9cbiAgZXJyb3I/OiBzdHJpbmc7XG5cbiAgLyoqXG4gICAqIFRoZSBsYWJlbCB0byBkaXNwbGF5IG9uIHRoZSBzdG9wIGJ1dHRvbi5cbiAgICogQGRlZmF1bHQgXCJTdG9wIGdlbmVyYXRpbmdcIlxuICAgKi9cbiAgc3RvcEdlbmVyYXRpbmc/OiBzdHJpbmc7XG5cbiAgLyoqXG4gICAqIFRoZSBsYWJlbCB0byBkaXNwbGF5IG9uIHRoZSByZWdlbmVyYXRlIGJ1dHRvbi5cbiAgICogQGRlZmF1bHQgXCJSZWdlbmVyYXRlIHJlc3BvbnNlXCJcbiAgICovXG4gIHJlZ2VuZXJhdGVSZXNwb25zZT86IHN0cmluZztcbn1cblxuaW50ZXJmYWNlIENoYXRDb250ZXh0IHtcbiAgbGFiZWxzOiBSZXF1aXJlZDxDb3BpbG90Q2hhdExhYmVscz47XG4gIGljb25zOiBSZXF1aXJlZDxDb3BpbG90Q2hhdEljb25zPjtcbiAgb3BlbjogYm9vbGVhbjtcbiAgc2V0T3BlbjogKG9wZW46IGJvb2xlYW4pID0+IHZvaWQ7XG59XG5cbmV4cG9ydCBjb25zdCBDaGF0Q29udGV4dCA9IFJlYWN0LmNyZWF0ZUNvbnRleHQ8Q2hhdENvbnRleHQgfCB1bmRlZmluZWQ+KHVuZGVmaW5lZCk7XG5cbmV4cG9ydCBmdW5jdGlvbiB1c2VDaGF0Q29udGV4dCgpOiBDaGF0Q29udGV4dCB7XG4gIGNvbnN0IGNvbnRleHQgPSBSZWFjdC51c2VDb250ZXh0KENoYXRDb250ZXh0KTtcbiAgaWYgKGNvbnRleHQgPT09IHVuZGVmaW5lZCkge1xuICAgIHRocm93IG5ldyBFcnJvcihcbiAgICAgIFwiQ29udGV4dCBub3QgZm91bmQuIERpZCB5b3UgZm9yZ2V0IHRvIHdyYXAgeW91ciBhcHAgaW4gYSA8Q2hhdENvbnRleHRQcm92aWRlcj4gY29tcG9uZW50P1wiLFxuICAgICk7XG4gIH1cbiAgcmV0dXJuIGNvbnRleHQ7XG59XG5cbmludGVyZmFjZSBDaGF0Q29udGV4dFByb3BzIHtcbiAgLy8gdGVtcGVyYXR1cmU/OiBudW1iZXI7XG4gIC8vIGluc3RydWN0aW9ucz86IHN0cmluZztcbiAgLy8gbWF4RmVlZGJhY2s/OiBudW1iZXI7XG4gIGxhYmVscz86IENvcGlsb3RDaGF0TGFiZWxzO1xuICBpY29ucz86IENvcGlsb3RDaGF0SWNvbnM7XG4gIGNoaWxkcmVuPzogUmVhY3QuUmVhY3ROb2RlO1xuICBvcGVuOiBib29sZWFuO1xuICBzZXRPcGVuOiAob3BlbjogYm9vbGVhbikgPT4gdm9pZDtcbn1cblxuZXhwb3J0IGNvbnN0IENoYXRDb250ZXh0UHJvdmlkZXIgPSAoe1xuICAvLyB0ZW1wZXJhdHVyZSxcbiAgLy8gaW5zdHJ1Y3Rpb25zLFxuICAvLyBtYXhGZWVkYmFjayxcbiAgbGFiZWxzLFxuICBpY29ucyxcbiAgY2hpbGRyZW4sXG4gIG9wZW4sXG4gIHNldE9wZW4sXG59OiBDaGF0Q29udGV4dFByb3BzKSA9PiB7XG4gIGNvbnN0IGNvbnRleHQgPSB7XG4gICAgbGFiZWxzOiB7XG4gICAgICAuLi57XG4gICAgICAgIGluaXRpYWw6IFwiXCIsXG4gICAgICAgIHRpdGxlOiBcIkNvcGlsb3RLaXRcIixcbiAgICAgICAgcGxhY2Vob2xkZXI6IFwiVHlwZSBhIG1lc3NhZ2UuLi5cIixcbiAgICAgICAgZXJyb3I6IFwi4p2MIEFuIGVycm9yIG9jY3VycmVkLiBQbGVhc2UgdHJ5IGFnYWluLlwiLFxuICAgICAgICBzdG9wR2VuZXJhdGluZzogXCJTdG9wIGdlbmVyYXRpbmdcIixcbiAgICAgICAgcmVnZW5lcmF0ZVJlc3BvbnNlOiBcIlJlZ2VuZXJhdGUgcmVzcG9uc2VcIixcbiAgICAgIH0sXG4gICAgICAuLi5sYWJlbHMsXG4gICAgfSxcblxuICAgIGljb25zOiB7XG4gICAgICAuLi57XG4gICAgICAgIG9wZW5JY29uOiBEZWZhdWx0SWNvbnMuT3Blbkljb24sXG4gICAgICAgIGNsb3NlSWNvbjogRGVmYXVsdEljb25zLkNsb3NlSWNvbixcbiAgICAgICAgaGVhZGVyQ2xvc2VJY29uOiBEZWZhdWx0SWNvbnMuSGVhZGVyQ2xvc2VJY29uLFxuICAgICAgICBzZW5kSWNvbjogRGVmYXVsdEljb25zLlNlbmRJY29uLFxuICAgICAgICBhY3Rpdml0eUljb246IERlZmF1bHRJY29ucy5BY3Rpdml0eUljb24sXG4gICAgICAgIHNwaW5uZXJJY29uOiBEZWZhdWx0SWNvbnMuU3Bpbm5lckljb24sXG4gICAgICAgIHN0b3BJY29uOiBEZWZhdWx0SWNvbnMuU3RvcEljb24sXG4gICAgICAgIHJlZ2VuZXJhdGVJY29uOiBEZWZhdWx0SWNvbnMuUmVnZW5lcmF0ZUljb24sXG4gICAgICAgIHB1c2hUb1RhbGtJY29uOiBEZWZhdWx0SWNvbnMuUHVzaFRvVGFsa0ljb24sXG4gICAgICB9LFxuICAgICAgLi4uaWNvbnMsXG4gICAgfSxcbiAgICBvcGVuLFxuICAgIHNldE9wZW4sXG4gIH07XG4gIHJldHVybiA8Q2hhdENvbnRleHQuUHJvdmlkZXIgdmFsdWU9e2NvbnRleHR9PntjaGlsZHJlbn08L0NoYXRDb250ZXh0LlByb3ZpZGVyPjtcbn07XG4iLCJpbXBvcnQgUmVhY3QgZnJvbSBcInJlYWN0XCI7XG5cbmV4cG9ydCBjb25zdCBPcGVuSWNvbiA9IChcbiAgPHN2Z1xuICAgIHhtbG5zPVwiaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmdcIlxuICAgIHZpZXdCb3g9XCIwIDAgMjQgMjRcIlxuICAgIGZpbGw9XCJjdXJyZW50Q29sb3JcIlxuICAgIHdpZHRoPVwiMjRcIlxuICAgIGhlaWdodD1cIjI0XCJcbiAgPlxuICAgIDxnIHRyYW5zZm9ybT1cInRyYW5zbGF0ZSgyNCwgMCkgc2NhbGUoLTEsIDEpXCI+XG4gICAgICA8cGF0aFxuICAgICAgICBmaWxsUnVsZT1cImV2ZW5vZGRcIlxuICAgICAgICBkPVwiTTUuMzM3IDIxLjcxOGE2LjcwNyA2LjcwNyAwIDAxLS41MzMtLjA3NC43NS43NSAwIDAxLS40NC0xLjIyMyAzLjczIDMuNzMgMCAwMC44MTQtMS42ODZjLjAyMy0uMTE1LS4wMjItLjMxNy0uMjU0LS41NDNDMy4yNzQgMTYuNTg3IDIuMjUgMTQuNDEgMi4yNSAxMmMwLTUuMDMgNC40MjgtOSA5Ljc1LTlzOS43NSAzLjk3IDkuNzUgOWMwIDUuMDMtNC40MjggOS05Ljc1IDktLjgzMyAwLTEuNjQzLS4wOTctMi40MTctLjI3OWE2LjcyMSA2LjcyMSAwIDAxLTQuMjQ2Ljk5N3pcIlxuICAgICAgICBjbGlwUnVsZT1cImV2ZW5vZGRcIlxuICAgICAgLz5cbiAgICA8L2c+XG4gIDwvc3ZnPlxuKTtcblxuZXhwb3J0IGNvbnN0IENsb3NlSWNvbiA9IChcbiAgPHN2Z1xuICAgIHhtbG5zPVwiaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmdcIlxuICAgIGZpbGw9XCJub25lXCJcbiAgICB2aWV3Qm94PVwiMCAwIDI0IDI0XCJcbiAgICBzdHJva2VXaWR0aD1cIjEuNVwiXG4gICAgc3Ryb2tlPVwiY3VycmVudENvbG9yXCJcbiAgICB3aWR0aD1cIjI0XCJcbiAgICBoZWlnaHQ9XCIyNFwiXG4gID5cbiAgICA8cGF0aCBzdHJva2VMaW5lY2FwPVwicm91bmRcIiBzdHJva2VMaW5lam9pbj1cInJvdW5kXCIgZD1cIk0xOS41IDguMjVsLTcuNSA3LjUtNy41LTcuNVwiIC8+XG4gIDwvc3ZnPlxuKTtcblxuZXhwb3J0IGNvbnN0IEhlYWRlckNsb3NlSWNvbiA9IChcbiAgPHN2Z1xuICAgIHhtbG5zPVwiaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmdcIlxuICAgIGZpbGw9XCJub25lXCJcbiAgICB2aWV3Qm94PVwiMCAwIDI0IDI0XCJcbiAgICBzdHJva2VXaWR0aD1cIjEuNVwiXG4gICAgc3Ryb2tlPVwiY3VycmVudENvbG9yXCJcbiAgICB3aWR0aD1cIjI0XCJcbiAgICBoZWlnaHQ9XCIyNFwiXG4gID5cbiAgICA8cGF0aCBzdHJva2VMaW5lY2FwPVwicm91bmRcIiBzdHJva2VMaW5lam9pbj1cInJvdW5kXCIgZD1cIk02IDE4TDE4IDZNNiA2bDEyIDEyXCIgLz5cbiAgPC9zdmc+XG4pO1xuXG5leHBvcnQgY29uc3QgU2VuZEljb24gPSAoXG4gIDxzdmdcbiAgICB4bWxucz1cImh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnXCJcbiAgICBmaWxsPVwibm9uZVwiXG4gICAgdmlld0JveD1cIjAgMCAyNCAyNFwiXG4gICAgc3Ryb2tlV2lkdGg9ezEuNX1cbiAgICBzdHJva2U9XCJjdXJyZW50Q29sb3JcIlxuICAgIHdpZHRoPVwiMjRcIlxuICAgIGhlaWdodD1cIjI0XCJcbiAgPlxuICAgIDxwYXRoXG4gICAgICBzdHJva2VMaW5lY2FwPVwicm91bmRcIlxuICAgICAgc3Ryb2tlTGluZWpvaW49XCJyb3VuZFwiXG4gICAgICBkPVwiTTYgMTJMMy4yNjkgMy4xMjZBNTkuNzY4IDU5Ljc2OCAwIDAxMjEuNDg1IDEyIDU5Ljc3IDU5Ljc3IDAgMDEzLjI3IDIwLjg3Nkw1Ljk5OSAxMnptMCAwaDcuNVwiXG4gICAgLz5cbiAgPC9zdmc+XG4pO1xuXG5leHBvcnQgY29uc3QgU3Bpbm5lckljb24gPSAoXG4gIDxzdmdcbiAgICBzdHlsZT17e1xuICAgICAgYW5pbWF0aW9uOiBcImNvcGlsb3RLaXRTcGluQW5pbWF0aW9uIDFzIGxpbmVhciBpbmZpbml0ZVwiLFxuICAgICAgY29sb3I6IFwicmdiKDEwNyAxMTQgMTI4KVwiLFxuICAgIH19XG4gICAgd2lkdGg9XCIyNFwiXG4gICAgaGVpZ2h0PVwiMjRcIlxuICAgIHhtbG5zPVwiaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmdcIlxuICAgIGZpbGw9XCJub25lXCJcbiAgICB2aWV3Qm94PVwiMCAwIDI0IDI0XCJcbiAgPlxuICAgIDxjaXJjbGVcbiAgICAgIHN0eWxlPXt7IG9wYWNpdHk6IDAuMjUgfX1cbiAgICAgIGN4PVwiMTJcIlxuICAgICAgY3k9XCIxMlwiXG4gICAgICByPVwiMTBcIlxuICAgICAgc3Ryb2tlPVwiY3VycmVudENvbG9yXCJcbiAgICAgIHN0cm9rZVdpZHRoPVwiNFwiXG4gICAgPjwvY2lyY2xlPlxuICAgIDxwYXRoXG4gICAgICBzdHlsZT17eyBvcGFjaXR5OiAwLjc1IH19XG4gICAgICBmaWxsPVwiY3VycmVudENvbG9yXCJcbiAgICAgIGQ9XCJNNCAxMmE4IDggMCAwMTgtOFYwQzUuMzczIDAgMCA1LjM3MyAwIDEyaDR6bTIgNS4yOTFBNy45NjIgNy45NjIgMCAwMTQgMTJIMGMwIDMuMDQyIDEuMTM1IDUuODI0IDMgNy45MzhsMy0yLjY0N3pcIlxuICAgID48L3BhdGg+XG4gIDwvc3ZnPlxuKTtcblxuZXhwb3J0IGNvbnN0IFNtYWxsU3Bpbm5lckljb24gPSAoXG4gIDxzdmdcbiAgICBzdHlsZT17e1xuICAgICAgYW5pbWF0aW9uOiBcImNvcGlsb3RLaXRTcGluQW5pbWF0aW9uIDFzIGxpbmVhciBpbmZpbml0ZVwiLFxuICAgIH19XG4gICAgd2lkdGg9XCIxM1wiXG4gICAgaGVpZ2h0PVwiMTNcIlxuICAgIHhtbG5zPVwiaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmdcIlxuICAgIGZpbGw9XCJub25lXCJcbiAgICB2aWV3Qm94PVwiMCAwIDI0IDI0XCJcbiAgPlxuICAgIDxjaXJjbGVcbiAgICAgIHN0eWxlPXt7IG9wYWNpdHk6IDAuMjUgfX1cbiAgICAgIGN4PVwiMTJcIlxuICAgICAgY3k9XCIxMlwiXG4gICAgICByPVwiMTBcIlxuICAgICAgc3Ryb2tlPVwiY3VycmVudENvbG9yXCJcbiAgICAgIHN0cm9rZVdpZHRoPVwiNFwiXG4gICAgPjwvY2lyY2xlPlxuICAgIDxwYXRoXG4gICAgICBzdHlsZT17eyBvcGFjaXR5OiAwLjc1IH19XG4gICAgICBmaWxsPVwiY3VycmVudENvbG9yXCJcbiAgICAgIGQ9XCJNNCAxMmE4IDggMCAwMTgtOFYwQzUuMzczIDAgMCA1LjM3MyAwIDEyaDR6bTIgNS4yOTFBNy45NjIgNy45NjIgMCAwMTQgMTJIMGMwIDMuMDQyIDEuMTM1IDUuODI0IDMgNy45MzhsMy0yLjY0N3pcIlxuICAgID48L3BhdGg+XG4gIDwvc3ZnPlxuKTtcblxuZXhwb3J0IGNvbnN0IEFjdGl2aXR5SWNvbiA9IChcbiAgPHN2Z1xuICAgIHN0eWxlPXt7XG4gICAgICBkaXNwbGF5OiBcImlubGluZS1ibG9ja1wiLFxuICAgICAgbWFyZ2luTGVmdDogXCIwLjI1cmVtXCIsXG4gICAgICBtYXJnaW5SaWdodDogXCIwLjI1cmVtXCIsXG4gICAgfX1cbiAgICBoZWlnaHQ9XCIyNFwiXG4gICAgd2lkdGg9XCIyNFwiXG4gICAgdmlld0JveD1cIjAgMCAyNyAyN1wiXG4gICAgeG1sbnM9XCJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2Z1wiXG4gICAgZmlsbD1cImN1cnJlbnRDb2xvclwiXG4gID5cbiAgICA8Y2lyY2xlIGNsYXNzTmFtZT1cImNvcGlsb3RLaXRBY3Rpdml0eURvdDFcIiBjeD1cIjRcIiBjeT1cIjEyXCIgcj1cIjNcIiAvPlxuICAgIDxjaXJjbGUgY2xhc3NOYW1lPVwiY29waWxvdEtpdEFjdGl2aXR5RG90MSBjb3BpbG90S2l0QWN0aXZpdHlEb3QyXCIgY3g9XCIxMlwiIGN5PVwiMTJcIiByPVwiM1wiIC8+XG4gICAgPGNpcmNsZSBjbGFzc05hbWU9XCJjb3BpbG90S2l0QWN0aXZpdHlEb3QxIGNvcGlsb3RLaXRBY3Rpdml0eURvdDNcIiBjeD1cIjIwXCIgY3k9XCIxMlwiIHI9XCIzXCIgLz5cbiAgPC9zdmc+XG4pO1xuXG5leHBvcnQgZnVuY3Rpb24gQ2hlY2tJY29uKHsgY2xhc3NOYW1lLCAuLi5wcm9wcyB9OiBSZWFjdC5Db21wb25lbnRQcm9wczxcInN2Z1wiPikge1xuICByZXR1cm4gKFxuICAgIDxzdmdcbiAgICAgIHhtbG5zPVwiaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmdcIlxuICAgICAgdmlld0JveD1cIjAgMCAyNTYgMjU2XCJcbiAgICAgIGZpbGw9XCJjdXJyZW50Q29sb3JcIlxuICAgICAgc3R5bGU9e3sgaGVpZ2h0OiBcIjFyZW1cIiwgd2lkdGg6IFwiMXJlbVwiIH19XG4gICAgICBjbGFzc05hbWU9e2NsYXNzTmFtZX1cbiAgICAgIHsuLi5wcm9wc31cbiAgICA+XG4gICAgICA8cGF0aCBkPVwibTIyOS42NiA3Ny42Ni0xMjggMTI4YTggOCAwIDAgMS0xMS4zMiAwbC01Ni01NmE4IDggMCAwIDEgMTEuMzItMTEuMzJMOTYgMTg4LjY5IDIxOC4zNCA2Ni4zNGE4IDggMCAwIDEgMTEuMzIgMTEuMzJaXCIgLz5cbiAgICA8L3N2Zz5cbiAgKTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIERvd25sb2FkSWNvbih7IGNsYXNzTmFtZSwgLi4ucHJvcHMgfTogUmVhY3QuQ29tcG9uZW50UHJvcHM8XCJzdmdcIj4pIHtcbiAgcmV0dXJuIChcbiAgICA8c3ZnXG4gICAgICB4bWxucz1cImh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnXCJcbiAgICAgIHZpZXdCb3g9XCIwIDAgMjU2IDI1NlwiXG4gICAgICBmaWxsPVwiY3VycmVudENvbG9yXCJcbiAgICAgIHN0eWxlPXt7IGhlaWdodDogXCIxcmVtXCIsIHdpZHRoOiBcIjFyZW1cIiB9fVxuICAgICAgY2xhc3NOYW1lPXtjbGFzc05hbWV9XG4gICAgICB7Li4ucHJvcHN9XG4gICAgPlxuICAgICAgPHBhdGggZD1cIk0yMjQgMTUydjU2YTE2IDE2IDAgMCAxLTE2IDE2SDQ4YTE2IDE2IDAgMCAxLTE2LTE2di01NmE4IDggMCAwIDEgMTYgMHY1NmgxNjB2LTU2YTggOCAwIDAgMSAxNiAwWm0tMTAxLjY2IDUuNjZhOCA4IDAgMCAwIDExLjMyIDBsNDAtNDBhOCA4IDAgMCAwLTExLjMyLTExLjMyTDEzNiAxMzIuNjlWNDBhOCA4IDAgMCAwLTE2IDB2OTIuNjlsLTI2LjM0LTI2LjM1YTggOCAwIDAgMC0xMS4zMiAxMS4zMlpcIiAvPlxuICAgIDwvc3ZnPlxuICApO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gQ29weUljb24oeyBjbGFzc05hbWUsIC4uLnByb3BzIH06IFJlYWN0LkNvbXBvbmVudFByb3BzPFwic3ZnXCI+KSB7XG4gIHJldHVybiAoXG4gICAgPHN2Z1xuICAgICAgeG1sbnM9XCJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2Z1wiXG4gICAgICB2aWV3Qm94PVwiMCAwIDI1NiAyNTZcIlxuICAgICAgZmlsbD1cImN1cnJlbnRDb2xvclwiXG4gICAgICBzdHlsZT17eyBoZWlnaHQ6IFwiMXJlbVwiLCB3aWR0aDogXCIxcmVtXCIgfX1cbiAgICAgIGNsYXNzTmFtZT17Y2xhc3NOYW1lfVxuICAgICAgey4uLnByb3BzfVxuICAgID5cbiAgICAgIDxwYXRoIGQ9XCJNMjE2IDMySDg4YTggOCAwIDAgMC04IDh2NDBINDBhOCA4IDAgMCAwLTggOHYxMjhhOCA4IDAgMCAwIDggOGgxMjhhOCA4IDAgMCAwIDgtOHYtNDBoNDBhOCA4IDAgMCAwIDgtOFY0MGE4IDggMCAwIDAtOC04Wm0tNTYgMTc2SDQ4Vjk2aDExMlptNDgtNDhoLTMyVjg4YTggOCAwIDAgMC04LThIOTZWNDhoMTEyWlwiIC8+XG4gICAgPC9zdmc+XG4gICk7XG59XG5cbmV4cG9ydCBjb25zdCBTdG9wSWNvbiA9IChcbiAgPHN2Z1xuICAgIHhtbG5zPVwiaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmdcIlxuICAgIHZpZXdCb3g9XCIwIDAgMjU2IDI1NlwiXG4gICAgZmlsbD1cImN1cnJlbnRDb2xvclwiXG4gICAgc3R5bGU9e3sgaGVpZ2h0OiBcIjFyZW1cIiwgd2lkdGg6IFwiMXJlbVwiIH19XG4gID5cbiAgICA8cGF0aCBkPVwiTTEyOCAyNGExMDQgMTA0IDAgMSAwIDEwNCAxMDRBMTA0LjExIDEwNC4xMSAwIDAgMCAxMjggMjRabTAgMTkyYTg4IDg4IDAgMSAxIDg4LTg4IDg4LjEgODguMSAwIDAgMS04OCA4OFptMjQtMTIwaC00OGE4IDggMCAwIDAtOCA4djQ4YTggOCAwIDAgMCA4IDhoNDhhOCA4IDAgMCAwIDgtOHYtNDhhOCA4IDAgMCAwLTgtOFptLTggNDhoLTMydi0zMmgzMlpcIiAvPlxuICA8L3N2Zz5cbik7XG5cbmV4cG9ydCBjb25zdCBSZWdlbmVyYXRlSWNvbiA9IChcbiAgPHN2Z1xuICAgIHhtbG5zPVwiaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmdcIlxuICAgIHZpZXdCb3g9XCIwIDAgMjU2IDI1NlwiXG4gICAgZmlsbD1cImN1cnJlbnRDb2xvclwiXG4gICAgc3R5bGU9e3sgaGVpZ2h0OiBcIjFyZW1cIiwgd2lkdGg6IFwiMXJlbVwiIH19XG4gID5cbiAgICA8cGF0aCBkPVwiTTE5Ny42NyAxODYuMzdhOCA4IDAgMCAxIDAgMTEuMjlDMTk2LjU4IDE5OC43MyAxNzAuODIgMjI0IDEyOCAyMjRjLTM3LjM5IDAtNjQuNTMtMjIuNC04MC0zOS44NVYyMDhhOCA4IDAgMCAxLTE2IDB2LTQ4YTggOCAwIDAgMSA4LThoNDhhOCA4IDAgMCAxIDAgMTZINTUuNDRDNjcuNzYgMTgzLjM1IDkzIDIwOCAxMjggMjA4YzM2IDAgNTguMTQtMjEuNDYgNTguMzYtMjEuNjhhOCA4IDAgMCAxIDExLjMxLjA1Wk0yMTYgNDBhOCA4IDAgMCAwLTggOHYyMy44NUMxOTIuNTMgNTQuNCAxNjUuMzkgMzIgMTI4IDMyYy00Mi44MiAwLTY4LjU4IDI1LjI3LTY5LjY2IDI2LjM0YTggOCAwIDAgMCAxMS4zIDExLjM0QzY5Ljg2IDY5LjQ2IDkyIDQ4IDEyOCA0OGMzNSAwIDYwLjI0IDI0LjY1IDcyLjU2IDQwSDE2OGE4IDggMCAwIDAgMCAxNmg0OGE4IDggMCAwIDAgOC04VjQ4YTggOCAwIDAgMC04LThaXCIgLz5cbiAgPC9zdmc+XG4pO1xuXG5leHBvcnQgY29uc3QgUHVzaFRvVGFsa0ljb24gPSAoXG4gIDxzdmdcbiAgICB4bWxucz1cImh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnXCJcbiAgICBmaWxsPVwibm9uZVwiXG4gICAgdmlld0JveD1cIjAgMCAyNCAyNFwiXG4gICAgc3Ryb2tlV2lkdGg9ezEuNX1cbiAgICBzdHJva2U9XCJjdXJyZW50Q29sb3JcIlxuICAgIGNsYXNzTmFtZT1cInctNiBoLTZcIlxuICA+XG4gICAgPHBhdGhcbiAgICAgIHN0cm9rZUxpbmVjYXA9XCJyb3VuZFwiXG4gICAgICBzdHJva2VMaW5lam9pbj1cInJvdW5kXCJcbiAgICAgIGQ9XCJNMTIgMTguNzVhNiA2IDAgMCAwIDYtNnYtMS41bS02IDcuNWE2IDYgMCAwIDEtNi02di0xLjVtNiA3LjV2My43NW0tMy43NSAwaDcuNU0xMiAxNS43NWEzIDMgMCAwIDEtMy0zVjQuNWEzIDMgMCAxIDEgNiAwdjguMjVhMyAzIDAgMCAxLTMgM1pcIlxuICAgIC8+XG4gIDwvc3ZnPlxuKTtcbiIsImltcG9ydCBSZWFjdCwgeyB1c2VDYWxsYmFjaywgdXNlRWZmZWN0IH0gZnJvbSBcInJlYWN0XCI7XG5pbXBvcnQgeyBXaW5kb3dQcm9wcyB9IGZyb20gXCIuL3Byb3BzXCI7XG5pbXBvcnQgeyB1c2VDaGF0Q29udGV4dCB9IGZyb20gXCIuL0NoYXRDb250ZXh0XCI7XG5cbmV4cG9ydCBjb25zdCBXaW5kb3cgPSAoe1xuICBjaGlsZHJlbixcbiAgY2xpY2tPdXRzaWRlVG9DbG9zZSxcbiAgc2hvcnRjdXQsXG4gIGhpdEVzY2FwZVRvQ2xvc2UsXG59OiBXaW5kb3dQcm9wcykgPT4ge1xuICBjb25zdCB3aW5kb3dSZWYgPSBSZWFjdC51c2VSZWY8SFRNTERpdkVsZW1lbnQ+KG51bGwpO1xuXG4gIGNvbnN0IHsgb3Blbiwgc2V0T3BlbiB9ID0gdXNlQ2hhdENvbnRleHQoKTtcblxuICBjb25zdCBoYW5kbGVDbGlja091dHNpZGUgPSB1c2VDYWxsYmFjayhcbiAgICAoZXZlbnQ6IE1vdXNlRXZlbnQpID0+IHtcbiAgICAgIGlmICghY2xpY2tPdXRzaWRlVG9DbG9zZSkge1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG5cbiAgICAgIGNvbnN0IHBhcmVudEVsZW1lbnQgPSB3aW5kb3dSZWYuY3VycmVudD8ucGFyZW50RWxlbWVudDtcblxuICAgICAgbGV0IGNsYXNzTmFtZSA9IFwiXCI7XG4gICAgICBpZiAoZXZlbnQudGFyZ2V0IGluc3RhbmNlb2YgSFRNTEVsZW1lbnQpIHtcbiAgICAgICAgY2xhc3NOYW1lID0gZXZlbnQudGFyZ2V0LmNsYXNzTmFtZTtcbiAgICAgIH1cblxuICAgICAgaWYgKFxuICAgICAgICBvcGVuICYmXG4gICAgICAgIHBhcmVudEVsZW1lbnQgJiZcbiAgICAgICAgIXBhcmVudEVsZW1lbnQuY29udGFpbnMoZXZlbnQudGFyZ2V0IGFzIGFueSkgJiZcbiAgICAgICAgLy8gcHJldmVudCBjbG9zaW5nIHRoZSB3aW5kb3cgd2hlbiBjbGlja2luZyBvbiB0aGUgZGVidWcgbWVudVxuICAgICAgICAhY2xhc3NOYW1lLmluY2x1ZGVzKFwiY29waWxvdEtpdERlYnVnTWVudVwiKVxuICAgICAgKSB7XG4gICAgICAgIHNldE9wZW4oZmFsc2UpO1xuICAgICAgfVxuICAgIH0sXG4gICAgW2NsaWNrT3V0c2lkZVRvQ2xvc2UsIG9wZW4sIHNldE9wZW5dLFxuICApO1xuXG4gIGNvbnN0IGhhbmRsZUtleURvd24gPSB1c2VDYWxsYmFjayhcbiAgICAoZXZlbnQ6IEtleWJvYXJkRXZlbnQpID0+IHtcbiAgICAgIGNvbnN0IHRhcmdldCA9IGV2ZW50LnRhcmdldCBhcyBIVE1MRWxlbWVudDtcbiAgICAgIGNvbnN0IGlzSW5wdXQgPVxuICAgICAgICB0YXJnZXQudGFnTmFtZSA9PT0gXCJJTlBVVFwiIHx8XG4gICAgICAgIHRhcmdldC50YWdOYW1lID09PSBcIlNFTEVDVFwiIHx8XG4gICAgICAgIHRhcmdldC50YWdOYW1lID09PSBcIlRFWFRBUkVBXCIgfHxcbiAgICAgICAgdGFyZ2V0LmlzQ29udGVudEVkaXRhYmxlO1xuXG4gICAgICBjb25zdCBpc0Rlc2NlbmRhbnRPZldyYXBwZXIgPSB3aW5kb3dSZWYuY3VycmVudD8uY29udGFpbnModGFyZ2V0KTtcblxuICAgICAgaWYgKFxuICAgICAgICBvcGVuICYmXG4gICAgICAgIGV2ZW50LmtleSA9PT0gXCJFc2NhcGVcIiAmJlxuICAgICAgICAoIWlzSW5wdXQgfHwgaXNEZXNjZW5kYW50T2ZXcmFwcGVyKSAmJlxuICAgICAgICBoaXRFc2NhcGVUb0Nsb3NlXG4gICAgICApIHtcbiAgICAgICAgc2V0T3BlbihmYWxzZSk7XG4gICAgICB9IGVsc2UgaWYgKFxuICAgICAgICBldmVudC5rZXkgPT09IHNob3J0Y3V0ICYmXG4gICAgICAgICgoaXNNYWNPUygpICYmIGV2ZW50Lm1ldGFLZXkpIHx8ICghaXNNYWNPUygpICYmIGV2ZW50LmN0cmxLZXkpKSAmJlxuICAgICAgICAoIWlzSW5wdXQgfHwgaXNEZXNjZW5kYW50T2ZXcmFwcGVyKVxuICAgICAgKSB7XG4gICAgICAgIHNldE9wZW4oIW9wZW4pO1xuICAgICAgfVxuICAgIH0sXG4gICAgW2hpdEVzY2FwZVRvQ2xvc2UsIHNob3J0Y3V0LCBvcGVuLCBzZXRPcGVuXSxcbiAgKTtcblxuICBjb25zdCBhZGp1c3RGb3JNb2JpbGUgPSB1c2VDYWxsYmFjaygoKSA9PiB7XG4gICAgY29uc3QgY29waWxvdEtpdFdpbmRvdyA9IHdpbmRvd1JlZi5jdXJyZW50O1xuICAgIGNvbnN0IHZ2ID0gd2luZG93LnZpc3VhbFZpZXdwb3J0O1xuICAgIGlmICghY29waWxvdEtpdFdpbmRvdyB8fCAhdnYpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICBpZiAod2luZG93LmlubmVyV2lkdGggPCA2NDAgJiYgb3Blbikge1xuICAgICAgY29waWxvdEtpdFdpbmRvdy5zdHlsZS5oZWlnaHQgPSBgJHt2di5oZWlnaHR9cHhgO1xuICAgICAgY29waWxvdEtpdFdpbmRvdy5zdHlsZS5sZWZ0ID0gYCR7dnYub2Zmc2V0TGVmdH1weGA7XG4gICAgICBjb3BpbG90S2l0V2luZG93LnN0eWxlLnRvcCA9IGAke3Z2Lm9mZnNldFRvcH1weGA7XG5cbiAgICAgIGRvY3VtZW50LmJvZHkuc3R5bGUucG9zaXRpb24gPSBcImZpeGVkXCI7XG4gICAgICBkb2N1bWVudC5ib2R5LnN0eWxlLndpZHRoID0gXCIxMDAlXCI7XG4gICAgICBkb2N1bWVudC5ib2R5LnN0eWxlLmhlaWdodCA9IGAke3dpbmRvdy5pbm5lckhlaWdodH1weGA7XG4gICAgICBkb2N1bWVudC5ib2R5LnN0eWxlLm92ZXJmbG93ID0gXCJoaWRkZW5cIjtcbiAgICAgIGRvY3VtZW50LmJvZHkuc3R5bGUudG91Y2hBY3Rpb24gPSBcIm5vbmVcIjtcblxuICAgICAgLy8gUHJldmVudCBzY3JvbGxpbmcgb24gaU9TXG4gICAgICBkb2N1bWVudC5ib2R5LmFkZEV2ZW50TGlzdGVuZXIoXCJ0b3VjaG1vdmVcIiwgcHJldmVudFNjcm9sbCwge1xuICAgICAgICBwYXNzaXZlOiBmYWxzZSxcbiAgICAgIH0pO1xuICAgIH0gZWxzZSB7XG4gICAgICBjb3BpbG90S2l0V2luZG93LnN0eWxlLmhlaWdodCA9IFwiXCI7XG4gICAgICBjb3BpbG90S2l0V2luZG93LnN0eWxlLmxlZnQgPSBcIlwiO1xuICAgICAgY29waWxvdEtpdFdpbmRvdy5zdHlsZS50b3AgPSBcIlwiO1xuICAgICAgZG9jdW1lbnQuYm9keS5zdHlsZS5wb3NpdGlvbiA9IFwiXCI7XG4gICAgICBkb2N1bWVudC5ib2R5LnN0eWxlLmhlaWdodCA9IFwiXCI7XG4gICAgICBkb2N1bWVudC5ib2R5LnN0eWxlLndpZHRoID0gXCJcIjtcbiAgICAgIGRvY3VtZW50LmJvZHkuc3R5bGUub3ZlcmZsb3cgPSBcIlwiO1xuICAgICAgZG9jdW1lbnQuYm9keS5zdHlsZS50b3AgPSBcIlwiO1xuICAgICAgZG9jdW1lbnQuYm9keS5zdHlsZS50b3VjaEFjdGlvbiA9IFwiXCI7XG5cbiAgICAgIGRvY3VtZW50LmJvZHkucmVtb3ZlRXZlbnRMaXN0ZW5lcihcInRvdWNobW92ZVwiLCBwcmV2ZW50U2Nyb2xsKTtcbiAgICB9XG4gIH0sIFtvcGVuXSk7XG5cbiAgdXNlRWZmZWN0KCgpID0+IHtcbiAgICBkb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKFwibW91c2Vkb3duXCIsIGhhbmRsZUNsaWNrT3V0c2lkZSk7XG4gICAgZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcihcImtleWRvd25cIiwgaGFuZGxlS2V5RG93bik7XG4gICAgaWYgKHdpbmRvdy52aXN1YWxWaWV3cG9ydCkge1xuICAgICAgd2luZG93LnZpc3VhbFZpZXdwb3J0LmFkZEV2ZW50TGlzdGVuZXIoXCJyZXNpemVcIiwgYWRqdXN0Rm9yTW9iaWxlKTtcbiAgICAgIGFkanVzdEZvck1vYmlsZSgpO1xuICAgIH1cblxuICAgIHJldHVybiAoKSA9PiB7XG4gICAgICBkb2N1bWVudC5yZW1vdmVFdmVudExpc3RlbmVyKFwibW91c2Vkb3duXCIsIGhhbmRsZUNsaWNrT3V0c2lkZSk7XG4gICAgICBkb2N1bWVudC5yZW1vdmVFdmVudExpc3RlbmVyKFwia2V5ZG93blwiLCBoYW5kbGVLZXlEb3duKTtcbiAgICAgIGlmICh3aW5kb3cudmlzdWFsVmlld3BvcnQpIHtcbiAgICAgICAgd2luZG93LnZpc3VhbFZpZXdwb3J0LnJlbW92ZUV2ZW50TGlzdGVuZXIoXCJyZXNpemVcIiwgYWRqdXN0Rm9yTW9iaWxlKTtcbiAgICAgIH1cbiAgICB9O1xuICB9LCBbYWRqdXN0Rm9yTW9iaWxlLCBoYW5kbGVDbGlja091dHNpZGUsIGhhbmRsZUtleURvd25dKTtcblxuICByZXR1cm4gKFxuICAgIDxkaXYgY2xhc3NOYW1lPXtgY29waWxvdEtpdFdpbmRvdyR7b3BlbiA/IFwiIG9wZW5cIiA6IFwiXCJ9YH0gcmVmPXt3aW5kb3dSZWZ9PlxuICAgICAge2NoaWxkcmVufVxuICAgIDwvZGl2PlxuICApO1xufTtcblxuY29uc3QgcHJldmVudFNjcm9sbCA9IChldmVudDogVG91Y2hFdmVudCk6IHZvaWQgPT4ge1xuICBsZXQgdGFyZ2V0RWxlbWVudCA9IGV2ZW50LnRhcmdldCBhcyBFbGVtZW50O1xuXG4gIC8vIEZ1bmN0aW9uIHRvIGNoZWNrIGlmIHRoZSB0YXJnZXQgaGFzIHRoZSBwYXJlbnQgd2l0aCBhIGdpdmVuIGNsYXNzXG4gIGNvbnN0IGhhc1BhcmVudFdpdGhDbGFzcyA9IChlbGVtZW50OiBFbGVtZW50LCBjbGFzc05hbWU6IHN0cmluZyk6IGJvb2xlYW4gPT4ge1xuICAgIHdoaWxlIChlbGVtZW50ICYmIGVsZW1lbnQgIT09IGRvY3VtZW50LmJvZHkpIHtcbiAgICAgIGlmIChlbGVtZW50LmNsYXNzTGlzdC5jb250YWlucyhjbGFzc05hbWUpKSB7XG4gICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgfVxuICAgICAgZWxlbWVudCA9IGVsZW1lbnQucGFyZW50RWxlbWVudCE7XG4gICAgfVxuICAgIHJldHVybiBmYWxzZTtcbiAgfTtcblxuICAvLyBDaGVjayBpZiB0aGUgdGFyZ2V0IG9mIHRoZSB0b3VjaCBldmVudCBpcyBpbnNpZGUgYW4gZWxlbWVudCB3aXRoIHRoZSAnY29waWxvdEtpdE1lc3NhZ2VzJyBjbGFzc1xuICBpZiAoIWhhc1BhcmVudFdpdGhDbGFzcyh0YXJnZXRFbGVtZW50LCBcImNvcGlsb3RLaXRNZXNzYWdlc1wiKSkge1xuICAgIGV2ZW50LnByZXZlbnREZWZhdWx0KCk7XG4gIH1cbn07XG5cbmZ1bmN0aW9uIGlzTWFjT1MoKSB7XG4gIHJldHVybiAvTWFjfGlNYWN8TWFjaW50b3NoL2kudGVzdChuYXZpZ2F0b3IudXNlckFnZW50KTtcbn1cbiIsImltcG9ydCB7IEJ1dHRvblByb3BzIH0gZnJvbSBcIi4vcHJvcHNcIjtcbmltcG9ydCB7IHVzZUNoYXRDb250ZXh0IH0gZnJvbSBcIi4vQ2hhdENvbnRleHRcIjtcblxuZXhwb3J0IGNvbnN0IEJ1dHRvbiA9ICh7fTogQnV0dG9uUHJvcHMpID0+IHtcbiAgY29uc3QgeyBvcGVuLCBzZXRPcGVuLCBpY29ucyB9ID0gdXNlQ2hhdENvbnRleHQoKTtcblxuICByZXR1cm4gKFxuICAgIDxkaXYgb25DbGljaz17KCkgPT4gc2V0T3Blbighb3Blbil9PlxuICAgICAgPGJ1dHRvblxuICAgICAgICBjbGFzc05hbWU9e2Bjb3BpbG90S2l0QnV0dG9uICR7b3BlbiA/IFwib3BlblwiIDogXCJcIn1gfVxuICAgICAgICBhcmlhLWxhYmVsPXtvcGVuID8gXCJDbG9zZSBDaGF0XCIgOiBcIk9wZW4gQ2hhdFwifVxuICAgICAgPlxuICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImNvcGlsb3RLaXRCdXR0b25JY29uIGNvcGlsb3RLaXRCdXR0b25JY29uT3BlblwiPntpY29ucy5vcGVuSWNvbn08L2Rpdj5cbiAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJjb3BpbG90S2l0QnV0dG9uSWNvbiBjb3BpbG90S2l0QnV0dG9uSWNvbkNsb3NlXCI+e2ljb25zLmNsb3NlSWNvbn08L2Rpdj5cbiAgICAgIDwvYnV0dG9uPlxuICAgIDwvZGl2PlxuICApO1xufTtcbiIsImltcG9ydCB7IEhlYWRlclByb3BzIH0gZnJvbSBcIi4vcHJvcHNcIjtcbmltcG9ydCB7IHVzZUNoYXRDb250ZXh0IH0gZnJvbSBcIi4vQ2hhdENvbnRleHRcIjtcblxuZXhwb3J0IGNvbnN0IEhlYWRlciA9ICh7fTogSGVhZGVyUHJvcHMpID0+IHtcbiAgY29uc3QgeyBzZXRPcGVuLCBpY29ucywgbGFiZWxzIH0gPSB1c2VDaGF0Q29udGV4dCgpO1xuXG4gIHJldHVybiAoXG4gICAgPGRpdiBjbGFzc05hbWU9XCJjb3BpbG90S2l0SGVhZGVyXCI+XG4gICAgICA8ZGl2PntsYWJlbHMudGl0bGV9PC9kaXY+XG4gICAgICA8YnV0dG9uIG9uQ2xpY2s9eygpID0+IHNldE9wZW4oZmFsc2UpfSBhcmlhLWxhYmVsPVwiQ2xvc2VcIj5cbiAgICAgICAge2ljb25zLmhlYWRlckNsb3NlSWNvbn1cbiAgICAgIDwvYnV0dG9uPlxuICAgIDwvZGl2PlxuICApO1xufTtcbiIsImltcG9ydCBSZWFjdCwgeyB1c2VFZmZlY3QsIHVzZU1lbW8gfSBmcm9tIFwicmVhY3RcIjtcbmltcG9ydCB7IE1lc3NhZ2VzUHJvcHMgfSBmcm9tIFwiLi9wcm9wc1wiO1xuaW1wb3J0IHsgdXNlQ2hhdENvbnRleHQgfSBmcm9tIFwiLi9DaGF0Q29udGV4dFwiO1xuaW1wb3J0IHsgTWFya2Rvd24gfSBmcm9tIFwiLi9NYXJrZG93blwiO1xuaW1wb3J0IHsgUmVuZGVyRnVuY3Rpb25TdGF0dXMsIHVzZUNvcGlsb3RDb250ZXh0IH0gZnJvbSBcIkBjb3BpbG90a2l0L3JlYWN0LWNvcmVcIjtcbmltcG9ydCB7XG4gIE1lc3NhZ2VTdGF0dXNDb2RlLFxuICBBY3Rpb25FeGVjdXRpb25NZXNzYWdlLFxuICBNZXNzYWdlLFxuICBSZXN1bHRNZXNzYWdlLFxuICBUZXh0TWVzc2FnZSxcbiAgUm9sZSxcbiAgQWdlbnRTdGF0ZU1lc3NhZ2UsXG59IGZyb20gXCJAY29waWxvdGtpdC9ydW50aW1lLWNsaWVudC1ncWxcIjtcbmltcG9ydCB7IENvYWdlbnRJbkNoYXRSZW5kZXJGdW5jdGlvbiB9IGZyb20gXCJAY29waWxvdGtpdC9yZWFjdC1jb3JlL2Rpc3QvY29udGV4dC9jb3BpbG90LWNvbnRleHRcIjtcblxuZXhwb3J0IGNvbnN0IE1lc3NhZ2VzID0gKHsgbWVzc2FnZXMsIGluUHJvZ3Jlc3MsIGNoaWxkcmVuIH06IE1lc3NhZ2VzUHJvcHMpID0+IHtcbiAgY29uc3QgeyBjaGF0Q29tcG9uZW50c0NhY2hlIH0gPSB1c2VDb3BpbG90Q29udGV4dCgpO1xuXG4gIGNvbnN0IGNvbnRleHQgPSB1c2VDaGF0Q29udGV4dCgpO1xuICBjb25zdCBpbml0aWFsTWVzc2FnZXMgPSB1c2VNZW1vKFxuICAgICgpID0+IG1ha2VJbml0aWFsTWVzc2FnZXMoY29udGV4dC5sYWJlbHMuaW5pdGlhbCksXG4gICAgW2NvbnRleHQubGFiZWxzLmluaXRpYWxdLFxuICApO1xuICBtZXNzYWdlcyA9IFsuLi5pbml0aWFsTWVzc2FnZXMsIC4uLm1lc3NhZ2VzXTtcblxuICBjb25zdCBmdW5jdGlvblJlc3VsdHM6IFJlY29yZDxzdHJpbmcsIHN0cmluZz4gPSB7fTtcblxuICBmb3IgKGxldCBpID0gMDsgaSA8IG1lc3NhZ2VzLmxlbmd0aDsgaSsrKSB7XG4gICAgaWYgKG1lc3NhZ2VzW2ldIGluc3RhbmNlb2YgQWN0aW9uRXhlY3V0aW9uTWVzc2FnZSkge1xuICAgICAgY29uc3QgaWQgPSBtZXNzYWdlc1tpXS5pZDtcbiAgICAgIGNvbnN0IHJlc3VsdE1lc3NhZ2U6IFJlc3VsdE1lc3NhZ2UgfCB1bmRlZmluZWQgPSBtZXNzYWdlcy5maW5kKFxuICAgICAgICAobWVzc2FnZSkgPT4gbWVzc2FnZSBpbnN0YW5jZW9mIFJlc3VsdE1lc3NhZ2UgJiYgbWVzc2FnZS5hY3Rpb25FeGVjdXRpb25JZCA9PT0gaWQsXG4gICAgICApIGFzIFJlc3VsdE1lc3NhZ2UgfCB1bmRlZmluZWQ7XG5cbiAgICAgIGlmIChyZXN1bHRNZXNzYWdlKSB7XG4gICAgICAgIGZ1bmN0aW9uUmVzdWx0c1tpZF0gPSBSZXN1bHRNZXNzYWdlLmRlY29kZVJlc3VsdChyZXN1bHRNZXNzYWdlLnJlc3VsdCB8fCBcIlwiKTtcbiAgICAgIH1cbiAgICB9XG4gIH1cblxuICBjb25zdCBtZXNzYWdlc0VuZFJlZiA9IFJlYWN0LnVzZVJlZjxIVE1MRGl2RWxlbWVudD4obnVsbCk7XG5cbiAgY29uc3Qgc2Nyb2xsVG9Cb3R0b20gPSAoKSA9PiB7XG4gICAgaWYgKG1lc3NhZ2VzRW5kUmVmLmN1cnJlbnQpIHtcbiAgICAgIG1lc3NhZ2VzRW5kUmVmLmN1cnJlbnQuc2Nyb2xsSW50b1ZpZXcoe1xuICAgICAgICBiZWhhdmlvcjogXCJhdXRvXCIsXG4gICAgICB9KTtcbiAgICB9XG4gIH07XG5cbiAgdXNlRWZmZWN0KCgpID0+IHtcbiAgICBzY3JvbGxUb0JvdHRvbSgpO1xuICB9LCBbbWVzc2FnZXNdKTtcblxuICByZXR1cm4gKFxuICAgIDxkaXYgY2xhc3NOYW1lPVwiY29waWxvdEtpdE1lc3NhZ2VzXCI+XG4gICAgICB7bWVzc2FnZXMubWFwKChtZXNzYWdlLCBpbmRleCkgPT4ge1xuICAgICAgICBjb25zdCBpc0N1cnJlbnRNZXNzYWdlID0gaW5kZXggPT09IG1lc3NhZ2VzLmxlbmd0aCAtIDE7XG5cbiAgICAgICAgaWYgKG1lc3NhZ2UgaW5zdGFuY2VvZiBUZXh0TWVzc2FnZSAmJiBtZXNzYWdlLnJvbGUgPT09IFwidXNlclwiKSB7XG4gICAgICAgICAgcmV0dXJuIChcbiAgICAgICAgICAgIDxkaXYga2V5PXtpbmRleH0gY2xhc3NOYW1lPVwiY29waWxvdEtpdE1lc3NhZ2UgY29waWxvdEtpdFVzZXJNZXNzYWdlXCI+XG4gICAgICAgICAgICAgIHttZXNzYWdlLmNvbnRlbnR9XG4gICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICApO1xuICAgICAgICB9IGVsc2UgaWYgKG1lc3NhZ2UgaW5zdGFuY2VvZiBUZXh0TWVzc2FnZSAmJiBtZXNzYWdlLnJvbGUgPT0gXCJhc3Npc3RhbnRcIikge1xuICAgICAgICAgIHJldHVybiAoXG4gICAgICAgICAgICA8ZGl2IGtleT17aW5kZXh9IGNsYXNzTmFtZT17YGNvcGlsb3RLaXRNZXNzYWdlIGNvcGlsb3RLaXRBc3Npc3RhbnRNZXNzYWdlYH0+XG4gICAgICAgICAgICAgIHtpc0N1cnJlbnRNZXNzYWdlICYmIGluUHJvZ3Jlc3MgJiYgIW1lc3NhZ2UuY29udGVudCA/IChcbiAgICAgICAgICAgICAgICBjb250ZXh0Lmljb25zLnNwaW5uZXJJY29uXG4gICAgICAgICAgICAgICkgOiAoXG4gICAgICAgICAgICAgICAgPE1hcmtkb3duIGNvbnRlbnQ9e21lc3NhZ2UuY29udGVudH0gLz5cbiAgICAgICAgICAgICAgKX1cbiAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICk7XG4gICAgICAgIH0gZWxzZSBpZiAobWVzc2FnZSBpbnN0YW5jZW9mIEFjdGlvbkV4ZWN1dGlvbk1lc3NhZ2UpIHtcbiAgICAgICAgICBpZiAoXG4gICAgICAgICAgICBjaGF0Q29tcG9uZW50c0NhY2hlLmN1cnJlbnQgIT09IG51bGwgJiZcbiAgICAgICAgICAgIGNoYXRDb21wb25lbnRzQ2FjaGUuY3VycmVudC5hY3Rpb25zW21lc3NhZ2UubmFtZV1cbiAgICAgICAgICApIHtcbiAgICAgICAgICAgIGNvbnN0IHJlbmRlciA9IGNoYXRDb21wb25lbnRzQ2FjaGUuY3VycmVudC5hY3Rpb25zW21lc3NhZ2UubmFtZV07XG4gICAgICAgICAgICAvLyByZW5kZXIgYSBzdGF0aWMgc3RyaW5nXG4gICAgICAgICAgICBpZiAodHlwZW9mIHJlbmRlciA9PT0gXCJzdHJpbmdcIikge1xuICAgICAgICAgICAgICAvLyB3aGVuIHJlbmRlciBpcyBzdGF0aWMsIHdlIHNob3cgaXQgb25seSB3aGVuIGluIHByb2dyZXNzXG4gICAgICAgICAgICAgIGlmIChpc0N1cnJlbnRNZXNzYWdlICYmIGluUHJvZ3Jlc3MpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gKFxuICAgICAgICAgICAgICAgICAgPGRpdiBrZXk9e2luZGV4fSBjbGFzc05hbWU9e2Bjb3BpbG90S2l0TWVzc2FnZSBjb3BpbG90S2l0QXNzaXN0YW50TWVzc2FnZWB9PlxuICAgICAgICAgICAgICAgICAgICB7Y29udGV4dC5pY29ucy5zcGlubmVySWNvbn0gPHNwYW4gY2xhc3NOYW1lPVwiaW5Qcm9ncmVzc0xhYmVsXCI+e3JlbmRlcn08L3NwYW4+XG4gICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICApO1xuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgIC8vIERvbmUgLSBzaWxlbnQgYnkgZGVmYXVsdCB0byBhdm9pZCBhIHNlcmllcyBvZiBcImRvbmVcIiBtZXNzYWdlc1xuICAgICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gbnVsbDtcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgLy8gcmVuZGVyIGlzIGEgZnVuY3Rpb25cbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICBjb25zdCBhcmdzID0gbWVzc2FnZS5hcmd1bWVudHM7XG5cbiAgICAgICAgICAgICAgbGV0IHN0YXR1czogUmVuZGVyRnVuY3Rpb25TdGF0dXMgPSBcImluUHJvZ3Jlc3NcIjtcblxuICAgICAgICAgICAgICBpZiAoZnVuY3Rpb25SZXN1bHRzW21lc3NhZ2UuaWRdICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgICAgICBzdGF0dXMgPSBcImNvbXBsZXRlXCI7XG4gICAgICAgICAgICAgIH0gZWxzZSBpZiAobWVzc2FnZS5zdGF0dXMuY29kZSAhPT0gTWVzc2FnZVN0YXR1c0NvZGUuUGVuZGluZykge1xuICAgICAgICAgICAgICAgIHN0YXR1cyA9IFwiZXhlY3V0aW5nXCI7XG4gICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICBjb25zdCB0b1JlbmRlciA9IHJlbmRlcih7XG4gICAgICAgICAgICAgICAgc3RhdHVzOiBzdGF0dXMgYXMgYW55LFxuICAgICAgICAgICAgICAgIGFyZ3MsXG4gICAgICAgICAgICAgICAgcmVzdWx0OiBmdW5jdGlvblJlc3VsdHNbbWVzc2FnZS5pZF0sXG4gICAgICAgICAgICAgIH0pO1xuXG4gICAgICAgICAgICAgIC8vIE5vIHJlc3VsdCBhbmQgY29tcGxldGU6IHN0YXkgc2lsZW50XG4gICAgICAgICAgICAgIGlmICghdG9SZW5kZXIgJiYgc3RhdHVzID09PSBcImNvbXBsZXRlXCIpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gbnVsbDtcbiAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgIGlmICh0eXBlb2YgdG9SZW5kZXIgPT09IFwic3RyaW5nXCIpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gKFxuICAgICAgICAgICAgICAgICAgPGRpdiBrZXk9e2luZGV4fSBjbGFzc05hbWU9e2Bjb3BpbG90S2l0TWVzc2FnZSBjb3BpbG90S2l0QXNzaXN0YW50TWVzc2FnZWB9PlxuICAgICAgICAgICAgICAgICAgICB7aXNDdXJyZW50TWVzc2FnZSAmJiBpblByb2dyZXNzICYmIGNvbnRleHQuaWNvbnMuc3Bpbm5lckljb259IHt0b1JlbmRlcn1cbiAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICk7XG4gICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIChcbiAgICAgICAgICAgICAgICAgIDxkaXYga2V5PXtpbmRleH0gY2xhc3NOYW1lPVwiY29waWxvdEtpdEN1c3RvbUFzc2lzdGFudE1lc3NhZ2VcIj5cbiAgICAgICAgICAgICAgICAgICAge3RvUmVuZGVyfVxuICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgKTtcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgIH1cbiAgICAgICAgICAvLyBObyByZW5kZXIgZnVuY3Rpb24gZm91bmQtIHNob3cgdGhlIGRlZmF1bHQgbWVzc2FnZVxuICAgICAgICAgIGVsc2UgaWYgKCFpblByb2dyZXNzIHx8ICFpc0N1cnJlbnRNZXNzYWdlKSB7XG4gICAgICAgICAgICAvLyBEb25lIC0gc2lsZW50IGJ5IGRlZmF1bHQgdG8gYXZvaWQgYSBzZXJpZXMgb2YgXCJkb25lXCIgbWVzc2FnZXNcbiAgICAgICAgICAgIHJldHVybiBudWxsO1xuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAvLyBJbiBwcm9ncmVzc1xuICAgICAgICAgICAgcmV0dXJuIChcbiAgICAgICAgICAgICAgPGRpdiBrZXk9e2luZGV4fSBjbGFzc05hbWU9e2Bjb3BpbG90S2l0TWVzc2FnZSBjb3BpbG90S2l0QXNzaXN0YW50TWVzc2FnZWB9PlxuICAgICAgICAgICAgICAgIHtjb250ZXh0Lmljb25zLnNwaW5uZXJJY29ufVxuICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICk7XG4gICAgICAgICAgfVxuICAgICAgICB9IGVsc2UgaWYgKG1lc3NhZ2UgaW5zdGFuY2VvZiBBZ2VudFN0YXRlTWVzc2FnZSkge1xuICAgICAgICAgIGxldCByZW5kZXI6IHN0cmluZyB8IENvYWdlbnRJbkNoYXRSZW5kZXJGdW5jdGlvbiB8IHVuZGVmaW5lZDtcblxuICAgICAgICAgIGlmIChjaGF0Q29tcG9uZW50c0NhY2hlLmN1cnJlbnQgIT09IG51bGwpIHtcbiAgICAgICAgICAgIHJlbmRlciA9XG4gICAgICAgICAgICAgIGNoYXRDb21wb25lbnRzQ2FjaGUuY3VycmVudC5jb2FnZW50QWN0aW9uc1tcbiAgICAgICAgICAgICAgICBgJHttZXNzYWdlLmFnZW50TmFtZX0tJHttZXNzYWdlLm5vZGVOYW1lfWBcbiAgICAgICAgICAgICAgXSB8fCBjaGF0Q29tcG9uZW50c0NhY2hlLmN1cnJlbnQuY29hZ2VudEFjdGlvbnNbYCR7bWVzc2FnZS5hZ2VudE5hbWV9LWdsb2JhbGBdO1xuICAgICAgICAgIH1cblxuICAgICAgICAgIGlmIChyZW5kZXIpIHtcbiAgICAgICAgICAgIC8vIHJlbmRlciBhIHN0YXRpYyBzdHJpbmdcbiAgICAgICAgICAgIGlmICh0eXBlb2YgcmVuZGVyID09PSBcInN0cmluZ1wiKSB7XG4gICAgICAgICAgICAgIC8vIHdoZW4gcmVuZGVyIGlzIHN0YXRpYywgd2Ugc2hvdyBpdCBvbmx5IHdoZW4gaW4gcHJvZ3Jlc3NcbiAgICAgICAgICAgICAgaWYgKGlzQ3VycmVudE1lc3NhZ2UgJiYgaW5Qcm9ncmVzcykge1xuICAgICAgICAgICAgICAgIHJldHVybiAoXG4gICAgICAgICAgICAgICAgICA8ZGl2IGtleT17aW5kZXh9IGNsYXNzTmFtZT17YGNvcGlsb3RLaXRNZXNzYWdlIGNvcGlsb3RLaXRBc3Npc3RhbnRNZXNzYWdlYH0+XG4gICAgICAgICAgICAgICAgICAgIHtjb250ZXh0Lmljb25zLnNwaW5uZXJJY29ufSA8c3BhbiBjbGFzc05hbWU9XCJpblByb2dyZXNzTGFiZWxcIj57cmVuZGVyfTwvc3Bhbj5cbiAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICk7XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgLy8gRG9uZSAtIHNpbGVudCBieSBkZWZhdWx0IHRvIGF2b2lkIGEgc2VyaWVzIG9mIFwiZG9uZVwiIG1lc3NhZ2VzXG4gICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgIHJldHVybiBudWxsO1xuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICAvLyByZW5kZXIgaXMgYSBmdW5jdGlvblxuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgIGNvbnN0IHN0YXRlID0gbWVzc2FnZS5zdGF0ZTtcblxuICAgICAgICAgICAgICBsZXQgc3RhdHVzID0gbWVzc2FnZS5hY3RpdmUgPyBcImluUHJvZ3Jlc3NcIiA6IFwiY29tcGxldGVcIjtcblxuICAgICAgICAgICAgICBjb25zdCB0b1JlbmRlciA9IHJlbmRlcih7XG4gICAgICAgICAgICAgICAgc3RhdHVzOiBzdGF0dXMgYXMgYW55LFxuICAgICAgICAgICAgICAgIHN0YXRlLFxuICAgICAgICAgICAgICAgIG5vZGVOYW1lOiBtZXNzYWdlLm5vZGVOYW1lLFxuICAgICAgICAgICAgICB9KTtcblxuICAgICAgICAgICAgICAvLyBObyByZXN1bHQgYW5kIGNvbXBsZXRlOiBzdGF5IHNpbGVudFxuICAgICAgICAgICAgICBpZiAoIXRvUmVuZGVyICYmIHN0YXR1cyA9PT0gXCJjb21wbGV0ZVwiKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICBpZiAodHlwZW9mIHRvUmVuZGVyID09PSBcInN0cmluZ1wiKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIChcbiAgICAgICAgICAgICAgICAgIDxkaXYga2V5PXtpbmRleH0gY2xhc3NOYW1lPXtgY29waWxvdEtpdE1lc3NhZ2UgY29waWxvdEtpdEFzc2lzdGFudE1lc3NhZ2VgfT5cbiAgICAgICAgICAgICAgICAgICAge2lzQ3VycmVudE1lc3NhZ2UgJiYgaW5Qcm9ncmVzcyAmJiBjb250ZXh0Lmljb25zLnNwaW5uZXJJY29ufSB7dG9SZW5kZXJ9XG4gICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICApO1xuICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIHJldHVybiAoXG4gICAgICAgICAgICAgICAgICA8ZGl2IGtleT17aW5kZXh9IGNsYXNzTmFtZT1cImNvcGlsb3RLaXRDdXN0b21Bc3Npc3RhbnRNZXNzYWdlXCI+XG4gICAgICAgICAgICAgICAgICAgIHt0b1JlbmRlcn1cbiAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICk7XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9XG4gICAgICAgICAgLy8gTm8gcmVuZGVyIGZ1bmN0aW9uIGZvdW5kLSBzaG93IHRoZSBkZWZhdWx0IG1lc3NhZ2VcbiAgICAgICAgICBlbHNlIGlmICghaW5Qcm9ncmVzcyB8fCAhaXNDdXJyZW50TWVzc2FnZSkge1xuICAgICAgICAgICAgLy8gRG9uZSAtIHNpbGVudCBieSBkZWZhdWx0IHRvIGF2b2lkIGEgc2VyaWVzIG9mIFwiZG9uZVwiIG1lc3NhZ2VzXG4gICAgICAgICAgICByZXR1cm4gbnVsbDtcbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgLy8gSW4gcHJvZ3Jlc3NcbiAgICAgICAgICAgIHJldHVybiAoXG4gICAgICAgICAgICAgIDxkaXYga2V5PXtpbmRleH0gY2xhc3NOYW1lPXtgY29waWxvdEtpdE1lc3NhZ2UgY29waWxvdEtpdEFzc2lzdGFudE1lc3NhZ2VgfT5cbiAgICAgICAgICAgICAgICB7Y29udGV4dC5pY29ucy5zcGlubmVySWNvbn1cbiAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICApO1xuICAgICAgICAgIH1cbiAgICAgICAgfSBlbHNlIGlmIChtZXNzYWdlIGluc3RhbmNlb2YgUmVzdWx0TWVzc2FnZSAmJiBpblByb2dyZXNzICYmIGlzQ3VycmVudE1lc3NhZ2UpIHtcbiAgICAgICAgICByZXR1cm4gKFxuICAgICAgICAgICAgPGRpdiBrZXk9e2luZGV4fSBjbGFzc05hbWU9e2Bjb3BpbG90S2l0TWVzc2FnZSBjb3BpbG90S2l0QXNzaXN0YW50TWVzc2FnZWB9PlxuICAgICAgICAgICAgICB7Y29udGV4dC5pY29ucy5zcGlubmVySWNvbn1cbiAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICk7XG4gICAgICAgIH1cbiAgICAgIH0pfVxuICAgICAgPGZvb3RlciByZWY9e21lc3NhZ2VzRW5kUmVmfT57Y2hpbGRyZW59PC9mb290ZXI+XG4gICAgPC9kaXY+XG4gICk7XG59O1xuXG5mdW5jdGlvbiBtYWtlSW5pdGlhbE1lc3NhZ2VzKGluaXRpYWw/OiBzdHJpbmcgfCBzdHJpbmdbXSk6IE1lc3NhZ2VbXSB7XG4gIGxldCBpbml0aWFsQXJyYXk6IHN0cmluZ1tdID0gW107XG4gIGlmIChpbml0aWFsKSB7XG4gICAgaWYgKEFycmF5LmlzQXJyYXkoaW5pdGlhbCkpIHtcbiAgICAgIGluaXRpYWxBcnJheS5wdXNoKC4uLmluaXRpYWwpO1xuICAgIH0gZWxzZSB7XG4gICAgICBpbml0aWFsQXJyYXkucHVzaChpbml0aWFsKTtcbiAgICB9XG4gIH1cblxuICByZXR1cm4gaW5pdGlhbEFycmF5Lm1hcChcbiAgICAobWVzc2FnZSkgPT5cbiAgICAgIG5ldyBUZXh0TWVzc2FnZSh7XG4gICAgICAgIHJvbGU6IFJvbGUuQXNzaXN0YW50LFxuICAgICAgICBjb250ZW50OiBtZXNzYWdlLFxuICAgICAgfSksXG4gICk7XG59XG4iLCJpbXBvcnQgeyBGQywgbWVtbyB9IGZyb20gXCJyZWFjdFwiO1xuaW1wb3J0IFJlYWN0TWFya2Rvd24sIHsgT3B0aW9ucywgQ29tcG9uZW50cyB9IGZyb20gXCJyZWFjdC1tYXJrZG93blwiO1xuaW1wb3J0IHsgQ29kZUJsb2NrIH0gZnJvbSBcIi4vQ29kZUJsb2NrXCI7XG5pbXBvcnQgcmVtYXJrR2ZtIGZyb20gXCJyZW1hcmstZ2ZtXCI7XG5pbXBvcnQgcmVtYXJrTWF0aCBmcm9tIFwicmVtYXJrLW1hdGhcIjtcblxuY29uc3QgTWVtb2l6ZWRSZWFjdE1hcmtkb3duOiBGQzxPcHRpb25zPiA9IG1lbW8oXG4gIFJlYWN0TWFya2Rvd24sXG4gIChwcmV2UHJvcHMsIG5leHRQcm9wcykgPT5cbiAgICBwcmV2UHJvcHMuY2hpbGRyZW4gPT09IG5leHRQcm9wcy5jaGlsZHJlbiAmJiBwcmV2UHJvcHMuY2xhc3NOYW1lID09PSBuZXh0UHJvcHMuY2xhc3NOYW1lLFxuKTtcblxudHlwZSBNYXJrZG93blByb3BzID0ge1xuICBjb250ZW50OiBzdHJpbmc7XG59O1xuXG5leHBvcnQgY29uc3QgTWFya2Rvd24gPSAoeyBjb250ZW50IH06IE1hcmtkb3duUHJvcHMpID0+IHtcbiAgcmV0dXJuIChcbiAgICA8ZGl2IGNsYXNzTmFtZT1cImNvcGlsb3RLaXRNYXJrZG93blwiPlxuICAgICAgPE1lbW9pemVkUmVhY3RNYXJrZG93biBjb21wb25lbnRzPXtjb21wb25lbnRzfSByZW1hcmtQbHVnaW5zPXtbcmVtYXJrR2ZtLCByZW1hcmtNYXRoXX0+XG4gICAgICAgIHtjb250ZW50fVxuICAgICAgPC9NZW1vaXplZFJlYWN0TWFya2Rvd24+XG4gICAgPC9kaXY+XG4gICk7XG59O1xuXG5jb25zdCBjb21wb25lbnRzOiBDb21wb25lbnRzID0ge1xuICBwKHsgY2hpbGRyZW4gfSkge1xuICAgIHJldHVybiA8cD57Y2hpbGRyZW59PC9wPjtcbiAgfSxcbiAgYSh7IGNoaWxkcmVuLCAuLi5wcm9wcyB9KSB7XG4gICAgcmV0dXJuIChcbiAgICAgIDxhXG4gICAgICAgIHN0eWxlPXt7IGNvbG9yOiBcImJsdWVcIiwgdGV4dERlY29yYXRpb246IFwidW5kZXJsaW5lXCIgfX1cbiAgICAgICAgey4uLnByb3BzfVxuICAgICAgICB0YXJnZXQ9XCJfYmxhbmtcIlxuICAgICAgICByZWw9XCJub29wZW5lciBub3JlZmVycmVyXCJcbiAgICAgID5cbiAgICAgICAge2NoaWxkcmVufVxuICAgICAgPC9hPlxuICAgICk7XG4gIH0sXG4gIGNvZGUoeyBjaGlsZHJlbiwgY2xhc3NOYW1lLCBpbmxpbmUsIC4uLnByb3BzIH0pIHtcbiAgICBpZiAoY2hpbGRyZW4ubGVuZ3RoKSB7XG4gICAgICBpZiAoY2hpbGRyZW5bMF0gPT0gXCLilo1cIikge1xuICAgICAgICByZXR1cm4gKFxuICAgICAgICAgIDxzcGFuXG4gICAgICAgICAgICBzdHlsZT17e1xuICAgICAgICAgICAgICBhbmltYXRpb246IFwicHVsc2UgMnMgY3ViaWMtYmV6aWVyKDAuNCwgMCwgMC42LCAxKSBpbmZpbml0ZVwiLFxuICAgICAgICAgICAgICBtYXJnaW5Ub3A6IFwiMC4yNXJlbVwiLFxuICAgICAgICAgICAgfX1cbiAgICAgICAgICA+XG4gICAgICAgICAgICDilo1cbiAgICAgICAgICA8L3NwYW4+XG4gICAgICAgICk7XG4gICAgICB9XG5cbiAgICAgIGNoaWxkcmVuWzBdID0gKGNoaWxkcmVuWzBdIGFzIHN0cmluZykucmVwbGFjZShcImDilo1gXCIsIFwi4paNXCIpO1xuICAgIH1cblxuICAgIGNvbnN0IG1hdGNoID0gL2xhbmd1YWdlLShcXHcrKS8uZXhlYyhjbGFzc05hbWUgfHwgXCJcIik7XG5cbiAgICBpZiAoaW5saW5lKSB7XG4gICAgICByZXR1cm4gKFxuICAgICAgICA8Y29kZSBjbGFzc05hbWU9e2NsYXNzTmFtZX0gey4uLnByb3BzfT5cbiAgICAgICAgICB7Y2hpbGRyZW59XG4gICAgICAgIDwvY29kZT5cbiAgICAgICk7XG4gICAgfVxuXG4gICAgcmV0dXJuIChcbiAgICAgIDxDb2RlQmxvY2tcbiAgICAgICAga2V5PXtNYXRoLnJhbmRvbSgpfVxuICAgICAgICBsYW5ndWFnZT17KG1hdGNoICYmIG1hdGNoWzFdKSB8fCBcIlwifVxuICAgICAgICB2YWx1ZT17U3RyaW5nKGNoaWxkcmVuKS5yZXBsYWNlKC9cXG4kLywgXCJcIil9XG4gICAgICAgIHsuLi5wcm9wc31cbiAgICAgIC8+XG4gICAgKTtcbiAgfSxcbn07XG4iLCJpbXBvcnQgeyBGQywgbWVtbyB9IGZyb20gXCJyZWFjdFwiO1xuaW1wb3J0IHsgUHJpc20gYXMgU3ludGF4SGlnaGxpZ2h0ZXIgfSBmcm9tIFwicmVhY3Qtc3ludGF4LWhpZ2hsaWdodGVyXCI7XG5pbXBvcnQgeyB1c2VDb3B5VG9DbGlwYm9hcmQgfSBmcm9tIFwiLi4vLi4vaG9va3MvdXNlLWNvcHktdG8tY2xpcGJvYXJkXCI7XG5pbXBvcnQgeyBDaGVja0ljb24sIENvcHlJY29uLCBEb3dubG9hZEljb24gfSBmcm9tIFwiLi9JY29uc1wiO1xuXG5pbnRlcmZhY2UgQ29kZUFjdGlvbkJ1dHRvblByb3BzIHtcbiAgb25DbGljazogKCkgPT4gdm9pZDtcbiAgY2hpbGRyZW46IFJlYWN0LlJlYWN0Tm9kZTtcbn1cblxuaW50ZXJmYWNlIFByb3BzIHtcbiAgbGFuZ3VhZ2U6IHN0cmluZztcbiAgdmFsdWU6IHN0cmluZztcbn1cblxuaW50ZXJmYWNlIGxhbmd1YWdlTWFwIHtcbiAgW2tleTogc3RyaW5nXTogc3RyaW5nIHwgdW5kZWZpbmVkO1xufVxuXG5leHBvcnQgY29uc3QgcHJvZ3JhbW1pbmdMYW5ndWFnZXM6IGxhbmd1YWdlTWFwID0ge1xuICBqYXZhc2NyaXB0OiBcIi5qc1wiLFxuICBweXRob246IFwiLnB5XCIsXG4gIGphdmE6IFwiLmphdmFcIixcbiAgYzogXCIuY1wiLFxuICBjcHA6IFwiLmNwcFwiLFxuICBcImMrK1wiOiBcIi5jcHBcIixcbiAgXCJjI1wiOiBcIi5jc1wiLFxuICBydWJ5OiBcIi5yYlwiLFxuICBwaHA6IFwiLnBocFwiLFxuICBzd2lmdDogXCIuc3dpZnRcIixcbiAgXCJvYmplY3RpdmUtY1wiOiBcIi5tXCIsXG4gIGtvdGxpbjogXCIua3RcIixcbiAgdHlwZXNjcmlwdDogXCIudHNcIixcbiAgZ286IFwiLmdvXCIsXG4gIHBlcmw6IFwiLnBsXCIsXG4gIHJ1c3Q6IFwiLnJzXCIsXG4gIHNjYWxhOiBcIi5zY2FsYVwiLFxuICBoYXNrZWxsOiBcIi5oc1wiLFxuICBsdWE6IFwiLmx1YVwiLFxuICBzaGVsbDogXCIuc2hcIixcbiAgc3FsOiBcIi5zcWxcIixcbiAgaHRtbDogXCIuaHRtbFwiLFxuICBjc3M6IFwiLmNzc1wiLFxuICAvLyBhZGQgbW9yZSBmaWxlIGV4dGVuc2lvbnMgaGVyZSwgbWFrZSBzdXJlIHRoZSBrZXkgaXMgc2FtZSBhcyBsYW5ndWFnZSBwcm9wIGluIENvZGVCbG9jay50c3ggY29tcG9uZW50XG59O1xuXG5leHBvcnQgY29uc3QgZ2VuZXJhdGVSYW5kb21TdHJpbmcgPSAobGVuZ3RoOiBudW1iZXIsIGxvd2VyY2FzZSA9IGZhbHNlKSA9PiB7XG4gIGNvbnN0IGNoYXJzID0gXCJBQkNERUZHSEpLTE1OUFFSU1RVVldYWTM0NTY3ODlcIjsgLy8gZXhjbHVkaW5nIHNpbWlsYXIgbG9va2luZyBjaGFyYWN0ZXJzIGxpa2UgWiwgMiwgSSwgMSwgTywgMFxuICBsZXQgcmVzdWx0ID0gXCJcIjtcbiAgZm9yIChsZXQgaSA9IDA7IGkgPCBsZW5ndGg7IGkrKykge1xuICAgIHJlc3VsdCArPSBjaGFycy5jaGFyQXQoTWF0aC5mbG9vcihNYXRoLnJhbmRvbSgpICogY2hhcnMubGVuZ3RoKSk7XG4gIH1cbiAgcmV0dXJuIGxvd2VyY2FzZSA/IHJlc3VsdC50b0xvd2VyQ2FzZSgpIDogcmVzdWx0O1xufTtcblxuY29uc3QgQ29kZUJsb2NrOiBGQzxQcm9wcz4gPSBtZW1vKCh7IGxhbmd1YWdlLCB2YWx1ZSB9KSA9PiB7XG4gIGNvbnN0IHsgaXNDb3BpZWQsIGNvcHlUb0NsaXBib2FyZCB9ID0gdXNlQ29weVRvQ2xpcGJvYXJkKHsgdGltZW91dDogMjAwMCB9KTtcblxuICBjb25zdCBkb3dubG9hZEFzRmlsZSA9ICgpID0+IHtcbiAgICBpZiAodHlwZW9mIHdpbmRvdyA9PT0gXCJ1bmRlZmluZWRcIikge1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICBjb25zdCBmaWxlRXh0ZW5zaW9uID0gcHJvZ3JhbW1pbmdMYW5ndWFnZXNbbGFuZ3VhZ2VdIHx8IFwiLmZpbGVcIjtcbiAgICBjb25zdCBzdWdnZXN0ZWRGaWxlTmFtZSA9IGBmaWxlLSR7Z2VuZXJhdGVSYW5kb21TdHJpbmcoMywgdHJ1ZSl9JHtmaWxlRXh0ZW5zaW9ufWA7XG4gICAgY29uc3QgZmlsZU5hbWUgPSB3aW5kb3cucHJvbXB0KFwiRW50ZXIgZmlsZSBuYW1lXCIgfHwgXCJcIiwgc3VnZ2VzdGVkRmlsZU5hbWUpO1xuXG4gICAgaWYgKCFmaWxlTmFtZSkge1xuICAgICAgLy8gVXNlciBwcmVzc2VkIGNhbmNlbCBvbiBwcm9tcHQuXG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgY29uc3QgYmxvYiA9IG5ldyBCbG9iKFt2YWx1ZV0sIHsgdHlwZTogXCJ0ZXh0L3BsYWluXCIgfSk7XG4gICAgY29uc3QgdXJsID0gVVJMLmNyZWF0ZU9iamVjdFVSTChibG9iKTtcbiAgICBjb25zdCBsaW5rID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImFcIik7XG4gICAgbGluay5kb3dubG9hZCA9IGZpbGVOYW1lO1xuICAgIGxpbmsuaHJlZiA9IHVybDtcbiAgICBsaW5rLnN0eWxlLmRpc3BsYXkgPSBcIm5vbmVcIjtcbiAgICBkb2N1bWVudC5ib2R5LmFwcGVuZENoaWxkKGxpbmspO1xuICAgIGxpbmsuY2xpY2soKTtcbiAgICBkb2N1bWVudC5ib2R5LnJlbW92ZUNoaWxkKGxpbmspO1xuICAgIFVSTC5yZXZva2VPYmplY3RVUkwodXJsKTtcbiAgfTtcblxuICBjb25zdCBvbkNvcHkgPSAoKSA9PiB7XG4gICAgaWYgKGlzQ29waWVkKSByZXR1cm47XG4gICAgY29weVRvQ2xpcGJvYXJkKHZhbHVlKTtcbiAgfTtcblxuICByZXR1cm4gKFxuICAgIDxkaXYgY2xhc3NOYW1lPVwiY29waWxvdEtpdENvZGVCbG9ja1wiPlxuICAgICAgPGRpdiBjbGFzc05hbWU9XCJjb3BpbG90S2l0Q29kZUJsb2NrVG9vbGJhclwiPlxuICAgICAgICA8c3BhbiBjbGFzc05hbWU9XCJjb3BpbG90S2l0Q29kZUJsb2NrVG9vbGJhckxhbmd1YWdlXCI+e2xhbmd1YWdlfTwvc3Bhbj5cbiAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJjb3BpbG90S2l0Q29kZUJsb2NrVG9vbGJhckJ1dHRvbnNcIj5cbiAgICAgICAgICA8YnV0dG9uIGNsYXNzTmFtZT1cImNvcGlsb3RLaXRDb2RlQmxvY2tUb29sYmFyQnV0dG9uXCIgb25DbGljaz17ZG93bmxvYWRBc0ZpbGV9PlxuICAgICAgICAgICAgPERvd25sb2FkSWNvbiAvPlxuICAgICAgICAgICAgPHNwYW4gY2xhc3NOYW1lPVwic3Itb25seVwiPkRvd25sb2FkPC9zcGFuPlxuICAgICAgICAgIDwvYnV0dG9uPlxuICAgICAgICAgIDxidXR0b24gY2xhc3NOYW1lPVwiY29waWxvdEtpdENvZGVCbG9ja1Rvb2xiYXJCdXR0b25cIiBvbkNsaWNrPXtvbkNvcHl9PlxuICAgICAgICAgICAge2lzQ29waWVkID8gPENoZWNrSWNvbiAvPiA6IDxDb3B5SWNvbiAvPn1cbiAgICAgICAgICAgIDxzcGFuIGNsYXNzTmFtZT1cInNyLW9ubHlcIj5Db3B5IGNvZGU8L3NwYW4+XG4gICAgICAgICAgPC9idXR0b24+XG4gICAgICAgIDwvZGl2PlxuICAgICAgPC9kaXY+XG4gICAgICA8U3ludGF4SGlnaGxpZ2h0ZXJcbiAgICAgICAgbGFuZ3VhZ2U9e2xhbmd1YWdlfVxuICAgICAgICBzdHlsZT17aGlnaGxpZ2h0U3R5bGV9XG4gICAgICAgIFByZVRhZz1cImRpdlwiXG4gICAgICAgIGN1c3RvbVN0eWxlPXt7XG4gICAgICAgICAgbWFyZ2luOiAwLFxuICAgICAgICAgIGJvcmRlckJvdHRvbUxlZnRSYWRpdXM6IFwiMC4zNzVyZW1cIixcbiAgICAgICAgICBib3JkZXJCb3R0b21SaWdodFJhZGl1czogXCIwLjM3NXJlbVwiLFxuICAgICAgICB9fVxuICAgICAgPlxuICAgICAgICB7dmFsdWV9XG4gICAgICA8L1N5bnRheEhpZ2hsaWdodGVyPlxuICAgIDwvZGl2PlxuICApO1xufSk7XG5Db2RlQmxvY2suZGlzcGxheU5hbWUgPSBcIkNvZGVCbG9ja1wiO1xuXG5leHBvcnQgeyBDb2RlQmxvY2sgfTtcblxuLy8gaW1wb3J0IHsgdnNjRGFya1BsdXMgYXMgaGlnaGxpZ2h0U3R5bGUgfSBmcm9tIFwicmVhY3Qtc3ludGF4LWhpZ2hsaWdodGVyL2Rpc3QvZXNtL3N0eWxlcy9wcmlzbVwiO1xuLy8gQXMgYSB3b3JrYXJvdW5kLCB3ZSBpbmxpbmUgdGhlIHZzY0RhcmtQbHVzIGZyb20gcmVhY3Qtc3ludGF4LWhpZ2hsaWdodGVyLlxuLy8gSW1wb3J0aW5nIGl0IGFzIHJlY29tbWVuZGVkIGluIHRoZSBkb2N1bWVudGF0aW9uIGxlYWRzIHRvIGJ1aWxkIGVycm9ycyBpbiB0aGUgbm9uIGFwcCByb3V0ZXJcbi8vIChOZXh0LmpzIGNsYXNzaWMpIHNldHVwLlxuY29uc3QgaGlnaGxpZ2h0U3R5bGU6IGFueSA9IHtcbiAgJ3ByZVtjbGFzcyo9XCJsYW5ndWFnZS1cIl0nOiB7XG4gICAgY29sb3I6IFwiI2Q0ZDRkNFwiLFxuICAgIGZvbnRTaXplOiBcIjEzcHhcIixcbiAgICB0ZXh0U2hhZG93OiBcIm5vbmVcIixcbiAgICBmb250RmFtaWx5OiAnTWVubG8sIE1vbmFjbywgQ29uc29sYXMsIFwiQW5kYWxlIE1vbm9cIiwgXCJVYnVudHUgTW9ub1wiLCBcIkNvdXJpZXIgTmV3XCIsIG1vbm9zcGFjZScsXG4gICAgZGlyZWN0aW9uOiBcImx0clwiLFxuICAgIHRleHRBbGlnbjogXCJsZWZ0XCIsXG4gICAgd2hpdGVTcGFjZTogXCJwcmVcIixcbiAgICB3b3JkU3BhY2luZzogXCJub3JtYWxcIixcbiAgICB3b3JkQnJlYWs6IFwibm9ybWFsXCIsXG4gICAgbGluZUhlaWdodDogXCIxLjVcIixcbiAgICBNb3pUYWJTaXplOiBcIjRcIixcbiAgICBPVGFiU2l6ZTogXCI0XCIsXG4gICAgdGFiU2l6ZTogXCI0XCIsXG4gICAgV2Via2l0SHlwaGVuczogXCJub25lXCIsXG4gICAgTW96SHlwaGVuczogXCJub25lXCIsXG4gICAgbXNIeXBoZW5zOiBcIm5vbmVcIixcbiAgICBoeXBoZW5zOiBcIm5vbmVcIixcbiAgICBwYWRkaW5nOiBcIjFlbVwiLFxuICAgIG1hcmdpbjogXCIuNWVtIDBcIixcbiAgICBvdmVyZmxvdzogXCJhdXRvXCIsXG4gICAgYmFja2dyb3VuZDogXCIjMWUxZTFlXCIsXG4gIH0sXG4gICdjb2RlW2NsYXNzKj1cImxhbmd1YWdlLVwiXSc6IHtcbiAgICBjb2xvcjogXCIjZDRkNGQ0XCIsXG4gICAgZm9udFNpemU6IFwiMTNweFwiLFxuICAgIHRleHRTaGFkb3c6IFwibm9uZVwiLFxuICAgIGZvbnRGYW1pbHk6ICdNZW5sbywgTW9uYWNvLCBDb25zb2xhcywgXCJBbmRhbGUgTW9ub1wiLCBcIlVidW50dSBNb25vXCIsIFwiQ291cmllciBOZXdcIiwgbW9ub3NwYWNlJyxcbiAgICBkaXJlY3Rpb246IFwibHRyXCIsXG4gICAgdGV4dEFsaWduOiBcImxlZnRcIixcbiAgICB3aGl0ZVNwYWNlOiBcInByZVwiLFxuICAgIHdvcmRTcGFjaW5nOiBcIm5vcm1hbFwiLFxuICAgIHdvcmRCcmVhazogXCJub3JtYWxcIixcbiAgICBsaW5lSGVpZ2h0OiBcIjEuNVwiLFxuICAgIE1velRhYlNpemU6IFwiNFwiLFxuICAgIE9UYWJTaXplOiBcIjRcIixcbiAgICB0YWJTaXplOiBcIjRcIixcbiAgICBXZWJraXRIeXBoZW5zOiBcIm5vbmVcIixcbiAgICBNb3pIeXBoZW5zOiBcIm5vbmVcIixcbiAgICBtc0h5cGhlbnM6IFwibm9uZVwiLFxuICAgIGh5cGhlbnM6IFwibm9uZVwiLFxuICB9LFxuICAncHJlW2NsYXNzKj1cImxhbmd1YWdlLVwiXTo6c2VsZWN0aW9uJzoge1xuICAgIHRleHRTaGFkb3c6IFwibm9uZVwiLFxuICAgIGJhY2tncm91bmQ6IFwiIzI2NEY3OFwiLFxuICB9LFxuICAnY29kZVtjbGFzcyo9XCJsYW5ndWFnZS1cIl06OnNlbGVjdGlvbic6IHtcbiAgICB0ZXh0U2hhZG93OiBcIm5vbmVcIixcbiAgICBiYWNrZ3JvdW5kOiBcIiMyNjRGNzhcIixcbiAgfSxcbiAgJ3ByZVtjbGFzcyo9XCJsYW5ndWFnZS1cIl0gKjo6c2VsZWN0aW9uJzoge1xuICAgIHRleHRTaGFkb3c6IFwibm9uZVwiLFxuICAgIGJhY2tncm91bmQ6IFwiIzI2NEY3OFwiLFxuICB9LFxuICAnY29kZVtjbGFzcyo9XCJsYW5ndWFnZS1cIl0gKjo6c2VsZWN0aW9uJzoge1xuICAgIHRleHRTaGFkb3c6IFwibm9uZVwiLFxuICAgIGJhY2tncm91bmQ6IFwiIzI2NEY3OFwiLFxuICB9LFxuICAnOm5vdChwcmUpID4gY29kZVtjbGFzcyo9XCJsYW5ndWFnZS1cIl0nOiB7XG4gICAgcGFkZGluZzogXCIuMWVtIC4zZW1cIixcbiAgICBib3JkZXJSYWRpdXM6IFwiLjNlbVwiLFxuICAgIGNvbG9yOiBcIiNkYjRjNjlcIixcbiAgICBiYWNrZ3JvdW5kOiBcIiMxZTFlMWVcIixcbiAgfSxcbiAgXCIubmFtZXNwYWNlXCI6IHtcbiAgICBPcGFjaXR5OiBcIi43XCIsXG4gIH0sXG4gIFwiZG9jdHlwZS5kb2N0eXBlLXRhZ1wiOiB7XG4gICAgY29sb3I6IFwiIzU2OUNENlwiLFxuICB9LFxuICBcImRvY3R5cGUubmFtZVwiOiB7XG4gICAgY29sb3I6IFwiIzljZGNmZVwiLFxuICB9LFxuICBjb21tZW50OiB7XG4gICAgY29sb3I6IFwiIzZhOTk1NVwiLFxuICB9LFxuICBwcm9sb2c6IHtcbiAgICBjb2xvcjogXCIjNmE5OTU1XCIsXG4gIH0sXG4gIHB1bmN0dWF0aW9uOiB7XG4gICAgY29sb3I6IFwiI2Q0ZDRkNFwiLFxuICB9LFxuICBcIi5sYW5ndWFnZS1odG1sIC5sYW5ndWFnZS1jc3MgLnRva2VuLnB1bmN0dWF0aW9uXCI6IHtcbiAgICBjb2xvcjogXCIjZDRkNGQ0XCIsXG4gIH0sXG4gIFwiLmxhbmd1YWdlLWh0bWwgLmxhbmd1YWdlLWphdmFzY3JpcHQgLnRva2VuLnB1bmN0dWF0aW9uXCI6IHtcbiAgICBjb2xvcjogXCIjZDRkNGQ0XCIsXG4gIH0sXG4gIHByb3BlcnR5OiB7XG4gICAgY29sb3I6IFwiIzljZGNmZVwiLFxuICB9LFxuICB0YWc6IHtcbiAgICBjb2xvcjogXCIjNTY5Y2Q2XCIsXG4gIH0sXG4gIGJvb2xlYW46IHtcbiAgICBjb2xvcjogXCIjNTY5Y2Q2XCIsXG4gIH0sXG4gIG51bWJlcjoge1xuICAgIGNvbG9yOiBcIiNiNWNlYThcIixcbiAgfSxcbiAgY29uc3RhbnQ6IHtcbiAgICBjb2xvcjogXCIjOWNkY2ZlXCIsXG4gIH0sXG4gIHN5bWJvbDoge1xuICAgIGNvbG9yOiBcIiNiNWNlYThcIixcbiAgfSxcbiAgaW5zZXJ0ZWQ6IHtcbiAgICBjb2xvcjogXCIjYjVjZWE4XCIsXG4gIH0sXG4gIHVuaXQ6IHtcbiAgICBjb2xvcjogXCIjYjVjZWE4XCIsXG4gIH0sXG4gIHNlbGVjdG9yOiB7XG4gICAgY29sb3I6IFwiI2Q3YmE3ZFwiLFxuICB9LFxuICBcImF0dHItbmFtZVwiOiB7XG4gICAgY29sb3I6IFwiIzljZGNmZVwiLFxuICB9LFxuICBzdHJpbmc6IHtcbiAgICBjb2xvcjogXCIjY2U5MTc4XCIsXG4gIH0sXG4gIGNoYXI6IHtcbiAgICBjb2xvcjogXCIjY2U5MTc4XCIsXG4gIH0sXG4gIGJ1aWx0aW46IHtcbiAgICBjb2xvcjogXCIjY2U5MTc4XCIsXG4gIH0sXG4gIGRlbGV0ZWQ6IHtcbiAgICBjb2xvcjogXCIjY2U5MTc4XCIsXG4gIH0sXG4gIFwiLmxhbmd1YWdlLWNzcyAudG9rZW4uc3RyaW5nLnVybFwiOiB7XG4gICAgdGV4dERlY29yYXRpb246IFwidW5kZXJsaW5lXCIsXG4gIH0sXG4gIG9wZXJhdG9yOiB7XG4gICAgY29sb3I6IFwiI2Q0ZDRkNFwiLFxuICB9LFxuICBlbnRpdHk6IHtcbiAgICBjb2xvcjogXCIjNTY5Y2Q2XCIsXG4gIH0sXG4gIFwib3BlcmF0b3IuYXJyb3dcIjoge1xuICAgIGNvbG9yOiBcIiM1NjlDRDZcIixcbiAgfSxcbiAgYXRydWxlOiB7XG4gICAgY29sb3I6IFwiI2NlOTE3OFwiLFxuICB9LFxuICBcImF0cnVsZS5ydWxlXCI6IHtcbiAgICBjb2xvcjogXCIjYzU4NmMwXCIsXG4gIH0sXG4gIFwiYXRydWxlLnVybFwiOiB7XG4gICAgY29sb3I6IFwiIzljZGNmZVwiLFxuICB9LFxuICBcImF0cnVsZS51cmwuZnVuY3Rpb25cIjoge1xuICAgIGNvbG9yOiBcIiNkY2RjYWFcIixcbiAgfSxcbiAgXCJhdHJ1bGUudXJsLnB1bmN0dWF0aW9uXCI6IHtcbiAgICBjb2xvcjogXCIjZDRkNGQ0XCIsXG4gIH0sXG4gIGtleXdvcmQ6IHtcbiAgICBjb2xvcjogXCIjNTY5Q0Q2XCIsXG4gIH0sXG4gIFwia2V5d29yZC5tb2R1bGVcIjoge1xuICAgIGNvbG9yOiBcIiNjNTg2YzBcIixcbiAgfSxcbiAgXCJrZXl3b3JkLmNvbnRyb2wtZmxvd1wiOiB7XG4gICAgY29sb3I6IFwiI2M1ODZjMFwiLFxuICB9LFxuICBmdW5jdGlvbjoge1xuICAgIGNvbG9yOiBcIiNkY2RjYWFcIixcbiAgfSxcbiAgXCJmdW5jdGlvbi5tYXliZS1jbGFzcy1uYW1lXCI6IHtcbiAgICBjb2xvcjogXCIjZGNkY2FhXCIsXG4gIH0sXG4gIHJlZ2V4OiB7XG4gICAgY29sb3I6IFwiI2QxNjk2OVwiLFxuICB9LFxuICBpbXBvcnRhbnQ6IHtcbiAgICBjb2xvcjogXCIjNTY5Y2Q2XCIsXG4gIH0sXG4gIGl0YWxpYzoge1xuICAgIGZvbnRTdHlsZTogXCJpdGFsaWNcIixcbiAgfSxcbiAgXCJjbGFzcy1uYW1lXCI6IHtcbiAgICBjb2xvcjogXCIjNGVjOWIwXCIsXG4gIH0sXG4gIFwibWF5YmUtY2xhc3MtbmFtZVwiOiB7XG4gICAgY29sb3I6IFwiIzRlYzliMFwiLFxuICB9LFxuICBjb25zb2xlOiB7XG4gICAgY29sb3I6IFwiIzljZGNmZVwiLFxuICB9LFxuICBwYXJhbWV0ZXI6IHtcbiAgICBjb2xvcjogXCIjOWNkY2ZlXCIsXG4gIH0sXG4gIGludGVycG9sYXRpb246IHtcbiAgICBjb2xvcjogXCIjOWNkY2ZlXCIsXG4gIH0sXG4gIFwicHVuY3R1YXRpb24uaW50ZXJwb2xhdGlvbi1wdW5jdHVhdGlvblwiOiB7XG4gICAgY29sb3I6IFwiIzU2OWNkNlwiLFxuICB9LFxuICB2YXJpYWJsZToge1xuICAgIGNvbG9yOiBcIiM5Y2RjZmVcIixcbiAgfSxcbiAgXCJpbXBvcnRzLm1heWJlLWNsYXNzLW5hbWVcIjoge1xuICAgIGNvbG9yOiBcIiM5Y2RjZmVcIixcbiAgfSxcbiAgXCJleHBvcnRzLm1heWJlLWNsYXNzLW5hbWVcIjoge1xuICAgIGNvbG9yOiBcIiM5Y2RjZmVcIixcbiAgfSxcbiAgZXNjYXBlOiB7XG4gICAgY29sb3I6IFwiI2Q3YmE3ZFwiLFxuICB9LFxuICBcInRhZy5wdW5jdHVhdGlvblwiOiB7XG4gICAgY29sb3I6IFwiIzgwODA4MFwiLFxuICB9LFxuICBjZGF0YToge1xuICAgIGNvbG9yOiBcIiM4MDgwODBcIixcbiAgfSxcbiAgXCJhdHRyLXZhbHVlXCI6IHtcbiAgICBjb2xvcjogXCIjY2U5MTc4XCIsXG4gIH0sXG4gIFwiYXR0ci12YWx1ZS5wdW5jdHVhdGlvblwiOiB7XG4gICAgY29sb3I6IFwiI2NlOTE3OFwiLFxuICB9LFxuICBcImF0dHItdmFsdWUucHVuY3R1YXRpb24uYXR0ci1lcXVhbHNcIjoge1xuICAgIGNvbG9yOiBcIiNkNGQ0ZDRcIixcbiAgfSxcbiAgbmFtZXNwYWNlOiB7XG4gICAgY29sb3I6IFwiIzRlYzliMFwiLFxuICB9LFxuICAncHJlW2NsYXNzKj1cImxhbmd1YWdlLWphdmFzY3JpcHRcIl0nOiB7XG4gICAgY29sb3I6IFwiIzljZGNmZVwiLFxuICB9LFxuICAnY29kZVtjbGFzcyo9XCJsYW5ndWFnZS1qYXZhc2NyaXB0XCJdJzoge1xuICAgIGNvbG9yOiBcIiM5Y2RjZmVcIixcbiAgfSxcbiAgJ3ByZVtjbGFzcyo9XCJsYW5ndWFnZS1qc3hcIl0nOiB7XG4gICAgY29sb3I6IFwiIzljZGNmZVwiLFxuICB9LFxuICAnY29kZVtjbGFzcyo9XCJsYW5ndWFnZS1qc3hcIl0nOiB7XG4gICAgY29sb3I6IFwiIzljZGNmZVwiLFxuICB9LFxuICAncHJlW2NsYXNzKj1cImxhbmd1YWdlLXR5cGVzY3JpcHRcIl0nOiB7XG4gICAgY29sb3I6IFwiIzljZGNmZVwiLFxuICB9LFxuICAnY29kZVtjbGFzcyo9XCJsYW5ndWFnZS10eXBlc2NyaXB0XCJdJzoge1xuICAgIGNvbG9yOiBcIiM5Y2RjZmVcIixcbiAgfSxcbiAgJ3ByZVtjbGFzcyo9XCJsYW5ndWFnZS10c3hcIl0nOiB7XG4gICAgY29sb3I6IFwiIzljZGNmZVwiLFxuICB9LFxuICAnY29kZVtjbGFzcyo9XCJsYW5ndWFnZS10c3hcIl0nOiB7XG4gICAgY29sb3I6IFwiIzljZGNmZVwiLFxuICB9LFxuICAncHJlW2NsYXNzKj1cImxhbmd1YWdlLWNzc1wiXSc6IHtcbiAgICBjb2xvcjogXCIjY2U5MTc4XCIsXG4gIH0sXG4gICdjb2RlW2NsYXNzKj1cImxhbmd1YWdlLWNzc1wiXSc6IHtcbiAgICBjb2xvcjogXCIjY2U5MTc4XCIsXG4gIH0sXG4gICdwcmVbY2xhc3MqPVwibGFuZ3VhZ2UtaHRtbFwiXSc6IHtcbiAgICBjb2xvcjogXCIjZDRkNGQ0XCIsXG4gIH0sXG4gICdjb2RlW2NsYXNzKj1cImxhbmd1YWdlLWh0bWxcIl0nOiB7XG4gICAgY29sb3I6IFwiI2Q0ZDRkNFwiLFxuICB9LFxuICBcIi5sYW5ndWFnZS1yZWdleCAudG9rZW4uYW5jaG9yXCI6IHtcbiAgICBjb2xvcjogXCIjZGNkY2FhXCIsXG4gIH0sXG4gIFwiLmxhbmd1YWdlLWh0bWwgLnRva2VuLnB1bmN0dWF0aW9uXCI6IHtcbiAgICBjb2xvcjogXCIjODA4MDgwXCIsXG4gIH0sXG4gICdwcmVbY2xhc3MqPVwibGFuZ3VhZ2UtXCJdID4gY29kZVtjbGFzcyo9XCJsYW5ndWFnZS1cIl0nOiB7XG4gICAgcG9zaXRpb246IFwicmVsYXRpdmVcIixcbiAgICB6SW5kZXg6IFwiMVwiLFxuICB9LFxuICBcIi5saW5lLWhpZ2hsaWdodC5saW5lLWhpZ2hsaWdodFwiOiB7XG4gICAgYmFja2dyb3VuZDogXCIjZjdlYmM2XCIsXG4gICAgYm94U2hhZG93OiBcImluc2V0IDVweCAwIDAgI2Y3ZDg3Y1wiLFxuICAgIHpJbmRleDogXCIwXCIsXG4gIH0sXG59O1xuIiwiaW1wb3J0ICogYXMgUmVhY3QgZnJvbSBcInJlYWN0XCI7XG5cbmV4cG9ydCBpbnRlcmZhY2UgdXNlQ29weVRvQ2xpcGJvYXJkUHJvcHMge1xuICB0aW1lb3V0PzogbnVtYmVyO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gdXNlQ29weVRvQ2xpcGJvYXJkKHsgdGltZW91dCA9IDIwMDAgfTogdXNlQ29weVRvQ2xpcGJvYXJkUHJvcHMpIHtcbiAgY29uc3QgW2lzQ29waWVkLCBzZXRJc0NvcGllZF0gPSBSZWFjdC51c2VTdGF0ZTxCb29sZWFuPihmYWxzZSk7XG5cbiAgY29uc3QgY29weVRvQ2xpcGJvYXJkID0gKHZhbHVlOiBzdHJpbmcpID0+IHtcbiAgICBpZiAodHlwZW9mIHdpbmRvdyA9PT0gXCJ1bmRlZmluZWRcIiB8fCAhbmF2aWdhdG9yLmNsaXBib2FyZD8ud3JpdGVUZXh0KSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgaWYgKCF2YWx1ZSkge1xuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIG5hdmlnYXRvci5jbGlwYm9hcmQud3JpdGVUZXh0KHZhbHVlKS50aGVuKCgpID0+IHtcbiAgICAgIHNldElzQ29waWVkKHRydWUpO1xuXG4gICAgICBzZXRUaW1lb3V0KCgpID0+IHtcbiAgICAgICAgc2V0SXNDb3BpZWQoZmFsc2UpO1xuICAgICAgfSwgdGltZW91dCk7XG4gICAgfSk7XG4gIH07XG5cbiAgcmV0dXJuIHsgaXNDb3BpZWQsIGNvcHlUb0NsaXBib2FyZCB9O1xufVxuIiwiaW1wb3J0IFJlYWN0LCB7IHVzZUVmZmVjdCwgdXNlUmVmLCB1c2VTdGF0ZSB9IGZyb20gXCJyZWFjdFwiO1xuaW1wb3J0IHsgSW5wdXRQcm9wcyB9IGZyb20gXCIuL3Byb3BzXCI7XG5pbXBvcnQgeyB1c2VDaGF0Q29udGV4dCB9IGZyb20gXCIuL0NoYXRDb250ZXh0XCI7XG5pbXBvcnQgQXV0b1Jlc2l6aW5nVGV4dGFyZWEgZnJvbSBcIi4vVGV4dGFyZWFcIjtcbmltcG9ydCB7IHVzZVB1c2hUb1RhbGsgfSBmcm9tIFwiLi4vLi4vaG9va3MvdXNlLXB1c2gtdG8tdGFsa1wiO1xuaW1wb3J0IHsgdXNlQ29waWxvdENvbnRleHQgfSBmcm9tIFwiQGNvcGlsb3RraXQvcmVhY3QtY29yZVwiO1xuXG5leHBvcnQgY29uc3QgSW5wdXQgPSAoeyBpblByb2dyZXNzLCBvblNlbmQsIGlzVmlzaWJsZSA9IGZhbHNlIH06IElucHV0UHJvcHMpID0+IHtcbiAgY29uc3QgY29udGV4dCA9IHVzZUNoYXRDb250ZXh0KCk7XG4gIGNvbnN0IGNvcGlsb3RDb250ZXh0ID0gdXNlQ29waWxvdENvbnRleHQoKTtcblxuICBjb25zdCBwdXNoVG9UYWxrQ29uZmlndXJlZCA9XG4gICAgY29waWxvdENvbnRleHQuY29waWxvdEFwaUNvbmZpZy50ZXh0VG9TcGVlY2hVcmwgIT09IHVuZGVmaW5lZCAmJlxuICAgIGNvcGlsb3RDb250ZXh0LmNvcGlsb3RBcGlDb25maWcudHJhbnNjcmliZUF1ZGlvVXJsICE9PSB1bmRlZmluZWQ7XG5cbiAgY29uc3QgdGV4dGFyZWFSZWYgPSB1c2VSZWY8SFRNTFRleHRBcmVhRWxlbWVudD4obnVsbCk7XG5cbiAgY29uc3QgaGFuZGxlRGl2Q2xpY2sgPSAoZXZlbnQ6IFJlYWN0Lk1vdXNlRXZlbnQ8SFRNTERpdkVsZW1lbnQ+KSA9PiB7XG4gICAgLy8gQ2hlY2sgaWYgdGhlIGNsaWNrZWQgZWxlbWVudCBpcyBub3QgdGhlIHRleHRhcmVhIGl0c2VsZlxuICAgIGlmIChldmVudC50YXJnZXQgIT09IGV2ZW50LmN1cnJlbnRUYXJnZXQpIHJldHVybjtcblxuICAgIHRleHRhcmVhUmVmLmN1cnJlbnQ/LmZvY3VzKCk7XG4gIH07XG5cbiAgY29uc3QgW3RleHQsIHNldFRleHRdID0gdXNlU3RhdGUoXCJcIik7XG4gIGNvbnN0IHNlbmQgPSAoKSA9PiB7XG4gICAgaWYgKGluUHJvZ3Jlc3MpIHJldHVybjtcbiAgICBvblNlbmQodGV4dCk7XG4gICAgc2V0VGV4dChcIlwiKTtcblxuICAgIHRleHRhcmVhUmVmLmN1cnJlbnQ/LmZvY3VzKCk7XG4gIH07XG5cbiAgdXNlRWZmZWN0KCgpID0+IHtcbiAgICBpZiAoaXNWaXNpYmxlKSB7XG4gICAgICB0ZXh0YXJlYVJlZi5jdXJyZW50Py5mb2N1cygpO1xuICAgIH1cbiAgfSwgW2lzVmlzaWJsZV0pO1xuXG4gIGNvbnN0IHsgcHVzaFRvVGFsa1N0YXRlLCBzZXRQdXNoVG9UYWxrU3RhdGUgfSA9IHVzZVB1c2hUb1RhbGsoe1xuICAgIHNlbmRGdW5jdGlvbjogb25TZW5kLFxuICAgIGluUHJvZ3Jlc3MsXG4gIH0pO1xuXG4gIGNvbnN0IHNlbmRJY29uID1cbiAgICBpblByb2dyZXNzIHx8IHB1c2hUb1RhbGtTdGF0ZSA9PT0gXCJ0cmFuc2NyaWJpbmdcIlxuICAgICAgPyBjb250ZXh0Lmljb25zLmFjdGl2aXR5SWNvblxuICAgICAgOiBjb250ZXh0Lmljb25zLnNlbmRJY29uO1xuICBjb25zdCBzaG93UHVzaFRvVGFsayA9XG4gICAgcHVzaFRvVGFsa0NvbmZpZ3VyZWQgJiZcbiAgICAocHVzaFRvVGFsa1N0YXRlID09PSBcImlkbGVcIiB8fCBwdXNoVG9UYWxrU3RhdGUgPT09IFwicmVjb3JkaW5nXCIpICYmXG4gICAgIWluUHJvZ3Jlc3M7XG4gIGNvbnN0IHNlbmREaXNhYmxlZCA9IGluUHJvZ3Jlc3MgfHwgdGV4dC5sZW5ndGggPT09IDAgfHwgcHVzaFRvVGFsa1N0YXRlICE9PSBcImlkbGVcIjtcblxuICByZXR1cm4gKFxuICAgIDxkaXYgY2xhc3NOYW1lPVwiY29waWxvdEtpdElucHV0XCIgb25DbGljaz17aGFuZGxlRGl2Q2xpY2t9PlxuICAgICAgPEF1dG9SZXNpemluZ1RleHRhcmVhXG4gICAgICAgIHJlZj17dGV4dGFyZWFSZWZ9XG4gICAgICAgIHBsYWNlaG9sZGVyPXtjb250ZXh0LmxhYmVscy5wbGFjZWhvbGRlcn1cbiAgICAgICAgYXV0b0ZvY3VzPXt0cnVlfVxuICAgICAgICBtYXhSb3dzPXs1fVxuICAgICAgICB2YWx1ZT17dGV4dH1cbiAgICAgICAgb25DaGFuZ2U9eyhldmVudCkgPT4gc2V0VGV4dChldmVudC50YXJnZXQudmFsdWUpfVxuICAgICAgICBvbktleURvd249eyhldmVudCkgPT4ge1xuICAgICAgICAgIGlmIChldmVudC5rZXkgPT09IFwiRW50ZXJcIiAmJiAhZXZlbnQuc2hpZnRLZXkpIHtcbiAgICAgICAgICAgIGV2ZW50LnByZXZlbnREZWZhdWx0KCk7XG4gICAgICAgICAgICBzZW5kKCk7XG4gICAgICAgICAgfVxuICAgICAgICB9fVxuICAgICAgLz5cbiAgICAgIDxkaXYgY2xhc3NOYW1lPVwiY29waWxvdEtpdElucHV0Q29udHJvbHNcIj5cbiAgICAgICAge3Nob3dQdXNoVG9UYWxrICYmIChcbiAgICAgICAgICA8YnV0dG9uXG4gICAgICAgICAgICBvbkNsaWNrPXsoKSA9PlxuICAgICAgICAgICAgICBzZXRQdXNoVG9UYWxrU3RhdGUocHVzaFRvVGFsa1N0YXRlID09PSBcImlkbGVcIiA/IFwicmVjb3JkaW5nXCIgOiBcInRyYW5zY3JpYmluZ1wiKVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgY2xhc3NOYW1lPXtwdXNoVG9UYWxrU3RhdGUgPT09IFwicmVjb3JkaW5nXCIgPyBcImNvcGlsb3RLaXRQdXNoVG9UYWxrUmVjb3JkaW5nXCIgOiBcIlwifVxuICAgICAgICAgID5cbiAgICAgICAgICAgIHtjb250ZXh0Lmljb25zLnB1c2hUb1RhbGtJY29ufVxuICAgICAgICAgIDwvYnV0dG9uPlxuICAgICAgICApfVxuICAgICAgICA8YnV0dG9uIGRpc2FibGVkPXtzZW5kRGlzYWJsZWR9IG9uQ2xpY2s9e3NlbmR9PlxuICAgICAgICAgIHtzZW5kSWNvbn1cbiAgICAgICAgPC9idXR0b24+XG4gICAgICA8L2Rpdj5cbiAgICA8L2Rpdj5cbiAgKTtcbn07XG4iLCJpbXBvcnQgUmVhY3QsIHsgdXNlU3RhdGUsIHVzZVJlZiwgdXNlRWZmZWN0LCBmb3J3YXJkUmVmLCB1c2VJbXBlcmF0aXZlSGFuZGxlIH0gZnJvbSBcInJlYWN0XCI7XG5cbmludGVyZmFjZSBBdXRvUmVzaXppbmdUZXh0YXJlYVByb3BzIHtcbiAgbWF4Um93cz86IG51bWJlcjtcbiAgcGxhY2Vob2xkZXI/OiBzdHJpbmc7XG4gIHZhbHVlOiBzdHJpbmc7XG4gIG9uQ2hhbmdlOiAoZXZlbnQ6IFJlYWN0LkNoYW5nZUV2ZW50PEhUTUxUZXh0QXJlYUVsZW1lbnQ+KSA9PiB2b2lkO1xuICBvbktleURvd24/OiAoZXZlbnQ6IFJlYWN0LktleWJvYXJkRXZlbnQ8SFRNTFRleHRBcmVhRWxlbWVudD4pID0+IHZvaWQ7XG4gIGF1dG9Gb2N1cz86IGJvb2xlYW47XG59XG5cbmNvbnN0IEF1dG9SZXNpemluZ1RleHRhcmVhID0gZm9yd2FyZFJlZjxIVE1MVGV4dEFyZWFFbGVtZW50LCBBdXRvUmVzaXppbmdUZXh0YXJlYVByb3BzPihcbiAgKHsgbWF4Um93cyA9IDEsIHBsYWNlaG9sZGVyLCB2YWx1ZSwgb25DaGFuZ2UsIG9uS2V5RG93biwgYXV0b0ZvY3VzIH0sIHJlZikgPT4ge1xuICAgIGNvbnN0IGludGVybmFsVGV4dGFyZWFSZWYgPSB1c2VSZWY8SFRNTFRleHRBcmVhRWxlbWVudD4obnVsbCk7XG4gICAgY29uc3QgW21heEhlaWdodCwgc2V0TWF4SGVpZ2h0XSA9IHVzZVN0YXRlPG51bWJlcj4oMCk7XG5cbiAgICB1c2VJbXBlcmF0aXZlSGFuZGxlKHJlZiwgKCkgPT4gaW50ZXJuYWxUZXh0YXJlYVJlZi5jdXJyZW50IGFzIEhUTUxUZXh0QXJlYUVsZW1lbnQpO1xuXG4gICAgdXNlRWZmZWN0KCgpID0+IHtcbiAgICAgIGNvbnN0IGNhbGN1bGF0ZU1heEhlaWdodCA9ICgpID0+IHtcbiAgICAgICAgY29uc3QgdGV4dGFyZWEgPSBpbnRlcm5hbFRleHRhcmVhUmVmLmN1cnJlbnQ7XG4gICAgICAgIGlmICh0ZXh0YXJlYSkge1xuICAgICAgICAgIHRleHRhcmVhLnN0eWxlLmhlaWdodCA9IFwiYXV0b1wiO1xuICAgICAgICAgIGNvbnN0IHNpbmdsZVJvd0hlaWdodCA9IHRleHRhcmVhLnNjcm9sbEhlaWdodDtcbiAgICAgICAgICBzZXRNYXhIZWlnaHQoc2luZ2xlUm93SGVpZ2h0ICogbWF4Um93cyk7XG4gICAgICAgICAgaWYgKGF1dG9Gb2N1cykge1xuICAgICAgICAgICAgdGV4dGFyZWEuZm9jdXMoKTtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH07XG5cbiAgICAgIGNhbGN1bGF0ZU1heEhlaWdodCgpO1xuICAgIH0sIFttYXhSb3dzXSk7XG5cbiAgICB1c2VFZmZlY3QoKCkgPT4ge1xuICAgICAgY29uc3QgdGV4dGFyZWEgPSBpbnRlcm5hbFRleHRhcmVhUmVmLmN1cnJlbnQ7XG4gICAgICBpZiAodGV4dGFyZWEpIHtcbiAgICAgICAgdGV4dGFyZWEuc3R5bGUuaGVpZ2h0ID0gXCJhdXRvXCI7XG4gICAgICAgIHRleHRhcmVhLnN0eWxlLmhlaWdodCA9IGAke01hdGgubWluKHRleHRhcmVhLnNjcm9sbEhlaWdodCwgbWF4SGVpZ2h0KX1weGA7XG4gICAgICB9XG4gICAgfSwgW3ZhbHVlLCBtYXhIZWlnaHRdKTtcblxuICAgIHJldHVybiAoXG4gICAgICA8dGV4dGFyZWFcbiAgICAgICAgcmVmPXtpbnRlcm5hbFRleHRhcmVhUmVmfVxuICAgICAgICB2YWx1ZT17dmFsdWV9XG4gICAgICAgIG9uQ2hhbmdlPXtvbkNoYW5nZX1cbiAgICAgICAgb25LZXlEb3duPXtvbktleURvd259XG4gICAgICAgIHBsYWNlaG9sZGVyPXtwbGFjZWhvbGRlcn1cbiAgICAgICAgc3R5bGU9e3tcbiAgICAgICAgICBvdmVyZmxvdzogXCJhdXRvXCIsXG4gICAgICAgICAgcmVzaXplOiBcIm5vbmVcIixcbiAgICAgICAgICBtYXhIZWlnaHQ6IGAke21heEhlaWdodH1weGAsXG4gICAgICAgIH19XG4gICAgICAgIHJvd3M9ezF9XG4gICAgICAvPlxuICAgICk7XG4gIH0sXG4pO1xuXG5leHBvcnQgZGVmYXVsdCBBdXRvUmVzaXppbmdUZXh0YXJlYTtcbiIsImltcG9ydCB7IHVzZUNvcGlsb3RDb250ZXh0IH0gZnJvbSBcIkBjb3BpbG90a2l0L3JlYWN0LWNvcmVcIjtcbmltcG9ydCB7IE1lc3NhZ2UsIFRleHRNZXNzYWdlIH0gZnJvbSBcIkBjb3BpbG90a2l0L3J1bnRpbWUtY2xpZW50LWdxbFwiO1xuaW1wb3J0IHsgTXV0YWJsZVJlZk9iamVjdCwgdXNlRWZmZWN0LCB1c2VSZWYsIHVzZVN0YXRlIH0gZnJvbSBcInJlYWN0XCI7XG5cbmV4cG9ydCBjb25zdCBjaGVja01pY3JvcGhvbmVQZXJtaXNzaW9uID0gYXN5bmMgKCkgPT4ge1xuICB0cnkge1xuICAgIGNvbnN0IHBlcm1pc3Npb25TdGF0dXMgPSBhd2FpdCBuYXZpZ2F0b3IucGVybWlzc2lvbnMucXVlcnkoe1xuICAgICAgbmFtZTogXCJtaWNyb3Bob25lXCIgYXMgUGVybWlzc2lvbk5hbWUsXG4gICAgfSk7XG4gICAgaWYgKHBlcm1pc3Npb25TdGF0dXMuc3RhdGUgPT09IFwiZ3JhbnRlZFwiKSB7XG4gICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9IGVsc2Uge1xuICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cbiAgfSBjYXRjaCAoZXJyKSB7XG4gICAgY29uc29sZS5lcnJvcihcIkVycm9yIGNoZWNraW5nIG1pY3JvcGhvbmUgcGVybWlzc2lvblwiLCBlcnIpO1xuICB9XG59O1xuXG5leHBvcnQgY29uc3QgcmVxdWVzdE1pY0FuZFBsYXliYWNrUGVybWlzc2lvbiA9IGFzeW5jICgpID0+IHtcbiAgdHJ5IHtcbiAgICBjb25zdCBzdHJlYW0gPSBhd2FpdCBuYXZpZ2F0b3IubWVkaWFEZXZpY2VzLmdldFVzZXJNZWRpYSh7IGF1ZGlvOiB0cnVlIH0pO1xuICAgIGNvbnN0IGF1ZGlvQ29udGV4dCA9IG5ldyB3aW5kb3cuQXVkaW9Db250ZXh0KCk7XG4gICAgYXdhaXQgYXVkaW9Db250ZXh0LnJlc3VtZSgpO1xuICAgIHJldHVybiB7IHN0cmVhbSwgYXVkaW9Db250ZXh0IH07XG4gIH0gY2F0Y2ggKGVycikge1xuICAgIGNvbnNvbGUuZXJyb3IoXCJFcnJvciByZXF1ZXN0aW5nIG1pY3JvcGhvbmUgYW5kIHBsYXliYWNrIHBlcm1pc3Npb25zXCIsIGVycik7XG4gICAgcmV0dXJuIG51bGw7XG4gIH1cbn07XG5cbmNvbnN0IHN0YXJ0UmVjb3JkaW5nID0gYXN5bmMgKFxuICBtZWRpYVN0cmVhbVJlZjogTXV0YWJsZVJlZk9iamVjdDxNZWRpYVN0cmVhbSB8IG51bGw+LFxuICBtZWRpYVJlY29yZGVyUmVmOiBNdXRhYmxlUmVmT2JqZWN0PE1lZGlhUmVjb3JkZXIgfCBudWxsPixcbiAgYXVkaW9Db250ZXh0UmVmOiBNdXRhYmxlUmVmT2JqZWN0PEF1ZGlvQ29udGV4dCB8IG51bGw+LFxuICByZWNvcmRlZENodW5rczogQmxvYltdLFxuICBvblN0b3A6ICgpID0+IHZvaWQsXG4pID0+IHtcbiAgaWYgKCFtZWRpYVN0cmVhbVJlZi5jdXJyZW50IHx8ICFhdWRpb0NvbnRleHRSZWYuY3VycmVudCkge1xuICAgIG1lZGlhU3RyZWFtUmVmLmN1cnJlbnQgPSBhd2FpdCBuYXZpZ2F0b3IubWVkaWFEZXZpY2VzLmdldFVzZXJNZWRpYSh7IGF1ZGlvOiB0cnVlIH0pO1xuICAgIGF1ZGlvQ29udGV4dFJlZi5jdXJyZW50ID0gbmV3IHdpbmRvdy5BdWRpb0NvbnRleHQoKTtcbiAgICBhd2FpdCBhdWRpb0NvbnRleHRSZWYuY3VycmVudC5yZXN1bWUoKTtcbiAgfVxuXG4gIG1lZGlhUmVjb3JkZXJSZWYuY3VycmVudCA9IG5ldyBNZWRpYVJlY29yZGVyKG1lZGlhU3RyZWFtUmVmLmN1cnJlbnQhKTtcbiAgbWVkaWFSZWNvcmRlclJlZi5jdXJyZW50LnN0YXJ0KDEwMDApO1xuICBtZWRpYVJlY29yZGVyUmVmLmN1cnJlbnQub25kYXRhYXZhaWxhYmxlID0gKGV2ZW50KSA9PiB7XG4gICAgcmVjb3JkZWRDaHVua3MucHVzaChldmVudC5kYXRhKTtcbiAgfTtcbiAgbWVkaWFSZWNvcmRlclJlZi5jdXJyZW50Lm9uc3RvcCA9IG9uU3RvcDtcbn07XG5cbmNvbnN0IHN0b3BSZWNvcmRpbmcgPSAobWVkaWFSZWNvcmRlclJlZjogTXV0YWJsZVJlZk9iamVjdDxNZWRpYVJlY29yZGVyIHwgbnVsbD4pID0+IHtcbiAgaWYgKG1lZGlhUmVjb3JkZXJSZWYuY3VycmVudCAmJiBtZWRpYVJlY29yZGVyUmVmLmN1cnJlbnQuc3RhdGUgIT09IFwiaW5hY3RpdmVcIikge1xuICAgIG1lZGlhUmVjb3JkZXJSZWYuY3VycmVudC5zdG9wKCk7XG4gIH1cbn07XG5cbmNvbnN0IHRyYW5zY3JpYmVBdWRpbyA9IGFzeW5jIChyZWNvcmRlZENodW5rczogQmxvYltdLCB0cmFuc2NyaWJlQXVkaW9Vcmw6IHN0cmluZykgPT4ge1xuICBjb25zdCBjb21wbGV0ZUJsb2IgPSBuZXcgQmxvYihyZWNvcmRlZENodW5rcywgeyB0eXBlOiBcImF1ZGlvL21wNFwiIH0pO1xuICBjb25zdCBmb3JtRGF0YSA9IG5ldyBGb3JtRGF0YSgpO1xuICBmb3JtRGF0YS5hcHBlbmQoXCJmaWxlXCIsIGNvbXBsZXRlQmxvYiwgXCJyZWNvcmRpbmcubXA0XCIpO1xuXG4gIGNvbnN0IHJlc3BvbnNlID0gYXdhaXQgZmV0Y2godHJhbnNjcmliZUF1ZGlvVXJsLCB7XG4gICAgbWV0aG9kOiBcIlBPU1RcIixcbiAgICBib2R5OiBmb3JtRGF0YSxcbiAgfSk7XG5cbiAgaWYgKCFyZXNwb25zZS5vaykge1xuICAgIHRocm93IG5ldyBFcnJvcihgRXJyb3I6ICR7cmVzcG9uc2Uuc3RhdHVzVGV4dH1gKTtcbiAgfVxuXG4gIGNvbnN0IHRyYW5zY3JpcHRpb24gPSBhd2FpdCByZXNwb25zZS5qc29uKCk7XG4gIHJldHVybiB0cmFuc2NyaXB0aW9uLnRleHQ7XG59O1xuXG5jb25zdCBwbGF5QXVkaW9SZXNwb25zZSA9ICh0ZXh0OiBzdHJpbmcsIHRleHRUb1NwZWVjaFVybDogc3RyaW5nLCBhdWRpb0NvbnRleHQ6IEF1ZGlvQ29udGV4dCkgPT4ge1xuICBjb25zdCBlbmNvZGVkVGV4dCA9IGVuY29kZVVSSUNvbXBvbmVudCh0ZXh0KTtcbiAgY29uc3QgdXJsID0gYCR7dGV4dFRvU3BlZWNoVXJsfT90ZXh0PSR7ZW5jb2RlZFRleHR9YDtcblxuICBmZXRjaCh1cmwpXG4gICAgLnRoZW4oKHJlc3BvbnNlKSA9PiByZXNwb25zZS5hcnJheUJ1ZmZlcigpKVxuICAgIC50aGVuKChhcnJheUJ1ZmZlcikgPT4gYXVkaW9Db250ZXh0LmRlY29kZUF1ZGlvRGF0YShhcnJheUJ1ZmZlcikpXG4gICAgLnRoZW4oKGF1ZGlvQnVmZmVyKSA9PiB7XG4gICAgICBjb25zdCBzb3VyY2UgPSBhdWRpb0NvbnRleHQuY3JlYXRlQnVmZmVyU291cmNlKCk7XG4gICAgICBzb3VyY2UuYnVmZmVyID0gYXVkaW9CdWZmZXI7XG4gICAgICBzb3VyY2UuY29ubmVjdChhdWRpb0NvbnRleHQuZGVzdGluYXRpb24pO1xuICAgICAgc291cmNlLnN0YXJ0KDApO1xuICAgIH0pXG4gICAgLmNhdGNoKChlcnJvcikgPT4ge1xuICAgICAgY29uc29sZS5lcnJvcihcIkVycm9yIHdpdGggZGVjb2RpbmcgYXVkaW8gZGF0YVwiLCBlcnJvcik7XG4gICAgfSk7XG59O1xuXG5leHBvcnQgdHlwZSBQdXNoVG9UYWxrU3RhdGUgPSBcImlkbGVcIiB8IFwicmVjb3JkaW5nXCIgfCBcInRyYW5zY3JpYmluZ1wiO1xuXG5leHBvcnQgdHlwZSBTZW5kRnVuY3Rpb24gPSAodGV4dDogc3RyaW5nKSA9PiBQcm9taXNlPE1lc3NhZ2U+O1xuXG5leHBvcnQgY29uc3QgdXNlUHVzaFRvVGFsayA9ICh7XG4gIHNlbmRGdW5jdGlvbixcbiAgaW5Qcm9ncmVzcyxcbn06IHtcbiAgc2VuZEZ1bmN0aW9uOiBTZW5kRnVuY3Rpb247XG4gIGluUHJvZ3Jlc3M6IGJvb2xlYW47XG59KSA9PiB7XG4gIGNvbnN0IFtwdXNoVG9UYWxrU3RhdGUsIHNldFB1c2hUb1RhbGtTdGF0ZV0gPSB1c2VTdGF0ZTxQdXNoVG9UYWxrU3RhdGU+KFwiaWRsZVwiKTtcbiAgY29uc3QgbWVkaWFTdHJlYW1SZWYgPSB1c2VSZWY8TWVkaWFTdHJlYW0gfCBudWxsPihudWxsKTtcbiAgY29uc3QgYXVkaW9Db250ZXh0UmVmID0gdXNlUmVmPEF1ZGlvQ29udGV4dCB8IG51bGw+KG51bGwpO1xuICBjb25zdCBtZWRpYVJlY29yZGVyUmVmID0gdXNlUmVmPE1lZGlhUmVjb3JkZXIgfCBudWxsPihudWxsKTtcbiAgY29uc3QgcmVjb3JkZWRDaHVua3MgPSB1c2VSZWY8QmxvYltdPihbXSk7XG4gIGNvbnN0IGNvbnRleHQgPSB1c2VDb3BpbG90Q29udGV4dCgpO1xuICBjb25zdCBbc3RhcnRSZWFkaW5nRnJvbU1lc3NhZ2VJZCwgc2V0U3RhcnRSZWFkaW5nRnJvbU1lc3NhZ2VJZF0gPSB1c2VTdGF0ZTxzdHJpbmcgfCBudWxsPihudWxsKTtcblxuICB1c2VFZmZlY3QoKCkgPT4ge1xuICAgIGlmIChwdXNoVG9UYWxrU3RhdGUgPT09IFwicmVjb3JkaW5nXCIpIHtcbiAgICAgIHN0YXJ0UmVjb3JkaW5nKFxuICAgICAgICBtZWRpYVN0cmVhbVJlZixcbiAgICAgICAgbWVkaWFSZWNvcmRlclJlZixcbiAgICAgICAgYXVkaW9Db250ZXh0UmVmLFxuICAgICAgICByZWNvcmRlZENodW5rcy5jdXJyZW50LFxuICAgICAgICAoKSA9PiB7XG4gICAgICAgICAgc2V0UHVzaFRvVGFsa1N0YXRlKFwidHJhbnNjcmliaW5nXCIpO1xuICAgICAgICB9LFxuICAgICAgKTtcbiAgICB9IGVsc2Uge1xuICAgICAgc3RvcFJlY29yZGluZyhtZWRpYVJlY29yZGVyUmVmKTtcbiAgICAgIGlmIChwdXNoVG9UYWxrU3RhdGUgPT09IFwidHJhbnNjcmliaW5nXCIpIHtcbiAgICAgICAgdHJhbnNjcmliZUF1ZGlvKHJlY29yZGVkQ2h1bmtzLmN1cnJlbnQsIGNvbnRleHQuY29waWxvdEFwaUNvbmZpZy50cmFuc2NyaWJlQXVkaW9VcmwhKS50aGVuKFxuICAgICAgICAgIGFzeW5jICh0cmFuc2NyaXB0aW9uKSA9PiB7XG4gICAgICAgICAgICByZWNvcmRlZENodW5rcy5jdXJyZW50ID0gW107XG4gICAgICAgICAgICBzZXRQdXNoVG9UYWxrU3RhdGUoXCJpZGxlXCIpO1xuICAgICAgICAgICAgY29uc3QgbWVzc2FnZSA9IGF3YWl0IHNlbmRGdW5jdGlvbih0cmFuc2NyaXB0aW9uKTtcbiAgICAgICAgICAgIHNldFN0YXJ0UmVhZGluZ0Zyb21NZXNzYWdlSWQobWVzc2FnZS5pZCk7XG4gICAgICAgICAgfSxcbiAgICAgICAgKTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICByZXR1cm4gKCkgPT4ge1xuICAgICAgc3RvcFJlY29yZGluZyhtZWRpYVJlY29yZGVyUmVmKTtcbiAgICB9O1xuICB9LCBbcHVzaFRvVGFsa1N0YXRlXSk7XG5cbiAgdXNlRWZmZWN0KCgpID0+IHtcbiAgICBpZiAoaW5Qcm9ncmVzcyA9PT0gZmFsc2UgJiYgc3RhcnRSZWFkaW5nRnJvbU1lc3NhZ2VJZCkge1xuICAgICAgY29uc3QgbGFzdE1lc3NhZ2VJbmRleCA9IGNvbnRleHQubWVzc2FnZXMuZmluZEluZGV4KFxuICAgICAgICAobWVzc2FnZSkgPT4gbWVzc2FnZS5pZCA9PT0gc3RhcnRSZWFkaW5nRnJvbU1lc3NhZ2VJZCxcbiAgICAgICk7XG5cbiAgICAgIGNvbnN0IG1lc3NhZ2VzQWZ0ZXJMYXN0ID0gY29udGV4dC5tZXNzYWdlc1xuICAgICAgICAuc2xpY2UobGFzdE1lc3NhZ2VJbmRleCArIDEpXG4gICAgICAgIC5maWx0ZXIoXG4gICAgICAgICAgKG1lc3NhZ2UpID0+IG1lc3NhZ2UgaW5zdGFuY2VvZiBUZXh0TWVzc2FnZSAmJiBtZXNzYWdlLnJvbGUgPT09IFwiYXNzaXN0YW50XCIsXG4gICAgICAgICkgYXMgVGV4dE1lc3NhZ2VbXTtcblxuICAgICAgY29uc3QgdGV4dCA9IG1lc3NhZ2VzQWZ0ZXJMYXN0Lm1hcCgobWVzc2FnZSkgPT4gbWVzc2FnZS5jb250ZW50KS5qb2luKFwiXFxuXCIpO1xuICAgICAgcGxheUF1ZGlvUmVzcG9uc2UodGV4dCwgY29udGV4dC5jb3BpbG90QXBpQ29uZmlnLnRleHRUb1NwZWVjaFVybCEsIGF1ZGlvQ29udGV4dFJlZi5jdXJyZW50ISk7XG5cbiAgICAgIHNldFN0YXJ0UmVhZGluZ0Zyb21NZXNzYWdlSWQobnVsbCk7XG4gICAgfVxuICB9LCBbc3RhcnRSZWFkaW5nRnJvbU1lc3NhZ2VJZCwgaW5Qcm9ncmVzc10pO1xuXG4gIHJldHVybiB7IHB1c2hUb1RhbGtTdGF0ZSwgc2V0UHVzaFRvVGFsa1N0YXRlIH07XG59O1xuIiwiaW1wb3J0IHsgdXNlQ2hhdENvbnRleHQgfSBmcm9tIFwiLi9DaGF0Q29udGV4dFwiO1xuaW1wb3J0IHsgUmVzcG9uc2VCdXR0b25Qcm9wcyB9IGZyb20gXCIuL3Byb3BzXCI7XG5cbmV4cG9ydCBjb25zdCBSZXNwb25zZUJ1dHRvbiA9ICh7IG9uQ2xpY2ssIGluUHJvZ3Jlc3MgfTogUmVzcG9uc2VCdXR0b25Qcm9wcykgPT4ge1xuICBjb25zdCBjb250ZXh0ID0gdXNlQ2hhdENvbnRleHQoKTtcbiAgcmV0dXJuIChcbiAgICA8YnV0dG9uIG9uQ2xpY2s9e29uQ2xpY2t9IGNsYXNzTmFtZT1cImNvcGlsb3RLaXRSZXNwb25zZUJ1dHRvblwiPlxuICAgICAgPHNwYW4+e2luUHJvZ3Jlc3MgPyBjb250ZXh0Lmljb25zLnN0b3BJY29uIDogY29udGV4dC5pY29ucy5yZWdlbmVyYXRlSWNvbn08L3NwYW4+XG4gICAgICB7aW5Qcm9ncmVzcyA/IGNvbnRleHQubGFiZWxzLnN0b3BHZW5lcmF0aW5nIDogY29udGV4dC5sYWJlbHMucmVnZW5lcmF0ZVJlc3BvbnNlfVxuICAgIDwvYnV0dG9uPlxuICApO1xufTtcbiIsImltcG9ydCB7XG4gIENvcGlsb3RDb250ZXh0UGFyYW1zLFxuICBleHRyYWN0LFxuICBDb3BpbG90Q2hhdFN1Z2dlc3Rpb25Db25maWd1cmF0aW9uLFxuICB1c2VDb3BpbG90Q29udGV4dCxcbn0gZnJvbSBcIkBjb3BpbG90a2l0L3JlYWN0LWNvcmVcIjtcbmltcG9ydCB7IFN1Z2dlc3Rpb25zUHJvcHMgfSBmcm9tIFwiLi9wcm9wc1wiO1xuaW1wb3J0IHsgU21hbGxTcGlubmVySWNvbiB9IGZyb20gXCIuL0ljb25zXCI7XG5pbXBvcnQgeyBDb3BpbG90Q2hhdFN1Z2dlc3Rpb24gfSBmcm9tIFwiLi4vLi4vdHlwZXMvc3VnZ2VzdGlvbnNcIjtcbmltcG9ydCB7IGFjdGlvblBhcmFtZXRlcnNUb0pzb25TY2hlbWEgfSBmcm9tIFwiQGNvcGlsb3RraXQvc2hhcmVkXCI7XG5pbXBvcnQgeyBDb3BpbG90UmVxdWVzdFR5cGUgfSBmcm9tIFwiQGNvcGlsb3RraXQvcnVudGltZS1jbGllbnQtZ3FsXCI7XG5cbmV4cG9ydCBmdW5jdGlvbiBTdWdnZXN0aW9uKHsgdGl0bGUsIG1lc3NhZ2UsIG9uQ2xpY2ssIHBhcnRpYWwsIGNsYXNzTmFtZSB9OiBTdWdnZXN0aW9uc1Byb3BzKSB7XG4gIHJldHVybiAoXG4gICAgPGJ1dHRvblxuICAgICAgZGlzYWJsZWQ9e3BhcnRpYWx9XG4gICAgICBvbkNsaWNrPXsoZSkgPT4ge1xuICAgICAgICBlLnByZXZlbnREZWZhdWx0KCk7XG4gICAgICAgIG9uQ2xpY2sobWVzc2FnZSk7XG4gICAgICB9fVxuICAgICAgY2xhc3NOYW1lPXtjbGFzc05hbWUgfHwgXCJzdWdnZXN0aW9uXCJ9XG4gICAgPlxuICAgICAge3BhcnRpYWwgJiYgU21hbGxTcGlubmVySWNvbn1cbiAgICAgIDxzcGFuPnt0aXRsZX08L3NwYW4+XG4gICAgPC9idXR0b24+XG4gICk7XG59XG5cbmV4cG9ydCBjb25zdCByZWxvYWRTdWdnZXN0aW9ucyA9IGFzeW5jIChcbiAgY29udGV4dDogQ29waWxvdENvbnRleHRQYXJhbXMsXG4gIGNoYXRTdWdnZXN0aW9uQ29uZmlndXJhdGlvbjogeyBba2V5OiBzdHJpbmddOiBDb3BpbG90Q2hhdFN1Z2dlc3Rpb25Db25maWd1cmF0aW9uIH0sXG4gIHNldEN1cnJlbnRTdWdnZXN0aW9uczogKHN1Z2dlc3Rpb25zOiB7IHRpdGxlOiBzdHJpbmc7IG1lc3NhZ2U6IHN0cmluZyB9W10pID0+IHZvaWQsXG4gIGFib3J0Q29udHJvbGxlclJlZjogUmVhY3QuTXV0YWJsZVJlZk9iamVjdDxBYm9ydENvbnRyb2xsZXIgfCBudWxsPixcbikgPT4ge1xuICBjb25zdCBhYm9ydENvbnRyb2xsZXIgPSBhYm9ydENvbnRyb2xsZXJSZWYuY3VycmVudDtcblxuICBjb25zdCB0b29scyA9IEpTT04uc3RyaW5naWZ5KFxuICAgIE9iamVjdC52YWx1ZXMoY29udGV4dC5hY3Rpb25zKS5tYXAoKGFjdGlvbikgPT4gKHtcbiAgICAgIG5hbWU6IGFjdGlvbi5uYW1lLFxuICAgICAgZGVzY3JpcHRpb246IGFjdGlvbi5kZXNjcmlwdGlvbixcbiAgICAgIGpzb25TY2hlbWE6IEpTT04uc3RyaW5naWZ5KGFjdGlvblBhcmFtZXRlcnNUb0pzb25TY2hlbWEoYWN0aW9uLnBhcmFtZXRlcnMpKSxcbiAgICB9KSksXG4gICk7XG5cbiAgY29uc3QgYWxsU3VnZ2VzdGlvbnM6IENvcGlsb3RDaGF0U3VnZ2VzdGlvbltdID0gW107XG5cbiAgZm9yIChjb25zdCBjb25maWcgb2YgT2JqZWN0LnZhbHVlcyhjaGF0U3VnZ2VzdGlvbkNvbmZpZ3VyYXRpb24pKSB7XG4gICAgdHJ5IHtcbiAgICAgIGNvbnN0IG51bU9mU3VnZ2VzdGlvbnNJbnN0cnVjdGlvbnMgPVxuICAgICAgICBjb25maWcubWluU3VnZ2VzdGlvbnMgPT09IDBcbiAgICAgICAgICA/IGBQcm9kdWNlIHVwIHRvICR7Y29uZmlnLm1heFN1Z2dlc3Rpb25zfSBzdWdnZXN0aW9ucy4gYCArXG4gICAgICAgICAgICBgSWYgdGhlcmUgYXJlIG5vIGhpZ2hseSByZWxldmFudCBzdWdnZXN0aW9ucyB5b3UgY2FuIHRoaW5rIG9mLCBwcm92aWRlIGFuIGVtcHR5IGFycmF5LmBcbiAgICAgICAgICA6IGBQcm9kdWNlIGJldHdlZW4gJHtjb25maWcubWluU3VnZ2VzdGlvbnN9IGFuZCAke2NvbmZpZy5tYXhTdWdnZXN0aW9uc30gc3VnZ2VzdGlvbnMuYDtcblxuICAgICAgY29uc3QgcmVzdWx0ID0gYXdhaXQgZXh0cmFjdCh7XG4gICAgICAgIGNvbnRleHQsXG4gICAgICAgIGluc3RydWN0aW9uczpcbiAgICAgICAgICBcIlN1Z2dlc3Qgd2hhdCB0aGUgdXNlciBjb3VsZCBzYXkgbmV4dC4gUHJvdmlkZSBjbGVhciwgaGlnaGx5IHJlbGV2YW50IHN1Z2dlc3Rpb25zLiBEbyBub3QgbGl0ZXJhbGx5IHN1Z2dlc3QgZnVuY3Rpb24gY2FsbHMuIFwiICtcbiAgICAgICAgICBjb25maWcuaW5zdHJ1Y3Rpb25zICtcbiAgICAgICAgICBcIlxcblxcblwiICtcbiAgICAgICAgICBudW1PZlN1Z2dlc3Rpb25zSW5zdHJ1Y3Rpb25zLFxuICAgICAgICBkYXRhOiBcIkF2YWlsYWJsZSB0b29sczogXCIgKyB0b29scyArIFwiXFxuXFxuXCIsXG4gICAgICAgIHJlcXVlc3RUeXBlOiBDb3BpbG90UmVxdWVzdFR5cGUuVGFzayxcbiAgICAgICAgcGFyYW1ldGVyczogW1xuICAgICAgICAgIHtcbiAgICAgICAgICAgIG5hbWU6IFwic3VnZ2VzdGlvbnNcIixcbiAgICAgICAgICAgIHR5cGU6IFwib2JqZWN0W11cIixcbiAgICAgICAgICAgIGF0dHJpYnV0ZXM6IFtcbiAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIG5hbWU6IFwidGl0bGVcIixcbiAgICAgICAgICAgICAgICBkZXNjcmlwdGlvbjpcbiAgICAgICAgICAgICAgICAgIFwiVGhlIHRpdGxlIG9mIHRoZSBzdWdnZXN0aW9uLiBUaGlzIGlzIHNob3duIGFzIGEgYnV0dG9uIGFuZCBzaG91bGQgYmUgc2hvcnQuXCIsXG4gICAgICAgICAgICAgICAgdHlwZTogXCJzdHJpbmdcIixcbiAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIG5hbWU6IFwibWVzc2FnZVwiLFxuICAgICAgICAgICAgICAgIGRlc2NyaXB0aW9uOlxuICAgICAgICAgICAgICAgICAgXCJUaGUgbWVzc2FnZSB0byBzZW5kIHdoZW4gdGhlIHN1Z2dlc3Rpb24gaXMgY2xpY2tlZC4gVGhpcyBzaG91bGQgYmUgYSBjbGVhciwgY29tcGxldGUgc2VudGVuY2UgYW5kIHdpbGwgYmUgc2VudCBhcyBhbiBpbnN0cnVjdGlvbiB0byB0aGUgQUkuXCIsXG4gICAgICAgICAgICAgICAgdHlwZTogXCJzdHJpbmdcIixcbiAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIF0sXG4gICAgICAgICAgfSxcbiAgICAgICAgXSxcbiAgICAgICAgaW5jbHVkZToge1xuICAgICAgICAgIG1lc3NhZ2VzOiB0cnVlLFxuICAgICAgICAgIHJlYWRhYmxlOiB0cnVlLFxuICAgICAgICB9LFxuICAgICAgICBhYm9ydFNpZ25hbDogYWJvcnRDb250cm9sbGVyPy5zaWduYWwsXG4gICAgICAgIHN0cmVhbTogKHsgc3RhdHVzLCBhcmdzIH0pID0+IHtcbiAgICAgICAgICBjb25zdCBzdWdnZXN0aW9ucyA9IGFyZ3Muc3VnZ2VzdGlvbnMgfHwgW107XG4gICAgICAgICAgY29uc3QgbmV3U3VnZ2VzdGlvbnM6IENvcGlsb3RDaGF0U3VnZ2VzdGlvbltdID0gW107XG4gICAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBzdWdnZXN0aW9ucy5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgLy8gaWYgR1BUIHByb3ZpZGVzIHRvbyBtYW55IHN1Z2dlc3Rpb25zLCBsaW1pdCB0aGUgbnVtYmVyIG9mIHN1Z2dlc3Rpb25zXG4gICAgICAgICAgICBpZiAoY29uZmlnLm1heFN1Z2dlc3Rpb25zICE9PSB1bmRlZmluZWQgJiYgaSA+PSBjb25maWcubWF4U3VnZ2VzdGlvbnMpIHtcbiAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBjb25zdCB7IHRpdGxlLCBtZXNzYWdlIH0gPSBzdWdnZXN0aW9uc1tpXTtcblxuICAgICAgICAgICAgLy8gSWYgdGhpcyBpcyB0aGUgbGFzdCBzdWdnZXN0aW9uIGFuZCB0aGUgc3RhdHVzIGlzIG5vdCBjb21wbGV0ZSwgbWFyayBpdCBhcyBwYXJ0aWFsXG4gICAgICAgICAgICBjb25zdCBwYXJ0aWFsID0gaSA9PSBzdWdnZXN0aW9ucy5sZW5ndGggLSAxICYmIHN0YXR1cyAhPT0gXCJjb21wbGV0ZVwiO1xuXG4gICAgICAgICAgICBuZXdTdWdnZXN0aW9ucy5wdXNoKHtcbiAgICAgICAgICAgICAgdGl0bGUsXG4gICAgICAgICAgICAgIG1lc3NhZ2UsXG4gICAgICAgICAgICAgIHBhcnRpYWwsXG4gICAgICAgICAgICAgIGNsYXNzTmFtZTogY29uZmlnLmNsYXNzTmFtZSxcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgIH1cbiAgICAgICAgICBzZXRDdXJyZW50U3VnZ2VzdGlvbnMoWy4uLmFsbFN1Z2dlc3Rpb25zLCAuLi5uZXdTdWdnZXN0aW9uc10pO1xuICAgICAgICB9LFxuICAgICAgfSk7XG4gICAgICBhbGxTdWdnZXN0aW9ucy5wdXNoKC4uLnJlc3VsdC5zdWdnZXN0aW9ucyk7XG4gICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgIGNvbnNvbGUuZXJyb3IoXCJFcnJvciBsb2FkaW5nIHN1Z2dlc3Rpb25zXCIsIGVycm9yKTtcbiAgICB9XG4gIH1cblxuICBpZiAoYWJvcnRDb250cm9sbGVyUmVmLmN1cnJlbnQgPT09IGFib3J0Q29udHJvbGxlcikge1xuICAgIGFib3J0Q29udHJvbGxlclJlZi5jdXJyZW50ID0gbnVsbDtcbiAgfVxufTtcbiIsIi8qKlxuICogPGJyLz5cbiAqIDxpbWcgc3JjPVwiL2ltYWdlcy9Db3BpbG90Q2hhdC5naWZcIiB3aWR0aD1cIjUwMFwiIC8+XG4gKlxuICogQSBjaGF0Ym90IHBhbmVsIGNvbXBvbmVudCBmb3IgdGhlIENvcGlsb3RLaXQgZnJhbWV3b3JrLiBUaGUgY29tcG9uZW50IGFsbG93cyBmb3IgYSBoaWdoIGRlZ3JlZVxuICogb2YgY3VzdG9taXphdGlvbiB0aHJvdWdoIHZhcmlvdXMgcHJvcHMgYW5kIGN1c3RvbSBDU1MuXG4gKlxuICogIyMgSW5zdGFsbCBEZXBlbmRlbmNpZXNcbiAqXG4gKiBUaGlzIGNvbXBvbmVudCBpcyBwYXJ0IG9mIHRoZSBbQGNvcGlsb3RraXQvcmVhY3QtdWldKGh0dHBzOi8vbnBtanMuY29tL3BhY2thZ2UvQGNvcGlsb3RraXQvcmVhY3QtdWkpIHBhY2thZ2UuXG4gKlxuICogYGBgc2hlbGwgbnBtMnlhcm4gXFxcIkBjb3BpbG90a2l0L3JlYWN0LXVpXCJcXFxuICogbnBtIGluc3RhbGwgQGNvcGlsb3RraXQvcmVhY3QtY29yZSBAY29waWxvdGtpdC9yZWFjdC11aVxuICogYGBgXG4gKlxuICogIyMgVXNhZ2VcbiAqXG4gKiBgYGB0c3hcbiAqIGltcG9ydCB7IENvcGlsb3RDaGF0IH0gZnJvbSBcIkBjb3BpbG90a2l0L3JlYWN0LXVpXCI7XG4gKlxuICogPENvcGlsb3RDaGF0XG4gKiAgIGxhYmVscz17e1xuICogICAgIHRpdGxlOiBcIllvdXIgQXNzaXN0YW50XCIsXG4gKiAgICAgaW5pdGlhbDogXCJIaSEg8J+RiyBIb3cgY2FuIEkgYXNzaXN0IHlvdSB0b2RheT9cIixcbiAqICAgfX1cbiAqIC8+XG4gKiBgYGBcbiAqXG4gKiAjIyMgTG9vayAmIEZlZWxcbiAqXG4gKiBCeSBkZWZhdWx0LCBDb3BpbG90S2l0IGNvbXBvbmVudHMgZG8gbm90IGhhdmUgYW55IHN0eWxlcy4gWW91IGNhbiBpbXBvcnQgQ29waWxvdEtpdCdzIHN0eWxlc2hlZXQgYXQgdGhlIHJvb3Qgb2YgeW91ciBwcm9qZWN0OlxuICogYGBgdHN4IGZpbGVOYW1lPVwiWW91clJvb3RDb21wb25lbnQudHN4XCJcbiAqIC4uLlxuICogZXhwb3J0IGZ1bmN0aW9uIFlvdXJSb290Q29tcG9uZW50KCkge1xuICogICByZXR1cm4gKFxuICogICAgIDxDb3BpbG90S2l0PlxuICogICAgICAgLi4uXG4gKiAgICAgPC9Db3BpbG90S2l0PlxuICogICApO1xuICogfVxuICogYGBgXG4gKiBGb3IgbW9yZSBpbmZvcm1hdGlvbiBhYm91dCBob3cgdG8gY3VzdG9taXplIHRoZSBzdHlsZXMsIGNoZWNrIG91dCB0aGUgW0N1c3RvbWl6ZSBMb29rICYgRmVlbF0oL2NvbmNlcHRzL2N1c3RvbWl6ZS1sb29rLWFuZC1mZWVsKSBndWlkZS5cbiAqL1xuXG5pbXBvcnQge1xuICBDaGF0Q29udGV4dCxcbiAgQ2hhdENvbnRleHRQcm92aWRlcixcbiAgQ29waWxvdENoYXRJY29ucyxcbiAgQ29waWxvdENoYXRMYWJlbHMsXG59IGZyb20gXCIuL0NoYXRDb250ZXh0XCI7XG5pbXBvcnQgeyBNZXNzYWdlcyBhcyBEZWZhdWx0TWVzc2FnZXMgfSBmcm9tIFwiLi9NZXNzYWdlc1wiO1xuaW1wb3J0IHsgSW5wdXQgYXMgRGVmYXVsdElucHV0IH0gZnJvbSBcIi4vSW5wdXRcIjtcbmltcG9ydCB7IFJlc3BvbnNlQnV0dG9uIGFzIERlZmF1bHRSZXNwb25zZUJ1dHRvbiB9IGZyb20gXCIuL1Jlc3BvbnNlXCI7XG5pbXBvcnQgeyBTdWdnZXN0aW9uIH0gZnJvbSBcIi4vU3VnZ2VzdGlvblwiO1xuaW1wb3J0IFJlYWN0LCB7IHVzZUVmZmVjdCwgdXNlUmVmLCB1c2VTdGF0ZSB9IGZyb20gXCJyZWFjdFwiO1xuaW1wb3J0IHsgU3lzdGVtTWVzc2FnZUZ1bmN0aW9uLCB1c2VDb3BpbG90Q2hhdCwgdXNlQ29waWxvdENvbnRleHQgfSBmcm9tIFwiQGNvcGlsb3RraXQvcmVhY3QtY29yZVwiO1xuaW1wb3J0IHsgcmVsb2FkU3VnZ2VzdGlvbnMgfSBmcm9tIFwiLi9TdWdnZXN0aW9uXCI7XG5pbXBvcnQgeyBDb3BpbG90Q2hhdFN1Z2dlc3Rpb24gfSBmcm9tIFwiLi4vLi4vdHlwZXMvc3VnZ2VzdGlvbnNcIjtcbmltcG9ydCB7IE1lc3NhZ2UsIFJvbGUsIFRleHRNZXNzYWdlIH0gZnJvbSBcIkBjb3BpbG90a2l0L3J1bnRpbWUtY2xpZW50LWdxbFwiO1xuaW1wb3J0IHsgSW5wdXRQcm9wcywgTWVzc2FnZXNQcm9wcywgUmVzcG9uc2VCdXR0b25Qcm9wcyB9IGZyb20gXCIuL3Byb3BzXCI7XG5pbXBvcnQgeyByYW5kb21JZCB9IGZyb20gXCJAY29waWxvdGtpdC9zaGFyZWRcIjtcblxuaW1wb3J0IHsgQ29waWxvdERldkNvbnNvbGUgfSBmcm9tIFwiLi4vZGV2LWNvbnNvbGVcIjtcblxuLyoqXG4gKiBQcm9wcyBmb3IgQ29waWxvdENoYXQgY29tcG9uZW50LlxuICovXG5leHBvcnQgaW50ZXJmYWNlIENvcGlsb3RDaGF0UHJvcHMge1xuICAvKipcbiAgICogQ3VzdG9tIGluc3RydWN0aW9ucyB0byBiZSBhZGRlZCB0byB0aGUgc3lzdGVtIG1lc3NhZ2UuIFVzZSB0aGlzIHByb3BlcnR5IHRvXG4gICAqIHByb3ZpZGUgYWRkaXRpb25hbCBjb250ZXh0IG9yIGd1aWRhbmNlIHRvIHRoZSBsYW5ndWFnZSBtb2RlbCwgaW5mbHVlbmNpbmdcbiAgICogaXRzIHJlc3BvbnNlcy4gVGhlc2UgaW5zdHJ1Y3Rpb25zIGNhbiBpbmNsdWRlIHNwZWNpZmljIGRpcmVjdGlvbnMsXG4gICAqIHByZWZlcmVuY2VzLCBvciBjcml0ZXJpYSB0aGF0IHRoZSBtb2RlbCBzaG91bGQgY29uc2lkZXIgd2hlbiBnZW5lcmF0aW5nXG4gICAqIGl0cyBvdXRwdXQsIHRoZXJlYnkgdGFpbG9yaW5nIHRoZSBjb252ZXJzYXRpb24gbW9yZSBwcmVjaXNlbHkgdG8gdGhlXG4gICAqIHVzZXIncyBuZWVkcyBvciB0aGUgYXBwbGljYXRpb24ncyByZXF1aXJlbWVudHMuXG4gICAqL1xuICBpbnN0cnVjdGlvbnM/OiBzdHJpbmc7XG5cbiAgLyoqXG4gICAqIEEgY2FsbGJhY2sgdGhhdCBnZXRzIGNhbGxlZCB3aGVuIHRoZSBpbiBwcm9ncmVzcyBzdGF0ZSBjaGFuZ2VzLlxuICAgKi9cbiAgb25JblByb2dyZXNzPzogKGluUHJvZ3Jlc3M6IGJvb2xlYW4pID0+IHZvaWQ7XG5cbiAgLyoqXG4gICAqIEEgY2FsbGJhY2sgdGhhdCBnZXRzIGNhbGxlZCB3aGVuIGEgbmV3IG1lc3NhZ2UgaXQgc3VibWl0dGVkLlxuICAgKi9cbiAgb25TdWJtaXRNZXNzYWdlPzogKG1lc3NhZ2U6IHN0cmluZykgPT4gdm9pZCB8IFByb21pc2U8dm9pZD47XG5cbiAgLyoqXG4gICAqIEljb25zIGNhbiBiZSB1c2VkIHRvIHNldCBjdXN0b20gaWNvbnMgZm9yIHRoZSBjaGF0IHdpbmRvdy5cbiAgICovXG4gIGljb25zPzogQ29waWxvdENoYXRJY29ucztcblxuICAvKipcbiAgICogTGFiZWxzIGNhbiBiZSB1c2VkIHRvIHNldCBjdXN0b20gbGFiZWxzIGZvciB0aGUgY2hhdCB3aW5kb3cuXG4gICAqL1xuICBsYWJlbHM/OiBDb3BpbG90Q2hhdExhYmVscztcblxuICAvKipcbiAgICogQSBmdW5jdGlvbiB0aGF0IHRha2VzIGluIGNvbnRleHQgc3RyaW5nIGFuZCBpbnN0cnVjdGlvbnMgYW5kIHJldHVybnNcbiAgICogdGhlIHN5c3RlbSBtZXNzYWdlIHRvIGluY2x1ZGUgaW4gdGhlIGNoYXQgcmVxdWVzdC5cbiAgICogVXNlIHRoaXMgdG8gY29tcGxldGVseSBvdmVycmlkZSB0aGUgc3lzdGVtIG1lc3NhZ2UsIHdoZW4gcHJvdmlkaW5nXG4gICAqIGluc3RydWN0aW9ucyBpcyBub3QgZW5vdWdoLlxuICAgKi9cbiAgbWFrZVN5c3RlbU1lc3NhZ2U/OiBTeXN0ZW1NZXNzYWdlRnVuY3Rpb247XG5cbiAgLyoqXG4gICAqIFdoZXRoZXIgdG8gc2hvdyB0aGUgcmVzcG9uc2UgYnV0dG9uLlxuICAgKiBAZGVmYXVsdCB0cnVlXG4gICAqL1xuICBzaG93UmVzcG9uc2VCdXR0b24/OiBib29sZWFuO1xuXG4gIC8qKlxuICAgKiBBIGN1c3RvbSBNZXNzYWdlcyBjb21wb25lbnQgdG8gdXNlIGluc3RlYWQgb2YgdGhlIGRlZmF1bHQuXG4gICAqL1xuICBNZXNzYWdlcz86IFJlYWN0LkNvbXBvbmVudFR5cGU8TWVzc2FnZXNQcm9wcz47XG5cbiAgLyoqXG4gICAqIEEgY3VzdG9tIElucHV0IGNvbXBvbmVudCB0byB1c2UgaW5zdGVhZCBvZiB0aGUgZGVmYXVsdC5cbiAgICovXG4gIElucHV0PzogUmVhY3QuQ29tcG9uZW50VHlwZTxJbnB1dFByb3BzPjtcblxuICAvKipcbiAgICogQSBjdXN0b20gUmVzcG9uc2VCdXR0b24gY29tcG9uZW50IHRvIHVzZSBpbnN0ZWFkIG9mIHRoZSBkZWZhdWx0LlxuICAgKi9cbiAgUmVzcG9uc2VCdXR0b24/OiBSZWFjdC5Db21wb25lbnRUeXBlPFJlc3BvbnNlQnV0dG9uUHJvcHM+O1xuXG4gIC8qKlxuICAgKiBBIGNsYXNzIG5hbWUgdG8gYXBwbHkgdG8gdGhlIHJvb3QgZWxlbWVudC5cbiAgICovXG4gIGNsYXNzTmFtZT86IHN0cmluZztcblxuICAvKipcbiAgICogQ2hpbGRyZW4gdG8gcmVuZGVyLlxuICAgKi9cbiAgY2hpbGRyZW4/OiBSZWFjdC5SZWFjdE5vZGU7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBDb3BpbG90Q2hhdCh7XG4gIGluc3RydWN0aW9ucyxcbiAgb25TdWJtaXRNZXNzYWdlLFxuICBtYWtlU3lzdGVtTWVzc2FnZSxcbiAgc2hvd1Jlc3BvbnNlQnV0dG9uID0gdHJ1ZSxcbiAgb25JblByb2dyZXNzLFxuICBNZXNzYWdlcyA9IERlZmF1bHRNZXNzYWdlcyxcbiAgSW5wdXQgPSBEZWZhdWx0SW5wdXQsXG4gIFJlc3BvbnNlQnV0dG9uID0gRGVmYXVsdFJlc3BvbnNlQnV0dG9uLFxuICBjbGFzc05hbWUsXG4gIGljb25zLFxuICBsYWJlbHMsXG59OiBDb3BpbG90Q2hhdFByb3BzKSB7XG4gIGNvbnN0IGNvbnRleHQgPSB1c2VDb3BpbG90Q29udGV4dCgpO1xuXG4gIHVzZUVmZmVjdCgoKSA9PiB7XG4gICAgY29udGV4dC5zZXRDaGF0SW5zdHJ1Y3Rpb25zKGluc3RydWN0aW9ucyB8fCBcIlwiKTtcbiAgfSwgW2luc3RydWN0aW9uc10pO1xuXG4gIGNvbnN0IHtcbiAgICB2aXNpYmxlTWVzc2FnZXMsXG4gICAgaXNMb2FkaW5nLFxuICAgIGN1cnJlbnRTdWdnZXN0aW9ucyxcbiAgICBzZW5kTWVzc2FnZSxcbiAgICBzdG9wR2VuZXJhdGlvbixcbiAgICByZWxvYWRNZXNzYWdlcyxcbiAgfSA9IHVzZUNvcGlsb3RDaGF0TG9naWMobWFrZVN5c3RlbU1lc3NhZ2UsIG9uSW5Qcm9ncmVzcywgb25TdWJtaXRNZXNzYWdlKTtcblxuICBjb25zdCBjaGF0Q29udGV4dCA9IFJlYWN0LnVzZUNvbnRleHQoQ2hhdENvbnRleHQpO1xuICBjb25zdCBpc1Zpc2libGUgPSBjaGF0Q29udGV4dCA/IGNoYXRDb250ZXh0Lm9wZW4gOiB0cnVlO1xuXG4gIHJldHVybiAoXG4gICAgPFdyYXBwZWRDb3BpbG90Q2hhdCBpY29ucz17aWNvbnN9IGxhYmVscz17bGFiZWxzfSBjbGFzc05hbWU9e2NsYXNzTmFtZX0+XG4gICAgICA8Q29waWxvdERldkNvbnNvbGUgLz5cbiAgICAgIDxNZXNzYWdlcyBtZXNzYWdlcz17dmlzaWJsZU1lc3NhZ2VzfSBpblByb2dyZXNzPXtpc0xvYWRpbmd9PlxuICAgICAgICB7Y3VycmVudFN1Z2dlc3Rpb25zLmxlbmd0aCA+IDAgJiYgKFxuICAgICAgICAgIDxkaXY+XG4gICAgICAgICAgICA8aDY+U3VnZ2VzdGVkOjwvaDY+XG4gICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cInN1Z2dlc3Rpb25zXCI+XG4gICAgICAgICAgICAgIHtjdXJyZW50U3VnZ2VzdGlvbnMubWFwKChzdWdnZXN0aW9uLCBpbmRleCkgPT4gKFxuICAgICAgICAgICAgICAgIDxTdWdnZXN0aW9uXG4gICAgICAgICAgICAgICAgICBrZXk9e2luZGV4fVxuICAgICAgICAgICAgICAgICAgdGl0bGU9e3N1Z2dlc3Rpb24udGl0bGV9XG4gICAgICAgICAgICAgICAgICBtZXNzYWdlPXtzdWdnZXN0aW9uLm1lc3NhZ2V9XG4gICAgICAgICAgICAgICAgICBwYXJ0aWFsPXtzdWdnZXN0aW9uLnBhcnRpYWx9XG4gICAgICAgICAgICAgICAgICBjbGFzc05hbWU9e3N1Z2dlc3Rpb24uY2xhc3NOYW1lfVxuICAgICAgICAgICAgICAgICAgb25DbGljaz17KG1lc3NhZ2UpID0+IHNlbmRNZXNzYWdlKG1lc3NhZ2UpfVxuICAgICAgICAgICAgICAgIC8+XG4gICAgICAgICAgICAgICkpfVxuICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgPC9kaXY+XG4gICAgICAgICl9XG4gICAgICAgIHtzaG93UmVzcG9uc2VCdXR0b24gJiYgdmlzaWJsZU1lc3NhZ2VzLmxlbmd0aCA+IDAgJiYgKFxuICAgICAgICAgIDxSZXNwb25zZUJ1dHRvblxuICAgICAgICAgICAgb25DbGljaz17aXNMb2FkaW5nID8gc3RvcEdlbmVyYXRpb24gOiByZWxvYWRNZXNzYWdlc31cbiAgICAgICAgICAgIGluUHJvZ3Jlc3M9e2lzTG9hZGluZ31cbiAgICAgICAgICAvPlxuICAgICAgICApfVxuICAgICAgPC9NZXNzYWdlcz5cbiAgICAgIDxJbnB1dCBpblByb2dyZXNzPXtpc0xvYWRpbmd9IG9uU2VuZD17c2VuZE1lc3NhZ2V9IGlzVmlzaWJsZT17aXNWaXNpYmxlfSAvPlxuICAgIDwvV3JhcHBlZENvcGlsb3RDaGF0PlxuICApO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gV3JhcHBlZENvcGlsb3RDaGF0KHtcbiAgY2hpbGRyZW4sXG4gIGljb25zLFxuICBsYWJlbHMsXG4gIGNsYXNzTmFtZSxcbn06IHtcbiAgY2hpbGRyZW46IFJlYWN0LlJlYWN0Tm9kZTtcbiAgaWNvbnM/OiBDb3BpbG90Q2hhdEljb25zO1xuICBsYWJlbHM/OiBDb3BpbG90Q2hhdExhYmVscztcbiAgY2xhc3NOYW1lPzogc3RyaW5nO1xufSkge1xuICBjb25zdCBjaGF0Q29udGV4dCA9IFJlYWN0LnVzZUNvbnRleHQoQ2hhdENvbnRleHQpO1xuICBpZiAoIWNoYXRDb250ZXh0KSB7XG4gICAgcmV0dXJuIChcbiAgICAgIDxDaGF0Q29udGV4dFByb3ZpZGVyIGljb25zPXtpY29uc30gbGFiZWxzPXtsYWJlbHN9IG9wZW49e3RydWV9IHNldE9wZW49eygpID0+IHt9fT5cbiAgICAgICAgPGRpdiBjbGFzc05hbWU9e2Bjb3BpbG90S2l0Q2hhdCAke2NsYXNzTmFtZX1gfT57Y2hpbGRyZW59PC9kaXY+XG4gICAgICA8L0NoYXRDb250ZXh0UHJvdmlkZXI+XG4gICAgKTtcbiAgfVxuICByZXR1cm4gPD57Y2hpbGRyZW59PC8+O1xufVxuXG5jb25zdCBTVUdHRVNUSU9OU19ERUJPVU5DRV9USU1FT1VUID0gMTAwMDtcblxuZXhwb3J0IGNvbnN0IHVzZUNvcGlsb3RDaGF0TG9naWMgPSAoXG4gIG1ha2VTeXN0ZW1NZXNzYWdlPzogU3lzdGVtTWVzc2FnZUZ1bmN0aW9uLFxuICBvbkluUHJvZ3Jlc3M/OiAoaXNMb2FkaW5nOiBib29sZWFuKSA9PiB2b2lkLFxuICBvblN1Ym1pdE1lc3NhZ2U/OiAobWVzc2FnZUNvbnRlbnQ6IHN0cmluZykgPT4gUHJvbWlzZTx2b2lkPiB8IHZvaWQsXG4pID0+IHtcbiAgY29uc3QgeyB2aXNpYmxlTWVzc2FnZXMsIGFwcGVuZE1lc3NhZ2UsIHJlbG9hZE1lc3NhZ2VzLCBzdG9wR2VuZXJhdGlvbiwgaXNMb2FkaW5nIH0gPVxuICAgIHVzZUNvcGlsb3RDaGF0KHtcbiAgICAgIGlkOiByYW5kb21JZCgpLFxuICAgICAgbWFrZVN5c3RlbU1lc3NhZ2UsXG4gICAgfSk7XG5cbiAgY29uc3QgW2N1cnJlbnRTdWdnZXN0aW9ucywgc2V0Q3VycmVudFN1Z2dlc3Rpb25zXSA9IHVzZVN0YXRlPENvcGlsb3RDaGF0U3VnZ2VzdGlvbltdPihbXSk7XG4gIGNvbnN0IHN1Z2dlc3Rpb25zQWJvcnRDb250cm9sbGVyUmVmID0gdXNlUmVmPEFib3J0Q29udHJvbGxlciB8IG51bGw+KG51bGwpO1xuICBjb25zdCBkZWJvdW5jZVRpbWVyUmVmID0gdXNlUmVmPGFueT4oKTtcblxuICBjb25zdCBhYm9ydFN1Z2dlc3Rpb25zID0gKCkgPT4ge1xuICAgIHN1Z2dlc3Rpb25zQWJvcnRDb250cm9sbGVyUmVmLmN1cnJlbnQ/LmFib3J0KCk7XG4gICAgc3VnZ2VzdGlvbnNBYm9ydENvbnRyb2xsZXJSZWYuY3VycmVudCA9IG51bGw7XG4gIH07XG5cbiAgY29uc3QgY29udGV4dCA9IHVzZUNvcGlsb3RDb250ZXh0KCk7XG5cbiAgdXNlRWZmZWN0KCgpID0+IHtcbiAgICBvbkluUHJvZ3Jlc3M/Lihpc0xvYWRpbmcpO1xuXG4gICAgYWJvcnRTdWdnZXN0aW9ucygpO1xuXG4gICAgZGVib3VuY2VUaW1lclJlZi5jdXJyZW50ID0gc2V0VGltZW91dChcbiAgICAgICgpID0+IHtcbiAgICAgICAgaWYgKCFpc0xvYWRpbmcgJiYgT2JqZWN0LmtleXMoY29udGV4dC5jaGF0U3VnZ2VzdGlvbkNvbmZpZ3VyYXRpb24pLmxlbmd0aCAhPT0gMCkge1xuICAgICAgICAgIHN1Z2dlc3Rpb25zQWJvcnRDb250cm9sbGVyUmVmLmN1cnJlbnQgPSBuZXcgQWJvcnRDb250cm9sbGVyKCk7XG4gICAgICAgICAgcmVsb2FkU3VnZ2VzdGlvbnMoXG4gICAgICAgICAgICBjb250ZXh0LFxuICAgICAgICAgICAgY29udGV4dC5jaGF0U3VnZ2VzdGlvbkNvbmZpZ3VyYXRpb24sXG4gICAgICAgICAgICBzZXRDdXJyZW50U3VnZ2VzdGlvbnMsXG4gICAgICAgICAgICBzdWdnZXN0aW9uc0Fib3J0Q29udHJvbGxlclJlZixcbiAgICAgICAgICApO1xuICAgICAgICB9XG4gICAgICB9LFxuICAgICAgY3VycmVudFN1Z2dlc3Rpb25zLmxlbmd0aCA9PSAwID8gMCA6IFNVR0dFU1RJT05TX0RFQk9VTkNFX1RJTUVPVVQsXG4gICAgKTtcblxuICAgIHJldHVybiAoKSA9PiB7XG4gICAgICBjbGVhclRpbWVvdXQoZGVib3VuY2VUaW1lclJlZi5jdXJyZW50KTtcbiAgICB9O1xuICB9LCBbaXNMb2FkaW5nLCBjb250ZXh0LmNoYXRTdWdnZXN0aW9uQ29uZmlndXJhdGlvbl0pO1xuXG4gIGNvbnN0IHNlbmRNZXNzYWdlID0gYXN5bmMgKG1lc3NhZ2VDb250ZW50OiBzdHJpbmcpID0+IHtcbiAgICBhYm9ydFN1Z2dlc3Rpb25zKCk7XG4gICAgc2V0Q3VycmVudFN1Z2dlc3Rpb25zKFtdKTtcblxuICAgIGNvbnN0IG1lc3NhZ2U6IE1lc3NhZ2UgPSBuZXcgVGV4dE1lc3NhZ2Uoe1xuICAgICAgY29udGVudDogbWVzc2FnZUNvbnRlbnQsXG4gICAgICByb2xlOiBSb2xlLlVzZXIsXG4gICAgfSk7XG5cbiAgICAvLyBBcHBlbmQgdGhlIG1lc3NhZ2UgaW1tZWRpYXRlbHkgdG8gbWFrZSBpdCB2aXNpYmxlXG4gICAgYXBwZW5kTWVzc2FnZShtZXNzYWdlKTtcblxuICAgIGlmIChvblN1Ym1pdE1lc3NhZ2UpIHtcbiAgICAgIHRyeSB7XG4gICAgICAgIGF3YWl0IG9uU3VibWl0TWVzc2FnZShtZXNzYWdlQ29udGVudCk7XG4gICAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgICBjb25zb2xlLmVycm9yKFwiRXJyb3IgaW4gb25TdWJtaXRNZXNzYWdlOlwiLCBlcnJvcik7XG4gICAgICB9XG4gICAgfVxuXG4gICAgcmV0dXJuIG1lc3NhZ2U7XG4gIH07XG5cbiAgcmV0dXJuIHtcbiAgICB2aXNpYmxlTWVzc2FnZXMsXG4gICAgaXNMb2FkaW5nLFxuICAgIGN1cnJlbnRTdWdnZXN0aW9ucyxcbiAgICBzZW5kTWVzc2FnZSxcbiAgICBzdG9wR2VuZXJhdGlvbixcbiAgICByZWxvYWRNZXNzYWdlcyxcbiAgfTtcbn07XG4iLCJpbXBvcnQgeyBDb3BpbG90Q29udGV4dFBhcmFtcywgZGVmYXVsdENvcGlsb3RDb250ZXh0Q2F0ZWdvcmllcyB9IGZyb20gXCJAY29waWxvdGtpdC9yZWFjdC1jb3JlXCI7XG5pbXBvcnQgeyBDb3BpbG90S2l0VmVyc2lvbiB9IGZyb20gXCIuL3R5cGVzXCI7XG5pbXBvcnQgeyBBY3Rpb25FeGVjdXRpb25NZXNzYWdlLCBSZXN1bHRNZXNzYWdlLCBUZXh0TWVzc2FnZSB9IGZyb20gXCJAY29waWxvdGtpdC9ydW50aW1lLWNsaWVudC1ncWxcIjtcbmltcG9ydCB7IEFnZW50U3RhdGVNZXNzYWdlIH0gZnJvbSBcIkBjb3BpbG90a2l0L3J1bnRpbWUtY2xpZW50LWdxbFwiO1xuXG5leHBvcnQgZnVuY3Rpb24gc2hvdWxkU2hvd0RldkNvbnNvbGUoc2hvd0RldkNvbnNvbGU6IGJvb2xlYW4gfCBcImF1dG9cIik6IGJvb2xlYW4ge1xuICBpZiAodHlwZW9mIHNob3dEZXZDb25zb2xlID09PSBcImJvb2xlYW5cIikge1xuICAgIHJldHVybiBzaG93RGV2Q29uc29sZTtcbiAgfVxuICByZXR1cm4gKFxuICAgIGdldEhvc3RuYW1lKCkgPT09IFwibG9jYWxob3N0XCIgfHxcbiAgICBnZXRIb3N0bmFtZSgpID09PSBcIjEyNy4wLjAuMVwiIHx8XG4gICAgZ2V0SG9zdG5hbWUoKSA9PT0gXCIwLjAuMC4wXCIgfHxcbiAgICBnZXRIb3N0bmFtZSgpID09PSBcIjo6MVwiXG4gICk7XG59XG5cbmZ1bmN0aW9uIGdldEhvc3RuYW1lKCk6IHN0cmluZyB7XG4gIGlmICh0eXBlb2Ygd2luZG93ICE9PSBcInVuZGVmaW5lZFwiICYmIHdpbmRvdy5sb2NhdGlvbikge1xuICAgIHJldHVybiB3aW5kb3cubG9jYXRpb24uaG9zdG5hbWU7XG4gIH1cbiAgcmV0dXJuIFwiXCI7XG59XG5cbmV4cG9ydCBhc3luYyBmdW5jdGlvbiBnZXRQdWJsaXNoZWRDb3BpbG90S2l0VmVyc2lvbihcbiAgY3VycmVudDogc3RyaW5nLFxuICBmb3JjZUNoZWNrOiBib29sZWFuID0gZmFsc2UsXG4pOiBQcm9taXNlPENvcGlsb3RLaXRWZXJzaW9uPiB7XG4gIGNvbnN0IExPQ0FMX1NUT1JBR0VfS0VZID0gXCJfX2NvcGlsb3RraXRfdmVyc2lvbl9jaGVja19fXCI7XG4gIGNvbnN0IHNlcmlhbGl6ZWRWZXJzaW9uID0gbG9jYWxTdG9yYWdlLmdldEl0ZW0oTE9DQUxfU1RPUkFHRV9LRVkpO1xuICBpZiAoc2VyaWFsaXplZFZlcnNpb24gJiYgIWZvcmNlQ2hlY2spIHtcbiAgICB0cnkge1xuICAgICAgY29uc3QgcGFyc2VkVmVyc2lvbjogQ29waWxvdEtpdFZlcnNpb24gPSBKU09OLnBhcnNlKHNlcmlhbGl6ZWRWZXJzaW9uKTtcbiAgICAgIGNvbnN0IG9uZUhvdXIgPSA2MCAqIDYwICogMTAwMDtcbiAgICAgIGNvbnN0IG5vdyA9IG5ldyBEYXRlKCkuZ2V0VGltZSgpO1xuXG4gICAgICBpZiAoXG4gICAgICAgIHBhcnNlZFZlcnNpb24uY3VycmVudCA9PT0gY3VycmVudCAmJlxuICAgICAgICBub3cgLSBuZXcgRGF0ZShwYXJzZWRWZXJzaW9uLmxhc3RDaGVja2VkKS5nZXRUaW1lKCkgPCBvbmVIb3VyXG4gICAgICApIHtcbiAgICAgICAgcmV0dXJuIHBhcnNlZFZlcnNpb247XG4gICAgICB9XG4gICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgIGNvbnNvbGUuZXJyb3IoXCJGYWlsZWQgdG8gcGFyc2UgQ29waWxvdEtpdFZlcnNpb24gZnJvbSBsb2NhbFN0b3JhZ2VcIiwgZXJyb3IpO1xuICAgIH1cbiAgfVxuXG4gIHRyeSB7XG4gICAgY29uc3QgcmVzcG9uc2UgPSBhd2FpdCBmZXRjaChcImh0dHBzOi8vYXBpLmNsb3VkLnN0YWdpbmdjb3BpbG90a2l0LmFpL2NoZWNrLWZvci11cGRhdGVzXCIsIHtcbiAgICAgIG1ldGhvZDogXCJQT1NUXCIsXG4gICAgICBoZWFkZXJzOiB7XG4gICAgICAgIFwiQ29udGVudC1UeXBlXCI6IFwiYXBwbGljYXRpb24vanNvblwiLFxuICAgICAgfSxcbiAgICAgIGJvZHk6IEpTT04uc3RyaW5naWZ5KHtcbiAgICAgICAgcGFja2FnZXM6IFtcbiAgICAgICAgICB7XG4gICAgICAgICAgICBwYWNrYWdlTmFtZTogXCJAY29waWxvdGtpdC9zaGFyZWRcIixcbiAgICAgICAgICAgIHBhY2thZ2VWZXJzaW9uOiBjdXJyZW50LFxuICAgICAgICAgIH0sXG4gICAgICAgIF0sXG4gICAgICB9KSxcbiAgICB9KTtcblxuICAgIGNvbnN0IGRhdGEgPSBhd2FpdCByZXNwb25zZS5qc29uKCk7XG5cbiAgICBjb25zdCB2ZXJzaW9uOiBDb3BpbG90S2l0VmVyc2lvbiA9IHtcbiAgICAgIGN1cnJlbnQsXG4gICAgICBsYXN0Q2hlY2tlZDogbmV3IERhdGUoKS5nZXRUaW1lKCksXG4gICAgICBsYXRlc3Q6IGRhdGEucGFja2FnZXNbMF0ubGF0ZXN0VmVyc2lvbixcbiAgICAgIHNldmVyaXR5OiBkYXRhLnBhY2thZ2VzWzBdLnNldmVyaXR5LFxuICAgICAgYWR2aXNvcnk6IGRhdGEucGFja2FnZXNbMF0uYWR2aXNvcnkgfHwgbnVsbCxcbiAgICB9O1xuXG4gICAgbG9jYWxTdG9yYWdlLnNldEl0ZW0oTE9DQUxfU1RPUkFHRV9LRVksIEpTT04uc3RyaW5naWZ5KHZlcnNpb24pKTtcbiAgICByZXR1cm4gdmVyc2lvbjtcbiAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICBjb25zb2xlLmVycm9yKFwiRmFpbGVkIHRvIGNoZWNrIGZvciB1cGRhdGVzXCIsIGVycm9yKTtcbiAgICB0aHJvdyBlcnJvcjtcbiAgfVxufVxuXG5leHBvcnQgZnVuY3Rpb24gbG9nUmVhZGFibGVzKGNvbnRleHQ6IENvcGlsb3RDb250ZXh0UGFyYW1zKSB7XG4gIGNvbnNvbGUubG9nKFwiJWNDdXJyZW50IFJlYWRhYmxlczpcIiwgXCJmb250LXNpemU6IDE2cHg7IGZvbnQtd2VpZ2h0OiBib2xkO1wiKTtcblxuICBjb25zdCByZWFkYWJsZXMgPSBjb250ZXh0LmdldENvbnRleHRTdHJpbmcoW10sIGRlZmF1bHRDb3BpbG90Q29udGV4dENhdGVnb3JpZXMpLnRyaW0oKTtcbiAgaWYgKHJlYWRhYmxlcy5sZW5ndGggPT09IDApIHtcbiAgICBjb25zb2xlLmxvZyhcIk5vIHJlYWRhYmxlcyBmb3VuZFwiKTtcbiAgICByZXR1cm47XG4gIH1cbiAgY29uc29sZS5sb2cocmVhZGFibGVzKTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGxvZ0FjdGlvbnMoY29udGV4dDogQ29waWxvdENvbnRleHRQYXJhbXMpIHtcbiAgY29uc29sZS5sb2coXCIlY0N1cnJlbnQgQWN0aW9uczpcIiwgXCJmb250LXNpemU6IDE2cHg7IGZvbnQtd2VpZ2h0OiBib2xkO1wiKTtcblxuICBpZiAoT2JqZWN0LnZhbHVlcyhjb250ZXh0LmFjdGlvbnMpLmxlbmd0aCA9PT0gMCkge1xuICAgIGNvbnNvbGUubG9nKFwiTm8gYWN0aW9ucyBmb3VuZFwiKTtcbiAgICByZXR1cm47XG4gIH1cbiAgZm9yIChjb25zdCBhY3Rpb24gb2YgT2JqZWN0LnZhbHVlcyhjb250ZXh0LmFjdGlvbnMpKSB7XG4gICAgY29uc29sZS5ncm91cChhY3Rpb24ubmFtZSk7XG4gICAgY29uc29sZS5sb2coXCJuYW1lXCIsIGFjdGlvbi5uYW1lKTtcbiAgICBjb25zb2xlLmxvZyhcImRlc2NyaXB0aW9uXCIsIGFjdGlvbi5kZXNjcmlwdGlvbik7XG4gICAgY29uc29sZS5sb2coXCJwYXJhbWV0ZXJzXCIsIGFjdGlvbi5wYXJhbWV0ZXJzKTtcblxuICAgIGNvbnNvbGUuZ3JvdXBFbmQoKTtcbiAgfVxufVxuXG5leHBvcnQgZnVuY3Rpb24gbG9nTWVzc2FnZXMoY29udGV4dDogQ29waWxvdENvbnRleHRQYXJhbXMpIHtcbiAgY29uc29sZS5sb2coXCIlY0N1cnJlbnQgTWVzc2FnZXM6XCIsIFwiZm9udC1zaXplOiAxNnB4OyBmb250LXdlaWdodDogYm9sZDtcIik7XG5cbiAgaWYgKGNvbnRleHQubWVzc2FnZXMubGVuZ3RoID09PSAwKSB7XG4gICAgY29uc29sZS5sb2coXCJObyBtZXNzYWdlcyBmb3VuZFwiKTtcbiAgICByZXR1cm47XG4gIH1cblxuICBjb25zdCB0YWJsZURhdGEgPSBjb250ZXh0Lm1lc3NhZ2VzLm1hcCgobWVzc2FnZSkgPT4ge1xuICAgIGlmIChtZXNzYWdlIGluc3RhbmNlb2YgVGV4dE1lc3NhZ2UpIHtcbiAgICAgIHJldHVybiB7XG4gICAgICAgIGlkOiBtZXNzYWdlLmlkLFxuICAgICAgICB0eXBlOiBcIlRleHRNZXNzYWdlXCIsXG4gICAgICAgIHJvbGU6IG1lc3NhZ2Uucm9sZSxcbiAgICAgICAgbmFtZTogdW5kZWZpbmVkLFxuICAgICAgICBzY29wZTogdW5kZWZpbmVkLFxuICAgICAgICBjb250ZW50OiBtZXNzYWdlLmNvbnRlbnQsXG4gICAgICB9O1xuICAgIH0gZWxzZSBpZiAobWVzc2FnZSBpbnN0YW5jZW9mIEFjdGlvbkV4ZWN1dGlvbk1lc3NhZ2UpIHtcbiAgICAgIHJldHVybiB7XG4gICAgICAgIGlkOiBtZXNzYWdlLmlkLFxuICAgICAgICB0eXBlOiBcIkFjdGlvbkV4ZWN1dGlvbk1lc3NhZ2VcIixcbiAgICAgICAgcm9sZTogdW5kZWZpbmVkLFxuICAgICAgICBuYW1lOiBtZXNzYWdlLm5hbWUsXG4gICAgICAgIHNjb3BlOiBtZXNzYWdlLnNjb3BlLFxuICAgICAgICBjb250ZW50OiBtZXNzYWdlLmFyZ3VtZW50cyxcbiAgICAgIH07XG4gICAgfSBlbHNlIGlmIChtZXNzYWdlIGluc3RhbmNlb2YgUmVzdWx0TWVzc2FnZSkge1xuICAgICAgcmV0dXJuIHtcbiAgICAgICAgaWQ6IG1lc3NhZ2UuaWQsXG4gICAgICAgIHR5cGU6IFwiUmVzdWx0TWVzc2FnZVwiLFxuICAgICAgICByb2xlOiB1bmRlZmluZWQsXG4gICAgICAgIG5hbWU6IG1lc3NhZ2UuYWN0aW9uTmFtZSxcbiAgICAgICAgc2NvcGU6IG1lc3NhZ2UuYWN0aW9uRXhlY3V0aW9uSWQsXG4gICAgICAgIGNvbnRlbnQ6IG1lc3NhZ2UucmVzdWx0LFxuICAgICAgfTtcbiAgICB9IGVsc2UgaWYgKG1lc3NhZ2UgaW5zdGFuY2VvZiBBZ2VudFN0YXRlTWVzc2FnZSkge1xuICAgICAgcmV0dXJuIHtcbiAgICAgICAgaWQ6IG1lc3NhZ2UuaWQsXG4gICAgICAgIHR5cGU6IGBBZ2VudFN0YXRlTWVzc2FnZSAocnVubmluZzogJHttZXNzYWdlLnJ1bm5pbmd9KWAsXG4gICAgICAgIHJvbGU6IG1lc3NhZ2Uucm9sZSxcbiAgICAgICAgbmFtZTogdW5kZWZpbmVkLFxuICAgICAgICBzY29wZTogbWVzc2FnZS50aHJlYWRJZCxcbiAgICAgICAgY29udGVudDogbWVzc2FnZS5zdGF0ZSxcbiAgICAgIH07XG4gICAgfVxuICB9KTtcbiAgY29uc29sZS50YWJsZSh0YWJsZURhdGEpO1xufVxuIiwiXCJ1c2UgY2xpZW50XCI7XG5cbmltcG9ydCB7IHVzZUNvcGlsb3RDb250ZXh0IH0gZnJvbSBcIkBjb3BpbG90a2l0L3JlYWN0LWNvcmVcIjtcbmltcG9ydCB7XG4gIGdldFB1Ymxpc2hlZENvcGlsb3RLaXRWZXJzaW9uLFxuICBsb2dBY3Rpb25zLFxuICBsb2dNZXNzYWdlcyxcbiAgbG9nUmVhZGFibGVzLFxuICBzaG91bGRTaG93RGV2Q29uc29sZSxcbn0gZnJvbSBcIi4vdXRpbHNcIjtcbmltcG9ydCB7IHVzZUVmZmVjdCwgdXNlUmVmLCB1c2VTdGF0ZSB9IGZyb20gXCJyZWFjdFwiO1xuaW1wb3J0IHtcbiAgQ2hlY2tJY29uLFxuICBDaGV2cm9uRG93bkljb24sXG4gIENvcGlsb3RLaXRJY29uLFxuICBFeGNsYW1hdGlvbk1hcmtJY29uLFxuICBFeGNsYW1hdGlvbk1hcmtUcmlhbmdsZUljb24sXG59IGZyb20gXCIuL2ljb25zXCI7XG5pbXBvcnQgeyBNZW51LCBNZW51QnV0dG9uLCBNZW51SXRlbSwgTWVudUl0ZW1zIH0gZnJvbSBcIkBoZWFkbGVzc3VpL3JlYWN0XCI7XG5pbXBvcnQgeyBDT1BJTE9US0lUX1ZFUlNJT04gfSBmcm9tIFwiQGNvcGlsb3RraXQvc2hhcmVkXCI7XG5pbXBvcnQgeyBTbWFsbFNwaW5uZXJJY29uIH0gZnJvbSBcIi4uL2NoYXQvSWNvbnNcIjtcblxudHlwZSBWZXJzaW9uU3RhdHVzID0gXCJ1bmtub3duXCIgfCBcImNoZWNraW5nXCIgfCBcImxhdGVzdFwiIHwgXCJ1cGRhdGUtYXZhaWxhYmxlXCIgfCBcIm91dGRhdGVkXCI7XG5cbmV4cG9ydCBmdW5jdGlvbiBDb3BpbG90RGV2Q29uc29sZSgpIHtcbiAgY29uc3QgY3VycmVudFZlcnNpb24gPSBDT1BJTE9US0lUX1ZFUlNJT047XG4gIGNvbnN0IGNvbnRleHQgPSB1c2VDb3BpbG90Q29udGV4dCgpO1xuXG4gIC8vIHRvIHByZXZlbnQgaHlkcmF0aW9uIGVycm9ycywgZW5zdXJlIHRoYXQgdGhlIGNvbXBvbmVudCByZW5kZXJzIHRoZSBzYW1lIGNvbnRlbnRcbiAgLy8gc2VydmVyLXNpZGUgYXMgaXQgZG9lcyBkdXJpbmcgdGhlIGluaXRpYWwgY2xpZW50LXNpZGUgcmVuZGVyIHRvIHByZXZlbnQgYSBoeWRyYXRpb25cbiAgLy8gbWlzbWF0Y2hcbiAgLy8gc2VlOiBodHRwczovL25leHRqcy5vcmcvZG9jcy9tZXNzYWdlcy9yZWFjdC1oeWRyYXRpb24tZXJyb3Ijc29sdXRpb24tMS11c2luZy11c2VlZmZlY3QtdG8tcnVuLW9uLXRoZS1jbGllbnQtb25seVxuXG4gIGNvbnN0IFtzaG93RGV2Q29uc29sZSwgc2V0U2hvd0RldkNvbnNvbGVdID0gdXNlU3RhdGUoZmFsc2UpO1xuXG4gIHVzZUVmZmVjdCgoKSA9PiB7XG4gICAgc2V0U2hvd0RldkNvbnNvbGUoc2hvdWxkU2hvd0RldkNvbnNvbGUoY29udGV4dC5zaG93RGV2Q29uc29sZSkpO1xuICB9LCBbY29udGV4dC5zaG93RGV2Q29uc29sZV0pO1xuXG4gIGNvbnN0IGRvbnRSdW5Ud2ljZUluRGV2TW9kZSA9IHVzZVJlZihmYWxzZSk7XG4gIGNvbnN0IFt2ZXJzaW9uU3RhdHVzLCBzZXRWZXJzaW9uU3RhdHVzXSA9IHVzZVN0YXRlPFZlcnNpb25TdGF0dXM+KFwidW5rbm93blwiKTtcbiAgY29uc3QgW2xhdGVzdFZlcnNpb24sIHNldExhdGVzdFZlcnNpb25dID0gdXNlU3RhdGU8c3RyaW5nPihcIlwiKTtcbiAgY29uc3QgY29uc29sZVJlZiA9IHVzZVJlZjxIVE1MRGl2RWxlbWVudD4obnVsbCk7XG4gIGNvbnN0IFtkZWJ1Z0J1dHRvbk1vZGUsIHNldERlYnVnQnV0dG9uTW9kZV0gPSB1c2VTdGF0ZTxcImZ1bGxcIiB8IFwiY29tcGFjdFwiPihcImZ1bGxcIik7XG5cbiAgY29uc3QgY2hlY2tGb3JVcGRhdGVzID0gKGZvcmNlOiBib29sZWFuID0gZmFsc2UpID0+IHtcbiAgICBzZXRWZXJzaW9uU3RhdHVzKFwiY2hlY2tpbmdcIik7XG5cbiAgICBnZXRQdWJsaXNoZWRDb3BpbG90S2l0VmVyc2lvbihjdXJyZW50VmVyc2lvbiwgZm9yY2UpXG4gICAgICAudGhlbigodikgPT4ge1xuICAgICAgICBzZXRMYXRlc3RWZXJzaW9uKHYubGF0ZXN0KTtcbiAgICAgICAgbGV0IHZlcnNpb25PayA9IGZhbHNlO1xuXG4gICAgICAgIC8vIG1hdGNoIGV4YWN0IHZlcnNpb24gb3IgYSB2ZXJzaW9uIHdpdGggYSBsZXR0ZXIgKGUuZy4gMS4wLjAtYWxwaGEuMSlcbiAgICAgICAgaWYgKHYuY3VycmVudCA9PT0gdi5sYXRlc3QpIHtcbiAgICAgICAgICB2ZXJzaW9uT2sgPSB0cnVlO1xuICAgICAgICB9IGVsc2UgaWYgKC9bYS16QS1aXS8udGVzdCh2LmN1cnJlbnQpKSB7XG4gICAgICAgICAgdmVyc2lvbk9rID0gdHJ1ZTtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmICh2ZXJzaW9uT2spIHtcbiAgICAgICAgICBzZXRWZXJzaW9uU3RhdHVzKFwibGF0ZXN0XCIpO1xuICAgICAgICB9IGVsc2UgaWYgKHYuc2V2ZXJpdHkgIT09IFwibG93XCIpIHtcbiAgICAgICAgICBzZXRWZXJzaW9uU3RhdHVzKFwib3V0ZGF0ZWRcIik7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgc2V0VmVyc2lvblN0YXR1cyhcInVwZGF0ZS1hdmFpbGFibGVcIik7XG4gICAgICAgIH1cbiAgICAgIH0pXG4gICAgICAuY2F0Y2goKGUpID0+IHtcbiAgICAgICAgY29uc29sZS5lcnJvcihlKTtcbiAgICAgICAgc2V0VmVyc2lvblN0YXR1cyhcInVua25vd25cIik7XG4gICAgICB9KTtcbiAgfTtcblxuICB1c2VFZmZlY3QoKCkgPT4ge1xuICAgIGlmIChkb250UnVuVHdpY2VJbkRldk1vZGUuY3VycmVudCA9PT0gdHJ1ZSkge1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICBkb250UnVuVHdpY2VJbkRldk1vZGUuY3VycmVudCA9IHRydWU7XG5cbiAgICBjaGVja0ZvclVwZGF0ZXMoKTtcbiAgfSwgW10pO1xuXG4gIHVzZUVmZmVjdCgoKSA9PiB7XG4gICAgY29uc3QgaGFuZGxlUmVzaXplID0gKGVudHJpZXM6IFJlc2l6ZU9ic2VydmVyRW50cnlbXSkgPT4ge1xuICAgICAgZm9yIChsZXQgZW50cnkgb2YgZW50cmllcykge1xuICAgICAgICBpZiAoZW50cnkudGFyZ2V0ID09PSBjb25zb2xlUmVmLmN1cnJlbnQpIHtcbiAgICAgICAgICBjb25zdCB3aWR0aCA9IGVudHJ5LmNvbnRlbnRSZWN0LndpZHRoO1xuICAgICAgICAgIGlmICh3aWR0aCA8IDQwMCkge1xuICAgICAgICAgICAgc2V0RGVidWdCdXR0b25Nb2RlKFwiY29tcGFjdFwiKTtcbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgc2V0RGVidWdCdXR0b25Nb2RlKFwiZnVsbFwiKTtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9O1xuXG4gICAgY29uc3Qgb2JzZXJ2ZXIgPSBuZXcgUmVzaXplT2JzZXJ2ZXIoaGFuZGxlUmVzaXplKTtcbiAgICBpZiAoY29uc29sZVJlZi5jdXJyZW50KSB7XG4gICAgICBvYnNlcnZlci5vYnNlcnZlKGNvbnNvbGVSZWYuY3VycmVudCk7XG5cbiAgICAgIGNvbnN0IGluaXRpYWxXaWR0aCA9IGNvbnNvbGVSZWYuY3VycmVudC5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKS53aWR0aDtcbiAgICAgIGlmIChpbml0aWFsV2lkdGggPCA0MDApIHtcbiAgICAgICAgc2V0RGVidWdCdXR0b25Nb2RlKFwiY29tcGFjdFwiKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHNldERlYnVnQnV0dG9uTW9kZShcImZ1bGxcIik7XG4gICAgICB9XG4gICAgfVxuXG4gICAgcmV0dXJuICgpID0+IHtcbiAgICAgIGlmIChjb25zb2xlUmVmLmN1cnJlbnQpIHtcbiAgICAgICAgb2JzZXJ2ZXIudW5vYnNlcnZlKGNvbnNvbGVSZWYuY3VycmVudCk7XG4gICAgICB9XG4gICAgfTtcbiAgfSwgW2NvbnNvbGVSZWYuY3VycmVudF0pO1xuXG4gIGlmICghc2hvd0RldkNvbnNvbGUpIHtcbiAgICByZXR1cm4gbnVsbDtcbiAgfVxuICByZXR1cm4gKFxuICAgIDxkaXZcbiAgICAgIHJlZj17Y29uc29sZVJlZn1cbiAgICAgIGNsYXNzTmFtZT17XG4gICAgICAgIFwiY29waWxvdEtpdERldkNvbnNvbGUgXCIgK1xuICAgICAgICAodmVyc2lvblN0YXR1cyA9PT0gXCJ1cGRhdGUtYXZhaWxhYmxlXCIgPyBcImNvcGlsb3RLaXREZXZDb25zb2xlVXBncmFkZVwiIDogXCJcIikgK1xuICAgICAgICAodmVyc2lvblN0YXR1cyA9PT0gXCJvdXRkYXRlZFwiID8gXCJjb3BpbG90S2l0RGV2Q29uc29sZVdhcm5PdXRkYXRlZFwiIDogXCJcIilcbiAgICAgIH1cbiAgICA+XG4gICAgICA8ZGl2IGNsYXNzTmFtZT1cImNvcGlsb3RLaXREZXZDb25zb2xlTG9nb1wiPlxuICAgICAgICA8YSBocmVmPVwiaHR0cHM6Ly9jb3BpbG90a2l0LmFpXCIgdGFyZ2V0PVwiX2JsYW5rXCI+XG4gICAgICAgICAge0NvcGlsb3RLaXRJY29ufVxuICAgICAgICA8L2E+XG4gICAgICA8L2Rpdj5cbiAgICAgIDxWZXJzaW9uSW5mb1xuICAgICAgICBzaG93RGV2Q29uc29sZT17Y29udGV4dC5zaG93RGV2Q29uc29sZX1cbiAgICAgICAgdmVyc2lvblN0YXR1cz17dmVyc2lvblN0YXR1c31cbiAgICAgICAgY3VycmVudFZlcnNpb249e2N1cnJlbnRWZXJzaW9ufVxuICAgICAgICBsYXRlc3RWZXJzaW9uPXtsYXRlc3RWZXJzaW9ufVxuICAgICAgLz5cblxuICAgICAgPERlYnVnTWVudUJ1dHRvblxuICAgICAgICBzZXRTaG93RGV2Q29uc29sZT17c2V0U2hvd0RldkNvbnNvbGV9XG4gICAgICAgIGNoZWNrRm9yVXBkYXRlcz17Y2hlY2tGb3JVcGRhdGVzfVxuICAgICAgICBtb2RlPXtkZWJ1Z0J1dHRvbk1vZGV9XG4gICAgICAvPlxuICAgIDwvZGl2PlxuICApO1xufVxuXG5mdW5jdGlvbiBWZXJzaW9uSW5mbyh7XG4gIHNob3dEZXZDb25zb2xlLFxuICB2ZXJzaW9uU3RhdHVzLFxuICBjdXJyZW50VmVyc2lvbixcbiAgbGF0ZXN0VmVyc2lvbixcbn06IHtcbiAgc2hvd0RldkNvbnNvbGU6IGJvb2xlYW4gfCBcImF1dG9cIjtcbiAgdmVyc2lvblN0YXR1czogVmVyc2lvblN0YXR1cztcbiAgY3VycmVudFZlcnNpb246IHN0cmluZztcbiAgbGF0ZXN0VmVyc2lvbjogc3RyaW5nO1xufSkge1xuICBjb25zdCBbY29weVN0YXR1cywgc2V0Q29weVN0YXR1c10gPSB1c2VTdGF0ZTxzdHJpbmc+KFwiXCIpO1xuXG4gIGxldCB2ZXJzaW9uTGFiZWwgPSBcIlwiO1xuICBsZXQgdmVyc2lvbkljb246IGFueSA9IFwiXCI7XG4gIGxldCBjdXJyZW50VmVyc2lvbkxhYmVsID0gY3VycmVudFZlcnNpb247XG5cbiAgaWYgKHZlcnNpb25TdGF0dXMgPT09IFwibGF0ZXN0XCIpIHtcbiAgICB2ZXJzaW9uTGFiZWwgPSBcImxhdGVzdFwiO1xuICAgIHZlcnNpb25JY29uID0gQ2hlY2tJY29uO1xuICB9IGVsc2UgaWYgKHZlcnNpb25TdGF0dXMgPT09IFwiY2hlY2tpbmdcIikge1xuICAgIHZlcnNpb25MYWJlbCA9IFwiY2hlY2tpbmdcIjtcbiAgICB2ZXJzaW9uSWNvbiA9IFNtYWxsU3Bpbm5lckljb247XG4gIH0gZWxzZSBpZiAodmVyc2lvblN0YXR1cyA9PT0gXCJ1cGRhdGUtYXZhaWxhYmxlXCIpIHtcbiAgICB2ZXJzaW9uTGFiZWwgPSBcInVwZGF0ZSBhdmFpbGFibGVcIjtcbiAgICB2ZXJzaW9uSWNvbiA9IEV4Y2xhbWF0aW9uTWFya0ljb247XG4gICAgY3VycmVudFZlcnNpb25MYWJlbCA9IGAke2N1cnJlbnRWZXJzaW9ufSDihpIgJHtsYXRlc3RWZXJzaW9ufWA7XG4gIH0gZWxzZSBpZiAodmVyc2lvblN0YXR1cyA9PT0gXCJvdXRkYXRlZFwiKSB7XG4gICAgdmVyc2lvbkxhYmVsID0gXCJvdXRkYXRlZFwiO1xuICAgIHZlcnNpb25JY29uID0gRXhjbGFtYXRpb25NYXJrVHJpYW5nbGVJY29uO1xuICAgIGN1cnJlbnRWZXJzaW9uTGFiZWwgPSBgJHtjdXJyZW50VmVyc2lvbn0g4oaSICR7bGF0ZXN0VmVyc2lvbn1gO1xuICB9XG5cbiAgbGV0IGFzaWRlTGFiZWwgPSBcIlwiO1xuICBpZiAoc2hvd0RldkNvbnNvbGUgPT09IFwiYXV0b1wiKSB7XG4gICAgYXNpZGVMYWJlbCA9IFwiKGxvY2FsaG9zdCBvbmx5KVwiO1xuICB9IGVsc2UgaWYgKHNob3dEZXZDb25zb2xlID09PSB0cnVlKSB7XG4gICAgYXNpZGVMYWJlbCA9IFwiKGFsd2F5cyBvbilcIjtcbiAgfVxuXG4gIGNvbnN0IGluc3RhbGxDb21tYW5kID0gW1xuICAgIGBucG0gaW5zdGFsbGAsXG4gICAgYEBjb3BpbG90a2l0L3JlYWN0LWNvcmVAJHtsYXRlc3RWZXJzaW9ufWAsXG4gICAgYEBjb3BpbG90a2l0L3JlYWN0LXVpQCR7bGF0ZXN0VmVyc2lvbn1gLFxuICAgIGBAY29waWxvdGtpdC9yZWFjdC10ZXh0YXJlYUAke2xhdGVzdFZlcnNpb259YCxcbiAgXS5qb2luKFwiIFwiKTtcblxuICBjb25zdCBoYW5kbGVDb3B5Q2xpY2sgPSAoKSA9PiB7XG4gICAgbmF2aWdhdG9yLmNsaXBib2FyZC53cml0ZVRleHQoaW5zdGFsbENvbW1hbmQudHJpbSgpKS50aGVuKCgpID0+IHtcbiAgICAgIHNldENvcHlTdGF0dXMoXCJDb21tYW5kIGNvcGllZCB0byBjbGlwYm9hcmQhXCIpO1xuICAgICAgc2V0VGltZW91dCgoKSA9PiBzZXRDb3B5U3RhdHVzKFwiXCIpLCAxMDAwKTtcbiAgICB9KTtcbiAgfTtcblxuICByZXR1cm4gKFxuICAgIDxkaXYgY2xhc3NOYW1lPVwiY29waWxvdEtpdFZlcnNpb25JbmZvXCI+XG4gICAgICA8aGVhZGVyPlxuICAgICAgICBDT1BJTE9US0lUIERFViBDT05TT0xFe3Nob3dEZXZDb25zb2xlID09PSBcImF1dG9cIiAmJiA8YXNpZGU+e2FzaWRlTGFiZWx9PC9hc2lkZT59XG4gICAgICA8L2hlYWRlcj5cbiAgICAgIDxzZWN0aW9uPlxuICAgICAgICBWZXJzaW9uOiB7dmVyc2lvbkxhYmVsfSAoe2N1cnJlbnRWZXJzaW9uTGFiZWx9KSB7dmVyc2lvbkljb259XG4gICAgICA8L3NlY3Rpb24+XG4gICAgICB7KHZlcnNpb25TdGF0dXMgPT09IFwidXBkYXRlLWF2YWlsYWJsZVwiIHx8IHZlcnNpb25TdGF0dXMgPT09IFwib3V0ZGF0ZWRcIikgJiYgKFxuICAgICAgICA8Zm9vdGVyPlxuICAgICAgICAgIDxidXR0b24gb25DbGljaz17aGFuZGxlQ29weUNsaWNrfT57Y29weVN0YXR1cyB8fCBpbnN0YWxsQ29tbWFuZH08L2J1dHRvbj5cbiAgICAgICAgPC9mb290ZXI+XG4gICAgICApfVxuICAgIDwvZGl2PlxuICApO1xufVxuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gRGVidWdNZW51QnV0dG9uKHtcbiAgc2V0U2hvd0RldkNvbnNvbGUsXG4gIGNoZWNrRm9yVXBkYXRlcyxcbiAgbW9kZSxcbn06IHtcbiAgc2V0U2hvd0RldkNvbnNvbGU6IChzaG93OiBib29sZWFuKSA9PiB2b2lkO1xuICBjaGVja0ZvclVwZGF0ZXM6IChmb3JjZTogYm9vbGVhbikgPT4gdm9pZDtcbiAgbW9kZTogXCJmdWxsXCIgfCBcImNvbXBhY3RcIjtcbn0pIHtcbiAgY29uc3QgY29udGV4dCA9IHVzZUNvcGlsb3RDb250ZXh0KCk7XG5cbiAgcmV0dXJuIChcbiAgICA8ZGl2IGNsYXNzTmFtZT1cImJnLWJsYWNrIGZpeGVkIHRvcC0yNCB3LTUyIHRleHQtcmlnaHRcIj5cbiAgICAgIDxNZW51PlxuICAgICAgICA8TWVudUJ1dHRvbiBjbGFzc05hbWU9e2Bjb3BpbG90S2l0RGVidWdNZW51QnV0dG9uICR7bW9kZSA9PT0gXCJjb21wYWN0XCIgPyBcImNvbXBhY3RcIiA6IFwiXCJ9YH0+XG4gICAgICAgICAge21vZGUgPT0gXCJjb21wYWN0XCIgPyBcIkRlYnVnXCIgOiA8PkRlYnVnIHtDaGV2cm9uRG93bkljb259PC8+fVxuICAgICAgICA8L01lbnVCdXR0b24+XG5cbiAgICAgICAgPE1lbnVJdGVtc1xuICAgICAgICAgIHRyYW5zaXRpb25cbiAgICAgICAgICBhbmNob3I9XCJib3R0b20gZW5kXCJcbiAgICAgICAgICBjbGFzc05hbWU9XCJjb3BpbG90S2l0RGVidWdNZW51XCJcbiAgICAgICAgICBzdHlsZT17eyB6SW5kZXg6IDQwIH19XG4gICAgICAgID5cbiAgICAgICAgICA8TWVudUl0ZW0+XG4gICAgICAgICAgICA8YnV0dG9uIGNsYXNzTmFtZT1cImNvcGlsb3RLaXREZWJ1Z01lbnVJdGVtXCIgb25DbGljaz17KCkgPT4gbG9nUmVhZGFibGVzKGNvbnRleHQpfT5cbiAgICAgICAgICAgICAgTG9nIFJlYWRhYmxlc1xuICAgICAgICAgICAgPC9idXR0b24+XG4gICAgICAgICAgPC9NZW51SXRlbT5cbiAgICAgICAgICA8TWVudUl0ZW0+XG4gICAgICAgICAgICA8YnV0dG9uIGNsYXNzTmFtZT1cImNvcGlsb3RLaXREZWJ1Z01lbnVJdGVtXCIgb25DbGljaz17KCkgPT4gbG9nQWN0aW9ucyhjb250ZXh0KX0+XG4gICAgICAgICAgICAgIExvZyBBY3Rpb25zXG4gICAgICAgICAgICA8L2J1dHRvbj5cbiAgICAgICAgICA8L01lbnVJdGVtPlxuICAgICAgICAgIDxNZW51SXRlbT5cbiAgICAgICAgICAgIDxidXR0b24gY2xhc3NOYW1lPVwiY29waWxvdEtpdERlYnVnTWVudUl0ZW1cIiBvbkNsaWNrPXsoKSA9PiBsb2dNZXNzYWdlcyhjb250ZXh0KX0+XG4gICAgICAgICAgICAgIExvZyBNZXNzYWdlc1xuICAgICAgICAgICAgPC9idXR0b24+XG4gICAgICAgICAgPC9NZW51SXRlbT5cbiAgICAgICAgICA8TWVudUl0ZW0+XG4gICAgICAgICAgICA8YnV0dG9uIGNsYXNzTmFtZT1cImNvcGlsb3RLaXREZWJ1Z01lbnVJdGVtXCIgb25DbGljaz17KCkgPT4gY2hlY2tGb3JVcGRhdGVzKHRydWUpfT5cbiAgICAgICAgICAgICAgQ2hlY2sgZm9yIFVwZGF0ZXNcbiAgICAgICAgICAgIDwvYnV0dG9uPlxuICAgICAgICAgIDwvTWVudUl0ZW0+XG4gICAgICAgICAgPGhyIC8+XG4gICAgICAgICAgPE1lbnVJdGVtPlxuICAgICAgICAgICAgPGJ1dHRvbiBjbGFzc05hbWU9XCJjb3BpbG90S2l0RGVidWdNZW51SXRlbVwiIG9uQ2xpY2s9eygpID0+IHNldFNob3dEZXZDb25zb2xlKGZhbHNlKX0+XG4gICAgICAgICAgICAgIEhpZGUgRGV2IENvbnNvbGVcbiAgICAgICAgICAgIDwvYnV0dG9uPlxuICAgICAgICAgIDwvTWVudUl0ZW0+XG4gICAgICAgIDwvTWVudUl0ZW1zPlxuICAgICAgPC9NZW51PlxuICAgIDwvZGl2PlxuICApO1xufVxuIiwiZXhwb3J0IGNvbnN0IEV4Y2xhbWF0aW9uTWFya1RyaWFuZ2xlSWNvbiA9IChcbiAgPHN2Z1xuICAgIHdpZHRoPVwiMTMuMzk2NzcyM3B4XCJcbiAgICBoZWlnaHQ9XCIxMnB4XCJcbiAgICB2aWV3Qm94PVwiMCAwIDEzLjM5Njc3MjMgMTJcIlxuICAgIHZlcnNpb249XCIxLjFcIlxuICAgIHhtbG5zPVwiaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmdcIlxuICA+XG4gICAgPGcgaWQ9XCJQYWdlLTFcIiBzdHJva2U9XCJub25lXCIgc3Ryb2tlV2lkdGg9XCIxXCIgZmlsbD1cIm5vbmVcIiBmaWxsUnVsZT1cImV2ZW5vZGRcIj5cbiAgICAgIDxnIGlkPVwiZXhjbGFtYXRpb24tdHJpYW5nbGVcIiBmaWxsPVwiI0NEMjEyMVwiPlxuICAgICAgICA8cGF0aFxuICAgICAgICAgIGQ9XCJNNS4zOTkzNTgwMiwwLjc1IEM1Ljk3NjcwODAyLC0wLjI1IDcuNDIwMDc4MDIsLTAuMjUgNy45OTc0MjgwMiwwLjc1IEwxMy4xOTM1ODgsOS43NSBDMTMuNzcwODg4LDEwLjc1IDEzLjA0OTI4OCwxMiAxMS44OTQ1ODgsMTIgTDEuNTAyMjM4MDIsMTIgQzAuMzQ3NTM4MDIsMTIgLTAuMzc0MTQ4OTgsMTAuNzUgMC4yMDMxOTgwMiw5Ljc1IEw1LjM5OTM1ODAyLDAuNzUgWiBNNi42OTgzODgwMiwyLjUgQzcuMTEyNjA4MDIsMi41IDcuNDQ4Mzg4MDIsMi44MzU3OSA3LjQ0ODM4ODAyLDMuMjUgTDcuNDQ4Mzg4MDIsNi4yNSBDNy40NDgzODgwMiw2LjY2NDIxIDcuMTEyNjA4MDIsNyA2LjY5ODM4ODAyLDcgQzYuMjg0MTc4MDIsNyA1Ljk0ODM4ODAyLDYuNjY0MjEgNS45NDgzODgwMiw2LjI1IEw1Ljk0ODM4ODAyLDMuMjUgQzUuOTQ4Mzg4MDIsMi44MzU3OSA2LjI4NDE3ODAyLDIuNSA2LjY5ODM4ODAyLDIuNSBaIE02LjY5ODM4ODAyLDEwLjUgQzcuMjUwNjc4MDIsMTAuNSA3LjY5ODM4ODAyLDEwLjA1MjMgNy42OTgzODgwMiw5LjUgQzcuNjk4Mzg4MDIsOC45NDc3IDcuMjUwNjc4MDIsOC41IDYuNjk4Mzg4MDIsOC41IEM2LjE0NjEwODAyLDguNSA1LjY5ODM4ODAyLDguOTQ3NyA1LjY5ODM4ODAyLDkuNSBDNS42OTgzODgwMiwxMC4wNTIzIDYuMTQ2MTA4MDIsMTAuNSA2LjY5ODM4ODAyLDEwLjUgWlwiXG4gICAgICAgICAgaWQ9XCJTaGFwZVwiXG4gICAgICAgID48L3BhdGg+XG4gICAgICA8L2c+XG4gICAgPC9nPlxuICA8L3N2Zz5cbik7XG5cbmV4cG9ydCBjb25zdCBFeGNsYW1hdGlvbk1hcmtJY29uID0gKFxuICA8c3ZnXG4gICAgd2lkdGg9XCIxNHB4XCJcbiAgICBoZWlnaHQ9XCIxNHB4XCJcbiAgICB2aWV3Qm94PVwiMCAwIDE0IDE0XCJcbiAgICB2ZXJzaW9uPVwiMS4xXCJcbiAgICB4bWxucz1cImh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnXCJcbiAgPlxuICAgIDxnIGlkPVwiUGFnZS0xXCIgc3Ryb2tlPVwibm9uZVwiIHN0cm9rZVdpZHRoPVwiMVwiIGZpbGw9XCJub25lXCIgZmlsbFJ1bGU9XCJldmVub2RkXCI+XG4gICAgICA8ZyBpZD1cImV4Y2xhbWF0aW9uLWNpcmNsZVwiIGZpbGw9XCIjRUM2NjJDXCI+XG4gICAgICAgIDxwYXRoXG4gICAgICAgICAgZD1cIk03LDE0IEMxMC44NjYsMTQgMTQsMTAuODY2IDE0LDcgQzE0LDMuMTM0MDEgMTAuODY2LDAgNywwIEMzLjEzNDAxLDAgMCwzLjEzNDAxIDAsNyBDMCwxMC44NjYgMy4xMzQwMSwxNCA3LDE0IFogTTcsMyBDNy40MTQyMSwzIDcuNzUsMy4zMzU3OSA3Ljc1LDMuNzUgTDcuNzUsNi43NSBDNy43NSw3LjE2NDIxIDcuNDE0MjEsNy41IDcsNy41IEM2LjU4NTc5LDcuNSA2LjI1LDcuMTY0MjEgNi4yNSw2Ljc1IEw2LjI1LDMuNzUgQzYuMjUsMy4zMzU3OSA2LjU4NTc5LDMgNywzIFogTTcsMTEgQzcuNTUyMjgsMTEgOCwxMC41NTIzIDgsMTAgQzgsOS40NDc3IDcuNTUyMjgsOSA3LDkgQzYuNDQ3NzIsOSA2LDkuNDQ3NyA2LDEwIEM2LDEwLjU1MjMgNi40NDc3MiwxMSA3LDExIFpcIlxuICAgICAgICAgIGlkPVwiU2hhcGVcIlxuICAgICAgICA+PC9wYXRoPlxuICAgICAgPC9nPlxuICAgIDwvZz5cbiAgPC9zdmc+XG4pO1xuXG5leHBvcnQgY29uc3QgQ2hldnJvbkRvd25JY29uID0gKFxuICA8c3ZnIHdpZHRoPVwiN3B4XCIgaGVpZ2h0PVwiNHB4XCIgdmlld0JveD1cIjAgMCA3IDRcIiB2ZXJzaW9uPVwiMS4xXCIgeG1sbnM9XCJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2Z1wiPlxuICAgIDxnIGlkPVwiUGFnZS0xXCIgc3Ryb2tlPVwibm9uZVwiIHN0cm9rZVdpZHRoPVwiMVwiIGZpbGw9XCJub25lXCIgZmlsbFJ1bGU9XCJldmVub2RkXCI+XG4gICAgICA8ZyBpZD1cIkdyb3VwXCIgZmlsbD1cIiMwMDAwMDBcIiBmaWxsUnVsZT1cIm5vbnplcm9cIj5cbiAgICAgICAgPHBhdGhcbiAgICAgICAgICBkPVwiTTMuNzE2OTA3MjMsMy45MDI3MTA4NiBDMy41OTI2ODE3Niw0LjAzMjQyOTcxIDMuMzkxNDM2MjksNC4wMzI0Mjk3MSAzLjI2NzIxMDgyLDMuOTAyNzEwODYgTDAuMDg1Mzk2NjU5NSwwLjU3NjA1NjE1IEMtMC4wMzE0MjIxMDM1LDAuNDQ0OTgxNjI3IC0wLjAyNzk3NTE0NDgsMC4yNDA3MjUwNDMgMC4wOTMxOTM0NjIyLDAuMTE0MDQwNjc1IEMwLjIxNDM2MjA2OSwtMC4wMTI2NDM2OTM1IDAuNDA5NzI1NDQ1LC0wLjAxNjI0NzU2MjYgMC41MzUwOTMwNjEsMC4xMDU4ODg5NTEgTDMuNDkyMDU5MDIsMy4xOTc0NjAwNiBMNi40NDkwMjQ5OSwwLjEwNTg4ODk1MSBDNi41MjgzNDU3NCwwLjAxNjg4ODQzODkgNi42NDc4MDU4OCwtMC4wMTk3NDczNDU4IDYuNzYwNTQxMSwwLjAxMDM1Mzg0MDQgQzYuODczMjc2MzMsMC4wNDA0NTUwMjY2IDYuOTYxMzA2MzYsMC4xMzI0OTIzMDggNi45OTAwOTY5NiwwLjI1MDM1OTM5NiBDNy4wMTg4ODc1NiwwLjM2ODIyNjQ4MyA2Ljk4Mzg0Njg3LDAuNDkzMTI0NjA4IDYuODk4NzIxMzksMC41NzYwNTYxNSBMMy43MTY5MDcyMywzLjkwMjcxMDg2IFpcIlxuICAgICAgICAgIGlkPVwiUGF0aFwiXG4gICAgICAgID48L3BhdGg+XG4gICAgICA8L2c+XG4gICAgPC9nPlxuICA8L3N2Zz5cbik7XG5cbmV4cG9ydCBjb25zdCBDaGVja0ljb24gPSAoXG4gIDxzdmdcbiAgICB3aWR0aD1cIjE0cHhcIlxuICAgIGhlaWdodD1cIjE0cHhcIlxuICAgIHZpZXdCb3g9XCIwIDAgMTQgMTRcIlxuICAgIHZlcnNpb249XCIxLjFcIlxuICAgIHhtbG5zPVwiaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmdcIlxuICA+XG4gICAgPGcgaWQ9XCJQYWdlLTFcIiBzdHJva2U9XCJub25lXCIgc3Ryb2tlV2lkdGg9XCIxXCIgZmlsbD1cIm5vbmVcIiBmaWxsUnVsZT1cImV2ZW5vZGRcIj5cbiAgICAgIDxnIGlkPVwiR3JvdXAtMlwiIHRyYW5zZm9ybT1cInRyYW5zbGF0ZSgtMTE4LCAwKVwiIGZpbGw9XCIjMUJDMDMwXCIgZmlsbFJ1bGU9XCJub256ZXJvXCI+XG4gICAgICAgIDxnIGlkPVwiR3JvdXBcIiB0cmFuc2Zvcm09XCJ0cmFuc2xhdGUoMTE4LCAwKVwiPlxuICAgICAgICAgIDxwYXRoXG4gICAgICAgICAgICBkPVwiTTAsNyBDMCwzLjEzMzg0NjE1IDMuMTMzODQ2MTUsMCA3LDAgQzEwLjg2NjE1MzgsMCAxNCwzLjEzMzg0NjE1IDE0LDcgQzE0LDEwLjg2NjE1MzggMTAuODY2MTUzOCwxNCA3LDE0IEMzLjEzMzg0NjE1LDE0IDAsMTAuODY2MTUzOCAwLDcgWiBNOS41OTE3OTQ4Nyw1LjY5NzY0MTAzIEM5LjcwOTA1ODE4LDUuNTQxMzkwMjMgOS43MzI0OTM0MSw1LjMzMzg4MzE4IDkuNjUzMDMyMjcsNS4xNTU0MTQ5MSBDOS41NzM1NzExMyw0Ljk3Njk0NjY1IDkuNDAzNjc5ODksNC44NTU1MTYxOSA5LjIwOTA5ODE0LDQuODM4MTExMTggQzkuMDE0NTE2MzgsNC44MjA3MDYxNiA4LjgyNTc3MTA5LDQuOTEwMDU3MTcgOC43MTU4OTc0NCw1LjA3MTU4OTc0IEw2LjM5MjYxNTM4LDguMzIzODk3NDQgTDUuMjI2NjY2NjcsNy4xNTc5NDg3MiBDNS4wMTQ1MDU4Miw2Ljk2MDI1NTE4IDQuNjgzODkwNDYsNi45NjYwODg1IDQuNDc4ODM1NjMsNy4xNzExNDMzMiBDNC4yNzM3ODA4MSw3LjM3NjE5ODE1IDQuMjY3OTQ3NDgsNy43MDY4MTM1MSA0LjQ2NTY0MTAzLDcuOTE4OTc0MzYgTDYuMDgxMDI1NjQsOS41MzQzNTg5NyBDNi4xOTI4OTk0NCw5LjY0NjE0ODM5IDYuMzQ4MjYyMiw5LjcwMzEwMjUxIDYuNTA1ODgxMDYsOS42OTAxMDU4NyBDNi42NjM0OTk5Myw5LjY3NzEwOTIyIDYuODA3NDM1MzIsOS41OTU0NzYxMyA2Ljg5OTQ4NzE4LDkuNDY2ODcxNzkgTDkuNTkxNzk0ODcsNS42OTc2NDEwMyBMOS41OTE3OTQ4Nyw1LjY5NzY0MTAzIFpcIlxuICAgICAgICAgICAgaWQ9XCJTaGFwZVwiXG4gICAgICAgICAgPjwvcGF0aD5cbiAgICAgICAgPC9nPlxuICAgICAgPC9nPlxuICAgIDwvZz5cbiAgPC9zdmc+XG4pO1xuXG5leHBvcnQgY29uc3QgQ29waWxvdEtpdEljb24gPSAoXG4gIDxzdmdcbiAgICB3aWR0aD1cIjMzcHhcIlxuICAgIGhlaWdodD1cIjM1cHhcIlxuICAgIHZpZXdCb3g9XCIwIDAgMzMgMzVcIlxuICAgIHZlcnNpb249XCIxLjFcIlxuICAgIHhtbG5zPVwiaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmdcIlxuICA+XG4gICAgPHRpdGxlPmJkNWM5MDc5LTkyOWItNGQ1NS1iZGM5LTE2ZDFjODE4MWI3MTwvdGl0bGU+XG4gICAgPGcgaWQ9XCJQYWdlLTFcIiBzdHJva2U9XCJub25lXCIgc3Ryb2tlV2lkdGg9XCIxXCIgZmlsbD1cIm5vbmVcIiBmaWxsUnVsZT1cImV2ZW5vZGRcIj5cbiAgICAgIDxpbWFnZVxuICAgICAgICB4PVwiMFwiXG4gICAgICAgIHk9XCIwXCJcbiAgICAgICAgd2lkdGg9XCIzM1wiXG4gICAgICAgIGhlaWdodD1cIjM1XCJcbiAgICAgICAgeGxpbmtIcmVmPVwiZGF0YTppbWFnZS9wbmc7YmFzZTY0LGlWQk9SdzBLR2dvQUFBQU5TVWhFVWdBQUFJMEFBQUNYQ0FZQUFBQW9FOWhZQUFBQUFYTlNSMElBcnM0YzZRQUFBRVJsV0VsbVRVMEFLZ0FBQUFnQUFZZHBBQVFBQUFBQkFBQUFHZ0FBQUFBQUE2QUJBQU1BQUFBQkFBRUFBS0FDQUFRQUFBQUJBQUFBamFBREFBUUFBQUFCQUFBQWx3QUFBQUNJOE96M0FBQkFBRWxFUVZSNEFlMmRDWUFsVlhudnY2cTc5ZDdUTXozN3NJTWdLS0JDa0xoa1NLSzR4SlVNUVZ6QXFKQmdOREdKYTJMc3ZKZkVSSTBhaUVid1JYbm9RMlZZUkFTaVFVRlJVR1FtN0RBd3pEQmJUKy9ydmJmdlh1LzNQMVYxKzg0Q3pFdzNNTlBENmE1NzluT3F6dmV2NzN6bk8wdDU5cnpaYlF1ODhzWG5kcDJ3NGdWTHA1b0crNis0N2l2RHUwMTBrQWI2QitselArVmpyMXpaazB4Vi9kZE1WSXVmYXAvMzRnK2UrczlyWDkzNTFVMWRUNW5wSUlwTUhrVFB1c2VQbXRvK3RLaGN0VldQRFcxL2MyN2hJVk5iQ3NGYkNwYTcvYVIvZi9TV0ZWMlpYOTc0enNORzk3aXdPWmp3ZWREc2hxaVpsTDNBRDlKSDlZOFBwVFlNUEpFdUxqNytwY2xFNXZCcXVYWjZNVi81Nlp1L3VlR25tV3BxemVyM0h6S3ltK3h6UHNpYjgwKzRsdy9ZMDlQanI3bG05R08rZVIrZUtJNHRYZGVSc29tWHY4YTZEajNlcW42aVJvUGw1cVc4M282MHZ5YVQ5TzVJV1BYMmxsckgraHN1WEpiZnk2b08yT1RQZzJZbjBwMS82dWVXRksxd1dUS1JlbzFYRFpvZXF3N1l4aGNmWWZOZjlOdFdTSFRZVkxWcXhTQUlxb0ZsVTc2TnpFdDZtenFTQ1FCa3QzdXAxTnJsSFVkc1hYMjJWOTJwMkRubGZSNDBPNUF6OE41NytwZlBnY3Y4WXpMWmRIaktTM2k5dVMxMjU0S2l0ZjMyNzFxcTgxQVRHa3Exd1BKQ0RWZXhFdFM4b0ZaS3BCTFplV2wvdzd5RTk4dVVaM2NuTFBoTmVmU0ZteDdzOFVvN1ZERUhQTStEcG9HSTcxdjV4YU9Ea24wMmtVaTlOZTAzSnozUHMySmgzTzR1YmJDQjAwNnl6cU5Qc1lyZlloYlVyQndFQm5ac3RCTFlCRkl6U0RJWFFCNUxlT1kzSlhvWEp2My9hZlA5SDlkcWR0djhYSGI5bXA1VDVrUVg5cndnM0FDYWFpRjRaY0wzVDB4NktRQVRhaU5TNlJaYm1tK3lpYjd0Rml3Zk03KzF5U1RZSkFDTXVFNnprdEZQNVgzUEtnREl5b0NuVUxGYXZyS3MzL2VXOWFmOE4zcVpSTjl3VTlOOVIzM2hnWjhrdmVSdnl1WHMyZzJmT0dXOG9lb0R5dms4cDRuSTlaN2YvZUx5Wk1uL0FrUjlhenJSM0FTdk1IZ0pzWFJEMlg2N3EzblVjaTg3eVZvUE9RbHVrNGFwQkk3YmxOVlZrU3lMWFJIclVSWllpd2xBZEY4RWhtRnFhVjVSTCtYbk0rbkVmZk44VzJPSnhHMmUxUjVNcFB6KytkVUZ4V01QKzNsaDlkbG43L2Z5MFBPZ2daWWFNVDN4bzY3WHBuenZYMVBKelBGSlAyUEl1c0FGb25OVksxUDJRT0VKMjN6MFFtcy8rZFZXeWN3SE5EVUhuQkpKQ29CbDNQVlE1SERBSVpEOHJydkNjcmFnVUkwQlJHQ1Nwazk1NDAxcGYzMjdGL3c2NFFjUDFGTE45MlJxM3FaTTgxaDJ4Y2hVYWVWblZwWjZQRTh3M0svTTg2Q0JIQmU4NnRLbFFhM3dsd2svK2NGVW9xVlpYVk1BS0FRWWNSU0RibjNacmZaQWU4RXFMei9kTWd1UHRyS0hxRXVVWkJzeGt6eGdFYmNwaTd1NHJQdzRPL0tMN01yQXZ3T1BRQ1NPRkhFZzg3MEtIS2V2eGZjMnBCT0plMkYwNjZwV2U2ZzVtZWhyU1ZvMktMZE0rQzIxd3ZvUEhWMjI1eGhJQnoxb1ZxMjZLakd2dC8rTm5ubC9tMG8ybjVwSTBJZUlzSURHV1ZCZWRyNDRiZzlWdHRuMkU0K3dqaGVjWXVWTVo4aEFBSXA2SW5HYkNUQlFoSnVFZUNPUXNKRGpxRHhkOG1QclI3WkFGYWVKdzBVUkJHbEwrb1ZFd2dhYWZYK1Q3OXVtaXZrYmtLV2V5UGpKclMxK1pTUmhpZkZNTWpOUjdVNU1QTEhwOEpMMVBIc2M2YUFYaER1MlRuUUd2dmRLUmt3dlNBSVlEdzVTQzJBRElwNGpKRGFPVExMSkZwZWFiV1Jnd0NyTFJpeVo3ckF5N0VDREpROHdwRWpWakx1TVFGeFZSa25MbmdyQTl1VlhPYmdWRjBTMmhHZ1ZvSEFsbFJHd3dxNnNxZW9GaDJhNUxHR3Zza1N0QUFjYzh4TEZyUlhQMjA2T3Zsb3R0NjNTbTN5OExiT3VkOG5Gai9VbHZNbXh0blJ0Yk0wRkx5czhrOXhJZDN6UUdzZGwrZ2RQODRQRUYxS0o5T21wUk1hMVJiVW1xb200NGpMNlEzNmhLOGtXUnV5KzFLQk5uUGhDYXpueVpWWkpOaVByaXRNZzl3Q0tFbmFXckhueXFlZHhRQkhiRVNBY1IxR3hLamNzM3JseE9xT3czUm5sYXpRUnhnQkZZQWwvQ3E0MGdpeTJ2ZG4zTmdhSnhCTUp2L1pnUzhidmJjLzRBOGx5ZGF3MTRlZXFxZHpFbWd0UEtUY1dNeFAzUWMxcDJzY21GeWM4LzNVSkwvRmlBY1pIbHBHQUsvMk1CT0hRaEZTU25OT1VhclB1OHBpbHMwUEdJTnhHTEFORDhXRUVHTGhKQW53MHdUMnFjSklDK1IxRGNkeEY4VnlTZHh4bmFTdzdkcXVRbll5cWhuT0ZKclpKcnl3QkJWZHFMVmF4RnRDd0FnNTNxaVdxNVV6Q0h5bFhhcU1UVTlickl3KzErdGJmV1dsZGQ5SVhIeHBJSm9MQlpDWTlraWxYcHlySllpN2Qzekd4OGpPSDc3V3dIZDlKZEdNSGo5V3o4dFprZi9Ed2E3d2c4Wmwwc3ZrME4yS0NFa3dRT09BNEFSaFdFWStpWk5kcVpac0lobTNCeTVxdGROd0xiVTFocVkwREgxRlFITWR4R3poREVhSk9ZR3NJTGtaREllRlZkOGRoamUwZGdhRXhxRTZkeU9Hc1JyZkthY2lnN2xCSUZVQUJtK2Y3dFdZL0tBQ2tRYkE2NXZuZUlJTDJjTWF6eVhUQ0cwZ2xFbHN5Q1p2Z3habXlXbVhLVHlmR1dwUEpzY0hjMU5UL2pDVXFsc29GSnc0K1VGbTA2UmZGeXVDanVkdHV1NjJpMmc1YVRqTlUzckRJU3lUZmdPRHJ1RXc4WXFxcHhTR3lHRUlBQWRRTGlCRHFwRVNOeFF2bTJ3c09hN0x0cVNuTFRPYlF1MlFpenFSb3lUYmtBU3hWaUpZanlQVUp5dXJZanNyQ1RieVRZeUw2aDRUSEUvdUpEUk0yQkRRNHczUlIrampjY2JBb3pPVjNKZmo1bXRlU0Q0TERDRHJNNS82eVBCRGp2bW9xNFJVU1hwQnRUbmlsWnE5YVNmcFc4Q3ZWWEQ1Wkc2OEV5VW56aWt6QjFhcVBadzR0Vmc3Ny9iSGpXNC8rMWV0ZnRmQzJtMjlmUFhSUWd1YjhsZDlzQ3FyVkY5SXRyVXo1NlJiZjEvQlpiQ0NrbTdvbkVWSTlRQmdTRVJuQ2QzUTNXV3RYeGlhR3hxMDBtYkpVVjRjRktQc2NKa2lOdnNYbGFSWXdBRTRXbjRia3JrQ1ZxeUwxNDdoUEZDNXJGeU4yZ1hIQ3RITkVlUlVXWFdGaGtkOFZ2RXVjZXJjMDZXU3JSQ3dZamllNnQzRVBiUlhKWUFRbUVkd0Q2aXJBSGxPMVlpV1ZHNm1XaHdlQ3l1UUFQR2k4WENvVVRpZ251a2RYclZwMTYwRUptaVlyTFBIOHpObUpaUEs0Rkp6Q0dhaE8yMkY4R2pqU3o3Z1FoWWRBZ04xYjE3SzArYW5BK2g3cnM0bEszbG82bGxnMUFXaWdpQmNoUjl4SndIUDVDTS9pY3NBUm9KUW10Z1VjMVNIcnlZeUFGcHZZcmFEWXJiZzRTUlRtZ3hDTjVnU1NCRDlwYkJGYXdFbVFXTWwwYVdTdnpBNVF2RFIrZWNxcStXRnZjbkJMYWtIdmxsU3RyOC9hSmtkdEhpVVVVaTN6dGxlMjEyNjU3WWJhUVFlYWo1eCtWWE10VVR3VEFlVnQ2V1FtNlFNRUovVFNnSFhhaFFpZ09TWGpxRjBWV2JOTW0yOXRpNUpXeXBhdHRHbUs2WVNDVlE4ZnRXU0dseFlTU2E1UmNvYndUamhPd1dGYUNVRldOc2JBV2xJUjlrd0NqZ3FPUUNiU3VZek9zZk1QYWZsM1ptZGJnUzVNaEFjb3VCMDRxRStna2RzQkJEc0dqR3psRWFnVm53alFBRTFOV0hteXovTDlXNnphMzJ1ZEErTzJyTkppcmJWV2VxaUtzVXlrbUVrMFBaeklEajlBbHVDZ0FnMGs5UzVNZkd0aGM4M2Vsa2dtRmtpUnAwWVY4ZXFBQ2R1VWNIUXdEZ1I2WDNrTFNkRGF5UWlxdzJ4OE8wU1p6RmlyTjI3VjBRRkxkeXhrR3FuRkVVN1VWOW9LMmZSV0N4dXQvSWlmRlFDamdDTkJ1UllEaDNCWHVlN2p5WXk3UnlKMUs4NW9aa3l6RVB6d0FPSVlHc0ZwWmtKMklnS0VlemI4U2l2Z2l2ZUY0Q0VzUU5xYUdyWFNXSjhWZWpkYXByL2Z1c2J5dHFEU1pJc1NTNnk5ZVI2NXpJYTR5c1pVditmZGMrempmekY4bjkzaHdPWWlENGFmajc3Mld5MU5sZUMxTk4xdm81ZUJ5WVJEYlBmQzArQ2lRZjBYQXJ0dVJxbzZKU0J0KzVLa0phQlVkb0NoZGFYWnVtcmoxai9VYjdWRks4eHZiN0VhaEVueDQ1UjdnRU9FOHNsYkJpUWlYRUxnd1YvQUx3RlpRL05RejZONm45b3drZTdBb0ZTdXJEcEFGQjdldGNMRmNad0tBSGNJRktVSExzcFB2WWxha1M1b3pBcWp2VGJWdThGU0EwTzJhS0pvaTNpZTd0UUthMmxwUlJrZENmZThMQWxVRVpWcVlZem1lSEMxaFpPcEJ4V25xZFVDMXY0bS9pS2RUcmFuV1FnTURjMlhBS2cvR3RzTmFuQ0xkWXNBamp3a3FqQU1UNkdBNlZyaFd4azJNZDVYc1hTaXlicUNWdHMrT0dyRnNVRnJiZXRteE1Uc3QvSlRwdDV5bjd3Q2h3UlJBVXBsSnVteTFIVUlMSktQQlJ5Tlk1MnNqTDA3UTFFdWo4cVVrZVc2SHJueHhCd2tqaGR3WkVJYkVORUZKVXBURm9EMjdIQ3ZGYmMrWVcyQTVZaHN6YnI5RHV0dVdtcE5UYTBBaTFLNXIvQXY1Skpvd2t2bVRXMnMrSlAzdTBMNU9XaEE4NkhYMzVTcGxVWSs3Q2Y4RTFMcEZJd0RRcm9SRHFTa29UUktFZXRtSFI3ZWtJUVNiQk9NcktwUXRhMmJrUk9jWm54N3hmS2pVc2FtckNQUlpsM2pmVFk1MEd0ZU45citGdUNnTWh4QUlDWEZxRXkzT29MeTFWM3BQd1NNd0JwV0xaMmYzTEVoaVpJNUlBbG9NZ0pqbkYrUmNialNpWk80ZnhjdUNLbEFuZ2ZCMWdySUsvU25rOFBiclloZ08yOHNaMGRNSlcyaHY5QTYyK1paaXVrUmRjVmhsbW5vcW93cVlHUFdmNlRjdlBCWFAvajVsd2ZkamZCelVJQUdRZGY3K0d1dmZtWEY4OStjVENjdGxRb2ZPMzR6MVJocWF2QUNCV2h3NXlBTVFqdGREZURwV0l6ZzJCelk1R0ROV0NsaGdBKzFIbDFVSVdXNXdTRVdYVEVmMWR4T3BoUUVGb2xwWEJBalc3L3dIemladUFzMXFSNk1NRXZScnR0UWlrYmo4aE1RaHlKOTRRdTdIdVZ4Qmx2Z0NXUDBxMXJnS3VXU0JWTWpsaC9hWXRuQlhrdjNEMWs3WGRCUjFZd3Q5aGRZWjBzbndtMElGcFcvUTkxaE1hNWVhY2RabERZeTBkWjVOOG5xaURvb1FQUFJNNysxTUtnbFA1Rk9wK2VubTNsa05Rd201Q3cwR2xUUUNNcTlvN2docjJzaXlUeFYxTHlTWXpxWEkvL0FjUmhrR0MrZytXakRVZ0JrSHR4bVlHek1Tc045VGlEMm1mMnVnZ3B4TVJGWExjM2NVRVNFRURnaGdOd3R1SGpwUndRbW1ZaG1ZZVJ1ZnFOYmR6SHFmdVNYd0c3Vm9nWEZyRlVtQnkwLzBtdlY3YjBXakl6YjhueGd5NE0ybTUvcXRoWkdlWDRDYnFqbjFaL3l5Y1NGT3BzZi9xVVo5NEpxclpoS1BqYmM1SzhKRTRhL2N4NDBMTEJLVHQ2UmVUM2Q5YXZUelNqamtDaGR0K1FhTFh6cnBjRjF3cTdhaTNaMFJGWDdRSEdQdnFhNWt4RVEzZFBVZUdCVFl5Und4SktkdExZa1hWUngwZ1lHQjZ5NmlIbXBqTGlOaE9nUU1GaU9RQUtQQXlrRWsxdjBjaGV4WkhCaE9Kd0orUlJPUmRVcEttY29hNFU1TkVwRE0xY1JWNW0wNG5pL0ZZZTJXN20venpMaldRZVdSVjZIZGFRNnJKbUpWWi91MUlGQlJZWUZPMWZkcXh1TjZuSXZqKzdhRDRyRlZHTE5rWW11Z1ViVXpIblFUTng1M0FrcHo3c2cxWVFrazBZcWdKK0g4b0M0aXdoSDQwUmdVYytrUHNOTkphaHJRaWdSZHhHWFNiVUVOcllKR3FIaVRkQTFLVTRGcEpFSnVrdHROdHpQOEhVWjNHYmVZdDdtWmxlSjR3QXFFbUtFNzdZSUU1SkdkVGFDd2dISnhVWXB1QmNsQ1FFVWNpcjVmZFdMa0ZXVnJKSWR0ZkpJdjFXSEJ5dzVOR1lMY2lWYldFcFpaNkxiMnB0YUxFVVhaQ3oxa09GcCtGVUpEV1lIN3c0ZW1xRVdNTzB3TnBIMDcvN3g2aDJYb001cDBIeDgxVldkWHM3ZWlUN201QXpMM3hLTVRRVVVkcVk0c0tnZEpldzY0S2hORllrUlIxRDcwbXgwVFRYclhFWTR0TW9Pa0xhU0FCU0tVeHJnQlF0clM3VmFXMjdNeHVBMnZPTG10MmdTVXlia0lHcmtHQlRLSnRES0ZuQmMzYmpqWVRKT1p4U3ZlM0JDcmd0aElGOHVXQTJ1VXBvWXRpS0NiVzFvMk5LakU3YUFSY3JkMVNZRTgyNXJhMjUxUXJwN095Z2tCSXNySVBweEpWTzJIbkpYRTRicXQwWXZtK2hkVXE0OXVIT3FPUXVhcTFpUjl6OVRpZGY0U1c5VnBqblpsRXhCRnRxcnNhMGNSbHpEUnNEUnlBbDJvN1V6YnJnSzk4K2cwR3RmVWJYQ0pGc3JoeEJFV1U3bnFFNWFBVUhEOHd5ZzZjbzMyOFRnc0ZYR1VmWTF0UU1tbFBkd0szRXZ4OGxBZ01nVmNwaHBVbXFvcndnWEYxSEhoUkhpY3grMWFva2VLTTg4RjBBWkhiVEtRSitsaHNkdFhyWmtYZVdrZFZtN3RkTDlaRkxONElSN0U3MVZYdlFDUkVXRzRjNURBcVhaeVlUU0VWSGNqNTZmT3l6NXllVGRSMVpPN04wcDZkd2RQZDF2NmVPVHllQ2R5YlMvbkc0cFZsazBQRC9ONUJvM2JtYzFKazFGbUp2eEZqdGdMTnphemZSQlIyQWpqeVdza2hmbkVjSFY2aUFxSWs2Q3VhZXVSTHNOVGd6YUZBSnhhdjVTODVzQmplSmRzUUlNSGt6NEd3SEloZkJEbWppY2pYZTg1R3lCcWJJZU9UZHUrZkVoRkhHTWRnY0hMYzF3ZVVHdVp2TXJTZXZ3dTZ3Wm9HZ2RrQnN5eDJXSEJZVVBGWmUvTzVSRWNURllLTVNsRW1pY1dJNE9rdkhpMnA3YnpxQ0QzdEhNU1U3enlWVTNMZlJycFlzWVhyOGkxWnhNU1NlakZ6bzJjYnRHbEtxL2xTRVhRTmpraGEwQkdJOWVwbTBwNEFCQStVSGtvYXJQUEJQa3I2TEpWU05qYTFncXJXOTd1cFBoOTZSdDZOMXVyVXNQdFdRTHM5OFJJV0pJcUQ3VkxXQ0d3SXR2Q3FtSDFZTHFma3FVTVFWUThxTkRWZ1FvTGNNVDFwa3ZBNVMwZFJyelFja1dPQmtMeHVnVzQrZHc5LzBVd0lpZnV3NlFPSzBBM2VCV1YrZ0dBWHFtbEQrWVNnUjN4bmtiN1RrSEdpbnhNbFo2alovd3prZzJKZVpydUZ4djNZaEdjVU01cndqb2lDZ09FM0tFa0FQUjdiVFVyS1ViamZBVXI5MEVzZ3hsYVNNQUVxSkxHd0tIUlZ0MFZTemtjdHJWdm1GR01TTjkxcnhnaGRXU21uRVNhYU9LSFVtb0k3b2x4MVVRYW1zTWxZdTVVWnRBVGlrUERWa3d6SnJBeVpJdG9ONkZOZWE0MkVQZUpLN0NDRWd6N1NveEJGMGpLWi9NSFQrdDRuWC84YjA0cjBKY1J0bjZjeHlSQnFDcmU3alc1Vzkwa1R2OXpEblFkRFJQblliazhYNjR6Rkh3R01ZNU5FcE1wUGpoZDlkd0lLZE9ETG5wSlpybk16cnFyREJOd0dMemZNSzBpa0lBYzF3SThJaUFOYmlZZERuUzZYUTJ6YmR1bEh5RDIvc3NXREZ1aWJaRkFDUVVlNTJjb25vcElLRTF5Qlc0Q2tDWkhCKzB5ZjV0REpXSExEbWFRellLckx1R1VKdUVyeVNaQjBLdjRsUjYwVFBvSHAvY2tBZ1QvazY3cGg4WFdFeDdTRWRLOXgvbVlGRUlMMENWWjJIR1BPbi84cExWRitXK2FoOTBaVGIrekNuUWZIYlY5VWNYelQ2RUhQTmJtVXd5cVc1RjYzNWwxTmhxR2ljZ2htMmw0R2tEMFdVRUNxWHhFRWxhRnRHQWFXYWxXYXNtZlkxQUkzclhtUG5UZElOUEZ5WUFKZFJkVlJQV3lqek9vbEtYamFCVXEyYUhBUTJiNmloSUphTW9NNS81bndwRDVTeEFHVWYyeWJMVjF4K2F0QTdtZ0E1Rld6cy9pWnlTYnJXTUZyZ3pWSGIzcTN2U2plM1doTVFPZjVVZzh0Y0RZbjlrdXpKd3UvODRMTFJCRThIY3FjY2VDOThyc1dia2JrSjJXL1djQVUzUHF2K2FYL0hMTEhud1hwbkpwRnJvbnR4YjVjQVN0bFBZcUZFek5MeHdMcnp1SjE3TEZ2eE16ZEpkeUJrVkZQUFpGQUt3ZER5QVJmS09aRlVwQkxuRVpSaWNBaHdBeE5xRTduSzNMU3prckRBRzU2Q0xZdDB0S3ljbmJBb2hlV1JnSzlNUWZWWWNHS2I3S2RxU1lzcTZtZlNjaHdLdUtkMGNEcFVoWGRoTlRvTWxKcStqK2M0L2pjOFd4ZTNJVGZSNEtrR2dDSTF6UlE4OFhYWW96L0JVekpyN204ZTl6QzVEN1NqNzNCZzlyZVNNdklSZlhJbGU0V3k0ekNKa0R4bjNqRzdZTk4xYTBkc2taTVJ0R1VlcVdURmlDNHdYMG0xMFRTMVZsR2hNV0U2Rm1tVHBaY0lwaDJuUStFeGZvMjJQZ0lRaUVDM3N3ckZXZTJ5ZzM1cTZuckJhcXNsR2V6Zlo4Sll0NWcxT1dEdHJLdzlIVHVsS3pMT09UQWV5a0haQlRBdTE3cVloM1BSZGhTSFIzY1dldWgwL1p4d1E1dU9YNTI4c0krUWlZYXJwbUNpMWF5dEFBNGRWZS9tcDVHOE9PKzI5dzNiekg4ZkY3bURQQ1U3enUwdGZlaXlQZWdFUy95bHBackNseEhQdG9FZlZ5RW5jQlZ2dmJ0aklhbFM4c2lMYnVhTm1GbTZhT2xqUmxxNVphWVFoRkVOY0ZMOHVnK3ZlNnB5R1NVa2FXbUdzT2JaaXNjRFdYT1NVWU5JZTJiamRta2Y3YlNrQVNRK1g3ZWdpTTh1cFpkYkdORU1LSU1HMlZDQjNGTEkrOXhzNlhXaGpuTnk2emZqWE9lTWZGeEhESUV3VnBvemNXSEZzWTM0WFZvK2o5V2lJcXFZbENOUEpGajA5dkNGUFlnNW8wRUFzNysvUCsrRWhpVnJpajlDNXZUcmRGSE1FbmxZTlFrT0VvTUNEQ1pVMXpxbVdDYmtOM2tqVExoY0E0QmV3cExvcWJtaGRtVXdicS95WW9JeklxMjZKUkc3R21wRlBxVkswYkNscmZia1IyNGhpNy9ISkVkdkMwTG1BL0RJNm1iZVhKQTYxbzFxT1pRak8vQTlpdVRUSjhLVVFhSlNqVHFIZUVZVzNHZDFnQkNqZGtETjZJTG1WS0V5NFUvSXdXWnkyTVkxTEdJSlUwYTVkaUZmYmhJRFNMOTJ3eDR2aSsxa3Y1ZDNaVU5ndXpnTWFOQjkvM3c5WTVwSmFHU1Q4ZDZReWZqT1hrL3hkbzZwQlhLTzRWZ29aalVOUTJBWnlhdDJMakF2RzcvSWg0Q1piV0JmYnpGQWE3bEFyaEt2MXhCZ0VGdTIrckFSRnk1VnpOc1RhMnMwSXZKc1pCVDJTbmJUeEVrQkRqMklkQzBBR2Zkd2tXM2daSmplM3RNTllXS0NGTUtSaHRpNUJzT1plWm9GUWRUZUFKOEtKdTBkM1g3ejBMa3llK0ZLZWFSUGYvblJJK0hEVDRRS0o2NlNpSkNGUVhIK3NSRkdkY09tK1RONS9iTHFjWFYwSExHZ3UvdEJObWVLVTl6TEd0QjlKcGhOSHA1dllFayszNUF5Tm93WlhzOFJ0N0dJSURCVmg5ZUNvUmFKMCtKUXUyVmEyUktiSzRpVzZFVlQxQVNlZ1RiR2dTUnhsT3dEWmxoKzN6Wk5qdHJsUXNDR3dFV2lvbFY0TVdGaEFuRzZqQVB3c1ZUQzQwUHJDbUIzdjUxSEtjUmlTcGg2NFBNbEIvR2xsbnhaOGFXbUU2K0xjM1RTQUo3b2ZFVGE4NzdqSDBGMjZKM0k1OUZQM09VY0VpQ2d3aEU4OGl4VUdodDEwbUZPcHhmMzBDNnp1ZThuODVyRjZ3YnR4SExDZ0tVM1ZYdVI1NlE4bTB0NUpEakNzYjNFTkVUV1VRQ1BrcUxIVmFERllHcnVvS0lrU2hrMER2VHk2SVlHR2lSK1dVMWR0bUMyNEEraGVOakQzMDVlYnNJMVRVOWJQb3QrYTFNV3NVV0VQQ3hOVXJRQ0ZZYkpVeWE0c0ZVU3RUZk9zZDJvVHV6Q3o2RjI2SEZqY1VsRE43WkJFbzY4QWR1ZUFveTdMM1lYeXF2c0xieW4rMVIwQ3M4aTdZMlQ4Y3JqbmlUTzQrM0F4aEFnd0tqZDZUbnloTS9TN2RrT1kxOWtIVE83ZWQvWk9zOXIxSWlQSEFRZWFucDdBNytxOVpRWG5JMTRJamQ3TVpDUWJKUVVZUFJFL3NzTzJJQ3h1bkNpSThQaDlVNXFRQkVxczBVL0ZDa1hPVkd3dVdtc3IyMjl6WmZ2Sm81dnRzVzJqMWxzcVdTOGNJdkFBUm1ZcGkydmdKazFjYmxKU1FCRVJ1Y0orSnZSS1VHcnR0cW5KZnR0UUhyYmx6WXZBRkYwWGxZclRDQlE2SXRSeEdIRWVhUk5WaWl0RGI3eklISWJwRGxWRGFLWmRjWWllVG4raENXM2xsbUpSdmpBT2w0dUs0bmR3aDdYUnplZEdreG10MG50S2M4Q0Jac1dXTytkTnByMDNKWUxFMjFqc25RNzFKOUV6Q2lSeWh1M2lHc3VCS2ZLN0FaUkMxUzB3NGFqUlFwbFo1Qnl6eUdQb1ZyWm5XWk95TkdXTFUxMjJhYkJrTjIwYkp4emlxK3ZSM3BVTVJOY3d5aWtDVlNnRWpGbUNhT21DY0VUMUdiUGY0alliU3VQMjRzcTRkYU9MRWN0ejNJOWtqRlhJenYxb0t0d0JDY0VZWjRBeUtGeHFHbk9XcUVqRmtTZXNSdzc1d3NyQ2wwWmhvWkgwTWgzV21HWkh0OUs0TXNYcC9NVFdmTXAvUEM3anlld0REalM1eE9TYm1EYjg2MlNUMzUxaTl6cDdUT05XQ3B1UFZsQ0lHa08yMVBmaDhnUVVkUWl4WlRieEN5U1RwWndOTWprNE1KVkRrTTNhY0tGa282Ujl3NkdMM1JMaGU5blhsRzg5QmprRjdpSlZzQnNpdXhJcE5KWXRWRkZZZmZncmorS3d4VEYwUUZMN0loc1lHclgxcFNGYmtPa0diK3pHRkpYNDBiMUxVZWlLdyswRVpNazlTaURaeDhrNlljbWtxa05FenhZU1duSGg4KzU2SDhUVTd3MUgrTzhDWFhBVUoyNWNRMTJnRXFlU1RmZDAxdnlSdU1ZbnN3OG8wRno4Si8vOUVrU0FENkwxUFR3SllLVDFWY3ZvK1hkc2lOQXY5bDVqV0Z5QW0wd3kyaGxHaFQ5VXlOb1dCNUtpalpiTE5vWTJkd0w1cE9yTnQva0wybTNwb2haR1JyNXRtR3F6Y2d0Y3hyVThKSXFCSW1xRlE2bXdUZXNWSzBJWDNFRkVqOFBoVU9WVXV6M0NTVm92YXMwaDIyaWJTOGh0eEZVYzVwVkZXRk0zcFh5U2RSekxvUmpTcURqK3d5S3haWFlBeEE1K0Y2dWY2VFJxSTNjL0xqaHlSd0d5cUVBOGpsTUFIc28zNXd0aHFpZi9QV0JBODAvditORnh0WVQzMlZUYWY1bDJGR2hSbFo0M2JneWFtN2FteTBFMnFjSk5zdWhKSmhqdERPUW5iQnZjWkFNQzdBU3lTUTZRVFBvY0ZjTDZGL2Jad2tYb2NwaEJsbnh5OUFyUGpweGZZQmp0MjFpT1VWTTBIK1c0aDJRVUJ3YVJMNktpS0t3d0dWRlg0WTRJWWg5UnVBNCtRcllaR045ay9hVVI2K0FFTFdheGlCYWg0dTRvZW80SVBPN3RWLzZvNjNOcG8rSlZRU2ozdUVwZGZhb3lkamgzR0VEYnlCRnhQcGNtcWllR242SjFnZGhxS3BrdGVzSGEzbTFzWlhnYWMwQ0E1aC9PdmZFdzlKVi96bDZqMzJGZWlRVmw2dXZwYm5oWXJab3ZWaW9jUHovbHVwM2hLWFUxT1h1aWtMZVJFZ0l0NS9wT0lpT00xVWM3QW9rdXVod1dUN2tSajRoUEgzWklaNUdGMklIOWJKS1RFWXVxZzB1TkdwdjR0UmM0NnBkcjlkRHIwaEhudWpLbGlReGJYRXU1QWJxb1VUdWt0dGhhbUxtdWlhQ09yUUFja2tsbkZIYWplS2hIS2h6RnFCUXRTWFZkVmdSRXQwUTFLanArYVVLdk9JcmFSSFo0NDI1QldUMXRGSVkvWEIwb2g2Q3I1YWJCOWtUTjM3aHk1Zm1sMjI1N2I1Umo5OVorRDVvM3Z2SlB1MUsxMUY5NjZjbzdVdWxLRTRwOUcrZm9sSnc0U1RtUFhKSjNJTm1Jem1RRTVScm5QcE1pWlhtVWJKWFVQQXMwMG5FZ2tRRExpbnkwc2c0TWplMUJxM1V3UVhsTXB3NDBNbnR3bkUxeFZacEdTVjJUNGxETHl0UzE2M3FEQ1hRVVYyVDBSanZDS3R4Rk9LSXdpV1dWMWdYMlJMYlBCb3ZEZGxncnV4bkRyVzhoOFVSa3lncm50YkNwVHAvdWNMc21LRXBkbDBwempDZXFSbjdWcitwQ2ZJUWhTcWxsR3M1RVFmSUpuNm9sTm5JcG4yUXExVDJWVGo3aXRkdkFVMDBmeEhuM2E5Q2NmUGpKOHc1clB1STlBMVBiemltVmk1MUJxbUxEZ0tXdlZHUVlUQmVFdnFSQWQxTmkzcldRYUVWMm9KdGhZVFhxWElBQ1NNUkpKSXk2TjErUFBOMW9ZUU9JMkJoYWJ5bVRrNGUwVlcya21MQ1JQSnpBdmZyRTFVRWd0eEpqWkt2Rkd6bVBpblpwY2NSNWxGYmhjSmFndWNzbWM0TzJxVGhpaDdRc1laME1lNzlGY0tXUmdhcDY1d1VjQnhiS2R2SU9hVUxsSHlSWEdzSmQ4VkdlRURDdWhQQW5Db2c1VFh4TGNUM1Q2ZUZqQkVxcDV5QVcrQnZhcHRCRzdvSFpuMEdUT0dieDc1MjNvVEo1MFNORG14ZU5vSld0WmptR2xYMk5GUnE4bXVteW1nQ2lZYTAwc0xGeXpTblllUEtZc0UvWkNMU2FYa0hFbFJVZE5adkhuTk5kZ3huTHNXdlNVVXlnY0szTjYraktVN2tLa0tmaGN1QlJ1TmlBd2lOVGR4S0hMRE9aYnJlSHk1TjJRcEJscDJNTFJVc1NJMUdVVGdUV0pXS0t1NmdMY2ZKTHZlZ3dyYXRPOTZGd01paTc0MVZSVUZ5OWJKV2xLelFoVUdLZmJJM1lpaWsvVjB3azd2TzdEanZnUVJNOFZoeWQycEFvTm5QeU1tdFZrRU5ham1EUjdwSVFJTm9wS09HMFBoUldDM0NwQldWY1EvSGo3REJvSjA4WVNJc21BTXZDRGczSlBicy9tN1lKZFUwT01GRmhJVldpOUhoaTZycktGQmxkb282amRwVEdnVWhoK0hXL1RWMDJQakVCbHh5emhZRGVsN0pRV1hXUDJPSU95czV0T0xjNGptNURveTExaTQ3VENKZUV4OXhId0ZJYUdSVVRHOTJLaklidE81czRMcnh0MXMvNDNsREtyMjVadk94bEducy9yYUhWOTFzVDlEV05QbGhNZEQ4WWRLNVl3R1RRQ2hSbFNadDNHTndGT1VVbmdBa3c3bEtqaXNuR2ZtejE2L1Y0K1NPQU5ZWkZlWTV0cjlxWnkzS09pZHpleTBrUVUzQXV0YXk3eU92S2pmek9UWkJyK1RnTTJ4RldkcU9KNHdselpiRTJoL1hBVGRXOEhkYmNaazE2RVFqWFgyeVVURk1kQXBEY0xoYmJnU05HV0QxZW9uSll0RXVwOUZ3Nlc4L2xWV1NEQ2NOY0RsZStIbGlMeURnZjhLNVVxbmIxWjcvNm9vR0c1RS9xVkl2c3YrYUpKd3AyejVVM1dXdjcyVllyL2FGTjlGNXJFNXZaQURRZURndWRZQXQ0QkFoZEVuTGRwYkFvWFB1VTNGNmxLSTFMRzhVTGVLUmYxbEcycGMwVmV3d3UwMS9rN1hkbE5lU1RYT1RLaU1wVTJlSnlzZTNjK091QVZKeWpYa2hGRjQ0ZmpYQ2xkVDVMSjBxMnRjaWNJTjhTWTRNOTFkRlJjUi9heE9jdUtmcDRGQ24vSERQVnJlQ1dnS3QxeVJIV3FVTnUwamdRQ1NqSVFRMkFpWUVUeG9kZ2lZa3QyYW5LTklhSFltK2lLZjM0eGc2VVNIdG9lUG9Ed1B6ZzQyeFZzeHZ0dEEvZGJpM2pmOFRUbm1OTmhaZWoybTlDNkZWcjA4STdQY2ZPL3Nab3RhWU0vVUFxV2JWRmJSVmpWWVhkazgzWVFGbmRIdkV1RGF5OVhnNEpYTmREUHRrdUltYjk4c3VReGhuQ0ZlVzZoaWhPZm9HUmFZV3hYTDg5Qm1pT1pvbEZTektGWGltcVJGWmNwSFBqYVl3VGtGUys1QmwxVVhMWGJ6RGtPdE4rRi9tVVB6cnloQjBWMWM2cDBoTVpLKzd4dDZqaXAzekt3dmVieUY5Zk1zSFhMTDVobGZJZnMxYmxmOWxFLzEwY0FUYm1saUdJeUx4NTRZVTdKbnlqSGNjN1FJUnBGbk44eUlzN1Nud3B6cmRSUUJPZ2xRMjV4TzdLRURnVmo2M0xzUVBaZXZkaVAvRWhteUJNWlVUbDRYUnBHUDVQY2JKRUx5cUNZUTZ5aHZvaHQzRWNJOHppc3ZIak9JU0s0MzZKM3NFT3VZZkN3anppUUtFSC85TVo4ampJYVgyUForUG9xQjgrSnRzMjhYVFo0bmhxT3NDTXB1MnZmZjhtVmtKZHdvcnZqN0dyN0RyTzFsalA2WWxGdC9CSmo2T1dqQysxZG56RlliRU5LKzlxcXRqaWRNVUdXSEExeWtMdmFTSTM1QXNwUmh4bE83Y0lwQ3NHaXVxTHcyVExINFdGbWFKNDVhY09OdGFOd0MwMnM5YW14S2ZzcG04dkJJZkw0b29JZ2VNMis1SEl5VHF5dWFhN3BiQ3E4TEdWU2E2bk5pNkptRmdvMENQSGVQMGZPdTMxT3JScmo4eUIwVDN0N2xGdXVGRHM5SFo3MnhYcnJEYnlhcmpOV1pacHA4dHFYV0dKSnVZWklPaFRHWWlhWVN2S29lMUZhK1o4K2tlUlowYlkzQjhUTE15NkV3WGtkWDJDZnZBSUdPRlFoM0M2SVFXTEVBcDNYVlhVamJua2hDbE9ISUc5M21PRk5udWNLWTVqV3NkdFNUUERiMERFRWg1WGhEUTJNZkcxL2tiWlhWZEhWcVZ4cFRwUWh1bmRMNG5DZExvSFpkaU4wVzA1bzZFOHBhajdUUHFQZTRuYXNOZFQxMXJHaVo3VTVqWU9jSFBkZXdiWUNYKzlsWFAvbTY3cUs1WWJ2UXRCT1d2eEZFclV1Q0dIb05XY1g3YlpnblRWam1zcjhyYWJiYzZubVplS1FiTmp1anFRNm5rYjRzVW1kdUF5YWxLdU9LMEREMmxpa01tVzhwRXVhckJjc2Uxd0cybTVwemxIeUZHVVg3a2E2dzc5VWJlRlIxMlVTeGRhU28yUkozVEZ2NjRraGJrTHdHQTdiRE9PWnpGclg3TFd6TmxlZTI0T1hFN1QrSXlYWFNqVytwQ3Qrc3BtanM2OGsvTmIvb0NqRmw3UDlNR3hjQjZFWlI3VE5WajBDcXJWTU4xOGl1S0lsaEtxZlVaTlUyaVFsVWdUUUdHMFN6UDkrc29iNVJleDVGVEwxeE5INzErc0YzRlIvTGl5bEo1TDRCS2YwS2lycVpObEdRUDJLQ2R0SHRXZXQ4NFV4emxHMFVvcnA0clFyNnJUajVUVVRvMnNZdU1pY2J0NUpPcFZzdWxiRWxUQ0VnZ09NemhIK0JNcURiMEMycW1OTko0R0dudHM1Z1pvNHNkZC9VR2RLdjlMTytjN0c1bkZYQXQ0WG0rMThtdFpqcm5VTW03VmVaelNuY0c3SE1ETVkycmkvbXliYlNzSldEUzdRTk5vWWtvNFd4RjFSK1J1VEF4Vlk5Q0lZS0t5NC9yS3d4VlRWTVJuK0YxaXljUjJwaFZHMkV6WGdiWlk1NHk3dzVJRUFOMkdzcWg0Zmh4SUZPU0tDaVBjeWVyaWRPcXZTT1J3S1NjWlhUNFZnQW5kenVuS1ZQcG9BRGpoSmYydFJ5MWMvclRMSWFMY3p0THR6ejN6M1hmMDJwWCt0UndUL1dtRTVML2xhTXViTFR0V01kYlBoQzNyczY0bHNPTmFpL1JhZ1czTVpmaFVNcUJSYTRSVWtXUDZVcGk3Q0hLY0tQSXJ2YnZ3aTNqdW9vdUxSMWFLakx1dU1HSGtWMW9FWXVhaitqai8rL0g4S0tPM3FXandGd202cW9JL2JTdDIzWkFyU25HeFhvZFk2bk1EUXVsM3FOTjFjYm9makc1WFlOa0JNQXBYR01OMW5YYUJTeDhiNjkyK2g1cGdNamdUVlJGNzU1TE5LT3VLODloWm43amFpbE4vWjFQWi93QTRXMjBLK1ptaFpsdTZiSWMybHl5TDhEc2tEYkFUYUtNbVZzdkdWMk9UeE1BUkc2aURKMDRiWlZBYVphNkRSVzR1TnlSV1lRM3g3RnlZWXBQL0ZoYUdqWmNtU0NibEhBQWdmUWdBZ1NieWsyK1hZWFlVNTZwVE5YSFpxZ2FqYW5kbk5HcFM5MFI1MjFuUU5ySW5NOXVONWN5dDdxbnh5V0wzNnJQVlphMjFWVmR0Z1hLM28rTjVGNGZBdkpZbExrMkxtOHEyTHRkazJ6VFVmaklUTjN6OWxSVjFZbzlzSllqOHNWUFVjbDFURkIvSlVOUlBXcjNoVVJsYWI0eXlid3NmcmRqTWpvY2xMUXNaOU9tbzFpaVpGcDRyTlQ5UlNZNVJLcjlMNHlKQ3FHZ3VxcDRvdmcveTdtelVRNGFMdUp5c05NUlhZL1pLbmxGNWM1alQ3TlJjcTg4ZVpMdkJqK0hObjE3azV5NCtwWGxpcTlaeWJhQnJHbVp2azZQOVRsbDI4SW9RdXB5SkhDNHNKaWNSb21SSXpZaXphRFNtSnRZVnhVVlpuVDhhZm84eWNia3BOMmw1bHFSS0dnbUxtVTRmYzVpNDZzWnFkaWlXQ1BmbjdzR2wzdUhINWFOOGRVK1VycW1ZVGZ3KzVSNm5IUXFJUEhPZjB6USs5ZXF6eC9IZTkrRkxyazR2bmxkNTVVZ2hzV0xERURzbXAxaTVsZEVrSmJGT1dHM010SlBicFZGWTVKRGxPRTg5QW96Z2RsaFNHSUNSRmJPQmNBaWtBTUtKWU5LeXluZStIeTF1dDVjaUZMZHhLSURQK2NUcS9xUzdjY2ZWcWdnM25hQnVSZm5DdkE0YjFLMHdCd2hzUlR1ak5IVlBGT2FDaUhBWmJJcXRQNXRaaENST3ZGZEdyOEJCWlc2OTlkYmtpY3VENVF1YS9TTlp6ZkxveU5qVUZUYU9ScGxsb2lGZDk2QkpSQkJuSW9lcytHck03aWdwaWtlUnpvL2IrVlVBYmsyRTBsY08xMUsyTVR2Q0o1cnpJUUJJSSt5RnNwR3loRndFc1ZnWm96UnlSSEhPZGpIMXNEaWQ3RVlUWVdtQ1JTSERTNWYyN3JFbU9DNmo4Ukhqc0RsdER3NE9OaFdyZGhvY2V0Nml0dUJIcjFwYStUQkhaMTVvWXlNL3NNbXhLYWNVZEVJc3plQ0lGdGs3dDBwSXV6RFN1VVdLaUhLaWRpTXc1SGJkVkJUdS9MaGRla2lBaHJpR3N1OHhkbkFPRmtaRFRxRFllbkk1VkFUQUlWQTUzWS9jTGxHWXVKNCtUQkdtaWNwUkZobW51SWJUa0s4ZnJYRGZoYUdPSzR6Y3c5K0REalRKWkxJRlFmQ2wxVnJBdW5QdjNzcytRWmYxbmJOL3lqa2hGMWwyOUY5c2ZQUUJ5K2MwSm8wSUU3V2tvOVJPclZvUHc2R1dqTHNwaGV0eTQyRWNBb3dERXJZRFpKd2dzcG5wdHBZdVc0ZHEraEcyLzFZMUg2WDBBb2tFQ0d5WFhVVzVLOHpuM0lwVE9qenVjdmVoUkVxcmROTkd2Vks0R0o4dXpUTSt6WnpjNDBuSzZWSzRuVWJQWEhjREZyOVNxUnhDWTU3SU5jcVp3SS9VbjNuMTJkdk15MzJCQTRQL2xoTVQ3N1JzbGpOWjFjcWtDR2xVVDdxRG81RXVqZWtjUlpXU1FFYzgyWEZ6UjJGeHVHYkl0WU9USS9NM2NneHNsdUczNUE1ZzRLb1dZRUt3eVk3QTBWQjBYSXl6d3hvVlM5cm9pdDNZQWc0UjJwMHp3ZTNzOFhJSTVZcE4vQlN4ZjA3YnExZXZab1dWbmM2UkgxM1lqNCtQanorNnd3Ti82ejA1dTNMVjljeWVmOUJ5WTErM2lUR21KZGpmNERTdXBCUVJkbWRjT0QrT1NCSEs2bUVLMXhVMXRlTTB1SjNmSmFKRWJBMi9teGZhUm5aVWJNNE5zUk8wR0hFSzVlWGZYWkdiQU1kVjZ2Y1Nna3NKWFMwdUdUOHlPMXJoTzhDWEVZbllOcUl2eHUyRE9haEFNelUxMVFKM09SV3Q2Z1NOdnJhdHJXMzNXMUN2Zk9jOWxwdjhyR1ZITHJlSmlYV1d5elBFQWpraVFFU0VYZHJhaGZQVG1DWjJpK0t1ZjFGejYxSzZoa3VGcVI5cW1jY25rSnZ0TVE1R3l2TlIxUjJBRXFGQllYSDIwQkg3VlI3LzlVdEFDc0dsNHAyaCs5UStkdEp3RnIvWGYyTHJ3dWM1VGR3MlQyYTN0cll1cjFhckw0ZlRJQVFHdno3N2JMVEdUMmF1ZmZkMlc3TGluMjFpOHVPQTU3K3d4em1rQnY0dXF1M0dPTGF2OEpCNE85Z0tFMWdjbDRuY3JoeTU0d3VuenJacDZyWUhKeWV0SDI3amREYVJ2S0xzRXBFY2g0bHRxQjhDSXl4ZVJZVnJpYU5pc1p5SnFwRGxGSHVlTjBZUkE1c08xK21DZTI4T0tqME5EWFl5VFhRb25PWlh1UHV1dlBMS2JnUmp0YVUxTnpjSDVYSTVnQnZWV2xyNDVJb3ovY3h6dHQzK3dWc210azZNMXk3a2tJQzNzcU4vQ1RxZGFEeE1vaGhFcmhUNXlSb0RTRzZvNDhMVXhUbmh4QVdFK1pUWDZWK0lVeVlOdjlzV2NBNU9yejNBZDV1TzdGekJjbFEyMWdFT1Ird29xMUxMaUtzNEdRVmJiZ25FVG41WHVQNmlCUFYwMGExUjJoQnArM3A2em5qeWx5YXNZcmUvQnh0b1RxVVYwbkNhWlJEaWZBQ1RoUmdpQmFLTFBrZktUcGxrc2dwNDJEWHJoa0lzQnF3RVgzNUZvclJ4b2hMOHZEODducStXRmdmcEpnNFNoY0FZdHl2U3VjSWZOdy9vd3ZVVEVRL0FpTGdpcU9hOUhBQWN1Q0szQ095b1R3TE9FdzdtTDdaTU1jZFdtbkZid0w1ek45UVczMUgzNGhCQU9ibzlRQ2V2Q25jQW9Sd1h6VS9VRGJrMHFsWmNLN1NGVXppTm4yQnM3NEt3OXM0Y05LQzU3cnJyam1MazlIS0JoSVkva21iNll5NjkvMnAyRVUxdEtxSW9MUGE2TTJTZ1QzQlltMVZXdFFUb2VBcTBkTkY5dVZZYkg1VEpYUzY3U0JPWnlGR1BkNFdxNERpQmJJRmwyaDg3dldDUjlmTk5oSW4xSEV4ZG5jL3g5dUY4bEc3UnljK0F4VEU0Z1VpbENEd3FTNTdHeXhWTmdBQ21GTEpBSG1Wd09uWnRuNGJiS3ZLZ0FNMVZWMTIxQkZubVV6enZjVnozY3JtRGxRR0lERjR4Z0JwcnM5RVJpd0k3R1NjRGsxQmYvMm5pK3dpY0creHR6OVVXYjhuN0p4UXR0UUR1NUVBVVpnemY2SG9SRU1yUnl0bWhSMzVSVUlRT1kyTy9JdWlsV0RiUm44OWI3emdmVm0vdHNtNTJqK3F1SW1pNExxOStrM1J2NFNPSXk4U2gydEtyWndIL0JFMERrL3E4Z0lOVXZONlNGd3lIdGUzOTc1d0h6WTkrOUtQV3ljbkpkd09HdDNGdG9ZaytWeXFWN3VGN2xnS0lhekU0a0d0dGdPWDhnQ2R1L1YxYXRFWWNJQW5XRFFjTGI5c1N2R0cwa2o0M3lMUXVTelF4Wkk1eU9kaUVSVHRNaEV0WFFxN2k2bFEvcFRON1EvVXN0azU3aE9qdWZrSXdsZmowWWJsdnpJNWJObXJ6K2VhQ3graEt4YXZzRUJ0QVRnSGlOdGlPMjRnbHhyZE9IZXAzMmVwT0VzRXpySjlNQlRaY0RLWVQxYjJlM1k0YlkwNkRCZzZUUUJkekRpQzRpTGN3Q1NnK3Yzang0bXZQT09PTXZWcXBGamZXRG5iUHJVbmJOdmk0Sll2YitQRDIrNjNaUHdGcEd0NE5PNHBmYmRrQ2ordndaTXNmWFRYUzZVTUxEampxNTBqa2dLUU1tQ29menF4azdPR0pmanU4SFJtSGJieWF2S3h6R3dlR01LblF4TCtyU3JhTUt3VTBPYmk0d0ppdkJWT0lZLzI5WGFON3RHODdMRzNIWDRGeHpwcFVLdlVxd1BMbnZOMkhjbjBUOE13T1lOUmlQWHc4NjRTSHRwcE5mWnV6OEQvSFl2WjdyWkRWaHZCd3hDU3lpVmhhcktWV2xodWNPTGY4NGdpc3VITzIzQzROTnYvaUh1N0UwTmFGZGwrZXN3RGRmQlJmcjNVZ0lGNUpTTzg0amt1dmZPcW1vcTRxOU5iVDEvT0ZvSjJrOUlITExydGduNGJicWx1UE1TZk45Ny8vL2RQZ0xEMkE1VFFhN1NhRzBuOTk3cm5uN2w2WnQ2OHRjTnR0Z1Qxd1RkN212MjRkMysvYXdNN1BaWENUUTlqc3o3R0FVQlhxUUUwdU9XUkhKaGFiWER3L3psWmM3TURXbmlwWVFnVk8wK1ZYN0FnQTVPdThZcG00U05mdDRJMnl4UXhPQ2RRZHhjYUZnK1VhKzdZeFQ2VFMzblczUFhUODVqaCtiMjNoZTg2Wjczem5PNGNncDRqRHZBVEFyTVgrbDNlLys5MkR6OWlEM3ZiZWdyVWQ5ZDlXS24zYWN1Ty90T3dFODFiaU9CRlFaTlV2SER1NDVXKzR4SEljQ3lFUGk4M0xiS3g3aUlPdUp6Z2gxR2tCeEUzMElQcUprN3JzMDF4R2NWR3FNQjErUVFpNWg1RzVuNk1MM2VlUms2cWVVNkFCSE43MTExKy9qS21DdjhKOUp0ZFdyci9tT2U4Q1BOT3ZucDU4dHMxbHA1VHR1NnZ1WUJoMm51VW52bTZUZk1hMmlBWlp4QlVJMUUyRm50QmZCMHBFZVFjVTNBS2FpeU01NSs1VTI1ZmExckpuNnlhM3c4Z0tyZ1NWNC82VWxmUzZGQkYyUS9qbGpzTGxqdGZnc05PaHdnRUJmZVZKanVPYWdabFRvUG5HTjc3Unhzam8zYlRIMjJuQVBNUG8vMFRUK3h1bUM4SlRKbWJRVUh1YzljcXpOaUd4ZnBZUFBGM0ZVb3N4NHp6QWNMd3M2a1c0eFJsU1Z0VFY1YWlQSGRkU2R6REc3MlNyUzRjOW5CM251TGhKa21pMEZBSkRxWlhTWGZ6VXc2TkFGZTFpWlNOcjhkb1VBejg1V1BZenozTWFOUTBqcFhSblorZEtuT2R6TGFRQnZ3V1grZjZiM3ZTbWZacVVvNHg5Tjk4K2F6dWZTdjA3bGxsOGk1bnl2TEdUTWhvZmh4U09TM2JFNWFjT0dyM0RBcERDRkluaEdMaEt5d0xiTkZWa2VtRVl5Q0FRdXdpQUk1YzhjZG9vWElGeFVGeVVodVRJTmxNc0pCOXV5WEJvNFF6TW5PQTBQVDA5U1VDeUVzN3lZWUJ5aUVaSmpKeSt2bTdkdW0wemFKdVpaZjAyRTU3NXhOK3ordUJpT0E1ZlEyV1VMMGFqRm5lRWxoMDVZanNHUVQyQjBpQVFvNmZKQmhtN2ovbW9YRGtieHRiTENNdUx3ZUZzZ2x4UmNWY25QNVh6eGJnc2E0MjNmV2IxcXIxZTR1bUtpSDRPZU5BQUV2KzQ0NDQ3RXRDY3gzVUt6L1Zyd3I2K2ZmdjJyWURKRFJjYUgvaFpkVi8zOW1GckhmMW5PTTRWQ01lOWJpbXBFMjJndUlndVV5ZSt3dVNKVUZWSEFYNTJZK2JvcHRhaEpSNW1DWXlPd1EzNVRQd2JGNlFpcHJtTUM0M3FjU09vUkpEenRkbS9QdDVTaXIwM0IvU1FHMUQ0clBrOURNNXlBVUQ1USt3bmFMVFA0LzdGZWVlZE4zTUYzdDYzNTY0NTF2eXdhQzk1NDFwV0FVNGhKQitQeXJZalBIRTBvcVpRRTRrNllXWjVkZ2dBQ1pCSitoOCtSTmJOenRDbEFDaWxrMHNiVXFyN2Nma2FzK04yWHZRelZjNVRadEp0ZzUvMmI3ejFBYll0ejhBYzBKem14Qk5QN0dLazlCWkFjalpnbWFSN1dvMGcvQXNFMzczZWxqR0RObno2ckZlY04yS3R3Zi9oREozL3NEeXJBWXNjMHFCWDMzRVdzc2Y0Y2ZLTVNOTEFiVlM2MHJIV0pzOEpvWS9uc3piS2NsQzNPUzdtS2tRclNaM0xxTHpHeTNscEpjK3lmRDVSczlzek1nY3NhQkI4MjlERm5FRlRYRUJqY1M2c2ZadnJTaFI0UXpOcWtXY21jMkNYc1lEZHoxL0tONWIvM3ZMakQ3Smxoc1hyY0k4NmNVVjFLbzlWdlhWQUtSQ0RRRnh0NmVhZ2dnb2I2MWg4enZjZXdoaVhxWjVOZ1E0OHppSDRTUUIyODA3VlpDSXhXUFdUTTFad0hwQ2cwZDRsR3VKVUd1Y0QyRXV4ZndySHVlcWhoNlRXMzQvTkZlY2g0OVN1NFl0elgwWE91WmRqN25SV3Y2Z2NBY1pSUEFTTzR6YVFwdzRldWlnMjBvMHkwYlUrTitZK2grZzZueWlyZStxNEhEeWhNeXFQS3VBeVpialRNTWZaejJpNHJYb09PTkJFY3N6aEFPVWk3djgwUUhNN1hkSmxYVjFkanp6bmdxOWE5T21NT0k3bXE0TFNQOEp0MWpKZnhjSjFjUndJWERjUnNSMHZVYmpBdzhWeCtZVTAzNkxTOEp1VEptcDhPRVNjeEFGRXlaU3Q3bmN1RjZiUkFHbUtMSmZvUCtvRlIrenhLWjcxMjluSmNjQ0I1dmpqajE4QVlON1BjNnprMm93Y2N5VkxGZTVpNW5xZkorQjJhcE5uM3Z2LzNqWEJRVXMvc25KQkhPZHVOOUdwWlJuaEltRHNDRFFDU29pRThKNTBHQks3TWNjNG5tUXpRbkdob2dPc3dwbHZCeGVYelNISHBRKzVEV3hHcytPZVgvQ1QvdUJEUGF0bjNFNEhGR2pnS2xvb0pSbm1RdXdzOXYvQnZuNi9FM3hERWovMTd6ZmVNc2xuN2E2MmF1bGZBTTFkVnBqZ1dIYm9HUVBGY1pjWVBMRU51Zml1ZDQ1bEVvOVBUZkx0cWxFMy9CYXU2c1lsRlpmQjhPT0cyamdaT2ZIVkI3Ky94MmF1aGppZ1FIUE5OZGU4SHM3eXA0Q25tZXNxM0ZjQm1MMDZMNjdldVB1RFE4ZWdUSXoveENyNXI2QUUvQ1ZURDNSVm1xK0NMSTE5am9PQVlBRFgwRWZHTXZOc0cvaDZZbW9NUVNVV2lJbDJnSWtlekxtRm1nZzR2cFV0VTl2bmhWZU56WFhBZ09hNzMvM3VTN254ZjRXN2FLUGJEd0ROVjFhdFd0WGYrREFIcFBzSDc1dTB0cU92NHVpS3Y3UGM4TjBjY1Z0eWk3UFVWWW5ieEVod0lNTHZ1cWdPRzdabVc4ODNOM01zUUplaFhVZ3BwUEFmVFdDNkNNVnhKUk5lMGEvNXM2S0tPQ0JBdy9CNk9kTUNId1VveC9EOGEraVNQZzlndHRKUXZFZHp3R2lHdkNQL0s2dmxQMlZUNDc5aFFSZWZ4NHRrSEFjZWtUMDJ1UFdOYnc0TTZDdFZyWi9UUVN0d201Mk5RT1RRb2doT3RNYzdVYTY2SFFnN0o5MXIvMzRQR3VsamFJQWV1cUkzODNRakFPWnZ6enJyck44UXBrSEIzREU2dmVHcTk5M0tLc0EvczhuQnRaWWZyb1NyQUNHUmszTWlXMkJ3M0tiTHRnUnBld2lkVFk3RGtFTFpHVjRqZk9tUzVUeHk4TTJNcEQ5Y1NvM01pZzVydndiTlRUZmQxQUZJL2d3T0k0M3ZGTmRmQXBpZnV4YVpxeityMzNzUFhPWURWaHkreWJJREpZNjJEVUZUUjRNNENHVFRnUUY4Q21oekxzL09CZlIxV2wvc1RBZ2NCNWdJUUFqQlpmempSM1lkTzZQWjdiako5MXZRWEhycHBTbVdhR3FLNE4wOGNCSk84MzhCekhmaUc1L1Q5alhuM2NkeHRoK3p3dGd2T0owVUdVZjc5U0dWZ09NdW5sNGZSZ00wMnppWGJ4Tm5FWmVxbkZRYU4wb0VGbG1SN2xEOTEwaFRXM0pHczl0eDhmVjY0b0Q5d2I3NzdydFQzZDNkcjJTTjcxOXdQNGNBbkt0d1N3aU9YNmY5NFRhZjJYdFkvYjUxS0FEZmozenpBd1RrYlAyaklhN3ZFUndnSGNQdkxGLzkxWHpVaU9hanROQ0tHQ2NRaTdKNGFEdVNlc1h4cG5UdjJUMG43Q3I4N01OVDdIZWc0U0g5OWV2WEh3dG4rUk5BY2pUK3RleFIrdUk1NTV6VHR3L1BkMkJuV2YyQmpheGlZS2REL2hhRzVFWFhWZW1KNnR5R2sxT1k4ZDRtZ1hocTFBMi9IVktVSkg1eUpELzJRcFcydGpiUGVNNHBMbksvQWcwQThXNjQ0WWJEMFBCK2lCczhBOURjai8xdi9mMzlqK0NlVzRKdlRJR25zMnV0YTVsMllCWGd4SzAyTlZaQUdSamxBQlk2NUpwVmZVTWNUL0x3NUJBZmdtVkVIYU1GMnpuNVNRUmVhWG1CWTlGbnlleFhvT0hRb1c3bWtkNEtsM2tEQU1weFhRNkFmbjdoaGU3YkI3UDB5QWRZTWZwVTBlRDJoK21lUHNmU2lsOVljUkxnUktLSk9JNCtINDJ5YjkxVWdjOG9qakRncWtTTXlFRW1mRmpQS291TDVia0hHbllSdE1OTjNzNVQvakUyZ3liL0NrQnovZHZmenVxM2c5M2MxbFBoNHdsM21oWC9IdUJ3UHVCNElmeTJsZGdJQWpIZi9PNnJwdXh4RGtNcTFWQ1FSM2poVEFxdDBRdHFTVDg3MnBUYW8rOVQ3a2xUN3hlY2hxVU9UY1ZpOFZSQWNpN1hNZ0J6QTl6bWFoUjRUd01ZTFZkelM5YjI1RmtQN0RTWHM3ZXFOWDIzVmFlK3hpS3Uyd0ZQTkZkRkUrZ3dKRDdPc1lIZG1Eb3VQeHd5OGJqSXdGcE5VMDRseDI5cm16Y3JPaG8xNG5NT0drQ1NHQm9hZWlsQTBVVGtpZHpUSGJpL1BqbzYrdlJ5alBUQlBYcXZEaUxnK1BOdnNYTDJTOHlPcjdWaXRBMVl3Ky9XYnRNM2VEYnd3ZmlLaHQ4TTBhVXZaMHFCTXd0c1BPK1ZabVhlNlRrSERZRHhycjMyMmhWd2xYTncveTZnZWNRUGdtL1BtemZ2d1QyU1l6U04wQ01CV2MxemtKalZUTkNtQXI3eFVQeFBSbFFQV1luamE4VlMrS0pMaVEvYlA4cDNGbkxnUXkyaVJxRnhhdTFCYmZ3TjQvbFpVZXlwbFo5VFRuUHp6VGQzQ3pDQTVUenVKWThtOUd2SlRPYW1XVG5WUVU4M1Y0MithMVVvZkEvaCtBdU1xTmJCY2R4eVVKME8rbUMrWkJ2ejZvbkNBd09TQ2I4Nmxra05Icjl5NWF5dEJuak9RQk5wZkY4SGg1SGdXK1M2S2xXdC90ZGIzc0k2aytmTjA3ZkF6UjlHbXpmMUE1WlZmTjJLRTQreW9Nc3QwTXF5SEhRRHgrVlgyZndnYmxNdFZtdnJ6Qjg3bXkrYlAzMmhlNWJpT1FHTmRrTXVYTGhRU3pVL2d2eXlDTUJjd3hyZnI3NzVIZStZTlFsL3p4Ny9BRS8xL1k4d3haMzRHakxPeFZZWUdYUUhQYll1NGt0NU9kczYzR2ZqUXpuMjZSV3FJOWtDMHZIc2RlSFBDV2dBeW1GTUMvdzFvTkZTaC84Qk5GOS82MXZmdWhsYjNmRHpabTlhUUY4Tkx2bFh3bW11aGVQd3BUR3pJZlo5cjluMkJQdnpzb3kzYTdXV29Eb3I2MmppMjNyV1FTTXVRK1YveC9WbXJ2VTgwK2VZaUZ3TFlHYU5mY1lQZDlEWU4xNDB5b2ZQUG1mREcyK3hpZTNsV21uSzFrejIybVRBQXEyRTFVNHF5REY3NWxrRkRWTUVMWENadjRIRHZCT1E5SEw5SzdxWUg4M2U0eHpFSmQzNGtRMVdHdTloMWQrdm1ZK3FqTERHWmx1cG55RjNyWmFvWlE5TVRpTU93MW05YndRd2Z3NXBSd0hNTjRlSGg2L0ZmcjVMbWkycy8veEx6TlZWLzVHVHVCN1RVb3BOZk1LNUVCU0MzdEs2R2U5QWFMekZaNFhUYUtURUhOTHZVUEZudUpvQXpyZVFhUzVHRi9Qc0h3UFMrUFJ6MFgzYjUvOExCYzAvV2FxMWIxTWx4MWRkdHRYSzJkS3M2V2pVWkd5a2VXYU5OcmN4VWpxYUxiUWZvMnM2R2hubTF3RG9xOHdwUFhQSG1UMnpqN1QvbDk1V1hHM1dlV1MrT1Btbjk0eXNIMWxZSHB3MUhZMGUvaGtIRFp2MEJSUU5yVjhGaDFsSGQvUkpBUFBvL3QveUIvQWQzbnhKMFk3OC9YOHJ0clRsSGgwZm1OOC84ZUNzcmFWNXhrR0Q0S3VsRHU4Q0xLK25za0dBOHhWR1NuY2N3T1JBTjg4ODF5VTNwMjFrVVR2YXRCWkxzbjJ4b3JOV09jNHp6K21NTGZvS3JSYTIvTEJneitYNU9CdHVHYmRUejdyT1ZyenBkZU9iRGsvWStKV3oxdXlNNnA4WmcrRGJDVmZSbk5JbnNQa0NoZmQ1T003bGJHNmJWZFEvTTNlL20xTGYrcVY1ZklsaU1XZkZITTRtb3FNNXhlRTR5M0NNUTFOellKbTJ3Rm83T0FZMlUyT0R0ZFpkYmtEUmRwY2x5dHRzdUdPTFhYTE1yTW9VdTdtNzNRZTk1L3FYV052Q2YyZHk4d1pyN2Z5cVhmTHlXVmxUODR4MFQ5Lzg1amM1ODkzZXlQVUJ3TUs4dlgyREw1dDhseVdiZS8wTjZOMjN4ck1ZZXVZL0xyVnljYVZseDEvSjZpYVVrZDRTN0VWY1hleTk5Z0ZQbjdXMFAycWRTOGF0ZmQ2eHJOczlraW5tUE9EWnpEckxyZGFaKzRWOThyNWY4WkdEZSt3VFIrM1RsOXoyK1dsYnVrNWlIL2NwZ0pyWnpNSW02N2wxdFRzMGU1OExERFBPT21qZ01Nd0lKRTZHcTV4SEZjY0NtdTl6WGMzNWR3UFlCNDRDRHdIZWJ2ZCt4eXJscytBYUsrRWVoOUkzdGFKaTFaY3Fpb3hRV1BoZCt4V3p6TDlrYmN1ajd0dklDZjk0U3pXZnkwbFhLMGw3TW1sT3dINkorWlUzOEUzTVg5cW4xOTdBVVluMzJSZE9tbFZsMjVOaVFQVUhKWlNwd2RIY3kvbTJ0WG9QYVI5KzB2UjdHREhyM1JNbmhiK1lrWkxPOFgwSDEyOTRHZi9xOE1NUFgzdktLZXdpUEZETW15N2xUSTkrVmhFR2YwVmo2OHN0NHB5aDRZT3BoUCtRYWVYL05LLzBzQnBFRmdBQURrbEpSRUZVTUorMkhyZWJMOUhDM2NCV2ZiSFpqbjMxTXZOU2Z3eWdMaUprWHBSTHV5aWs0bjhjKzRlV3JIekxlazdkRU1VOU05WUZsNmFzOW9JZmNEenQ2M1JyL0hOYVFPM0xsa2w5MGI1NnhveVVmYlBLYWVBeUM5Ry92Rk9DTDF6bGNiak4xMUhnM2YrSGYvaUhCdzVnVHY5SXMwMzFuUWVCTDZBck9sbHpPZFBHazJ4eUJjZGsvb2NOTHRoZ2EzWmF1N3o2THpXMDNXQ2Z1dnZmNFRib3dBTEFZNHNJWXdXNGRlRStHWHVwVmRLTDdXL3UvNGI5NDR2dnh2OE1tY082V1VwekJFRGhOc1RnYTUzTWM1OW1VN1VYNEZrN2swcG5UYm5IUjdqbUFaYXpBTXE3dUtFUzduL2pzMzQzWG5EQkJRMDZBcTJ3MDdXZm1sVUFwbTMrZTFobTlGZlFtYTZGVzNYYlJXVDdQSWQvSThlRGZNRmVYbjFzRjhCTVB4S3F0Vk8yVzZMd1dXU2FmNXNPZHE0a3dGbE85L1pPTkxmLzJ6NjI5cFNkNG1mUFcwc3VSSzVhd0FWZVlIUTFkYXVWWTFpODlUTHFueEVOWmdVMEYxOThjUVpCOTlWd0Z4MW54dko0K3dGZDFJL1dyRmt6UWhpOE1UYU43amhzUDdGWFhaV3d5ZTZ6MkJieUFRVGNRd0ZMS2p4a2lDWnl1eHNURDhGaHZtQXJyWGVQaHRJOWpGUlN1YStCdXl2ZEU2b1Y0cFlJZ25iZS9sZGIwdnVvZmV3M3YvV012RWpWWXJNRlpUNXFCV0FjdDVGZGhlc0ZKOW5acXp0bTB1b3pCbzBFMzJYTGxrbmcvVk51NUhpdTIzQmZnZUM3ZGZmSG1lMm53SmxjLzFzTXB6OEFXRjRNV0FBTVBZcU9ZdFhGNGJ0Y2w5bWhDKzdlSThERUZPazVYU2RwOWdDV2grS2d5QmJyNHVOUTlpWk94UHFVZmZwZWpvcWQyZHUvVS9sOEs2cmFCRWlTSVpjQk1EcUZvbHB0WTd2dkVaYXhoYnVrMzR1QUdjczBqSlJXSU1kOEdLQ2NTYjFhRy9NbFpKaGY3OFU5UFBkSjMvVEZFMmpNRDlGenZnTE9JS1NFOXhRemNjLzdvYlVjY2prbmRPNmxiTVlMOGcvMm1QM05QZjhMNEh5ZHR4eUZZR1RZWFlKZndIa0xaNFZNMk1mWGZoYjNqRWMyY2ZHQWZ6N1BsSEwrV0s0SjlHVXlaS3VhMTFsUHR3K09HWEVhdU14OHVxTS9ZWVIwTm5YZmkzMHhlN0RabjNNQW1UTy9PSjlHZkFjYzVYVndrNFE3R0ZwZndrM3dQc0Z3bURIdUkvd2ZiUFVNUHNwUm5md3hRc1cvQXh4Tzg2UnQzSmxtT09JdUs3QzN3OTNlYVQwYjQ5SFd6QnZRcTRqVCtHNWpuWTVsbTc3U2dIUjZOTGdQTmUwemFLNjQ0b3BXNnROU2gvTzVwR244TGtMdzl3K29BeE43K0x4eXhuc2hCUHQ5QUlLeVRrQ0pMb0Vtd2ZIZ2Z1cG11K0V2ZnJNUGJUdWQ1Zkh0dEUvaVNzRHlxQU9Nd0tJQlRReWdtdlEvd1IreFNQd1Zkc0hkSVhlWXpyMXZMcjRORFZEWUwwZTNwQ1BaQkJvbjM3Q3JMbEhNN0Z1aFlTNWFadStONUJpNGloYUZmNXBMSDdPNGhrMzZsN01vZk04MW5pS1lQWkcyc2JFbWErRWhhdVdTTmYxa2ZLOWtocjIvOVIxejNQdTFidk9iMFdQVVh1d2lORklLSGZSUWNudkRmRzdudTFIZ3ZsdmFXdnV4WDJ4aTQvWC9wYnkvb1J0RUVCWmlHa3dOQlp5aDIrbTA3V2h1NzV1eDVoYVpBUm1HU2dDTjBLbjZ3anJaUCtlTzEycW9mTytjK3dRYXFuZ1pZTkdjMG5LdTFRRG9Ld0NtL3ltcnZ2aXhqUFVOejdPQVl3Nm1pZ3NzZHkvRHdXQUpFMzdMMmJDRFdqNzlnSTIvOW52SWpjL08zSlNVWDJPcGw5Q3dyNk1SVzBLUTZBa2k0TERKakM3cis5YmtyWG5LNTlyVHlNKzlJbXVmdlBjNnZvZk5NRHQ0SzlrMC9KNDJqcURlNzlFbUQ5a1l1aDdqZDIrTUJPbkdrV3JBbDhWcWZDdFg0dzdOcDhZMklqTEEzVXZaYk1jYjJXdlE2Rk4vQU9XdktlWkV1aU45NnU4YkNMNVBMOEJ0elI5dTFlVGJ6SzhlaTV5d25EZGdLZlNaVHptZE5GNEwxNTNzUzViUzZka1JvaWZicWJmd0tycWY0MmhWcW0za01uak4zMGIzZEpVMVRhcnJuUVVEMVRJYk4zTVE0N2ZnTkNjQm5HTWNhQnFCWTN5ZngvUGVncng4dFYwUXJMWEx2TDBscmg0aUxMRlVaczdQQ2I1aFVKM1RNQVZTOWZNemVhQzlrbWtrK0xLQTZud3FmRE5nZVJ6NzByR3hzVDBUZklOU053M3lIaDdwZkZEL0d1d1hrWDhaVnl2MDRxOTJLSVI2a1oxLzY0eUVOTXA3ZWlPZFRNMWZEbUFBamQ4V0NyKzhQNkVjZzUzbWJVejgyQ1k2N2phZGhUZGJwdWVJZ2lXYWY0bWk3U2JlL3Ntd3U0REdqcURRVzlpdEJVY1I4RWZXc2dhTjdsNllrTXRNUXpDb0xVWS9nMEtQN2tuZi9YWUt2aXB5VHJXZkNkaWh2U2g1bDZSN0RCcDlGSjNjNXdPV0QyQm4xU1h4SmJmVmU3UjlWdFdXa3c5eTkzZklPVzMwalBIRnpMR2g4SnJYY2NSMC9EUGs2ckkyOXBhK0hLSDNaSUFUanBKMnNQMk5URkorMzA1dG5mMk5lK3Z2SDJNbjIyckE4VXM0RGtzcDRpWVFlSERYa1BVOE5NWUJYZFcrR3ZkU1ZGN2d3QUpPM0NjUmRUeEpyY0paSk5WN3JhbmN0NjlGSzk4ZWdVWnJmQ2NtSnM2Z1d6cWZhejdYZHdITjZqUFBQSFBQWjJ1Ly9KSXhDUFFkZU1yZ05GQ2lXM2U0NGFqS2dJOThKYmd1Q0dabkJMSDdsdkhZQUx3RVVQd2UzS1REalpZOHVFeGRrZWNqeTZSK2FrSHEvaGtMbzd1clgwS3haUjhFSE5mQ2NYcnI3MHk5K3lCVG9LVVh0WGZiUng1VTk3MzNwaks4QU1DYzVCUjZicWhObFNHbjJjcW5FZGZhNm8vTTZGdFlld1FhZEMrL0E0ZjVjKzVlazEwM0k4dDhqaVdiZTc4YnNweUQwM2hYY09ub2xGMndRd0NzdWZaNmExMTcyTjYzMUI3bXVPQlNCTkRVcWJ3dnJJOUpjQ3Mwd1E1WFlodEUrNkcxcFFIM00yUytmTWFZZVcwL3BGdTZsbXNZQVBIWTFLVTJjVjBVZHRWZXhZSFVmN1JQZDFBdHZoelFTR0VaZzRXeTJUQVh3T21yclhmeHdLcHBuODNUZ29hajVZOEVNTnB2clJIVDNWei93ZXE3emZ0VTQ1ZCtXeHVNLzVPOER6eEovZ3dOOXdwVTY3OXRIL3JWak9aSG5xUjhYdkxsQ0lnRzYxZDN1SXVSOHUwWDdKRit5Qzc3ZzZsZFltY3pZTnNEQTdTRmh2UC9UWjE1QjVnZFNjbmNVZTBDdStqT0YrNVZ0Vy83ZDdoTTdlMk0wcFEvQkUwQUttdFZYb2JxTGRiUnRmY3YrMDQzOEpTZzBUZXVBWWttSVY5SHZuNm1ERDdMdVRHMzcxVEczbmxiWHJxT0I3cVlURHZxZERUMTRxWmZ2T1ZvTWM5bFJaeG1ZNS95L3ZhdVlsS3Z2RFZwU1daNWZUMVBBSnZaMlREY05RalpsdDB5MDdkeDU1SjM4YXVibXRlMkJtTCtHMExDTGNSUGoyanFYVldnZWJCUDJFVjNMZGtsLys0Q0pNc1VTKzlCWm5xRDY0N3FrNVcxSWRyeU9zdTMvQVROTm4zVnpNeVRFb1dSa3I3Y2RoYkZuODJsZFNUZlJGLzBzejBXZkovc3ZuclVOVlYrQWxHdWNTQ3BnMFVaZU5VNDVBanJkSlI5WjluSEh0b2ROM2l5a3A4Ky9LakJEcVlNM2tVZHU1YnJlZWhGdk5WV1RkOHhxeU9tcDdvckhkRTZPWFVQejNzcFhkUlBzQXZjVzBNTzEzLytQbkxlUisyaVc1OGFPQ3Q3a3BiZjhrYTR5WjhDbUlVTlhLYU0rd1lyMTc1cHQzMXd6MlhRaHJ2WTJibGIwQUNZTkFsZkEwajBRZEZ1aE42dmNYMXYxajZSTSs5SG02MVVnZHNFOTdwT1BINnoxRjdoMWNIdy9GMGNGWGEyZmZ6dUdVMnU3ZkRBQlorWEFOYU5OaSt1S0xUUnN3YzE1b2VxVjlteGYvRHNLQmZqRzd2OGpJTE5QNFc2N1pOY2x3TWFkUiswZ2xRdXpyVU1nWm5aOTVaL3RUKzdjNlZKS2Rsb3BOUjc2K2VPc3BiV3YwSHcvUmVlNHhpQVF3bE9PT3FudlA5QTRQOG5lMVZwdlN1dE1lOCt1cU03bTg0TlNEd1dWTDBDWWZlVFhMOUx6STNZbno3NjZLUFh6K3FTelEraElVNk92NDkrL2RPOC9idStSUnd3Q0lFM0FaNlBXblh3QnJ2a0RUTmIwZi9lN3gvQ3lPRjZTajJaRm0xNGJxSFViamV2OGsvV012bVRaNDNMVERkNTZGTFhrajYwMVJiWUs2M2l2NUYyK1MyQWN4TFBINExFOHdGMnNJbnJHazR3LzVtTlB6NXNreE5vMVV1dkFDVFNKQU9XR25LZ0cza2lMOW5QV0Uvei82eVMrb1hOUDNwc05ycWwrSlliR2k4TXV2cnFxNC9COVZuQTh4YnNuOEZoUG5QLy9mZmZ1ZnUxTVhFeCsyaC80cjR1K3VCM2tQc3pFSE9SWUJLYXlDSExRNlZldFkrd01QdkhwcmR5WDgyNTMvczZXZC92WHVLdzNMQ2tJSGlFc0k5WkpYblRiRGJzdnQ1bVBkLzV0ODR6ZitwMERweCtKVUE1SHRubVNQUXN5eGxSc2JPQUQzU1g4bnl5dVlJbW5lVVZRWFdDVWRkRFBNZDZ3dTVBRVh5Ny9lUlQrSjhaVXdjTklQRy85NzN2SFlHdyt3R3F1b2pyY1VaTW4yREo1bTF2ZU1NTTMvS251dmVQM05Gc1h2SXNWTnQvQVdjNUNTYXc0OVJHU0dBMG1ON2xWaXQ4eWJxWGoxalA0WENkUFJnMmluVy83ZkpPYTJtU0p2cnozQWJkcnRpMmpOYjdCZy9UVTMzVnhnZXZzSnMvUEROT0ZoYjZ6UHlLQzZXR09teTgyTVg5TDRHck1BWENiTFhudzQrMTBMMDZ5SnF1N1hiYVNQYlptUEIxb0ltNnBQbDBRMW9VcnAwRW5BanBmeFhBWEFwZ0pwNlpsbWdvdGFlM3hVYTJ2UWF1OG5jMEF0c3VtSVBabmZHQy83SXFLK2lLNVR0UXlvM1lwUy9UU2NzUlc5b3BnNVlZbE81ZllLWDBCeWp6Z3dCRWFuVVNPVEV1aTJNRGpmMHZsckxyN1Z2dm1SVUJjYWM3bUxOZUJ4cU5sQURKbVR6bFB3TVl6WGxjZ3Y4eXR0QnVmZGFlWEJ5bmhzSXQ4T0VLM3F1cFZ5T2NwbnI5RGhydWgxRU9Lbmp6dFQyRHMxamErcTB5UG01Zk9wMnVDd0QxTUt6ZXNMblR5djZwbEhVdXdEaUg4RkF1MENJb0M2U0Z2Wkg4MzdhcjNpbGw0KzVCVjYvNGVjZk9MZUJBdy9IeXJ5TGlNd0RtRmRnM01pbjVhVFMrVHo5enZYTnBzK0gvczE4ZndRN0Zjd0RPYXlEb3NYQUhXTElINTRsME5scm40b1JrTFIxZzlCWDR0OEk4MWlBYlBXNVZ2Z0U1TmJ5TXlmOHp6S3N5U25MNU5YTXNwZDB3OXYzY0l2TStDTVNyMzlzM0c3ZDdNSmJod1dVV0lydDhoWWVYQXU5bmRGR2ZaMmo5QzhMaXp2L1piNWNlNXFFbTdqMmNpYmJUNmNOL2krN3FPTUF4RHplakEzOGhkaXU2Q0tZRFlCTFZXb2xSUWg5Yk16WllPY2RIdFFxSEVyWUVRSEVtcWdNV2szVGVGZ0R6VTVqS2Y5djN6bnYwMlgrZ3VWVmpFc0ZYSCtBNmtjZGFEMUF1YjI5di8vVnpDaGkxYjQ5WDR2ZFJoTHIxMXZzSE4xcHo3UWo4YkRLckxVTHBkeUp6S29jdzFPd0NLQm0yellLUENoMVBpUTg3c3VqSUxkbncxZ0tRclFpTURObVRqNW5QMFAyRjcxNGZIbFN0Q3A0M00ya0JUMnQ5RVhqZkJsQnlkRXUzN1BmbitKNy96WGtJdDUwSXhPM29LMXJnS2dFYVU1WVlBSmhhVU9DTGF3anVmT1c4aTBQbmxtMS9iby83bUFsbDl1TzgveDl0ZVF5YTE0bTZUZ0FBQUFCSlJVNUVya0pnZ2c9PVwiXG4gICAgICA+PC9pbWFnZT5cbiAgICA8L2c+XG4gIDwvc3ZnPlxuKTtcbiIsIi8qKlxuICogPGJyLz5cbiAqIDxpbWcgc3JjPVwiL2ltYWdlcy9Db3BpbG90UG9wdXAuZ2lmXCIgd2lkdGg9XCI1MDBcIiAvPlxuICpcbiAqIEEgY2hhdGJvdCBwb3B1cCBjb21wb25lbnQgZm9yIHRoZSBDb3BpbG90S2l0IGZyYW1ld29yay4gVGhlIGNvbXBvbmVudCBhbGxvd3MgZm9yIGEgaGlnaCBkZWdyZWVcbiAqIG9mIGN1c3RvbWl6YXRpb24gdGhyb3VnaCB2YXJpb3VzIHByb3BzIGFuZCBjdXN0b20gQ1NTLlxuICpcbiAqIFNlZSBbQ29waWxvdFNpZGViYXJdKC9yZWZlcmVuY2UvY29tcG9uZW50cy9Db3BpbG90U2lkZWJhcikgZm9yIGEgc2lkZWJhciB2ZXJzaW9uIG9mIHRoaXMgY29tcG9uZW50LlxuICpcbiAqICMjIEluc3RhbGwgRGVwZW5kZW5jaWVzXG4gKlxuICogVGhpcyBjb21wb25lbnQgaXMgcGFydCBvZiB0aGUgW0Bjb3BpbG90a2l0L3JlYWN0LXVpXShodHRwczovL25wbWpzLmNvbS9wYWNrYWdlL0Bjb3BpbG90a2l0L3JlYWN0LXVpKSBwYWNrYWdlLlxuICpcbiAqIGBgYHNoZWxsIG5wbTJ5YXJuIFxcXCJAY29waWxvdGtpdC9yZWFjdC11aVwiXFxcbiAqIG5wbSBpbnN0YWxsIEBjb3BpbG90a2l0L3JlYWN0LWNvcmUgQGNvcGlsb3RraXQvcmVhY3QtdWlcbiAqIGBgYFxuICogIyMgVXNhZ2VcbiAqXG4gKiBgYGB0c3hcbiAqIGltcG9ydCB7IENvcGlsb3RQb3B1cCB9IGZyb20gXCJAY29waWxvdGtpdC9yZWFjdC11aVwiO1xuICpcbiAqIDxDb3BpbG90UG9wdXBcbiAqICAgbGFiZWxzPXt7XG4gKiAgICAgdGl0bGU6IFwiWW91ciBBc3Npc3RhbnRcIixcbiAqICAgICBpbml0aWFsOiBcIkhpISDwn5GLIEhvdyBjYW4gSSBhc3Npc3QgeW91IHRvZGF5P1wiLFxuICogICB9fVxuICogLz5cbiAqIGBgYFxuICpcbiAqICMjIyBMb29rICYgRmVlbFxuICpcbiAqIEJ5IGRlZmF1bHQsIENvcGlsb3RLaXQgY29tcG9uZW50cyBkbyBub3QgaGF2ZSBhbnkgc3R5bGVzLiBZb3UgY2FuIGltcG9ydCBDb3BpbG90S2l0J3Mgc3R5bGVzaGVldCBhdCB0aGUgcm9vdCBvZiB5b3VyIHByb2plY3Q6XG4gKiBgYGB0c3ggZmlsZU5hbWU9XCJZb3VyUm9vdENvbXBvbmVudC50c3hcIlxuICogLi4uXG4gKiBleHBvcnQgZnVuY3Rpb24gWW91clJvb3RDb21wb25lbnQoKSB7XG4gKiAgIHJldHVybiAoXG4gKiAgICAgPENvcGlsb3RLaXQ+XG4gKiAgICAgICAuLi5cbiAqICAgICA8L0NvcGlsb3RLaXQ+XG4gKiAgICk7XG4gKiB9XG4gKiBgYGBcbiAqIEZvciBtb3JlIGluZm9ybWF0aW9uIGFib3V0IGhvdyB0byBjdXN0b21pemUgdGhlIHN0eWxlcywgY2hlY2sgb3V0IHRoZSBbQ3VzdG9taXplIExvb2sgJiBGZWVsXSgvY29uY2VwdHMvY3VzdG9taXplLWxvb2stYW5kLWZlZWwpIGd1aWRlLlxuICovXG5cbmltcG9ydCB7IENvcGlsb3RNb2RhbCwgQ29waWxvdE1vZGFsUHJvcHMgfSBmcm9tIFwiLi9Nb2RhbFwiO1xuXG5leHBvcnQgZnVuY3Rpb24gQ29waWxvdFBvcHVwKHByb3BzOiBDb3BpbG90TW9kYWxQcm9wcykge1xuICBwcm9wcyA9IHtcbiAgICAuLi5wcm9wcyxcbiAgICBjbGFzc05hbWU6IHByb3BzLmNsYXNzTmFtZSA/IHByb3BzLmNsYXNzTmFtZSArIFwiIGNvcGlsb3RLaXRQb3B1cFwiIDogXCJjb3BpbG90S2l0UG9wdXBcIixcbiAgfTtcbiAgcmV0dXJuIDxDb3BpbG90TW9kYWwgey4uLnByb3BzfT57cHJvcHMuY2hpbGRyZW59PC9Db3BpbG90TW9kYWw+O1xufVxuIiwiLyoqXG4gKiA8YnIvPlxuICogPGltZyBzcmM9XCIvaW1hZ2VzL0NvcGlsb3RTaWRlYmFyLmdpZlwiIHdpZHRoPVwiNTAwXCIgLz5cbiAqXG4gKiBBIGNoYXRib3Qgc2lkZWJhciBjb21wb25lbnQgZm9yIHRoZSBDb3BpbG90S2l0IGZyYW1ld29yay4gSGlnaGx5IGN1c3RvbWl6YWJsZSB0aHJvdWdoIHZhcmlvdXMgcHJvcHMgYW5kIGN1c3RvbSBDU1MuXG4gKlxuICogU2VlIFtDb3BpbG90UG9wdXBdKC9yZWZlcmVuY2UvY29tcG9uZW50cy9Db3BpbG90UG9wdXApIGZvciBhIHBvcHVwIHZlcnNpb24gb2YgdGhpcyBjb21wb25lbnQuXG4gKlxuICogIyMgSW5zdGFsbCBEZXBlbmRlbmNpZXNcbiAqXG4gKiBUaGlzIGNvbXBvbmVudCBpcyBwYXJ0IG9mIHRoZSBbQGNvcGlsb3RraXQvcmVhY3QtdWldKGh0dHBzOi8vbnBtanMuY29tL3BhY2thZ2UvQGNvcGlsb3RraXQvcmVhY3QtdWkpIHBhY2thZ2UuXG4gKlxuICogYGBgc2hlbGwgbnBtMnlhcm4gXFxcIkBjb3BpbG90a2l0L3JlYWN0LXVpXCJcXFxuICogbnBtIGluc3RhbGwgQGNvcGlsb3RraXQvcmVhY3QtY29yZSBAY29waWxvdGtpdC9yZWFjdC11aVxuICogYGBgXG4gKlxuICogIyMgVXNhZ2VcbiAqXG4gKiBgYGB0c3hcbiAqIGltcG9ydCB7IENvcGlsb3RTaWRlYmFyIH0gZnJvbSBcIkBjb3BpbG90a2l0L3JlYWN0LXVpXCI7XG4gKlxuICogPENvcGlsb3RTaWRlYmFyXG4gKiAgIGxhYmVscz17e1xuICogICAgIHRpdGxlOiBcIllvdXIgQXNzaXN0YW50XCIsXG4gKiAgICAgaW5pdGlhbDogXCJIaSEg8J+RiyBIb3cgY2FuIEkgYXNzaXN0IHlvdSB0b2RheT9cIixcbiAqICAgfX1cbiAqID5cbiAqICAgPFlvdXJBcHAvPlxuICogPC9Db3BpbG90U2lkZWJhcj5cbiAqIGBgYFxuICpcbiAqICMjIyBMb29rICYgRmVlbFxuICpcbiAqIEJ5IGRlZmF1bHQsIENvcGlsb3RLaXQgY29tcG9uZW50cyBkbyBub3QgaGF2ZSBhbnkgc3R5bGVzLiBZb3UgY2FuIGltcG9ydCBDb3BpbG90S2l0J3Mgc3R5bGVzaGVldCBhdCB0aGUgcm9vdCBvZiB5b3VyIHByb2plY3Q6XG4gKiBgYGB0c3ggZmlsZU5hbWU9XCJZb3VyUm9vdENvbXBvbmVudC50c3hcIlxuICogLi4uXG4gKlxuICogZXhwb3J0IGZ1bmN0aW9uIFlvdXJSb290Q29tcG9uZW50KCkge1xuICogICByZXR1cm4gKFxuICogICAgIDxDb3BpbG90S2l0PlxuICogICAgICAgLi4uXG4gKiAgICAgPC9Db3BpbG90S2l0PlxuICogICApO1xuICogfVxuICogYGBgXG4gKiBGb3IgbW9yZSBpbmZvcm1hdGlvbiBhYm91dCBob3cgdG8gY3VzdG9taXplIHRoZSBzdHlsZXMsIGNoZWNrIG91dCB0aGUgW0N1c3RvbWl6ZSBMb29rICYgRmVlbF0oL2NvbmNlcHRzL2N1c3RvbWl6ZS1sb29rLWFuZC1mZWVsKSBndWlkZS5cbiAqL1xuaW1wb3J0IFJlYWN0LCB7IHVzZVN0YXRlIH0gZnJvbSBcInJlYWN0XCI7XG5pbXBvcnQgeyBDb3BpbG90TW9kYWwsIENvcGlsb3RNb2RhbFByb3BzIH0gZnJvbSBcIi4vTW9kYWxcIjtcblxuZXhwb3J0IGZ1bmN0aW9uIENvcGlsb3RTaWRlYmFyKHByb3BzOiBDb3BpbG90TW9kYWxQcm9wcykge1xuICBwcm9wcyA9IHtcbiAgICAuLi5wcm9wcyxcbiAgICBjbGFzc05hbWU6IHByb3BzLmNsYXNzTmFtZSA/IHByb3BzLmNsYXNzTmFtZSArIFwiIGNvcGlsb3RLaXRTaWRlYmFyXCIgOiBcImNvcGlsb3RLaXRTaWRlYmFyXCIsXG4gIH07XG4gIGNvbnN0IFtleHBhbmRlZENsYXNzTmFtZSwgc2V0RXhwYW5kZWRDbGFzc05hbWVdID0gdXNlU3RhdGUoXG4gICAgcHJvcHMuZGVmYXVsdE9wZW4gPyBcInNpZGViYXJFeHBhbmRlZFwiIDogXCJcIixcbiAgKTtcblxuICBjb25zdCBvblNldE9wZW4gPSAob3BlbjogYm9vbGVhbikgPT4ge1xuICAgIHByb3BzLm9uU2V0T3Blbj8uKG9wZW4pO1xuICAgIHNldEV4cGFuZGVkQ2xhc3NOYW1lKG9wZW4gPyBcInNpZGViYXJFeHBhbmRlZFwiIDogXCJcIik7XG4gIH07XG5cbiAgcmV0dXJuIChcbiAgICA8ZGl2IGNsYXNzTmFtZT17YGNvcGlsb3RLaXRTaWRlYmFyQ29udGVudFdyYXBwZXIgJHtleHBhbmRlZENsYXNzTmFtZX1gfT5cbiAgICAgIDxDb3BpbG90TW9kYWwgey4uLnByb3BzfSB7Li4ueyBvblNldE9wZW4gfX0+XG4gICAgICAgIHtwcm9wcy5jaGlsZHJlbn1cbiAgICAgIDwvQ29waWxvdE1vZGFsPlxuICAgIDwvZGl2PlxuICApO1xufVxuIiwiLyoqXG4gKiA8Q2FsbG91dCB0eXBlPVwid2FybmluZ1wiPlxuICogICB1c2VDb3BpbG90Q2hhdFN1Z2dlc3Rpb25zIGlzIGV4cGVyaW1lbnRhbC4gVGhlIGludGVyZmFjZSBpcyBub3QgZmluYWwgYW5kXG4gKiAgIGNhbiBjaGFuZ2Ugd2l0aG91dCBub3RpY2UuXG4gKiA8L0NhbGxvdXQ+XG4gKlxuICogYHVzZUNvcGlsb3RSZWFkYWJsZWAgaXMgYSBSZWFjdCBob29rIHRoYXQgcHJvdmlkZXMgYXBwLXN0YXRlIGFuZCBvdGhlciBpbmZvcm1hdGlvblxuICogdG8gdGhlIENvcGlsb3QuIE9wdGlvbmFsbHksIHRoZSBob29rIGNhbiBhbHNvIGhhbmRsZSBoaWVyYXJjaGljYWwgc3RhdGUgd2l0aGluIHlvdXJcbiAqIGFwcGxpY2F0aW9uLCBwYXNzaW5nIHRoZXNlIHBhcmVudC1jaGlsZCByZWxhdGlvbnNoaXBzIHRvIHRoZSBDb3BpbG90LlxuICpcbiAqIDxici8+XG4gKiA8aW1nIHNyYz1cIi9pbWFnZXMvdXNlLWNvcGlsb3QtY2hhdC1zdWdnZXN0aW9ucy91c2UtY29waWxvdC1jaGF0LXN1Z2dlc3Rpb25zLmdpZlwiIHdpZHRoPVwiNTAwXCIgLz5cbiAqXG4gKiAjIyBVc2FnZVxuICpcbiAqICMjIyBJbnN0YWxsIERlcGVuZGVuY2llc1xuICpcbiAqIFRoaXMgY29tcG9uZW50IGlzIHBhcnQgb2YgdGhlIFtAY29waWxvdGtpdC9yZWFjdC11aV0oaHR0cHM6Ly9ucG1qcy5jb20vcGFja2FnZS9AY29waWxvdGtpdC9yZWFjdC11aSkgcGFja2FnZS5cbiAqXG4gKiBgYGBzaGVsbCBucG0yeWFybiBcXFwiQGNvcGlsb3RraXQvcmVhY3QtdWlcIlxcXG4gKiBucG0gaW5zdGFsbCBAY29waWxvdGtpdC9yZWFjdC1jb3JlIEBjb3BpbG90a2l0L3JlYWN0LXVpXG4gKiBgYGBcbiAqXG4gKiAjIyMgU2ltcGxlIFVzYWdlXG4gKlxuICogYGBgdHN4XG4gKiBpbXBvcnQgeyB1c2VDb3BpbG90Q2hhdFN1Z2dlc3Rpb25zIH0gZnJvbSBcIkBjb3BpbG90a2l0L3JlYWN0LXVpXCI7XG4gKlxuICogZXhwb3J0IGZ1bmN0aW9uIE15Q29tcG9uZW50KCkge1xuICogICBjb25zdCBbZW1wbG95ZWVzLCBzZXRFbXBsb3llZXNdID0gdXNlU3RhdGUoW10pO1xuICpcbiAqICAgdXNlQ29waWxvdENoYXRTdWdnZXN0aW9ucyh7XG4gKiAgICAgaW5zdHJ1Y3Rpb25zOiBgVGhlIGZvbGxvd2luZyBlbXBsb3llZXMgYXJlIG9uIGR1dHk6ICR7SlNPTi5zdHJpbmdpZnkoZW1wbG95ZWVzKX1gLFxuICogICB9KTtcbiAqIH1cbiAqIGBgYFxuICpcbiAqICMjIyBEZXBlbmRlbmN5IE1hbmFnZW1lbnRcbiAqXG4gKiBgYGB0c3hcbiAqIGltcG9ydCB7IHVzZUNvcGlsb3RDaGF0U3VnZ2VzdGlvbnMgfSBmcm9tIFwiQGNvcGlsb3RraXQvcmVhY3QtdWlcIjtcbiAqXG4gKiBleHBvcnQgZnVuY3Rpb24gTXlDb21wb25lbnQoKSB7XG4gKiAgIHVzZUNvcGlsb3RDaGF0U3VnZ2VzdGlvbnMoXG4gKiAgICAge1xuICogICAgICAgaW5zdHJ1Y3Rpb25zOiBcIlN1Z2dlc3QgdGhlIG1vc3QgcmVsZXZhbnQgbmV4dCBhY3Rpb25zLlwiLFxuICogICAgIH0sXG4gKiAgICAgW2FwcFN0YXRlXSxcbiAqICAgKTtcbiAqIH1cbiAqIGBgYFxuICpcbiAqIEluIHRoZSBleGFtcGxlIGFib3ZlLCB0aGUgc3VnZ2VzdGlvbnMgYXJlIGdlbmVyYXRlZCBiYXNlZCBvbiB0aGUgZ2l2ZW4gaW5zdHJ1Y3Rpb25zLlxuICogVGhlIGhvb2sgbW9uaXRvcnMgYGFwcFN0YXRlYCwgYW5kIHVwZGF0ZXMgc3VnZ2VzdGlvbnMgYWNjb3JkaW5nbHkgd2hlbmV2ZXIgaXQgY2hhbmdlcy5cbiAqXG4gKiAjIyMgQmVoYXZpb3IgYW5kIExpZmVjeWNsZVxuICpcbiAqIFRoZSBob29rIHJlZ2lzdGVycyB0aGUgY29uZmlndXJhdGlvbiB3aXRoIHRoZSBjaGF0IGNvbnRleHQgdXBvbiBjb21wb25lbnQgbW91bnQgYW5kXG4gKiByZW1vdmVzIGl0IG9uIHVubW91bnQsIGVuc3VyaW5nIGEgY2xlYW4gYW5kIGVmZmljaWVudCBsaWZlY3ljbGUgbWFuYWdlbWVudC5cbiAqL1xuXG5pbXBvcnQgeyB1c2VFZmZlY3QgfSBmcm9tIFwicmVhY3RcIjtcbmltcG9ydCB7IHVzZUNvcGlsb3RDb250ZXh0IH0gZnJvbSBcIkBjb3BpbG90a2l0L3JlYWN0LWNvcmVcIjtcbmltcG9ydCB7IHJhbmRvbUlkIH0gZnJvbSBcIkBjb3BpbG90a2l0L3NoYXJlZFwiO1xuXG5pbnRlcmZhY2UgVXNlQ29waWxvdENoYXRTdWdnZXN0aW9uc0NvbmZpZ3VyYXRpb24ge1xuICAvKipcbiAgICogQSBwcm9tcHQgb3IgaW5zdHJ1Y3Rpb25zIGZvciB0aGUgR1BUIHRvIGdlbmVyYXRlIHN1Z2dlc3Rpb25zLlxuICAgKi9cbiAgaW5zdHJ1Y3Rpb25zOiBzdHJpbmc7XG4gIC8qKlxuICAgKiBUaGUgbWluaW11bSBudW1iZXIgb2Ygc3VnZ2VzdGlvbnMgdG8gZ2VuZXJhdGUuIERlZmF1bHRzIHRvIGAxYC5cbiAgICogQGRlZmF1bHQgMVxuICAgKi9cbiAgbWluU3VnZ2VzdGlvbnM/OiBudW1iZXI7XG4gIC8qKlxuICAgKiBUaGUgbWF4aW11bSBudW1iZXIgb2Ygc3VnZ2VzdGlvbnMgdG8gZ2VuZXJhdGUuIERlZmF1bHRzIHRvIGAzYC5cbiAgICogQGRlZmF1bHQgMVxuICAgKi9cbiAgbWF4U3VnZ2VzdGlvbnM/OiBudW1iZXI7XG4gIC8qKlxuICAgKiBBbiBvcHRpb25hbCBjbGFzcyBuYW1lIHRvIGFwcGx5IHRvIHRoZSBzdWdnZXN0aW9ucy5cbiAgICovXG4gIGNsYXNzTmFtZT86IHN0cmluZztcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIHVzZUNvcGlsb3RDaGF0U3VnZ2VzdGlvbnMoXG4gIHtcbiAgICBpbnN0cnVjdGlvbnMsXG4gICAgY2xhc3NOYW1lLFxuICAgIG1pblN1Z2dlc3Rpb25zID0gMSxcbiAgICBtYXhTdWdnZXN0aW9ucyA9IDMsXG4gIH06IFVzZUNvcGlsb3RDaGF0U3VnZ2VzdGlvbnNDb25maWd1cmF0aW9uLFxuICBkZXBlbmRlbmNpZXM6IGFueVtdID0gW10sXG4pIHtcbiAgY29uc3QgY29udGV4dCA9IHVzZUNvcGlsb3RDb250ZXh0KCk7XG5cbiAgdXNlRWZmZWN0KCgpID0+IHtcbiAgICBjb25zdCBpZCA9IHJhbmRvbUlkKCk7XG5cbiAgICBjb250ZXh0LmFkZENoYXRTdWdnZXN0aW9uQ29uZmlndXJhdGlvbihpZCwge1xuICAgICAgaW5zdHJ1Y3Rpb25zLFxuICAgICAgbWluU3VnZ2VzdGlvbnMsXG4gICAgICBtYXhTdWdnZXN0aW9ucyxcbiAgICAgIGNsYXNzTmFtZSxcbiAgICB9KTtcblxuICAgIHJldHVybiAoKSA9PiB7XG4gICAgICBjb250ZXh0LnJlbW92ZUNoYXRTdWdnZXN0aW9uQ29uZmlndXJhdGlvbihpZCk7XG4gICAgfTtcbiAgfSwgZGVwZW5kZW5jaWVzKTtcbn1cbiJdLCJuYW1lcyI6WyJnbG9iYWxUaGlzIiwiaGFzT3duUHJvcGVydHkiLCJzdHlsZSIsImRvY3VtZW50IiwiY3JlYXRlRWxlbWVudCIsImlubmVySFRNTCIsImhlYWQiLCJhcHBlbmRDaGlsZCIsIlJlYWN0IiwianN4IiwianN4cyIsIk9wZW5JY29uIiwieG1sbnMiLCJ2aWV3Qm94IiwiZmlsbCIsIndpZHRoIiwiaGVpZ2h0IiwiY2hpbGRyZW4iLCJ0cmFuc2Zvcm0iLCJmaWxsUnVsZSIsImQiLCJjbGlwUnVsZSIsIkNsb3NlSWNvbiIsInN0cm9rZVdpZHRoIiwic3Ryb2tlIiwic3Ryb2tlTGluZWNhcCIsInN0cm9rZUxpbmVqb2luIiwiSGVhZGVyQ2xvc2VJY29uIiwiU2VuZEljb24iLCJTcGlubmVySWNvbiIsImFuaW1hdGlvbiIsImNvbG9yIiwib3BhY2l0eSIsImN4IiwiY3kiLCJyIiwiU21hbGxTcGlubmVySWNvbiIsIkFjdGl2aXR5SWNvbiIsImRpc3BsYXkiLCJtYXJnaW5MZWZ0IiwibWFyZ2luUmlnaHQiLCJjbGFzc05hbWUiLCJDaGVja0ljb24iLCJfYSIsIl9iIiwicHJvcHMiLCJfX29ialJlc3QiLCJfX3NwcmVhZFByb3BzIiwiX19zcHJlYWRWYWx1ZXMiLCJEb3dubG9hZEljb24iLCJDb3B5SWNvbiIsIlN0b3BJY29uIiwiUmVnZW5lcmF0ZUljb24iLCJQdXNoVG9UYWxrSWNvbiIsIkNoYXRDb250ZXh0IiwiY3JlYXRlQ29udGV4dCIsInVzZUNoYXRDb250ZXh0IiwiY29udGV4dCIsInVzZUNvbnRleHQiLCJFcnJvciIsIkNoYXRDb250ZXh0UHJvdmlkZXIiLCJsYWJlbHMiLCJpY29ucyIsIm9wZW4iLCJzZXRPcGVuIiwiaW5pdGlhbCIsInRpdGxlIiwicGxhY2Vob2xkZXIiLCJlcnJvciIsInN0b3BHZW5lcmF0aW5nIiwicmVnZW5lcmF0ZVJlc3BvbnNlIiwib3Blbkljb24iLCJjbG9zZUljb24iLCJoZWFkZXJDbG9zZUljb24iLCJzZW5kSWNvbiIsImFjdGl2aXR5SWNvbiIsInNwaW5uZXJJY29uIiwic3RvcEljb24iLCJyZWdlbmVyYXRlSWNvbiIsInB1c2hUb1RhbGtJY29uIiwiUHJvdmlkZXIiLCJ2YWx1ZSIsInVzZUNhbGxiYWNrIiwidXNlRWZmZWN0IiwiV2luZG93IiwiY2xpY2tPdXRzaWRlVG9DbG9zZSIsInNob3J0Y3V0IiwiaGl0RXNjYXBlVG9DbG9zZSIsIndpbmRvd1JlZiIsInVzZVJlZiIsImhhbmRsZUNsaWNrT3V0c2lkZSIsImV2ZW50IiwicGFyZW50RWxlbWVudCIsImN1cnJlbnQiLCJ0YXJnZXQiLCJIVE1MRWxlbWVudCIsImNvbnRhaW5zIiwiaW5jbHVkZXMiLCJoYW5kbGVLZXlEb3duIiwiaXNJbnB1dCIsInRhZ05hbWUiLCJpc0NvbnRlbnRFZGl0YWJsZSIsImlzRGVzY2VuZGFudE9mV3JhcHBlciIsImtleSIsImlzTWFjT1MiLCJtZXRhS2V5IiwiY3RybEtleSIsImFkanVzdEZvck1vYmlsZSIsImNvcGlsb3RLaXRXaW5kb3ciLCJ2diIsIndpbmRvdyIsInZpc3VhbFZpZXdwb3J0IiwiaW5uZXJXaWR0aCIsImxlZnQiLCJvZmZzZXRMZWZ0IiwidG9wIiwib2Zmc2V0VG9wIiwiYm9keSIsInBvc2l0aW9uIiwiaW5uZXJIZWlnaHQiLCJvdmVyZmxvdyIsInRvdWNoQWN0aW9uIiwiYWRkRXZlbnRMaXN0ZW5lciIsInByZXZlbnRTY3JvbGwiLCJwYXNzaXZlIiwicmVtb3ZlRXZlbnRMaXN0ZW5lciIsInJlZiIsInRhcmdldEVsZW1lbnQiLCJoYXNQYXJlbnRXaXRoQ2xhc3MiLCJlbGVtZW50IiwiY2xhc3NMaXN0IiwicHJldmVudERlZmF1bHQiLCJ0ZXN0IiwibmF2aWdhdG9yIiwidXNlckFnZW50IiwiQnV0dG9uIiwib25DbGljayIsIkhlYWRlciIsInVzZU1lbW8iLCJtZW1vIiwiUmVhY3RNYXJrZG93biIsIlByaXNtIiwiU3ludGF4SGlnaGxpZ2h0ZXIiLCJ1c2VDb3B5VG9DbGlwYm9hcmQiLCJ0aW1lb3V0IiwiaXNDb3BpZWQiLCJzZXRJc0NvcGllZCIsIlJlYWN0MyIsInVzZVN0YXRlIiwiY29weVRvQ2xpcGJvYXJkIiwiY2xpcGJvYXJkIiwid3JpdGVUZXh0IiwidGhlbiIsInNldFRpbWVvdXQiLCJwcm9ncmFtbWluZ0xhbmd1YWdlcyIsImphdmFzY3JpcHQiLCJweXRob24iLCJqYXZhIiwiYyIsImNwcCIsInJ1YnkiLCJwaHAiLCJzd2lmdCIsImtvdGxpbiIsInR5cGVzY3JpcHQiLCJnbyIsInBlcmwiLCJydXN0Iiwic2NhbGEiLCJoYXNrZWxsIiwibHVhIiwic2hlbGwiLCJzcWwiLCJodG1sIiwiY3NzIiwiZ2VuZXJhdGVSYW5kb21TdHJpbmciLCJsZW5ndGgiLCJsb3dlcmNhc2UiLCJjaGFycyIsInJlc3VsdCIsImkiLCJjaGFyQXQiLCJNYXRoIiwiZmxvb3IiLCJyYW5kb20iLCJ0b0xvd2VyQ2FzZSIsIkNvZGVCbG9jayIsImxhbmd1YWdlIiwiZG93bmxvYWRBc0ZpbGUiLCJmaWxlRXh0ZW5zaW9uIiwic3VnZ2VzdGVkRmlsZU5hbWUiLCJmaWxlTmFtZSIsInByb21wdCIsImJsb2IiLCJCbG9iIiwidHlwZSIsInVybCIsIlVSTCIsImNyZWF0ZU9iamVjdFVSTCIsImxpbmsiLCJkb3dubG9hZCIsImhyZWYiLCJjbGljayIsInJlbW92ZUNoaWxkIiwicmV2b2tlT2JqZWN0VVJMIiwib25Db3B5IiwiaGlnaGxpZ2h0U3R5bGUiLCJQcmVUYWciLCJjdXN0b21TdHlsZSIsIm1hcmdpbiIsImJvcmRlckJvdHRvbUxlZnRSYWRpdXMiLCJib3JkZXJCb3R0b21SaWdodFJhZGl1cyIsImRpc3BsYXlOYW1lIiwiZm9udFNpemUiLCJ0ZXh0U2hhZG93IiwiZm9udEZhbWlseSIsImRpcmVjdGlvbiIsInRleHRBbGlnbiIsIndoaXRlU3BhY2UiLCJ3b3JkU3BhY2luZyIsIndvcmRCcmVhayIsImxpbmVIZWlnaHQiLCJNb3pUYWJTaXplIiwiT1RhYlNpemUiLCJ0YWJTaXplIiwiV2Via2l0SHlwaGVucyIsIk1vekh5cGhlbnMiLCJtc0h5cGhlbnMiLCJoeXBoZW5zIiwicGFkZGluZyIsImJhY2tncm91bmQiLCJib3JkZXJSYWRpdXMiLCJPcGFjaXR5IiwiY29tbWVudCIsInByb2xvZyIsInB1bmN0dWF0aW9uIiwicHJvcGVydHkiLCJ0YWciLCJib29sZWFuIiwibnVtYmVyIiwiY29uc3RhbnQiLCJzeW1ib2wiLCJpbnNlcnRlZCIsInVuaXQiLCJzZWxlY3RvciIsInN0cmluZyIsImNoYXIiLCJidWlsdGluIiwiZGVsZXRlZCIsInRleHREZWNvcmF0aW9uIiwib3BlcmF0b3IiLCJlbnRpdHkiLCJhdHJ1bGUiLCJrZXl3b3JkIiwiZnVuY3Rpb24iLCJyZWdleCIsImltcG9ydGFudCIsIml0YWxpYyIsImZvbnRTdHlsZSIsImNvbnNvbGUiLCJwYXJhbWV0ZXIiLCJpbnRlcnBvbGF0aW9uIiwidmFyaWFibGUiLCJlc2NhcGUiLCJjZGF0YSIsIm5hbWVzcGFjZSIsInpJbmRleCIsImJveFNoYWRvdyIsInJlbWFya0dmbSIsInJlbWFya01hdGgiLCJNZW1vaXplZFJlYWN0TWFya2Rvd24iLCJwcmV2UHJvcHMiLCJuZXh0UHJvcHMiLCJNYXJrZG93biIsImNvbnRlbnQiLCJjb21wb25lbnRzIiwicmVtYXJrUGx1Z2lucyIsInAiLCJhIiwicmVsIiwiY29kZSIsIl9jIiwiX2QiLCJpbmxpbmUiLCJtYXJnaW5Ub3AiLCJyZXBsYWNlIiwibWF0Y2giLCJleGVjIiwiU3RyaW5nIiwidXNlQ29waWxvdENvbnRleHQiLCJNZXNzYWdlU3RhdHVzQ29kZSIsIkFjdGlvbkV4ZWN1dGlvbk1lc3NhZ2UiLCJSZXN1bHRNZXNzYWdlIiwiVGV4dE1lc3NhZ2UiLCJSb2xlIiwiQWdlbnRTdGF0ZU1lc3NhZ2UiLCJNZXNzYWdlcyIsIm1lc3NhZ2VzIiwiaW5Qcm9ncmVzcyIsImNoYXRDb21wb25lbnRzQ2FjaGUiLCJpbml0aWFsTWVzc2FnZXMiLCJtYWtlSW5pdGlhbE1lc3NhZ2VzIiwiZnVuY3Rpb25SZXN1bHRzIiwiaWQiLCJyZXN1bHRNZXNzYWdlIiwiZmluZCIsIm1lc3NhZ2UiLCJhY3Rpb25FeGVjdXRpb25JZCIsImRlY29kZVJlc3VsdCIsIm1lc3NhZ2VzRW5kUmVmIiwic2Nyb2xsVG9Cb3R0b20iLCJzY3JvbGxJbnRvVmlldyIsImJlaGF2aW9yIiwibWFwIiwiaW5kZXgiLCJpc0N1cnJlbnRNZXNzYWdlIiwicm9sZSIsImFjdGlvbnMiLCJuYW1lIiwicmVuZGVyIiwiYXJncyIsImFyZ3VtZW50cyIsInN0YXR1cyIsIlBlbmRpbmciLCJ0b1JlbmRlciIsImNvYWdlbnRBY3Rpb25zIiwiYWdlbnROYW1lIiwibm9kZU5hbWUiLCJzdGF0ZSIsImFjdGl2ZSIsImluaXRpYWxBcnJheSIsIkFycmF5IiwiaXNBcnJheSIsInB1c2giLCJBc3Npc3RhbnQiLCJmb3J3YXJkUmVmIiwidXNlSW1wZXJhdGl2ZUhhbmRsZSIsIkF1dG9SZXNpemluZ1RleHRhcmVhIiwibWF4Um93cyIsIm9uQ2hhbmdlIiwib25LZXlEb3duIiwiYXV0b0ZvY3VzIiwiaW50ZXJuYWxUZXh0YXJlYVJlZiIsIm1heEhlaWdodCIsInNldE1heEhlaWdodCIsImNhbGN1bGF0ZU1heEhlaWdodCIsInRleHRhcmVhIiwic2luZ2xlUm93SGVpZ2h0Iiwic2Nyb2xsSGVpZ2h0IiwiZm9jdXMiLCJtaW4iLCJyZXNpemUiLCJyb3dzIiwiVGV4dGFyZWFfZGVmYXVsdCIsInN0YXJ0UmVjb3JkaW5nIiwibWVkaWFTdHJlYW1SZWYiLCJtZWRpYVJlY29yZGVyUmVmIiwiYXVkaW9Db250ZXh0UmVmIiwicmVjb3JkZWRDaHVua3MiLCJvblN0b3AiLCJfX2FzeW5jIiwibWVkaWFEZXZpY2VzIiwiZ2V0VXNlck1lZGlhIiwiYXVkaW8iLCJBdWRpb0NvbnRleHQiLCJyZXN1bWUiLCJNZWRpYVJlY29yZGVyIiwic3RhcnQiLCJvbmRhdGFhdmFpbGFibGUiLCJkYXRhIiwib25zdG9wIiwic3RvcFJlY29yZGluZyIsInN0b3AiLCJ0cmFuc2NyaWJlQXVkaW8iLCJ0cmFuc2NyaWJlQXVkaW9VcmwiLCJjb21wbGV0ZUJsb2IiLCJmb3JtRGF0YSIsIkZvcm1EYXRhIiwiYXBwZW5kIiwicmVzcG9uc2UiLCJmZXRjaCIsIm1ldGhvZCIsIm9rIiwic3RhdHVzVGV4dCIsInRyYW5zY3JpcHRpb24iLCJqc29uIiwidGV4dCIsInBsYXlBdWRpb1Jlc3BvbnNlIiwidGV4dFRvU3BlZWNoVXJsIiwiYXVkaW9Db250ZXh0IiwiZW5jb2RlZFRleHQiLCJlbmNvZGVVUklDb21wb25lbnQiLCJhcnJheUJ1ZmZlciIsImRlY29kZUF1ZGlvRGF0YSIsImF1ZGlvQnVmZmVyIiwic291cmNlIiwiY3JlYXRlQnVmZmVyU291cmNlIiwiYnVmZmVyIiwiY29ubmVjdCIsImRlc3RpbmF0aW9uIiwiY2F0Y2giLCJ1c2VQdXNoVG9UYWxrIiwic2VuZEZ1bmN0aW9uIiwicHVzaFRvVGFsa1N0YXRlIiwic2V0UHVzaFRvVGFsa1N0YXRlIiwic3RhcnRSZWFkaW5nRnJvbU1lc3NhZ2VJZCIsInNldFN0YXJ0UmVhZGluZ0Zyb21NZXNzYWdlSWQiLCJjb3BpbG90QXBpQ29uZmlnIiwibGFzdE1lc3NhZ2VJbmRleCIsImZpbmRJbmRleCIsIm1lc3NhZ2VzQWZ0ZXJMYXN0Iiwic2xpY2UiLCJmaWx0ZXIiLCJqb2luIiwiSW5wdXQiLCJvblNlbmQiLCJpc1Zpc2libGUiLCJjb3BpbG90Q29udGV4dCIsInB1c2hUb1RhbGtDb25maWd1cmVkIiwidGV4dGFyZWFSZWYiLCJoYW5kbGVEaXZDbGljayIsImN1cnJlbnRUYXJnZXQiLCJzZXRUZXh0Iiwic2VuZCIsInNob3dQdXNoVG9UYWxrIiwic2VuZERpc2FibGVkIiwic2hpZnRLZXkiLCJkaXNhYmxlZCIsIlJlc3BvbnNlQnV0dG9uIiwiZXh0cmFjdCIsImFjdGlvblBhcmFtZXRlcnNUb0pzb25TY2hlbWEiLCJDb3BpbG90UmVxdWVzdFR5cGUiLCJTdWdnZXN0aW9uIiwicGFydGlhbCIsImUiLCJyZWxvYWRTdWdnZXN0aW9ucyIsImNoYXRTdWdnZXN0aW9uQ29uZmlndXJhdGlvbiIsInNldEN1cnJlbnRTdWdnZXN0aW9ucyIsImFib3J0Q29udHJvbGxlclJlZiIsImFib3J0Q29udHJvbGxlciIsInRvb2xzIiwiSlNPTiIsInN0cmluZ2lmeSIsIk9iamVjdCIsInZhbHVlcyIsImFjdGlvbiIsImRlc2NyaXB0aW9uIiwianNvblNjaGVtYSIsInBhcmFtZXRlcnMiLCJhbGxTdWdnZXN0aW9ucyIsImNvbmZpZyIsIm51bU9mU3VnZ2VzdGlvbnNJbnN0cnVjdGlvbnMiLCJtaW5TdWdnZXN0aW9ucyIsIm1heFN1Z2dlc3Rpb25zIiwiaW5zdHJ1Y3Rpb25zIiwicmVxdWVzdFR5cGUiLCJUYXNrIiwiYXR0cmlidXRlcyIsImluY2x1ZGUiLCJyZWFkYWJsZSIsImFib3J0U2lnbmFsIiwic2lnbmFsIiwic3RyZWFtIiwic3VnZ2VzdGlvbnMiLCJuZXdTdWdnZXN0aW9ucyIsInVzZUNvcGlsb3RDaGF0IiwicmFuZG9tSWQiLCJkZWZhdWx0Q29waWxvdENvbnRleHRDYXRlZ29yaWVzIiwic2hvdWxkU2hvd0RldkNvbnNvbGUiLCJzaG93RGV2Q29uc29sZSIsImdldEhvc3RuYW1lIiwibG9jYXRpb24iLCJob3N0bmFtZSIsImdldFB1Ymxpc2hlZENvcGlsb3RLaXRWZXJzaW9uIiwiZm9yY2VDaGVjayIsIkxPQ0FMX1NUT1JBR0VfS0VZIiwic2VyaWFsaXplZFZlcnNpb24iLCJsb2NhbFN0b3JhZ2UiLCJnZXRJdGVtIiwicGFyc2VkVmVyc2lvbiIsInBhcnNlIiwib25lSG91ciIsIm5vdyIsIkRhdGUiLCJnZXRUaW1lIiwibGFzdENoZWNrZWQiLCJoZWFkZXJzIiwicGFja2FnZXMiLCJwYWNrYWdlTmFtZSIsInBhY2thZ2VWZXJzaW9uIiwidmVyc2lvbiIsImxhdGVzdCIsImxhdGVzdFZlcnNpb24iLCJzZXZlcml0eSIsImFkdmlzb3J5Iiwic2V0SXRlbSIsImxvZ1JlYWRhYmxlcyIsImxvZyIsInJlYWRhYmxlcyIsImdldENvbnRleHRTdHJpbmciLCJ0cmltIiwibG9nQWN0aW9ucyIsImdyb3VwIiwiZ3JvdXBFbmQiLCJsb2dNZXNzYWdlcyIsInRhYmxlRGF0YSIsInNjb3BlIiwiYWN0aW9uTmFtZSIsInJ1bm5pbmciLCJ0aHJlYWRJZCIsInRhYmxlIiwiRXhjbGFtYXRpb25NYXJrVHJpYW5nbGVJY29uIiwiRXhjbGFtYXRpb25NYXJrSWNvbiIsIkNoZXZyb25Eb3duSWNvbiIsIkNvcGlsb3RLaXRJY29uIiwieCIsInkiLCJ4bGlua0hyZWYiLCJNZW51IiwiTWVudUJ1dHRvbiIsIk1lbnVJdGVtIiwiTWVudUl0ZW1zIiwiQ09QSUxPVEtJVF9WRVJTSU9OIiwiRnJhZ21lbnQiLCJDb3BpbG90RGV2Q29uc29sZSIsImN1cnJlbnRWZXJzaW9uIiwic2V0U2hvd0RldkNvbnNvbGUiLCJkb250UnVuVHdpY2VJbkRldk1vZGUiLCJ2ZXJzaW9uU3RhdHVzIiwic2V0VmVyc2lvblN0YXR1cyIsInNldExhdGVzdFZlcnNpb24iLCJjb25zb2xlUmVmIiwiZGVidWdCdXR0b25Nb2RlIiwic2V0RGVidWdCdXR0b25Nb2RlIiwiY2hlY2tGb3JVcGRhdGVzIiwiZm9yY2UiLCJ2IiwidmVyc2lvbk9rIiwiaGFuZGxlUmVzaXplIiwiZW50cmllcyIsImVudHJ5IiwiY29udGVudFJlY3QiLCJvYnNlcnZlciIsIlJlc2l6ZU9ic2VydmVyIiwib2JzZXJ2ZSIsImluaXRpYWxXaWR0aCIsImdldEJvdW5kaW5nQ2xpZW50UmVjdCIsInVub2JzZXJ2ZSIsIlZlcnNpb25JbmZvIiwiRGVidWdNZW51QnV0dG9uIiwibW9kZSIsImNvcHlTdGF0dXMiLCJzZXRDb3B5U3RhdHVzIiwidmVyc2lvbkxhYmVsIiwidmVyc2lvbkljb24iLCJjdXJyZW50VmVyc2lvbkxhYmVsIiwiYXNpZGVMYWJlbCIsImluc3RhbGxDb21tYW5kIiwiaGFuZGxlQ29weUNsaWNrIiwidHJhbnNpdGlvbiIsImFuY2hvciIsIkNvcGlsb3RDaGF0Iiwib25TdWJtaXRNZXNzYWdlIiwibWFrZVN5c3RlbU1lc3NhZ2UiLCJzaG93UmVzcG9uc2VCdXR0b24iLCJvbkluUHJvZ3Jlc3MiLCJzZXRDaGF0SW5zdHJ1Y3Rpb25zIiwidmlzaWJsZU1lc3NhZ2VzIiwiaXNMb2FkaW5nIiwiY3VycmVudFN1Z2dlc3Rpb25zIiwic2VuZE1lc3NhZ2UiLCJzdG9wR2VuZXJhdGlvbiIsInJlbG9hZE1lc3NhZ2VzIiwidXNlQ29waWxvdENoYXRMb2dpYyIsImNoYXRDb250ZXh0IiwiV3JhcHBlZENvcGlsb3RDaGF0Iiwic3VnZ2VzdGlvbiIsIlNVR0dFU1RJT05TX0RFQk9VTkNFX1RJTUVPVVQiLCJhcHBlbmRNZXNzYWdlIiwic3VnZ2VzdGlvbnNBYm9ydENvbnRyb2xsZXJSZWYiLCJkZWJvdW5jZVRpbWVyUmVmIiwiYWJvcnRTdWdnZXN0aW9ucyIsImFib3J0Iiwia2V5cyIsIkFib3J0Q29udHJvbGxlciIsImNsZWFyVGltZW91dCIsIm1lc3NhZ2VDb250ZW50IiwiVXNlciIsIkNvcGlsb3RNb2RhbCIsImRlZmF1bHRPcGVuIiwib25TZXRPcGVuIiwib3BlblN0YXRlIiwic2V0T3BlblN0YXRlIiwiQ29waWxvdFBvcHVwIiwiQ29waWxvdFNpZGViYXIiLCJleHBhbmRlZENsYXNzTmFtZSIsInNldEV4cGFuZGVkQ2xhc3NOYW1lIiwiY2FsbCIsInVzZUNvcGlsb3RDaGF0U3VnZ2VzdGlvbnMiLCJkZXBlbmRlbmNpZXMiLCJhZGRDaGF0U3VnZ2VzdGlvbkNvbmZpZ3VyYXRpb24iLCJyZW1vdmVDaGF0U3VnZ2VzdGlvbkNvbmZpZ3VyYXRpb24iXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/@copilotkit/react-ui/dist/index.mjs\n");

/***/ }),

/***/ "(ssr)/./node_modules/@copilotkit/runtime-client-gql/dist/chunk-2G5YL4FF.mjs":
/*!*****************************************************************************!*\
  !*** ./node_modules/@copilotkit/runtime-client-gql/dist/chunk-2G5YL4FF.mjs ***!
  \*****************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   generateCopilotResponseMutation: () => (/* binding */ generateCopilotResponseMutation)\n/* harmony export */ });\n/* harmony import */ var _chunk_OS54FOSV_mjs__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./chunk-OS54FOSV.mjs */ \"(ssr)/./node_modules/@copilotkit/runtime-client-gql/dist/chunk-OS54FOSV.mjs\");\n\n\n// src/graphql/@generated/gql.ts\nvar documents = {\n  \"\\n  mutation generateCopilotResponse($data: GenerateCopilotResponseInput!, $properties: JSONObject) {\\n    generateCopilotResponse(data: $data, properties: $properties) {\\n      threadId\\n      runId\\n      ... on CopilotResponse @defer {\\n        status {\\n          ... on BaseResponseStatus {\\n            code\\n          }\\n          ... on FailedResponseStatus {\\n            reason\\n            details\\n          }\\n        }\\n      }\\n      messages @stream {\\n        __typename\\n        ... on BaseMessageOutput {\\n          id\\n          createdAt\\n        }\\n        ... on BaseMessageOutput @defer {\\n          status {\\n            ... on SuccessMessageStatus {\\n              code\\n            }\\n            ... on FailedMessageStatus {\\n              code\\n              reason\\n            }\\n            ... on PendingMessageStatus {\\n              code\\n            }\\n          }\\n        }\\n        ... on TextMessageOutput {\\n          content @stream\\n          role\\n        }\\n        ... on ActionExecutionMessageOutput {\\n          name\\n          scope\\n          arguments @stream\\n        }\\n        ... on ResultMessageOutput {\\n          result\\n          actionExecutionId\\n          actionName\\n        }\\n        ... on AgentStateMessageOutput {\\n          threadId\\n          state\\n          running\\n          agentName\\n          nodeName\\n          runId\\n          active\\n          role\\n        }\\n      }\\n    }\\n  }\\n\": _chunk_OS54FOSV_mjs__WEBPACK_IMPORTED_MODULE_0__.GenerateCopilotResponseDocument\n};\nfunction graphql(source) {\n  return documents[source] ?? {};\n}\n\n// src/graphql/definitions/mutations.ts\nvar generateCopilotResponseMutation = graphql(\n  /** GraphQL **/\n  `\n  mutation generateCopilotResponse($data: GenerateCopilotResponseInput!, $properties: JSONObject) {\n    generateCopilotResponse(data: $data, properties: $properties) {\n      threadId\n      runId\n      ... on CopilotResponse @defer {\n        status {\n          ... on BaseResponseStatus {\n            code\n          }\n          ... on FailedResponseStatus {\n            reason\n            details\n          }\n        }\n      }\n      messages @stream {\n        __typename\n        ... on BaseMessageOutput {\n          id\n          createdAt\n        }\n        ... on BaseMessageOutput @defer {\n          status {\n            ... on SuccessMessageStatus {\n              code\n            }\n            ... on FailedMessageStatus {\n              code\n              reason\n            }\n            ... on PendingMessageStatus {\n              code\n            }\n          }\n        }\n        ... on TextMessageOutput {\n          content @stream\n          role\n        }\n        ... on ActionExecutionMessageOutput {\n          name\n          scope\n          arguments @stream\n        }\n        ... on ResultMessageOutput {\n          result\n          actionExecutionId\n          actionName\n        }\n        ... on AgentStateMessageOutput {\n          threadId\n          state\n          running\n          agentName\n          nodeName\n          runId\n          active\n          role\n        }\n      }\n    }\n  }\n`\n);\n\n\n//# sourceMappingURL=chunk-2G5YL4FF.mjs.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvQGNvcGlsb3RraXQvcnVudGltZS1jbGllbnQtZ3FsL2Rpc3QvY2h1bmstMkc1WUw0RkYubWpzIiwibWFwcGluZ3MiOiI7Ozs7O0FBRThCOztBQUU5QjtBQUNBO0FBQ0Esd0dBQXdHLHFFQUFxRSxvRUFBb0Usa0JBQWtCLHVDQUF1QywrQkFBK0IseUNBQXlDLHNEQUFzRCxXQUFXLFNBQVMsMEJBQTBCLHdEQUF3RCw4Q0FBOEMsMkNBQTJDLG9CQUFvQiwyQ0FBMkMsbUNBQW1DLDBDQUEwQyx5REFBeUQsMkNBQTJDLG1DQUFtQyxhQUFhLFdBQVcsb0NBQW9DLHNEQUFzRCwrQ0FBK0MseUVBQXlFLHNDQUFzQyxnRkFBZ0YsMENBQTBDLCtKQUErSixTQUFTLE9BQU8sS0FBSyxLQUFLLGdGQUErQjtBQUM1OUM7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFJRTtBQUNGIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vZXhhbXBsZS10b2Rvcy1hcHAvLi9ub2RlX21vZHVsZXMvQGNvcGlsb3RraXQvcnVudGltZS1jbGllbnQtZ3FsL2Rpc3QvY2h1bmstMkc1WUw0RkYubWpzPzc0ODgiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHtcbiAgR2VuZXJhdGVDb3BpbG90UmVzcG9uc2VEb2N1bWVudFxufSBmcm9tIFwiLi9jaHVuay1PUzU0Rk9TVi5tanNcIjtcblxuLy8gc3JjL2dyYXBocWwvQGdlbmVyYXRlZC9ncWwudHNcbnZhciBkb2N1bWVudHMgPSB7XG4gIFwiXFxuICBtdXRhdGlvbiBnZW5lcmF0ZUNvcGlsb3RSZXNwb25zZSgkZGF0YTogR2VuZXJhdGVDb3BpbG90UmVzcG9uc2VJbnB1dCEsICRwcm9wZXJ0aWVzOiBKU09OT2JqZWN0KSB7XFxuICAgIGdlbmVyYXRlQ29waWxvdFJlc3BvbnNlKGRhdGE6ICRkYXRhLCBwcm9wZXJ0aWVzOiAkcHJvcGVydGllcykge1xcbiAgICAgIHRocmVhZElkXFxuICAgICAgcnVuSWRcXG4gICAgICAuLi4gb24gQ29waWxvdFJlc3BvbnNlIEBkZWZlciB7XFxuICAgICAgICBzdGF0dXMge1xcbiAgICAgICAgICAuLi4gb24gQmFzZVJlc3BvbnNlU3RhdHVzIHtcXG4gICAgICAgICAgICBjb2RlXFxuICAgICAgICAgIH1cXG4gICAgICAgICAgLi4uIG9uIEZhaWxlZFJlc3BvbnNlU3RhdHVzIHtcXG4gICAgICAgICAgICByZWFzb25cXG4gICAgICAgICAgICBkZXRhaWxzXFxuICAgICAgICAgIH1cXG4gICAgICAgIH1cXG4gICAgICB9XFxuICAgICAgbWVzc2FnZXMgQHN0cmVhbSB7XFxuICAgICAgICBfX3R5cGVuYW1lXFxuICAgICAgICAuLi4gb24gQmFzZU1lc3NhZ2VPdXRwdXQge1xcbiAgICAgICAgICBpZFxcbiAgICAgICAgICBjcmVhdGVkQXRcXG4gICAgICAgIH1cXG4gICAgICAgIC4uLiBvbiBCYXNlTWVzc2FnZU91dHB1dCBAZGVmZXIge1xcbiAgICAgICAgICBzdGF0dXMge1xcbiAgICAgICAgICAgIC4uLiBvbiBTdWNjZXNzTWVzc2FnZVN0YXR1cyB7XFxuICAgICAgICAgICAgICBjb2RlXFxuICAgICAgICAgICAgfVxcbiAgICAgICAgICAgIC4uLiBvbiBGYWlsZWRNZXNzYWdlU3RhdHVzIHtcXG4gICAgICAgICAgICAgIGNvZGVcXG4gICAgICAgICAgICAgIHJlYXNvblxcbiAgICAgICAgICAgIH1cXG4gICAgICAgICAgICAuLi4gb24gUGVuZGluZ01lc3NhZ2VTdGF0dXMge1xcbiAgICAgICAgICAgICAgY29kZVxcbiAgICAgICAgICAgIH1cXG4gICAgICAgICAgfVxcbiAgICAgICAgfVxcbiAgICAgICAgLi4uIG9uIFRleHRNZXNzYWdlT3V0cHV0IHtcXG4gICAgICAgICAgY29udGVudCBAc3RyZWFtXFxuICAgICAgICAgIHJvbGVcXG4gICAgICAgIH1cXG4gICAgICAgIC4uLiBvbiBBY3Rpb25FeGVjdXRpb25NZXNzYWdlT3V0cHV0IHtcXG4gICAgICAgICAgbmFtZVxcbiAgICAgICAgICBzY29wZVxcbiAgICAgICAgICBhcmd1bWVudHMgQHN0cmVhbVxcbiAgICAgICAgfVxcbiAgICAgICAgLi4uIG9uIFJlc3VsdE1lc3NhZ2VPdXRwdXQge1xcbiAgICAgICAgICByZXN1bHRcXG4gICAgICAgICAgYWN0aW9uRXhlY3V0aW9uSWRcXG4gICAgICAgICAgYWN0aW9uTmFtZVxcbiAgICAgICAgfVxcbiAgICAgICAgLi4uIG9uIEFnZW50U3RhdGVNZXNzYWdlT3V0cHV0IHtcXG4gICAgICAgICAgdGhyZWFkSWRcXG4gICAgICAgICAgc3RhdGVcXG4gICAgICAgICAgcnVubmluZ1xcbiAgICAgICAgICBhZ2VudE5hbWVcXG4gICAgICAgICAgbm9kZU5hbWVcXG4gICAgICAgICAgcnVuSWRcXG4gICAgICAgICAgYWN0aXZlXFxuICAgICAgICAgIHJvbGVcXG4gICAgICAgIH1cXG4gICAgICB9XFxuICAgIH1cXG4gIH1cXG5cIjogR2VuZXJhdGVDb3BpbG90UmVzcG9uc2VEb2N1bWVudFxufTtcbmZ1bmN0aW9uIGdyYXBocWwoc291cmNlKSB7XG4gIHJldHVybiBkb2N1bWVudHNbc291cmNlXSA/PyB7fTtcbn1cblxuLy8gc3JjL2dyYXBocWwvZGVmaW5pdGlvbnMvbXV0YXRpb25zLnRzXG52YXIgZ2VuZXJhdGVDb3BpbG90UmVzcG9uc2VNdXRhdGlvbiA9IGdyYXBocWwoXG4gIC8qKiBHcmFwaFFMICoqL1xuICBgXG4gIG11dGF0aW9uIGdlbmVyYXRlQ29waWxvdFJlc3BvbnNlKCRkYXRhOiBHZW5lcmF0ZUNvcGlsb3RSZXNwb25zZUlucHV0ISwgJHByb3BlcnRpZXM6IEpTT05PYmplY3QpIHtcbiAgICBnZW5lcmF0ZUNvcGlsb3RSZXNwb25zZShkYXRhOiAkZGF0YSwgcHJvcGVydGllczogJHByb3BlcnRpZXMpIHtcbiAgICAgIHRocmVhZElkXG4gICAgICBydW5JZFxuICAgICAgLi4uIG9uIENvcGlsb3RSZXNwb25zZSBAZGVmZXIge1xuICAgICAgICBzdGF0dXMge1xuICAgICAgICAgIC4uLiBvbiBCYXNlUmVzcG9uc2VTdGF0dXMge1xuICAgICAgICAgICAgY29kZVxuICAgICAgICAgIH1cbiAgICAgICAgICAuLi4gb24gRmFpbGVkUmVzcG9uc2VTdGF0dXMge1xuICAgICAgICAgICAgcmVhc29uXG4gICAgICAgICAgICBkZXRhaWxzXG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9XG4gICAgICBtZXNzYWdlcyBAc3RyZWFtIHtcbiAgICAgICAgX190eXBlbmFtZVxuICAgICAgICAuLi4gb24gQmFzZU1lc3NhZ2VPdXRwdXQge1xuICAgICAgICAgIGlkXG4gICAgICAgICAgY3JlYXRlZEF0XG4gICAgICAgIH1cbiAgICAgICAgLi4uIG9uIEJhc2VNZXNzYWdlT3V0cHV0IEBkZWZlciB7XG4gICAgICAgICAgc3RhdHVzIHtcbiAgICAgICAgICAgIC4uLiBvbiBTdWNjZXNzTWVzc2FnZVN0YXR1cyB7XG4gICAgICAgICAgICAgIGNvZGVcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIC4uLiBvbiBGYWlsZWRNZXNzYWdlU3RhdHVzIHtcbiAgICAgICAgICAgICAgY29kZVxuICAgICAgICAgICAgICByZWFzb25cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIC4uLiBvbiBQZW5kaW5nTWVzc2FnZVN0YXR1cyB7XG4gICAgICAgICAgICAgIGNvZGVcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgLi4uIG9uIFRleHRNZXNzYWdlT3V0cHV0IHtcbiAgICAgICAgICBjb250ZW50IEBzdHJlYW1cbiAgICAgICAgICByb2xlXG4gICAgICAgIH1cbiAgICAgICAgLi4uIG9uIEFjdGlvbkV4ZWN1dGlvbk1lc3NhZ2VPdXRwdXQge1xuICAgICAgICAgIG5hbWVcbiAgICAgICAgICBzY29wZVxuICAgICAgICAgIGFyZ3VtZW50cyBAc3RyZWFtXG4gICAgICAgIH1cbiAgICAgICAgLi4uIG9uIFJlc3VsdE1lc3NhZ2VPdXRwdXQge1xuICAgICAgICAgIHJlc3VsdFxuICAgICAgICAgIGFjdGlvbkV4ZWN1dGlvbklkXG4gICAgICAgICAgYWN0aW9uTmFtZVxuICAgICAgICB9XG4gICAgICAgIC4uLiBvbiBBZ2VudFN0YXRlTWVzc2FnZU91dHB1dCB7XG4gICAgICAgICAgdGhyZWFkSWRcbiAgICAgICAgICBzdGF0ZVxuICAgICAgICAgIHJ1bm5pbmdcbiAgICAgICAgICBhZ2VudE5hbWVcbiAgICAgICAgICBub2RlTmFtZVxuICAgICAgICAgIHJ1bklkXG4gICAgICAgICAgYWN0aXZlXG4gICAgICAgICAgcm9sZVxuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuICB9XG5gXG4pO1xuXG5leHBvcnQge1xuICBnZW5lcmF0ZUNvcGlsb3RSZXNwb25zZU11dGF0aW9uXG59O1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9Y2h1bmstMkc1WUw0RkYubWpzLm1hcCJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/@copilotkit/runtime-client-gql/dist/chunk-2G5YL4FF.mjs\n");

/***/ }),

/***/ "(ssr)/./node_modules/@copilotkit/runtime-client-gql/dist/chunk-JNC3D4OO.mjs":
/*!*****************************************************************************!*\
  !*** ./node_modules/@copilotkit/runtime-client-gql/dist/chunk-JNC3D4OO.mjs ***!
  \*****************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   convertGqlOutputToMessages: () => (/* binding */ convertGqlOutputToMessages),\n/* harmony export */   convertMessagesToGqlInput: () => (/* binding */ convertMessagesToGqlInput),\n/* harmony export */   filterAdjacentAgentStateMessages: () => (/* binding */ filterAdjacentAgentStateMessages),\n/* harmony export */   filterAgentStateMessages: () => (/* binding */ filterAgentStateMessages)\n/* harmony export */ });\n/* harmony import */ var _chunk_UTB4B2W3_mjs__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./chunk-UTB4B2W3.mjs */ \"(ssr)/./node_modules/@copilotkit/runtime-client-gql/dist/chunk-UTB4B2W3.mjs\");\n/* harmony import */ var untruncate_json__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! untruncate-json */ \"(ssr)/./node_modules/untruncate-json/dist/esm/index.js\");\n\n\n// src/client/conversion.ts\n\nfunction filterAgentStateMessages(messages) {\n  return messages.filter((message) => !(message instanceof _chunk_UTB4B2W3_mjs__WEBPACK_IMPORTED_MODULE_0__.AgentStateMessage));\n}\nfunction convertMessagesToGqlInput(messages) {\n  return messages.map((message) => {\n    if (message instanceof _chunk_UTB4B2W3_mjs__WEBPACK_IMPORTED_MODULE_0__.TextMessage) {\n      return {\n        id: message.id,\n        createdAt: message.createdAt,\n        textMessage: {\n          content: message.content,\n          role: message.role\n        }\n      };\n    } else if (message instanceof _chunk_UTB4B2W3_mjs__WEBPACK_IMPORTED_MODULE_0__.ActionExecutionMessage) {\n      return {\n        id: message.id,\n        createdAt: message.createdAt,\n        actionExecutionMessage: {\n          name: message.name,\n          arguments: JSON.stringify(message.arguments),\n          scope: message.scope\n        }\n      };\n    } else if (message instanceof _chunk_UTB4B2W3_mjs__WEBPACK_IMPORTED_MODULE_0__.ResultMessage) {\n      return {\n        id: message.id,\n        createdAt: message.createdAt,\n        resultMessage: {\n          result: message.result,\n          actionExecutionId: message.actionExecutionId,\n          actionName: message.actionName\n        }\n      };\n    } else if (message instanceof _chunk_UTB4B2W3_mjs__WEBPACK_IMPORTED_MODULE_0__.AgentStateMessage) {\n      return {\n        id: message.id,\n        createdAt: message.createdAt,\n        agentStateMessage: {\n          threadId: message.threadId,\n          role: message.role,\n          agentName: message.agentName,\n          nodeName: message.nodeName,\n          runId: message.runId,\n          active: message.active,\n          running: message.running,\n          state: JSON.stringify(message.state)\n        }\n      };\n    } else {\n      throw new Error(\"Unknown message type\");\n    }\n  });\n}\nfunction filterAdjacentAgentStateMessages(messages) {\n  const filteredMessages = [];\n  messages.forEach((message, i) => {\n    if (message.__typename !== \"AgentStateMessageOutput\" || i === messages.length - 1) {\n      filteredMessages.push(message);\n    } else {\n      const nextMessage = messages[i + 1];\n      if (!(nextMessage.__typename === \"AgentStateMessageOutput\" && nextMessage.agentName === message.agentName && nextMessage.nodeName === message.nodeName)) {\n        filteredMessages.push(message);\n      }\n    }\n  });\n  return filteredMessages;\n}\nfunction convertGqlOutputToMessages(messages) {\n  return messages.map((message) => {\n    if (message.__typename === \"TextMessageOutput\") {\n      return new _chunk_UTB4B2W3_mjs__WEBPACK_IMPORTED_MODULE_0__.TextMessage({\n        id: message.id,\n        role: message.role,\n        content: message.content.join(\"\"),\n        createdAt: /* @__PURE__ */ new Date(),\n        status: message.status || { code: \"Pending\" /* Pending */ }\n      });\n    } else if (message.__typename === \"ActionExecutionMessageOutput\") {\n      return new _chunk_UTB4B2W3_mjs__WEBPACK_IMPORTED_MODULE_0__.ActionExecutionMessage({\n        id: message.id,\n        name: message.name,\n        arguments: getPartialArguments(message.arguments),\n        scope: message.scope,\n        createdAt: /* @__PURE__ */ new Date(),\n        status: message.status || { code: \"Pending\" /* Pending */ }\n      });\n    } else if (message.__typename === \"ResultMessageOutput\") {\n      return new _chunk_UTB4B2W3_mjs__WEBPACK_IMPORTED_MODULE_0__.ResultMessage({\n        id: message.id,\n        result: message.result,\n        actionExecutionId: message.actionExecutionId,\n        actionName: message.actionName,\n        createdAt: /* @__PURE__ */ new Date(),\n        status: message.status || { code: \"Pending\" /* Pending */ }\n      });\n    } else if (message.__typename === \"AgentStateMessageOutput\") {\n      return new _chunk_UTB4B2W3_mjs__WEBPACK_IMPORTED_MODULE_0__.AgentStateMessage({\n        id: message.id,\n        threadId: message.threadId,\n        role: message.role,\n        agentName: message.agentName,\n        nodeName: message.nodeName,\n        runId: message.runId,\n        active: message.active,\n        running: message.running,\n        state: JSON.parse(message.state),\n        createdAt: /* @__PURE__ */ new Date()\n      });\n    }\n    throw new Error(\"Unknown message type\");\n  });\n}\nfunction getPartialArguments(args) {\n  try {\n    return JSON.parse((0,untruncate_json__WEBPACK_IMPORTED_MODULE_1__[\"default\"])(args.join(\"\")));\n  } catch (e) {\n    return {};\n  }\n}\n\n\n//# sourceMappingURL=chunk-JNC3D4OO.mjs.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvQGNvcGlsb3RraXQvcnVudGltZS1jbGllbnQtZ3FsL2Rpc3QvY2h1bmstSk5DM0Q0T08ubWpzIiwibWFwcGluZ3MiOiI7Ozs7Ozs7OztBQUs4Qjs7QUFFOUI7QUFDNkM7QUFDN0M7QUFDQSwyREFBMkQsa0VBQWlCO0FBQzVFO0FBQ0E7QUFDQTtBQUNBLDJCQUEyQiw0REFBVztBQUN0QztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsTUFBTSw0QkFBNEIsdUVBQXNCO0FBQ3hEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLE1BQU0sNEJBQTRCLDhEQUFhO0FBQy9DO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLE1BQU0sNEJBQTRCLGtFQUFpQjtBQUNuRDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsTUFBTTtBQUNOO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsTUFBTTtBQUNOO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGlCQUFpQiw0REFBVztBQUM1QjtBQUNBO0FBQ0E7QUFDQTtBQUNBLG9DQUFvQztBQUNwQyxPQUFPO0FBQ1AsTUFBTTtBQUNOLGlCQUFpQix1RUFBc0I7QUFDdkM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLG9DQUFvQztBQUNwQyxPQUFPO0FBQ1AsTUFBTTtBQUNOLGlCQUFpQiw4REFBYTtBQUM5QjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esb0NBQW9DO0FBQ3BDLE9BQU87QUFDUCxNQUFNO0FBQ04saUJBQWlCLGtFQUFpQjtBQUNsQztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLE9BQU87QUFDUDtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBLHNCQUFzQiwyREFBYztBQUNwQyxJQUFJO0FBQ0o7QUFDQTtBQUNBOztBQU9FO0FBQ0YiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9leGFtcGxlLXRvZG9zLWFwcC8uL25vZGVfbW9kdWxlcy9AY29waWxvdGtpdC9ydW50aW1lLWNsaWVudC1ncWwvZGlzdC9jaHVuay1KTkMzRDRPTy5tanM/MzY1YyJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQge1xuICBBY3Rpb25FeGVjdXRpb25NZXNzYWdlLFxuICBBZ2VudFN0YXRlTWVzc2FnZSxcbiAgUmVzdWx0TWVzc2FnZSxcbiAgVGV4dE1lc3NhZ2Vcbn0gZnJvbSBcIi4vY2h1bmstVVRCNEIyVzMubWpzXCI7XG5cbi8vIHNyYy9jbGllbnQvY29udmVyc2lvbi50c1xuaW1wb3J0IHVudHJ1bmNhdGVKc29uIGZyb20gXCJ1bnRydW5jYXRlLWpzb25cIjtcbmZ1bmN0aW9uIGZpbHRlckFnZW50U3RhdGVNZXNzYWdlcyhtZXNzYWdlcykge1xuICByZXR1cm4gbWVzc2FnZXMuZmlsdGVyKChtZXNzYWdlKSA9PiAhKG1lc3NhZ2UgaW5zdGFuY2VvZiBBZ2VudFN0YXRlTWVzc2FnZSkpO1xufVxuZnVuY3Rpb24gY29udmVydE1lc3NhZ2VzVG9HcWxJbnB1dChtZXNzYWdlcykge1xuICByZXR1cm4gbWVzc2FnZXMubWFwKChtZXNzYWdlKSA9PiB7XG4gICAgaWYgKG1lc3NhZ2UgaW5zdGFuY2VvZiBUZXh0TWVzc2FnZSkge1xuICAgICAgcmV0dXJuIHtcbiAgICAgICAgaWQ6IG1lc3NhZ2UuaWQsXG4gICAgICAgIGNyZWF0ZWRBdDogbWVzc2FnZS5jcmVhdGVkQXQsXG4gICAgICAgIHRleHRNZXNzYWdlOiB7XG4gICAgICAgICAgY29udGVudDogbWVzc2FnZS5jb250ZW50LFxuICAgICAgICAgIHJvbGU6IG1lc3NhZ2Uucm9sZVxuICAgICAgICB9XG4gICAgICB9O1xuICAgIH0gZWxzZSBpZiAobWVzc2FnZSBpbnN0YW5jZW9mIEFjdGlvbkV4ZWN1dGlvbk1lc3NhZ2UpIHtcbiAgICAgIHJldHVybiB7XG4gICAgICAgIGlkOiBtZXNzYWdlLmlkLFxuICAgICAgICBjcmVhdGVkQXQ6IG1lc3NhZ2UuY3JlYXRlZEF0LFxuICAgICAgICBhY3Rpb25FeGVjdXRpb25NZXNzYWdlOiB7XG4gICAgICAgICAgbmFtZTogbWVzc2FnZS5uYW1lLFxuICAgICAgICAgIGFyZ3VtZW50czogSlNPTi5zdHJpbmdpZnkobWVzc2FnZS5hcmd1bWVudHMpLFxuICAgICAgICAgIHNjb3BlOiBtZXNzYWdlLnNjb3BlXG4gICAgICAgIH1cbiAgICAgIH07XG4gICAgfSBlbHNlIGlmIChtZXNzYWdlIGluc3RhbmNlb2YgUmVzdWx0TWVzc2FnZSkge1xuICAgICAgcmV0dXJuIHtcbiAgICAgICAgaWQ6IG1lc3NhZ2UuaWQsXG4gICAgICAgIGNyZWF0ZWRBdDogbWVzc2FnZS5jcmVhdGVkQXQsXG4gICAgICAgIHJlc3VsdE1lc3NhZ2U6IHtcbiAgICAgICAgICByZXN1bHQ6IG1lc3NhZ2UucmVzdWx0LFxuICAgICAgICAgIGFjdGlvbkV4ZWN1dGlvbklkOiBtZXNzYWdlLmFjdGlvbkV4ZWN1dGlvbklkLFxuICAgICAgICAgIGFjdGlvbk5hbWU6IG1lc3NhZ2UuYWN0aW9uTmFtZVxuICAgICAgICB9XG4gICAgICB9O1xuICAgIH0gZWxzZSBpZiAobWVzc2FnZSBpbnN0YW5jZW9mIEFnZW50U3RhdGVNZXNzYWdlKSB7XG4gICAgICByZXR1cm4ge1xuICAgICAgICBpZDogbWVzc2FnZS5pZCxcbiAgICAgICAgY3JlYXRlZEF0OiBtZXNzYWdlLmNyZWF0ZWRBdCxcbiAgICAgICAgYWdlbnRTdGF0ZU1lc3NhZ2U6IHtcbiAgICAgICAgICB0aHJlYWRJZDogbWVzc2FnZS50aHJlYWRJZCxcbiAgICAgICAgICByb2xlOiBtZXNzYWdlLnJvbGUsXG4gICAgICAgICAgYWdlbnROYW1lOiBtZXNzYWdlLmFnZW50TmFtZSxcbiAgICAgICAgICBub2RlTmFtZTogbWVzc2FnZS5ub2RlTmFtZSxcbiAgICAgICAgICBydW5JZDogbWVzc2FnZS5ydW5JZCxcbiAgICAgICAgICBhY3RpdmU6IG1lc3NhZ2UuYWN0aXZlLFxuICAgICAgICAgIHJ1bm5pbmc6IG1lc3NhZ2UucnVubmluZyxcbiAgICAgICAgICBzdGF0ZTogSlNPTi5zdHJpbmdpZnkobWVzc2FnZS5zdGF0ZSlcbiAgICAgICAgfVxuICAgICAgfTtcbiAgICB9IGVsc2Uge1xuICAgICAgdGhyb3cgbmV3IEVycm9yKFwiVW5rbm93biBtZXNzYWdlIHR5cGVcIik7XG4gICAgfVxuICB9KTtcbn1cbmZ1bmN0aW9uIGZpbHRlckFkamFjZW50QWdlbnRTdGF0ZU1lc3NhZ2VzKG1lc3NhZ2VzKSB7XG4gIGNvbnN0IGZpbHRlcmVkTWVzc2FnZXMgPSBbXTtcbiAgbWVzc2FnZXMuZm9yRWFjaCgobWVzc2FnZSwgaSkgPT4ge1xuICAgIGlmIChtZXNzYWdlLl9fdHlwZW5hbWUgIT09IFwiQWdlbnRTdGF0ZU1lc3NhZ2VPdXRwdXRcIiB8fCBpID09PSBtZXNzYWdlcy5sZW5ndGggLSAxKSB7XG4gICAgICBmaWx0ZXJlZE1lc3NhZ2VzLnB1c2gobWVzc2FnZSk7XG4gICAgfSBlbHNlIHtcbiAgICAgIGNvbnN0IG5leHRNZXNzYWdlID0gbWVzc2FnZXNbaSArIDFdO1xuICAgICAgaWYgKCEobmV4dE1lc3NhZ2UuX190eXBlbmFtZSA9PT0gXCJBZ2VudFN0YXRlTWVzc2FnZU91dHB1dFwiICYmIG5leHRNZXNzYWdlLmFnZW50TmFtZSA9PT0gbWVzc2FnZS5hZ2VudE5hbWUgJiYgbmV4dE1lc3NhZ2Uubm9kZU5hbWUgPT09IG1lc3NhZ2Uubm9kZU5hbWUpKSB7XG4gICAgICAgIGZpbHRlcmVkTWVzc2FnZXMucHVzaChtZXNzYWdlKTtcbiAgICAgIH1cbiAgICB9XG4gIH0pO1xuICByZXR1cm4gZmlsdGVyZWRNZXNzYWdlcztcbn1cbmZ1bmN0aW9uIGNvbnZlcnRHcWxPdXRwdXRUb01lc3NhZ2VzKG1lc3NhZ2VzKSB7XG4gIHJldHVybiBtZXNzYWdlcy5tYXAoKG1lc3NhZ2UpID0+IHtcbiAgICBpZiAobWVzc2FnZS5fX3R5cGVuYW1lID09PSBcIlRleHRNZXNzYWdlT3V0cHV0XCIpIHtcbiAgICAgIHJldHVybiBuZXcgVGV4dE1lc3NhZ2Uoe1xuICAgICAgICBpZDogbWVzc2FnZS5pZCxcbiAgICAgICAgcm9sZTogbWVzc2FnZS5yb2xlLFxuICAgICAgICBjb250ZW50OiBtZXNzYWdlLmNvbnRlbnQuam9pbihcIlwiKSxcbiAgICAgICAgY3JlYXRlZEF0OiAvKiBAX19QVVJFX18gKi8gbmV3IERhdGUoKSxcbiAgICAgICAgc3RhdHVzOiBtZXNzYWdlLnN0YXR1cyB8fCB7IGNvZGU6IFwiUGVuZGluZ1wiIC8qIFBlbmRpbmcgKi8gfVxuICAgICAgfSk7XG4gICAgfSBlbHNlIGlmIChtZXNzYWdlLl9fdHlwZW5hbWUgPT09IFwiQWN0aW9uRXhlY3V0aW9uTWVzc2FnZU91dHB1dFwiKSB7XG4gICAgICByZXR1cm4gbmV3IEFjdGlvbkV4ZWN1dGlvbk1lc3NhZ2Uoe1xuICAgICAgICBpZDogbWVzc2FnZS5pZCxcbiAgICAgICAgbmFtZTogbWVzc2FnZS5uYW1lLFxuICAgICAgICBhcmd1bWVudHM6IGdldFBhcnRpYWxBcmd1bWVudHMobWVzc2FnZS5hcmd1bWVudHMpLFxuICAgICAgICBzY29wZTogbWVzc2FnZS5zY29wZSxcbiAgICAgICAgY3JlYXRlZEF0OiAvKiBAX19QVVJFX18gKi8gbmV3IERhdGUoKSxcbiAgICAgICAgc3RhdHVzOiBtZXNzYWdlLnN0YXR1cyB8fCB7IGNvZGU6IFwiUGVuZGluZ1wiIC8qIFBlbmRpbmcgKi8gfVxuICAgICAgfSk7XG4gICAgfSBlbHNlIGlmIChtZXNzYWdlLl9fdHlwZW5hbWUgPT09IFwiUmVzdWx0TWVzc2FnZU91dHB1dFwiKSB7XG4gICAgICByZXR1cm4gbmV3IFJlc3VsdE1lc3NhZ2Uoe1xuICAgICAgICBpZDogbWVzc2FnZS5pZCxcbiAgICAgICAgcmVzdWx0OiBtZXNzYWdlLnJlc3VsdCxcbiAgICAgICAgYWN0aW9uRXhlY3V0aW9uSWQ6IG1lc3NhZ2UuYWN0aW9uRXhlY3V0aW9uSWQsXG4gICAgICAgIGFjdGlvbk5hbWU6IG1lc3NhZ2UuYWN0aW9uTmFtZSxcbiAgICAgICAgY3JlYXRlZEF0OiAvKiBAX19QVVJFX18gKi8gbmV3IERhdGUoKSxcbiAgICAgICAgc3RhdHVzOiBtZXNzYWdlLnN0YXR1cyB8fCB7IGNvZGU6IFwiUGVuZGluZ1wiIC8qIFBlbmRpbmcgKi8gfVxuICAgICAgfSk7XG4gICAgfSBlbHNlIGlmIChtZXNzYWdlLl9fdHlwZW5hbWUgPT09IFwiQWdlbnRTdGF0ZU1lc3NhZ2VPdXRwdXRcIikge1xuICAgICAgcmV0dXJuIG5ldyBBZ2VudFN0YXRlTWVzc2FnZSh7XG4gICAgICAgIGlkOiBtZXNzYWdlLmlkLFxuICAgICAgICB0aHJlYWRJZDogbWVzc2FnZS50aHJlYWRJZCxcbiAgICAgICAgcm9sZTogbWVzc2FnZS5yb2xlLFxuICAgICAgICBhZ2VudE5hbWU6IG1lc3NhZ2UuYWdlbnROYW1lLFxuICAgICAgICBub2RlTmFtZTogbWVzc2FnZS5ub2RlTmFtZSxcbiAgICAgICAgcnVuSWQ6IG1lc3NhZ2UucnVuSWQsXG4gICAgICAgIGFjdGl2ZTogbWVzc2FnZS5hY3RpdmUsXG4gICAgICAgIHJ1bm5pbmc6IG1lc3NhZ2UucnVubmluZyxcbiAgICAgICAgc3RhdGU6IEpTT04ucGFyc2UobWVzc2FnZS5zdGF0ZSksXG4gICAgICAgIGNyZWF0ZWRBdDogLyogQF9fUFVSRV9fICovIG5ldyBEYXRlKClcbiAgICAgIH0pO1xuICAgIH1cbiAgICB0aHJvdyBuZXcgRXJyb3IoXCJVbmtub3duIG1lc3NhZ2UgdHlwZVwiKTtcbiAgfSk7XG59XG5mdW5jdGlvbiBnZXRQYXJ0aWFsQXJndW1lbnRzKGFyZ3MpIHtcbiAgdHJ5IHtcbiAgICByZXR1cm4gSlNPTi5wYXJzZSh1bnRydW5jYXRlSnNvbihhcmdzLmpvaW4oXCJcIikpKTtcbiAgfSBjYXRjaCAoZSkge1xuICAgIHJldHVybiB7fTtcbiAgfVxufVxuXG5leHBvcnQge1xuICBmaWx0ZXJBZ2VudFN0YXRlTWVzc2FnZXMsXG4gIGNvbnZlcnRNZXNzYWdlc1RvR3FsSW5wdXQsXG4gIGZpbHRlckFkamFjZW50QWdlbnRTdGF0ZU1lc3NhZ2VzLFxuICBjb252ZXJ0R3FsT3V0cHV0VG9NZXNzYWdlc1xufTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWNodW5rLUpOQzNENE9PLm1qcy5tYXAiXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/@copilotkit/runtime-client-gql/dist/chunk-JNC3D4OO.mjs\n");

/***/ }),

/***/ "(ssr)/./node_modules/@copilotkit/runtime-client-gql/dist/chunk-OS54FOSV.mjs":
/*!*****************************************************************************!*\
  !*** ./node_modules/@copilotkit/runtime-client-gql/dist/chunk-OS54FOSV.mjs ***!
  \*****************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   ActionExecutionScope: () => (/* binding */ ActionExecutionScope),\n/* harmony export */   CopilotRequestType: () => (/* binding */ CopilotRequestType),\n/* harmony export */   FailedResponseStatusReason: () => (/* binding */ FailedResponseStatusReason),\n/* harmony export */   GenerateCopilotResponseDocument: () => (/* binding */ GenerateCopilotResponseDocument),\n/* harmony export */   MessageRole: () => (/* binding */ MessageRole),\n/* harmony export */   MessageStatusCode: () => (/* binding */ MessageStatusCode),\n/* harmony export */   ResponseStatusCode: () => (/* binding */ ResponseStatusCode)\n/* harmony export */ });\n// src/graphql/@generated/graphql.ts\nvar ActionExecutionScope = /* @__PURE__ */ ((ActionExecutionScope2) => {\n  ActionExecutionScope2[\"Client\"] = \"client\";\n  ActionExecutionScope2[\"PassThrough\"] = \"passThrough\";\n  ActionExecutionScope2[\"Server\"] = \"server\";\n  return ActionExecutionScope2;\n})(ActionExecutionScope || {});\nvar CopilotRequestType = /* @__PURE__ */ ((CopilotRequestType2) => {\n  CopilotRequestType2[\"Chat\"] = \"Chat\";\n  CopilotRequestType2[\"Suggestion\"] = \"Suggestion\";\n  CopilotRequestType2[\"Task\"] = \"Task\";\n  CopilotRequestType2[\"TextareaCompletion\"] = \"TextareaCompletion\";\n  CopilotRequestType2[\"TextareaPopover\"] = \"TextareaPopover\";\n  return CopilotRequestType2;\n})(CopilotRequestType || {});\nvar FailedResponseStatusReason = /* @__PURE__ */ ((FailedResponseStatusReason2) => {\n  FailedResponseStatusReason2[\"GuardrailsValidationFailed\"] = \"GUARDRAILS_VALIDATION_FAILED\";\n  FailedResponseStatusReason2[\"MessageStreamInterrupted\"] = \"MESSAGE_STREAM_INTERRUPTED\";\n  FailedResponseStatusReason2[\"UnknownError\"] = \"UNKNOWN_ERROR\";\n  return FailedResponseStatusReason2;\n})(FailedResponseStatusReason || {});\nvar MessageRole = /* @__PURE__ */ ((MessageRole2) => {\n  MessageRole2[\"Assistant\"] = \"assistant\";\n  MessageRole2[\"System\"] = \"system\";\n  MessageRole2[\"User\"] = \"user\";\n  return MessageRole2;\n})(MessageRole || {});\nvar MessageStatusCode = /* @__PURE__ */ ((MessageStatusCode2) => {\n  MessageStatusCode2[\"Failed\"] = \"Failed\";\n  MessageStatusCode2[\"Pending\"] = \"Pending\";\n  MessageStatusCode2[\"Success\"] = \"Success\";\n  return MessageStatusCode2;\n})(MessageStatusCode || {});\nvar ResponseStatusCode = /* @__PURE__ */ ((ResponseStatusCode2) => {\n  ResponseStatusCode2[\"Failed\"] = \"Failed\";\n  ResponseStatusCode2[\"Pending\"] = \"Pending\";\n  ResponseStatusCode2[\"Success\"] = \"Success\";\n  return ResponseStatusCode2;\n})(ResponseStatusCode || {});\nvar GenerateCopilotResponseDocument = { \"kind\": \"Document\", \"definitions\": [{ \"kind\": \"OperationDefinition\", \"operation\": \"mutation\", \"name\": { \"kind\": \"Name\", \"value\": \"generateCopilotResponse\" }, \"variableDefinitions\": [{ \"kind\": \"VariableDefinition\", \"variable\": { \"kind\": \"Variable\", \"name\": { \"kind\": \"Name\", \"value\": \"data\" } }, \"type\": { \"kind\": \"NonNullType\", \"type\": { \"kind\": \"NamedType\", \"name\": { \"kind\": \"Name\", \"value\": \"GenerateCopilotResponseInput\" } } } }, { \"kind\": \"VariableDefinition\", \"variable\": { \"kind\": \"Variable\", \"name\": { \"kind\": \"Name\", \"value\": \"properties\" } }, \"type\": { \"kind\": \"NamedType\", \"name\": { \"kind\": \"Name\", \"value\": \"JSONObject\" } } }], \"selectionSet\": { \"kind\": \"SelectionSet\", \"selections\": [{ \"kind\": \"Field\", \"name\": { \"kind\": \"Name\", \"value\": \"generateCopilotResponse\" }, \"arguments\": [{ \"kind\": \"Argument\", \"name\": { \"kind\": \"Name\", \"value\": \"data\" }, \"value\": { \"kind\": \"Variable\", \"name\": { \"kind\": \"Name\", \"value\": \"data\" } } }, { \"kind\": \"Argument\", \"name\": { \"kind\": \"Name\", \"value\": \"properties\" }, \"value\": { \"kind\": \"Variable\", \"name\": { \"kind\": \"Name\", \"value\": \"properties\" } } }], \"selectionSet\": { \"kind\": \"SelectionSet\", \"selections\": [{ \"kind\": \"Field\", \"name\": { \"kind\": \"Name\", \"value\": \"threadId\" } }, { \"kind\": \"Field\", \"name\": { \"kind\": \"Name\", \"value\": \"runId\" } }, { \"kind\": \"InlineFragment\", \"typeCondition\": { \"kind\": \"NamedType\", \"name\": { \"kind\": \"Name\", \"value\": \"CopilotResponse\" } }, \"directives\": [{ \"kind\": \"Directive\", \"name\": { \"kind\": \"Name\", \"value\": \"defer\" } }], \"selectionSet\": { \"kind\": \"SelectionSet\", \"selections\": [{ \"kind\": \"Field\", \"name\": { \"kind\": \"Name\", \"value\": \"status\" }, \"selectionSet\": { \"kind\": \"SelectionSet\", \"selections\": [{ \"kind\": \"InlineFragment\", \"typeCondition\": { \"kind\": \"NamedType\", \"name\": { \"kind\": \"Name\", \"value\": \"BaseResponseStatus\" } }, \"selectionSet\": { \"kind\": \"SelectionSet\", \"selections\": [{ \"kind\": \"Field\", \"name\": { \"kind\": \"Name\", \"value\": \"code\" } }] } }, { \"kind\": \"InlineFragment\", \"typeCondition\": { \"kind\": \"NamedType\", \"name\": { \"kind\": \"Name\", \"value\": \"FailedResponseStatus\" } }, \"selectionSet\": { \"kind\": \"SelectionSet\", \"selections\": [{ \"kind\": \"Field\", \"name\": { \"kind\": \"Name\", \"value\": \"reason\" } }, { \"kind\": \"Field\", \"name\": { \"kind\": \"Name\", \"value\": \"details\" } }] } }] } }] } }, { \"kind\": \"Field\", \"name\": { \"kind\": \"Name\", \"value\": \"messages\" }, \"directives\": [{ \"kind\": \"Directive\", \"name\": { \"kind\": \"Name\", \"value\": \"stream\" } }], \"selectionSet\": { \"kind\": \"SelectionSet\", \"selections\": [{ \"kind\": \"Field\", \"name\": { \"kind\": \"Name\", \"value\": \"__typename\" } }, { \"kind\": \"InlineFragment\", \"typeCondition\": { \"kind\": \"NamedType\", \"name\": { \"kind\": \"Name\", \"value\": \"BaseMessageOutput\" } }, \"selectionSet\": { \"kind\": \"SelectionSet\", \"selections\": [{ \"kind\": \"Field\", \"name\": { \"kind\": \"Name\", \"value\": \"id\" } }, { \"kind\": \"Field\", \"name\": { \"kind\": \"Name\", \"value\": \"createdAt\" } }] } }, { \"kind\": \"InlineFragment\", \"typeCondition\": { \"kind\": \"NamedType\", \"name\": { \"kind\": \"Name\", \"value\": \"BaseMessageOutput\" } }, \"directives\": [{ \"kind\": \"Directive\", \"name\": { \"kind\": \"Name\", \"value\": \"defer\" } }], \"selectionSet\": { \"kind\": \"SelectionSet\", \"selections\": [{ \"kind\": \"Field\", \"name\": { \"kind\": \"Name\", \"value\": \"status\" }, \"selectionSet\": { \"kind\": \"SelectionSet\", \"selections\": [{ \"kind\": \"InlineFragment\", \"typeCondition\": { \"kind\": \"NamedType\", \"name\": { \"kind\": \"Name\", \"value\": \"SuccessMessageStatus\" } }, \"selectionSet\": { \"kind\": \"SelectionSet\", \"selections\": [{ \"kind\": \"Field\", \"name\": { \"kind\": \"Name\", \"value\": \"code\" } }] } }, { \"kind\": \"InlineFragment\", \"typeCondition\": { \"kind\": \"NamedType\", \"name\": { \"kind\": \"Name\", \"value\": \"FailedMessageStatus\" } }, \"selectionSet\": { \"kind\": \"SelectionSet\", \"selections\": [{ \"kind\": \"Field\", \"name\": { \"kind\": \"Name\", \"value\": \"code\" } }, { \"kind\": \"Field\", \"name\": { \"kind\": \"Name\", \"value\": \"reason\" } }] } }, { \"kind\": \"InlineFragment\", \"typeCondition\": { \"kind\": \"NamedType\", \"name\": { \"kind\": \"Name\", \"value\": \"PendingMessageStatus\" } }, \"selectionSet\": { \"kind\": \"SelectionSet\", \"selections\": [{ \"kind\": \"Field\", \"name\": { \"kind\": \"Name\", \"value\": \"code\" } }] } }] } }] } }, { \"kind\": \"InlineFragment\", \"typeCondition\": { \"kind\": \"NamedType\", \"name\": { \"kind\": \"Name\", \"value\": \"TextMessageOutput\" } }, \"selectionSet\": { \"kind\": \"SelectionSet\", \"selections\": [{ \"kind\": \"Field\", \"name\": { \"kind\": \"Name\", \"value\": \"content\" }, \"directives\": [{ \"kind\": \"Directive\", \"name\": { \"kind\": \"Name\", \"value\": \"stream\" } }] }, { \"kind\": \"Field\", \"name\": { \"kind\": \"Name\", \"value\": \"role\" } }] } }, { \"kind\": \"InlineFragment\", \"typeCondition\": { \"kind\": \"NamedType\", \"name\": { \"kind\": \"Name\", \"value\": \"ActionExecutionMessageOutput\" } }, \"selectionSet\": { \"kind\": \"SelectionSet\", \"selections\": [{ \"kind\": \"Field\", \"name\": { \"kind\": \"Name\", \"value\": \"name\" } }, { \"kind\": \"Field\", \"name\": { \"kind\": \"Name\", \"value\": \"scope\" } }, { \"kind\": \"Field\", \"name\": { \"kind\": \"Name\", \"value\": \"arguments\" }, \"directives\": [{ \"kind\": \"Directive\", \"name\": { \"kind\": \"Name\", \"value\": \"stream\" } }] }] } }, { \"kind\": \"InlineFragment\", \"typeCondition\": { \"kind\": \"NamedType\", \"name\": { \"kind\": \"Name\", \"value\": \"ResultMessageOutput\" } }, \"selectionSet\": { \"kind\": \"SelectionSet\", \"selections\": [{ \"kind\": \"Field\", \"name\": { \"kind\": \"Name\", \"value\": \"result\" } }, { \"kind\": \"Field\", \"name\": { \"kind\": \"Name\", \"value\": \"actionExecutionId\" } }, { \"kind\": \"Field\", \"name\": { \"kind\": \"Name\", \"value\": \"actionName\" } }] } }, { \"kind\": \"InlineFragment\", \"typeCondition\": { \"kind\": \"NamedType\", \"name\": { \"kind\": \"Name\", \"value\": \"AgentStateMessageOutput\" } }, \"selectionSet\": { \"kind\": \"SelectionSet\", \"selections\": [{ \"kind\": \"Field\", \"name\": { \"kind\": \"Name\", \"value\": \"threadId\" } }, { \"kind\": \"Field\", \"name\": { \"kind\": \"Name\", \"value\": \"state\" } }, { \"kind\": \"Field\", \"name\": { \"kind\": \"Name\", \"value\": \"running\" } }, { \"kind\": \"Field\", \"name\": { \"kind\": \"Name\", \"value\": \"agentName\" } }, { \"kind\": \"Field\", \"name\": { \"kind\": \"Name\", \"value\": \"nodeName\" } }, { \"kind\": \"Field\", \"name\": { \"kind\": \"Name\", \"value\": \"runId\" } }, { \"kind\": \"Field\", \"name\": { \"kind\": \"Name\", \"value\": \"active\" } }, { \"kind\": \"Field\", \"name\": { \"kind\": \"Name\", \"value\": \"role\" } }] } }] } }] } }] } }] };\n\n\n//# sourceMappingURL=chunk-OS54FOSV.mjs.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvQGNvcGlsb3RraXQvcnVudGltZS1jbGllbnQtZ3FsL2Rpc3QvY2h1bmstT1M1NEZPU1YubWpzIiwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxDQUFDLDRCQUE0QjtBQUM3QjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLENBQUMsMEJBQTBCO0FBQzNCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxDQUFDLGtDQUFrQztBQUNuQztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsQ0FBQyxtQkFBbUI7QUFDcEI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLENBQUMseUJBQXlCO0FBQzFCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxDQUFDLDBCQUEwQjtBQUMzQix3Q0FBd0Msc0NBQXNDLGtFQUFrRSxvREFBb0QsNEJBQTRCLDRDQUE0Qyw4QkFBOEIsbUNBQW1DLFlBQVksaUNBQWlDLCtCQUErQiwrREFBK0QsSUFBSSw0Q0FBNEMsOEJBQThCLHlDQUF5QyxZQUFZLCtCQUErQiwyQ0FBMkMscUJBQXFCLHlDQUF5QywyQkFBMkIsb0RBQW9ELGtCQUFrQiw4QkFBOEIsaUNBQWlDLGFBQWEsOEJBQThCLHFDQUFxQyxJQUFJLDhCQUE4Qix1Q0FBdUMsYUFBYSw4QkFBOEIsMkNBQTJDLHFCQUFxQix5Q0FBeUMsMkJBQTJCLHVDQUF1QyxJQUFJLDJCQUEyQixvQ0FBb0MsSUFBSSw2Q0FBNkMsK0JBQStCLDhDQUE4QyxtQkFBbUIsK0JBQStCLG9DQUFvQyxxQkFBcUIseUNBQXlDLDJCQUEyQixtQ0FBbUMsb0JBQW9CLHlDQUF5Qyw2Q0FBNkMsK0JBQStCLGlEQUFpRCxvQkFBb0IseUNBQXlDLDJCQUEyQixtQ0FBbUMsS0FBSyxJQUFJLDZDQUE2QywrQkFBK0IsbURBQW1ELG9CQUFvQix5Q0FBeUMsMkJBQTJCLHFDQUFxQyxJQUFJLDJCQUEyQixzQ0FBc0MsS0FBSyxLQUFLLEtBQUssSUFBSSwyQkFBMkIscUNBQXFDLG1CQUFtQiwrQkFBK0IscUNBQXFDLHFCQUFxQix5Q0FBeUMsMkJBQTJCLHlDQUF5QyxJQUFJLDZDQUE2QywrQkFBK0IsZ0RBQWdELG9CQUFvQix5Q0FBeUMsMkJBQTJCLGlDQUFpQyxJQUFJLDJCQUEyQix3Q0FBd0MsS0FBSyxJQUFJLDZDQUE2QywrQkFBK0IsZ0RBQWdELG1CQUFtQiwrQkFBK0Isb0NBQW9DLHFCQUFxQix5Q0FBeUMsMkJBQTJCLG1DQUFtQyxvQkFBb0IseUNBQXlDLDZDQUE2QywrQkFBK0IsbURBQW1ELG9CQUFvQix5Q0FBeUMsMkJBQTJCLG1DQUFtQyxLQUFLLElBQUksNkNBQTZDLCtCQUErQixrREFBa0Qsb0JBQW9CLHlDQUF5QywyQkFBMkIsbUNBQW1DLElBQUksMkJBQTJCLHFDQUFxQyxLQUFLLElBQUksNkNBQTZDLCtCQUErQixtREFBbUQsb0JBQW9CLHlDQUF5QywyQkFBMkIsbUNBQW1DLEtBQUssS0FBSyxLQUFLLElBQUksNkNBQTZDLCtCQUErQixnREFBZ0Qsb0JBQW9CLHlDQUF5QywyQkFBMkIsb0NBQW9DLG1CQUFtQiwrQkFBK0IscUNBQXFDLEdBQUcsSUFBSSwyQkFBMkIsbUNBQW1DLEtBQUssSUFBSSw2Q0FBNkMsK0JBQStCLDJEQUEyRCxvQkFBb0IseUNBQXlDLDJCQUEyQixtQ0FBbUMsSUFBSSwyQkFBMkIsb0NBQW9DLElBQUksMkJBQTJCLHNDQUFzQyxtQkFBbUIsK0JBQStCLHFDQUFxQyxHQUFHLEtBQUssSUFBSSw2Q0FBNkMsK0JBQStCLGtEQUFrRCxvQkFBb0IseUNBQXlDLDJCQUEyQixxQ0FBcUMsSUFBSSwyQkFBMkIsZ0RBQWdELElBQUksMkJBQTJCLHlDQUF5QyxLQUFLLElBQUksNkNBQTZDLCtCQUErQixzREFBc0Qsb0JBQW9CLHlDQUF5QywyQkFBMkIsdUNBQXVDLElBQUksMkJBQTJCLG9DQUFvQyxJQUFJLDJCQUEyQixzQ0FBc0MsSUFBSSwyQkFBMkIsd0NBQXdDLElBQUksMkJBQTJCLHVDQUF1QyxJQUFJLDJCQUEyQixvQ0FBb0MsSUFBSSwyQkFBMkIscUNBQXFDLElBQUksMkJBQTJCLG1DQUFtQyxLQUFLLEtBQUssS0FBSyxLQUFLOztBQVVobk07QUFDRiIsInNvdXJjZXMiOlsid2VicGFjazovL2V4YW1wbGUtdG9kb3MtYXBwLy4vbm9kZV9tb2R1bGVzL0Bjb3BpbG90a2l0L3J1bnRpbWUtY2xpZW50LWdxbC9kaXN0L2NodW5rLU9TNTRGT1NWLm1qcz8wMDAzIl0sInNvdXJjZXNDb250ZW50IjpbIi8vIHNyYy9ncmFwaHFsL0BnZW5lcmF0ZWQvZ3JhcGhxbC50c1xudmFyIEFjdGlvbkV4ZWN1dGlvblNjb3BlID0gLyogQF9fUFVSRV9fICovICgoQWN0aW9uRXhlY3V0aW9uU2NvcGUyKSA9PiB7XG4gIEFjdGlvbkV4ZWN1dGlvblNjb3BlMltcIkNsaWVudFwiXSA9IFwiY2xpZW50XCI7XG4gIEFjdGlvbkV4ZWN1dGlvblNjb3BlMltcIlBhc3NUaHJvdWdoXCJdID0gXCJwYXNzVGhyb3VnaFwiO1xuICBBY3Rpb25FeGVjdXRpb25TY29wZTJbXCJTZXJ2ZXJcIl0gPSBcInNlcnZlclwiO1xuICByZXR1cm4gQWN0aW9uRXhlY3V0aW9uU2NvcGUyO1xufSkoQWN0aW9uRXhlY3V0aW9uU2NvcGUgfHwge30pO1xudmFyIENvcGlsb3RSZXF1ZXN0VHlwZSA9IC8qIEBfX1BVUkVfXyAqLyAoKENvcGlsb3RSZXF1ZXN0VHlwZTIpID0+IHtcbiAgQ29waWxvdFJlcXVlc3RUeXBlMltcIkNoYXRcIl0gPSBcIkNoYXRcIjtcbiAgQ29waWxvdFJlcXVlc3RUeXBlMltcIlN1Z2dlc3Rpb25cIl0gPSBcIlN1Z2dlc3Rpb25cIjtcbiAgQ29waWxvdFJlcXVlc3RUeXBlMltcIlRhc2tcIl0gPSBcIlRhc2tcIjtcbiAgQ29waWxvdFJlcXVlc3RUeXBlMltcIlRleHRhcmVhQ29tcGxldGlvblwiXSA9IFwiVGV4dGFyZWFDb21wbGV0aW9uXCI7XG4gIENvcGlsb3RSZXF1ZXN0VHlwZTJbXCJUZXh0YXJlYVBvcG92ZXJcIl0gPSBcIlRleHRhcmVhUG9wb3ZlclwiO1xuICByZXR1cm4gQ29waWxvdFJlcXVlc3RUeXBlMjtcbn0pKENvcGlsb3RSZXF1ZXN0VHlwZSB8fCB7fSk7XG52YXIgRmFpbGVkUmVzcG9uc2VTdGF0dXNSZWFzb24gPSAvKiBAX19QVVJFX18gKi8gKChGYWlsZWRSZXNwb25zZVN0YXR1c1JlYXNvbjIpID0+IHtcbiAgRmFpbGVkUmVzcG9uc2VTdGF0dXNSZWFzb24yW1wiR3VhcmRyYWlsc1ZhbGlkYXRpb25GYWlsZWRcIl0gPSBcIkdVQVJEUkFJTFNfVkFMSURBVElPTl9GQUlMRURcIjtcbiAgRmFpbGVkUmVzcG9uc2VTdGF0dXNSZWFzb24yW1wiTWVzc2FnZVN0cmVhbUludGVycnVwdGVkXCJdID0gXCJNRVNTQUdFX1NUUkVBTV9JTlRFUlJVUFRFRFwiO1xuICBGYWlsZWRSZXNwb25zZVN0YXR1c1JlYXNvbjJbXCJVbmtub3duRXJyb3JcIl0gPSBcIlVOS05PV05fRVJST1JcIjtcbiAgcmV0dXJuIEZhaWxlZFJlc3BvbnNlU3RhdHVzUmVhc29uMjtcbn0pKEZhaWxlZFJlc3BvbnNlU3RhdHVzUmVhc29uIHx8IHt9KTtcbnZhciBNZXNzYWdlUm9sZSA9IC8qIEBfX1BVUkVfXyAqLyAoKE1lc3NhZ2VSb2xlMikgPT4ge1xuICBNZXNzYWdlUm9sZTJbXCJBc3Npc3RhbnRcIl0gPSBcImFzc2lzdGFudFwiO1xuICBNZXNzYWdlUm9sZTJbXCJTeXN0ZW1cIl0gPSBcInN5c3RlbVwiO1xuICBNZXNzYWdlUm9sZTJbXCJVc2VyXCJdID0gXCJ1c2VyXCI7XG4gIHJldHVybiBNZXNzYWdlUm9sZTI7XG59KShNZXNzYWdlUm9sZSB8fCB7fSk7XG52YXIgTWVzc2FnZVN0YXR1c0NvZGUgPSAvKiBAX19QVVJFX18gKi8gKChNZXNzYWdlU3RhdHVzQ29kZTIpID0+IHtcbiAgTWVzc2FnZVN0YXR1c0NvZGUyW1wiRmFpbGVkXCJdID0gXCJGYWlsZWRcIjtcbiAgTWVzc2FnZVN0YXR1c0NvZGUyW1wiUGVuZGluZ1wiXSA9IFwiUGVuZGluZ1wiO1xuICBNZXNzYWdlU3RhdHVzQ29kZTJbXCJTdWNjZXNzXCJdID0gXCJTdWNjZXNzXCI7XG4gIHJldHVybiBNZXNzYWdlU3RhdHVzQ29kZTI7XG59KShNZXNzYWdlU3RhdHVzQ29kZSB8fCB7fSk7XG52YXIgUmVzcG9uc2VTdGF0dXNDb2RlID0gLyogQF9fUFVSRV9fICovICgoUmVzcG9uc2VTdGF0dXNDb2RlMikgPT4ge1xuICBSZXNwb25zZVN0YXR1c0NvZGUyW1wiRmFpbGVkXCJdID0gXCJGYWlsZWRcIjtcbiAgUmVzcG9uc2VTdGF0dXNDb2RlMltcIlBlbmRpbmdcIl0gPSBcIlBlbmRpbmdcIjtcbiAgUmVzcG9uc2VTdGF0dXNDb2RlMltcIlN1Y2Nlc3NcIl0gPSBcIlN1Y2Nlc3NcIjtcbiAgcmV0dXJuIFJlc3BvbnNlU3RhdHVzQ29kZTI7XG59KShSZXNwb25zZVN0YXR1c0NvZGUgfHwge30pO1xudmFyIEdlbmVyYXRlQ29waWxvdFJlc3BvbnNlRG9jdW1lbnQgPSB7IFwia2luZFwiOiBcIkRvY3VtZW50XCIsIFwiZGVmaW5pdGlvbnNcIjogW3sgXCJraW5kXCI6IFwiT3BlcmF0aW9uRGVmaW5pdGlvblwiLCBcIm9wZXJhdGlvblwiOiBcIm11dGF0aW9uXCIsIFwibmFtZVwiOiB7IFwia2luZFwiOiBcIk5hbWVcIiwgXCJ2YWx1ZVwiOiBcImdlbmVyYXRlQ29waWxvdFJlc3BvbnNlXCIgfSwgXCJ2YXJpYWJsZURlZmluaXRpb25zXCI6IFt7IFwia2luZFwiOiBcIlZhcmlhYmxlRGVmaW5pdGlvblwiLCBcInZhcmlhYmxlXCI6IHsgXCJraW5kXCI6IFwiVmFyaWFibGVcIiwgXCJuYW1lXCI6IHsgXCJraW5kXCI6IFwiTmFtZVwiLCBcInZhbHVlXCI6IFwiZGF0YVwiIH0gfSwgXCJ0eXBlXCI6IHsgXCJraW5kXCI6IFwiTm9uTnVsbFR5cGVcIiwgXCJ0eXBlXCI6IHsgXCJraW5kXCI6IFwiTmFtZWRUeXBlXCIsIFwibmFtZVwiOiB7IFwia2luZFwiOiBcIk5hbWVcIiwgXCJ2YWx1ZVwiOiBcIkdlbmVyYXRlQ29waWxvdFJlc3BvbnNlSW5wdXRcIiB9IH0gfSB9LCB7IFwia2luZFwiOiBcIlZhcmlhYmxlRGVmaW5pdGlvblwiLCBcInZhcmlhYmxlXCI6IHsgXCJraW5kXCI6IFwiVmFyaWFibGVcIiwgXCJuYW1lXCI6IHsgXCJraW5kXCI6IFwiTmFtZVwiLCBcInZhbHVlXCI6IFwicHJvcGVydGllc1wiIH0gfSwgXCJ0eXBlXCI6IHsgXCJraW5kXCI6IFwiTmFtZWRUeXBlXCIsIFwibmFtZVwiOiB7IFwia2luZFwiOiBcIk5hbWVcIiwgXCJ2YWx1ZVwiOiBcIkpTT05PYmplY3RcIiB9IH0gfV0sIFwic2VsZWN0aW9uU2V0XCI6IHsgXCJraW5kXCI6IFwiU2VsZWN0aW9uU2V0XCIsIFwic2VsZWN0aW9uc1wiOiBbeyBcImtpbmRcIjogXCJGaWVsZFwiLCBcIm5hbWVcIjogeyBcImtpbmRcIjogXCJOYW1lXCIsIFwidmFsdWVcIjogXCJnZW5lcmF0ZUNvcGlsb3RSZXNwb25zZVwiIH0sIFwiYXJndW1lbnRzXCI6IFt7IFwia2luZFwiOiBcIkFyZ3VtZW50XCIsIFwibmFtZVwiOiB7IFwia2luZFwiOiBcIk5hbWVcIiwgXCJ2YWx1ZVwiOiBcImRhdGFcIiB9LCBcInZhbHVlXCI6IHsgXCJraW5kXCI6IFwiVmFyaWFibGVcIiwgXCJuYW1lXCI6IHsgXCJraW5kXCI6IFwiTmFtZVwiLCBcInZhbHVlXCI6IFwiZGF0YVwiIH0gfSB9LCB7IFwia2luZFwiOiBcIkFyZ3VtZW50XCIsIFwibmFtZVwiOiB7IFwia2luZFwiOiBcIk5hbWVcIiwgXCJ2YWx1ZVwiOiBcInByb3BlcnRpZXNcIiB9LCBcInZhbHVlXCI6IHsgXCJraW5kXCI6IFwiVmFyaWFibGVcIiwgXCJuYW1lXCI6IHsgXCJraW5kXCI6IFwiTmFtZVwiLCBcInZhbHVlXCI6IFwicHJvcGVydGllc1wiIH0gfSB9XSwgXCJzZWxlY3Rpb25TZXRcIjogeyBcImtpbmRcIjogXCJTZWxlY3Rpb25TZXRcIiwgXCJzZWxlY3Rpb25zXCI6IFt7IFwia2luZFwiOiBcIkZpZWxkXCIsIFwibmFtZVwiOiB7IFwia2luZFwiOiBcIk5hbWVcIiwgXCJ2YWx1ZVwiOiBcInRocmVhZElkXCIgfSB9LCB7IFwia2luZFwiOiBcIkZpZWxkXCIsIFwibmFtZVwiOiB7IFwia2luZFwiOiBcIk5hbWVcIiwgXCJ2YWx1ZVwiOiBcInJ1bklkXCIgfSB9LCB7IFwia2luZFwiOiBcIklubGluZUZyYWdtZW50XCIsIFwidHlwZUNvbmRpdGlvblwiOiB7IFwia2luZFwiOiBcIk5hbWVkVHlwZVwiLCBcIm5hbWVcIjogeyBcImtpbmRcIjogXCJOYW1lXCIsIFwidmFsdWVcIjogXCJDb3BpbG90UmVzcG9uc2VcIiB9IH0sIFwiZGlyZWN0aXZlc1wiOiBbeyBcImtpbmRcIjogXCJEaXJlY3RpdmVcIiwgXCJuYW1lXCI6IHsgXCJraW5kXCI6IFwiTmFtZVwiLCBcInZhbHVlXCI6IFwiZGVmZXJcIiB9IH1dLCBcInNlbGVjdGlvblNldFwiOiB7IFwia2luZFwiOiBcIlNlbGVjdGlvblNldFwiLCBcInNlbGVjdGlvbnNcIjogW3sgXCJraW5kXCI6IFwiRmllbGRcIiwgXCJuYW1lXCI6IHsgXCJraW5kXCI6IFwiTmFtZVwiLCBcInZhbHVlXCI6IFwic3RhdHVzXCIgfSwgXCJzZWxlY3Rpb25TZXRcIjogeyBcImtpbmRcIjogXCJTZWxlY3Rpb25TZXRcIiwgXCJzZWxlY3Rpb25zXCI6IFt7IFwia2luZFwiOiBcIklubGluZUZyYWdtZW50XCIsIFwidHlwZUNvbmRpdGlvblwiOiB7IFwia2luZFwiOiBcIk5hbWVkVHlwZVwiLCBcIm5hbWVcIjogeyBcImtpbmRcIjogXCJOYW1lXCIsIFwidmFsdWVcIjogXCJCYXNlUmVzcG9uc2VTdGF0dXNcIiB9IH0sIFwic2VsZWN0aW9uU2V0XCI6IHsgXCJraW5kXCI6IFwiU2VsZWN0aW9uU2V0XCIsIFwic2VsZWN0aW9uc1wiOiBbeyBcImtpbmRcIjogXCJGaWVsZFwiLCBcIm5hbWVcIjogeyBcImtpbmRcIjogXCJOYW1lXCIsIFwidmFsdWVcIjogXCJjb2RlXCIgfSB9XSB9IH0sIHsgXCJraW5kXCI6IFwiSW5saW5lRnJhZ21lbnRcIiwgXCJ0eXBlQ29uZGl0aW9uXCI6IHsgXCJraW5kXCI6IFwiTmFtZWRUeXBlXCIsIFwibmFtZVwiOiB7IFwia2luZFwiOiBcIk5hbWVcIiwgXCJ2YWx1ZVwiOiBcIkZhaWxlZFJlc3BvbnNlU3RhdHVzXCIgfSB9LCBcInNlbGVjdGlvblNldFwiOiB7IFwia2luZFwiOiBcIlNlbGVjdGlvblNldFwiLCBcInNlbGVjdGlvbnNcIjogW3sgXCJraW5kXCI6IFwiRmllbGRcIiwgXCJuYW1lXCI6IHsgXCJraW5kXCI6IFwiTmFtZVwiLCBcInZhbHVlXCI6IFwicmVhc29uXCIgfSB9LCB7IFwia2luZFwiOiBcIkZpZWxkXCIsIFwibmFtZVwiOiB7IFwia2luZFwiOiBcIk5hbWVcIiwgXCJ2YWx1ZVwiOiBcImRldGFpbHNcIiB9IH1dIH0gfV0gfSB9XSB9IH0sIHsgXCJraW5kXCI6IFwiRmllbGRcIiwgXCJuYW1lXCI6IHsgXCJraW5kXCI6IFwiTmFtZVwiLCBcInZhbHVlXCI6IFwibWVzc2FnZXNcIiB9LCBcImRpcmVjdGl2ZXNcIjogW3sgXCJraW5kXCI6IFwiRGlyZWN0aXZlXCIsIFwibmFtZVwiOiB7IFwia2luZFwiOiBcIk5hbWVcIiwgXCJ2YWx1ZVwiOiBcInN0cmVhbVwiIH0gfV0sIFwic2VsZWN0aW9uU2V0XCI6IHsgXCJraW5kXCI6IFwiU2VsZWN0aW9uU2V0XCIsIFwic2VsZWN0aW9uc1wiOiBbeyBcImtpbmRcIjogXCJGaWVsZFwiLCBcIm5hbWVcIjogeyBcImtpbmRcIjogXCJOYW1lXCIsIFwidmFsdWVcIjogXCJfX3R5cGVuYW1lXCIgfSB9LCB7IFwia2luZFwiOiBcIklubGluZUZyYWdtZW50XCIsIFwidHlwZUNvbmRpdGlvblwiOiB7IFwia2luZFwiOiBcIk5hbWVkVHlwZVwiLCBcIm5hbWVcIjogeyBcImtpbmRcIjogXCJOYW1lXCIsIFwidmFsdWVcIjogXCJCYXNlTWVzc2FnZU91dHB1dFwiIH0gfSwgXCJzZWxlY3Rpb25TZXRcIjogeyBcImtpbmRcIjogXCJTZWxlY3Rpb25TZXRcIiwgXCJzZWxlY3Rpb25zXCI6IFt7IFwia2luZFwiOiBcIkZpZWxkXCIsIFwibmFtZVwiOiB7IFwia2luZFwiOiBcIk5hbWVcIiwgXCJ2YWx1ZVwiOiBcImlkXCIgfSB9LCB7IFwia2luZFwiOiBcIkZpZWxkXCIsIFwibmFtZVwiOiB7IFwia2luZFwiOiBcIk5hbWVcIiwgXCJ2YWx1ZVwiOiBcImNyZWF0ZWRBdFwiIH0gfV0gfSB9LCB7IFwia2luZFwiOiBcIklubGluZUZyYWdtZW50XCIsIFwidHlwZUNvbmRpdGlvblwiOiB7IFwia2luZFwiOiBcIk5hbWVkVHlwZVwiLCBcIm5hbWVcIjogeyBcImtpbmRcIjogXCJOYW1lXCIsIFwidmFsdWVcIjogXCJCYXNlTWVzc2FnZU91dHB1dFwiIH0gfSwgXCJkaXJlY3RpdmVzXCI6IFt7IFwia2luZFwiOiBcIkRpcmVjdGl2ZVwiLCBcIm5hbWVcIjogeyBcImtpbmRcIjogXCJOYW1lXCIsIFwidmFsdWVcIjogXCJkZWZlclwiIH0gfV0sIFwic2VsZWN0aW9uU2V0XCI6IHsgXCJraW5kXCI6IFwiU2VsZWN0aW9uU2V0XCIsIFwic2VsZWN0aW9uc1wiOiBbeyBcImtpbmRcIjogXCJGaWVsZFwiLCBcIm5hbWVcIjogeyBcImtpbmRcIjogXCJOYW1lXCIsIFwidmFsdWVcIjogXCJzdGF0dXNcIiB9LCBcInNlbGVjdGlvblNldFwiOiB7IFwia2luZFwiOiBcIlNlbGVjdGlvblNldFwiLCBcInNlbGVjdGlvbnNcIjogW3sgXCJraW5kXCI6IFwiSW5saW5lRnJhZ21lbnRcIiwgXCJ0eXBlQ29uZGl0aW9uXCI6IHsgXCJraW5kXCI6IFwiTmFtZWRUeXBlXCIsIFwibmFtZVwiOiB7IFwia2luZFwiOiBcIk5hbWVcIiwgXCJ2YWx1ZVwiOiBcIlN1Y2Nlc3NNZXNzYWdlU3RhdHVzXCIgfSB9LCBcInNlbGVjdGlvblNldFwiOiB7IFwia2luZFwiOiBcIlNlbGVjdGlvblNldFwiLCBcInNlbGVjdGlvbnNcIjogW3sgXCJraW5kXCI6IFwiRmllbGRcIiwgXCJuYW1lXCI6IHsgXCJraW5kXCI6IFwiTmFtZVwiLCBcInZhbHVlXCI6IFwiY29kZVwiIH0gfV0gfSB9LCB7IFwia2luZFwiOiBcIklubGluZUZyYWdtZW50XCIsIFwidHlwZUNvbmRpdGlvblwiOiB7IFwia2luZFwiOiBcIk5hbWVkVHlwZVwiLCBcIm5hbWVcIjogeyBcImtpbmRcIjogXCJOYW1lXCIsIFwidmFsdWVcIjogXCJGYWlsZWRNZXNzYWdlU3RhdHVzXCIgfSB9LCBcInNlbGVjdGlvblNldFwiOiB7IFwia2luZFwiOiBcIlNlbGVjdGlvblNldFwiLCBcInNlbGVjdGlvbnNcIjogW3sgXCJraW5kXCI6IFwiRmllbGRcIiwgXCJuYW1lXCI6IHsgXCJraW5kXCI6IFwiTmFtZVwiLCBcInZhbHVlXCI6IFwiY29kZVwiIH0gfSwgeyBcImtpbmRcIjogXCJGaWVsZFwiLCBcIm5hbWVcIjogeyBcImtpbmRcIjogXCJOYW1lXCIsIFwidmFsdWVcIjogXCJyZWFzb25cIiB9IH1dIH0gfSwgeyBcImtpbmRcIjogXCJJbmxpbmVGcmFnbWVudFwiLCBcInR5cGVDb25kaXRpb25cIjogeyBcImtpbmRcIjogXCJOYW1lZFR5cGVcIiwgXCJuYW1lXCI6IHsgXCJraW5kXCI6IFwiTmFtZVwiLCBcInZhbHVlXCI6IFwiUGVuZGluZ01lc3NhZ2VTdGF0dXNcIiB9IH0sIFwic2VsZWN0aW9uU2V0XCI6IHsgXCJraW5kXCI6IFwiU2VsZWN0aW9uU2V0XCIsIFwic2VsZWN0aW9uc1wiOiBbeyBcImtpbmRcIjogXCJGaWVsZFwiLCBcIm5hbWVcIjogeyBcImtpbmRcIjogXCJOYW1lXCIsIFwidmFsdWVcIjogXCJjb2RlXCIgfSB9XSB9IH1dIH0gfV0gfSB9LCB7IFwia2luZFwiOiBcIklubGluZUZyYWdtZW50XCIsIFwidHlwZUNvbmRpdGlvblwiOiB7IFwia2luZFwiOiBcIk5hbWVkVHlwZVwiLCBcIm5hbWVcIjogeyBcImtpbmRcIjogXCJOYW1lXCIsIFwidmFsdWVcIjogXCJUZXh0TWVzc2FnZU91dHB1dFwiIH0gfSwgXCJzZWxlY3Rpb25TZXRcIjogeyBcImtpbmRcIjogXCJTZWxlY3Rpb25TZXRcIiwgXCJzZWxlY3Rpb25zXCI6IFt7IFwia2luZFwiOiBcIkZpZWxkXCIsIFwibmFtZVwiOiB7IFwia2luZFwiOiBcIk5hbWVcIiwgXCJ2YWx1ZVwiOiBcImNvbnRlbnRcIiB9LCBcImRpcmVjdGl2ZXNcIjogW3sgXCJraW5kXCI6IFwiRGlyZWN0aXZlXCIsIFwibmFtZVwiOiB7IFwia2luZFwiOiBcIk5hbWVcIiwgXCJ2YWx1ZVwiOiBcInN0cmVhbVwiIH0gfV0gfSwgeyBcImtpbmRcIjogXCJGaWVsZFwiLCBcIm5hbWVcIjogeyBcImtpbmRcIjogXCJOYW1lXCIsIFwidmFsdWVcIjogXCJyb2xlXCIgfSB9XSB9IH0sIHsgXCJraW5kXCI6IFwiSW5saW5lRnJhZ21lbnRcIiwgXCJ0eXBlQ29uZGl0aW9uXCI6IHsgXCJraW5kXCI6IFwiTmFtZWRUeXBlXCIsIFwibmFtZVwiOiB7IFwia2luZFwiOiBcIk5hbWVcIiwgXCJ2YWx1ZVwiOiBcIkFjdGlvbkV4ZWN1dGlvbk1lc3NhZ2VPdXRwdXRcIiB9IH0sIFwic2VsZWN0aW9uU2V0XCI6IHsgXCJraW5kXCI6IFwiU2VsZWN0aW9uU2V0XCIsIFwic2VsZWN0aW9uc1wiOiBbeyBcImtpbmRcIjogXCJGaWVsZFwiLCBcIm5hbWVcIjogeyBcImtpbmRcIjogXCJOYW1lXCIsIFwidmFsdWVcIjogXCJuYW1lXCIgfSB9LCB7IFwia2luZFwiOiBcIkZpZWxkXCIsIFwibmFtZVwiOiB7IFwia2luZFwiOiBcIk5hbWVcIiwgXCJ2YWx1ZVwiOiBcInNjb3BlXCIgfSB9LCB7IFwia2luZFwiOiBcIkZpZWxkXCIsIFwibmFtZVwiOiB7IFwia2luZFwiOiBcIk5hbWVcIiwgXCJ2YWx1ZVwiOiBcImFyZ3VtZW50c1wiIH0sIFwiZGlyZWN0aXZlc1wiOiBbeyBcImtpbmRcIjogXCJEaXJlY3RpdmVcIiwgXCJuYW1lXCI6IHsgXCJraW5kXCI6IFwiTmFtZVwiLCBcInZhbHVlXCI6IFwic3RyZWFtXCIgfSB9XSB9XSB9IH0sIHsgXCJraW5kXCI6IFwiSW5saW5lRnJhZ21lbnRcIiwgXCJ0eXBlQ29uZGl0aW9uXCI6IHsgXCJraW5kXCI6IFwiTmFtZWRUeXBlXCIsIFwibmFtZVwiOiB7IFwia2luZFwiOiBcIk5hbWVcIiwgXCJ2YWx1ZVwiOiBcIlJlc3VsdE1lc3NhZ2VPdXRwdXRcIiB9IH0sIFwic2VsZWN0aW9uU2V0XCI6IHsgXCJraW5kXCI6IFwiU2VsZWN0aW9uU2V0XCIsIFwic2VsZWN0aW9uc1wiOiBbeyBcImtpbmRcIjogXCJGaWVsZFwiLCBcIm5hbWVcIjogeyBcImtpbmRcIjogXCJOYW1lXCIsIFwidmFsdWVcIjogXCJyZXN1bHRcIiB9IH0sIHsgXCJraW5kXCI6IFwiRmllbGRcIiwgXCJuYW1lXCI6IHsgXCJraW5kXCI6IFwiTmFtZVwiLCBcInZhbHVlXCI6IFwiYWN0aW9uRXhlY3V0aW9uSWRcIiB9IH0sIHsgXCJraW5kXCI6IFwiRmllbGRcIiwgXCJuYW1lXCI6IHsgXCJraW5kXCI6IFwiTmFtZVwiLCBcInZhbHVlXCI6IFwiYWN0aW9uTmFtZVwiIH0gfV0gfSB9LCB7IFwia2luZFwiOiBcIklubGluZUZyYWdtZW50XCIsIFwidHlwZUNvbmRpdGlvblwiOiB7IFwia2luZFwiOiBcIk5hbWVkVHlwZVwiLCBcIm5hbWVcIjogeyBcImtpbmRcIjogXCJOYW1lXCIsIFwidmFsdWVcIjogXCJBZ2VudFN0YXRlTWVzc2FnZU91dHB1dFwiIH0gfSwgXCJzZWxlY3Rpb25TZXRcIjogeyBcImtpbmRcIjogXCJTZWxlY3Rpb25TZXRcIiwgXCJzZWxlY3Rpb25zXCI6IFt7IFwia2luZFwiOiBcIkZpZWxkXCIsIFwibmFtZVwiOiB7IFwia2luZFwiOiBcIk5hbWVcIiwgXCJ2YWx1ZVwiOiBcInRocmVhZElkXCIgfSB9LCB7IFwia2luZFwiOiBcIkZpZWxkXCIsIFwibmFtZVwiOiB7IFwia2luZFwiOiBcIk5hbWVcIiwgXCJ2YWx1ZVwiOiBcInN0YXRlXCIgfSB9LCB7IFwia2luZFwiOiBcIkZpZWxkXCIsIFwibmFtZVwiOiB7IFwia2luZFwiOiBcIk5hbWVcIiwgXCJ2YWx1ZVwiOiBcInJ1bm5pbmdcIiB9IH0sIHsgXCJraW5kXCI6IFwiRmllbGRcIiwgXCJuYW1lXCI6IHsgXCJraW5kXCI6IFwiTmFtZVwiLCBcInZhbHVlXCI6IFwiYWdlbnROYW1lXCIgfSB9LCB7IFwia2luZFwiOiBcIkZpZWxkXCIsIFwibmFtZVwiOiB7IFwia2luZFwiOiBcIk5hbWVcIiwgXCJ2YWx1ZVwiOiBcIm5vZGVOYW1lXCIgfSB9LCB7IFwia2luZFwiOiBcIkZpZWxkXCIsIFwibmFtZVwiOiB7IFwia2luZFwiOiBcIk5hbWVcIiwgXCJ2YWx1ZVwiOiBcInJ1bklkXCIgfSB9LCB7IFwia2luZFwiOiBcIkZpZWxkXCIsIFwibmFtZVwiOiB7IFwia2luZFwiOiBcIk5hbWVcIiwgXCJ2YWx1ZVwiOiBcImFjdGl2ZVwiIH0gfSwgeyBcImtpbmRcIjogXCJGaWVsZFwiLCBcIm5hbWVcIjogeyBcImtpbmRcIjogXCJOYW1lXCIsIFwidmFsdWVcIjogXCJyb2xlXCIgfSB9XSB9IH1dIH0gfV0gfSB9XSB9IH1dIH07XG5cbmV4cG9ydCB7XG4gIEFjdGlvbkV4ZWN1dGlvblNjb3BlLFxuICBDb3BpbG90UmVxdWVzdFR5cGUsXG4gIEZhaWxlZFJlc3BvbnNlU3RhdHVzUmVhc29uLFxuICBNZXNzYWdlUm9sZSxcbiAgTWVzc2FnZVN0YXR1c0NvZGUsXG4gIFJlc3BvbnNlU3RhdHVzQ29kZSxcbiAgR2VuZXJhdGVDb3BpbG90UmVzcG9uc2VEb2N1bWVudFxufTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWNodW5rLU9TNTRGT1NWLm1qcy5tYXAiXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/@copilotkit/runtime-client-gql/dist/chunk-OS54FOSV.mjs\n");

/***/ }),

/***/ "(ssr)/./node_modules/@copilotkit/runtime-client-gql/dist/chunk-PQKGPNPU.mjs":
/*!*****************************************************************************!*\
  !*** ./node_modules/@copilotkit/runtime-client-gql/dist/chunk-PQKGPNPU.mjs ***!
  \*****************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   CopilotRuntimeClient: () => (/* binding */ CopilotRuntimeClient)\n/* harmony export */ });\n/* harmony import */ var _chunk_2G5YL4FF_mjs__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./chunk-2G5YL4FF.mjs */ \"(ssr)/./node_modules/@copilotkit/runtime-client-gql/dist/chunk-2G5YL4FF.mjs\");\n/* harmony import */ var _urql_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @urql/core */ \"(ssr)/./node_modules/@urql/core/dist/urql-core.mjs\");\n\n\n// src/client/CopilotRuntimeClient.ts\n\n\n// package.json\nvar version = \"1.3.0\";\n\n// src/client/CopilotRuntimeClient.ts\nvar CopilotRuntimeClient = class {\n  constructor(options) {\n    const headers = {};\n    if (options.headers) {\n      Object.assign(headers, options.headers);\n    }\n    if (options.publicApiKey) {\n      headers[\"x-copilotcloud-public-api-key\"] = options.publicApiKey;\n    }\n    this.client = new _urql_core__WEBPACK_IMPORTED_MODULE_0__.Client({\n      url: options.url,\n      exchanges: [_urql_core__WEBPACK_IMPORTED_MODULE_0__.cacheExchange, _urql_core__WEBPACK_IMPORTED_MODULE_0__.fetchExchange],\n      fetchOptions: {\n        headers: {\n          ...headers,\n          \"X-CopilotKit-Runtime-Client-GQL-Version\": version\n        },\n        ...options.credentials ? { credentials: options.credentials } : {}\n      }\n    });\n  }\n  generateCopilotResponse({\n    data,\n    properties,\n    signal\n  }) {\n    const result = this.client.mutation(\n      _chunk_2G5YL4FF_mjs__WEBPACK_IMPORTED_MODULE_1__.generateCopilotResponseMutation,\n      { data, properties },\n      { fetch: (url, opts) => fetch(url, { ...opts, signal }) }\n    );\n    return result;\n  }\n  static asStream(source) {\n    return new ReadableStream({\n      start(controller) {\n        source.subscribe(({ data, hasNext }) => {\n          controller.enqueue(data);\n          if (!hasNext) {\n            controller.close();\n          }\n        });\n      }\n    });\n  }\n};\n\n\n//# sourceMappingURL=chunk-PQKGPNPU.mjs.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvQGNvcGlsb3RraXQvcnVudGltZS1jbGllbnQtZ3FsL2Rpc3QvY2h1bmstUFFLR1BOUFUubWpzIiwibWFwcGluZ3MiOiI7Ozs7OztBQUU4Qjs7QUFFOUI7QUFDa0U7O0FBRWxFO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxzQkFBc0IsOENBQU07QUFDNUI7QUFDQSxrQkFBa0IscURBQWEsRUFBRSxxREFBYTtBQUM5QztBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVCxtQ0FBbUMsbUNBQW1DO0FBQ3RFO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQSxNQUFNLGdGQUErQjtBQUNyQyxRQUFRLGtCQUFrQjtBQUMxQixRQUFRLG1DQUFtQyxpQkFBaUI7QUFDNUQ7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsNEJBQTRCLGVBQWU7QUFDM0M7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQSxLQUFLO0FBQ0w7QUFDQTs7QUFJRTtBQUNGIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vZXhhbXBsZS10b2Rvcy1hcHAvLi9ub2RlX21vZHVsZXMvQGNvcGlsb3RraXQvcnVudGltZS1jbGllbnQtZ3FsL2Rpc3QvY2h1bmstUFFLR1BOUFUubWpzP2RlMmYiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHtcbiAgZ2VuZXJhdGVDb3BpbG90UmVzcG9uc2VNdXRhdGlvblxufSBmcm9tIFwiLi9jaHVuay0yRzVZTDRGRi5tanNcIjtcblxuLy8gc3JjL2NsaWVudC9Db3BpbG90UnVudGltZUNsaWVudC50c1xuaW1wb3J0IHsgQ2xpZW50LCBjYWNoZUV4Y2hhbmdlLCBmZXRjaEV4Y2hhbmdlIH0gZnJvbSBcIkB1cnFsL2NvcmVcIjtcblxuLy8gcGFja2FnZS5qc29uXG52YXIgdmVyc2lvbiA9IFwiMS4zLjBcIjtcblxuLy8gc3JjL2NsaWVudC9Db3BpbG90UnVudGltZUNsaWVudC50c1xudmFyIENvcGlsb3RSdW50aW1lQ2xpZW50ID0gY2xhc3Mge1xuICBjb25zdHJ1Y3RvcihvcHRpb25zKSB7XG4gICAgY29uc3QgaGVhZGVycyA9IHt9O1xuICAgIGlmIChvcHRpb25zLmhlYWRlcnMpIHtcbiAgICAgIE9iamVjdC5hc3NpZ24oaGVhZGVycywgb3B0aW9ucy5oZWFkZXJzKTtcbiAgICB9XG4gICAgaWYgKG9wdGlvbnMucHVibGljQXBpS2V5KSB7XG4gICAgICBoZWFkZXJzW1wieC1jb3BpbG90Y2xvdWQtcHVibGljLWFwaS1rZXlcIl0gPSBvcHRpb25zLnB1YmxpY0FwaUtleTtcbiAgICB9XG4gICAgdGhpcy5jbGllbnQgPSBuZXcgQ2xpZW50KHtcbiAgICAgIHVybDogb3B0aW9ucy51cmwsXG4gICAgICBleGNoYW5nZXM6IFtjYWNoZUV4Y2hhbmdlLCBmZXRjaEV4Y2hhbmdlXSxcbiAgICAgIGZldGNoT3B0aW9uczoge1xuICAgICAgICBoZWFkZXJzOiB7XG4gICAgICAgICAgLi4uaGVhZGVycyxcbiAgICAgICAgICBcIlgtQ29waWxvdEtpdC1SdW50aW1lLUNsaWVudC1HUUwtVmVyc2lvblwiOiB2ZXJzaW9uXG4gICAgICAgIH0sXG4gICAgICAgIC4uLm9wdGlvbnMuY3JlZGVudGlhbHMgPyB7IGNyZWRlbnRpYWxzOiBvcHRpb25zLmNyZWRlbnRpYWxzIH0gOiB7fVxuICAgICAgfVxuICAgIH0pO1xuICB9XG4gIGdlbmVyYXRlQ29waWxvdFJlc3BvbnNlKHtcbiAgICBkYXRhLFxuICAgIHByb3BlcnRpZXMsXG4gICAgc2lnbmFsXG4gIH0pIHtcbiAgICBjb25zdCByZXN1bHQgPSB0aGlzLmNsaWVudC5tdXRhdGlvbihcbiAgICAgIGdlbmVyYXRlQ29waWxvdFJlc3BvbnNlTXV0YXRpb24sXG4gICAgICB7IGRhdGEsIHByb3BlcnRpZXMgfSxcbiAgICAgIHsgZmV0Y2g6ICh1cmwsIG9wdHMpID0+IGZldGNoKHVybCwgeyAuLi5vcHRzLCBzaWduYWwgfSkgfVxuICAgICk7XG4gICAgcmV0dXJuIHJlc3VsdDtcbiAgfVxuICBzdGF0aWMgYXNTdHJlYW0oc291cmNlKSB7XG4gICAgcmV0dXJuIG5ldyBSZWFkYWJsZVN0cmVhbSh7XG4gICAgICBzdGFydChjb250cm9sbGVyKSB7XG4gICAgICAgIHNvdXJjZS5zdWJzY3JpYmUoKHsgZGF0YSwgaGFzTmV4dCB9KSA9PiB7XG4gICAgICAgICAgY29udHJvbGxlci5lbnF1ZXVlKGRhdGEpO1xuICAgICAgICAgIGlmICghaGFzTmV4dCkge1xuICAgICAgICAgICAgY29udHJvbGxlci5jbG9zZSgpO1xuICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgICB9XG4gICAgfSk7XG4gIH1cbn07XG5cbmV4cG9ydCB7XG4gIENvcGlsb3RSdW50aW1lQ2xpZW50XG59O1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9Y2h1bmstUFFLR1BOUFUubWpzLm1hcCJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/@copilotkit/runtime-client-gql/dist/chunk-PQKGPNPU.mjs\n");

/***/ }),

/***/ "(ssr)/./node_modules/@copilotkit/runtime-client-gql/dist/chunk-UTB4B2W3.mjs":
/*!*****************************************************************************!*\
  !*** ./node_modules/@copilotkit/runtime-client-gql/dist/chunk-UTB4B2W3.mjs ***!
  \*****************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   ActionExecutionMessage: () => (/* binding */ ActionExecutionMessage),\n/* harmony export */   AgentStateMessage: () => (/* binding */ AgentStateMessage),\n/* harmony export */   Message: () => (/* binding */ Message),\n/* harmony export */   ResultMessage: () => (/* binding */ ResultMessage),\n/* harmony export */   Role: () => (/* binding */ Role),\n/* harmony export */   TextMessage: () => (/* binding */ TextMessage)\n/* harmony export */ });\n/* harmony import */ var _chunk_OS54FOSV_mjs__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./chunk-OS54FOSV.mjs */ \"(ssr)/./node_modules/@copilotkit/runtime-client-gql/dist/chunk-OS54FOSV.mjs\");\n/* harmony import */ var _copilotkit_shared__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @copilotkit/shared */ \"(ssr)/./node_modules/@copilotkit/shared/dist/chunk-RIPX6APP.mjs\");\n\n\n// src/client/types.ts\n\nvar Message = class {\n  constructor(props) {\n    props.id ?? (props.id = (0,_copilotkit_shared__WEBPACK_IMPORTED_MODULE_0__.randomId)());\n    props.status ?? (props.status = { code: \"Success\" /* Success */ });\n    props.createdAt ?? (props.createdAt = /* @__PURE__ */ new Date());\n    Object.assign(this, props);\n  }\n};\nvar Role = _chunk_OS54FOSV_mjs__WEBPACK_IMPORTED_MODULE_1__.MessageRole;\nvar TextMessage = class extends Message {\n  constructor(props) {\n    super(props);\n  }\n};\nvar ActionExecutionMessage = class extends Message {\n  constructor(props) {\n    super(props);\n  }\n};\nvar ResultMessage = class extends Message {\n  constructor(props) {\n    super(props);\n  }\n  static decodeResult(result) {\n    try {\n      return JSON.parse(result);\n    } catch (e) {\n      return result;\n    }\n  }\n  static encodeResult(result) {\n    if (result === void 0) {\n      return \"\";\n    } else if (typeof result === \"string\") {\n      return result;\n    } else {\n      return JSON.stringify(result);\n    }\n  }\n};\nvar AgentStateMessage = class extends Message {\n};\n\n\n//# sourceMappingURL=chunk-UTB4B2W3.mjs.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvQGNvcGlsb3RraXQvcnVudGltZS1jbGllbnQtZ3FsL2Rpc3QvY2h1bmstVVRCNEIyVzMubWpzIiwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7O0FBRThCOztBQUU5QjtBQUM4QztBQUM5QztBQUNBO0FBQ0EsNEJBQTRCLDREQUFRO0FBQ3BDLHNDQUFzQywrQkFBK0I7QUFDckU7QUFDQTtBQUNBO0FBQ0E7QUFDQSxXQUFXLDREQUFXO0FBQ3RCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxNQUFNO0FBQ047QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsTUFBTTtBQUNOO0FBQ0EsTUFBTTtBQUNOO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFTRTtBQUNGIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vZXhhbXBsZS10b2Rvcy1hcHAvLi9ub2RlX21vZHVsZXMvQGNvcGlsb3RraXQvcnVudGltZS1jbGllbnQtZ3FsL2Rpc3QvY2h1bmstVVRCNEIyVzMubWpzPzIyYmIiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHtcbiAgTWVzc2FnZVJvbGVcbn0gZnJvbSBcIi4vY2h1bmstT1M1NEZPU1YubWpzXCI7XG5cbi8vIHNyYy9jbGllbnQvdHlwZXMudHNcbmltcG9ydCB7IHJhbmRvbUlkIH0gZnJvbSBcIkBjb3BpbG90a2l0L3NoYXJlZFwiO1xudmFyIE1lc3NhZ2UgPSBjbGFzcyB7XG4gIGNvbnN0cnVjdG9yKHByb3BzKSB7XG4gICAgcHJvcHMuaWQgPz8gKHByb3BzLmlkID0gcmFuZG9tSWQoKSk7XG4gICAgcHJvcHMuc3RhdHVzID8/IChwcm9wcy5zdGF0dXMgPSB7IGNvZGU6IFwiU3VjY2Vzc1wiIC8qIFN1Y2Nlc3MgKi8gfSk7XG4gICAgcHJvcHMuY3JlYXRlZEF0ID8/IChwcm9wcy5jcmVhdGVkQXQgPSAvKiBAX19QVVJFX18gKi8gbmV3IERhdGUoKSk7XG4gICAgT2JqZWN0LmFzc2lnbih0aGlzLCBwcm9wcyk7XG4gIH1cbn07XG52YXIgUm9sZSA9IE1lc3NhZ2VSb2xlO1xudmFyIFRleHRNZXNzYWdlID0gY2xhc3MgZXh0ZW5kcyBNZXNzYWdlIHtcbiAgY29uc3RydWN0b3IocHJvcHMpIHtcbiAgICBzdXBlcihwcm9wcyk7XG4gIH1cbn07XG52YXIgQWN0aW9uRXhlY3V0aW9uTWVzc2FnZSA9IGNsYXNzIGV4dGVuZHMgTWVzc2FnZSB7XG4gIGNvbnN0cnVjdG9yKHByb3BzKSB7XG4gICAgc3VwZXIocHJvcHMpO1xuICB9XG59O1xudmFyIFJlc3VsdE1lc3NhZ2UgPSBjbGFzcyBleHRlbmRzIE1lc3NhZ2Uge1xuICBjb25zdHJ1Y3Rvcihwcm9wcykge1xuICAgIHN1cGVyKHByb3BzKTtcbiAgfVxuICBzdGF0aWMgZGVjb2RlUmVzdWx0KHJlc3VsdCkge1xuICAgIHRyeSB7XG4gICAgICByZXR1cm4gSlNPTi5wYXJzZShyZXN1bHQpO1xuICAgIH0gY2F0Y2ggKGUpIHtcbiAgICAgIHJldHVybiByZXN1bHQ7XG4gICAgfVxuICB9XG4gIHN0YXRpYyBlbmNvZGVSZXN1bHQocmVzdWx0KSB7XG4gICAgaWYgKHJlc3VsdCA9PT0gdm9pZCAwKSB7XG4gICAgICByZXR1cm4gXCJcIjtcbiAgICB9IGVsc2UgaWYgKHR5cGVvZiByZXN1bHQgPT09IFwic3RyaW5nXCIpIHtcbiAgICAgIHJldHVybiByZXN1bHQ7XG4gICAgfSBlbHNlIHtcbiAgICAgIHJldHVybiBKU09OLnN0cmluZ2lmeShyZXN1bHQpO1xuICAgIH1cbiAgfVxufTtcbnZhciBBZ2VudFN0YXRlTWVzc2FnZSA9IGNsYXNzIGV4dGVuZHMgTWVzc2FnZSB7XG59O1xuXG5leHBvcnQge1xuICBNZXNzYWdlLFxuICBSb2xlLFxuICBUZXh0TWVzc2FnZSxcbiAgQWN0aW9uRXhlY3V0aW9uTWVzc2FnZSxcbiAgUmVzdWx0TWVzc2FnZSxcbiAgQWdlbnRTdGF0ZU1lc3NhZ2Vcbn07XG4vLyMgc291cmNlTWFwcGluZ1VSTD1jaHVuay1VVEI0QjJXMy5tanMubWFwIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/@copilotkit/runtime-client-gql/dist/chunk-UTB4B2W3.mjs\n");

/***/ }),

/***/ "(ssr)/./node_modules/@copilotkit/shared/dist/chunk-3AJ2GKWG.mjs":
/*!*****************************************************************!*\
  !*** ./node_modules/@copilotkit/shared/dist/chunk-3AJ2GKWG.mjs ***!
  \*****************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   COPILOT_CLOUD_API_URL: () => (/* binding */ COPILOT_CLOUD_API_URL),\n/* harmony export */   COPILOT_CLOUD_CHAT_URL: () => (/* binding */ COPILOT_CLOUD_CHAT_URL),\n/* harmony export */   COPILOT_CLOUD_PUBLIC_API_KEY_HEADER: () => (/* binding */ COPILOT_CLOUD_PUBLIC_API_KEY_HEADER),\n/* harmony export */   COPILOT_CLOUD_VERSION: () => (/* binding */ COPILOT_CLOUD_VERSION)\n/* harmony export */ });\n// src/constants/index.ts\nvar COPILOT_CLOUD_API_URL = \"https://api.copilotkit.ai\";\nvar COPILOT_CLOUD_VERSION = \"v1\";\nvar COPILOT_CLOUD_CHAT_URL = `${COPILOT_CLOUD_API_URL}/copilotkit/${COPILOT_CLOUD_VERSION}`;\nvar COPILOT_CLOUD_PUBLIC_API_KEY_HEADER = \"X-CopilotCloud-Public-Api-Key\";\n\n\n//# sourceMappingURL=chunk-3AJ2GKWG.mjs.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvQGNvcGlsb3RraXQvc2hhcmVkL2Rpc3QvY2h1bmstM0FKMkdLV0cubWpzIiwibWFwcGluZ3MiOiI7Ozs7Ozs7QUFBQTtBQUNBO0FBQ0E7QUFDQSxnQ0FBZ0Msc0JBQXNCLGNBQWMsc0JBQXNCO0FBQzFGOztBQU9FO0FBQ0YiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9leGFtcGxlLXRvZG9zLWFwcC8uL25vZGVfbW9kdWxlcy9AY29waWxvdGtpdC9zaGFyZWQvZGlzdC9jaHVuay0zQUoyR0tXRy5tanM/NDI5OSJdLCJzb3VyY2VzQ29udGVudCI6WyIvLyBzcmMvY29uc3RhbnRzL2luZGV4LnRzXG52YXIgQ09QSUxPVF9DTE9VRF9BUElfVVJMID0gXCJodHRwczovL2FwaS5jb3BpbG90a2l0LmFpXCI7XG52YXIgQ09QSUxPVF9DTE9VRF9WRVJTSU9OID0gXCJ2MVwiO1xudmFyIENPUElMT1RfQ0xPVURfQ0hBVF9VUkwgPSBgJHtDT1BJTE9UX0NMT1VEX0FQSV9VUkx9L2NvcGlsb3RraXQvJHtDT1BJTE9UX0NMT1VEX1ZFUlNJT059YDtcbnZhciBDT1BJTE9UX0NMT1VEX1BVQkxJQ19BUElfS0VZX0hFQURFUiA9IFwiWC1Db3BpbG90Q2xvdWQtUHVibGljLUFwaS1LZXlcIjtcblxuZXhwb3J0IHtcbiAgQ09QSUxPVF9DTE9VRF9BUElfVVJMLFxuICBDT1BJTE9UX0NMT1VEX1ZFUlNJT04sXG4gIENPUElMT1RfQ0xPVURfQ0hBVF9VUkwsXG4gIENPUElMT1RfQ0xPVURfUFVCTElDX0FQSV9LRVlfSEVBREVSXG59O1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9Y2h1bmstM0FKMkdLV0cubWpzLm1hcCJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/@copilotkit/shared/dist/chunk-3AJ2GKWG.mjs\n");

/***/ }),

/***/ "(ssr)/./node_modules/@copilotkit/shared/dist/chunk-6QGXWNS5.mjs":
/*!*****************************************************************!*\
  !*** ./node_modules/@copilotkit/shared/dist/chunk-6QGXWNS5.mjs ***!
  \*****************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   flattenObject: () => (/* binding */ flattenObject),\n/* harmony export */   printSecurityNotice: () => (/* binding */ printSecurityNotice)\n/* harmony export */ });\n/* harmony import */ var chalk__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! chalk */ \"(ssr)/./node_modules/chalk/source/index.js\");\n// src/telemetry/utils.ts\n\nfunction flattenObject(obj, parentKey = \"\", res = {}) {\n  for (let key in obj) {\n    const propName = parentKey ? `${parentKey}.${key}` : key;\n    if (typeof obj[key] === \"object\" && obj[key] !== null) {\n      flattenObject(obj[key], propName, res);\n    } else {\n      res[propName] = obj[key];\n    }\n  }\n  return res;\n}\nfunction printSecurityNotice(advisory) {\n  const severityColor = {\n    low: chalk__WEBPACK_IMPORTED_MODULE_0__.blue,\n    medium: chalk__WEBPACK_IMPORTED_MODULE_0__.yellow,\n    high: chalk__WEBPACK_IMPORTED_MODULE_0__.red\n  }[advisory.severity.toLowerCase()] || chalk__WEBPACK_IMPORTED_MODULE_0__.white;\n  console.log();\n  console.log(`\\u2501\\u2501\\u2501\\u2501\\u2501\\u2501\\u2501\\u2501\\u2501\\u2501\\u2501\\u2501\\u2501\\u2501\\u2501\\u2501\\u2501\\u2501 ${chalk__WEBPACK_IMPORTED_MODULE_0__.bold(`CopilotKit`)} \\u2501\\u2501\\u2501\\u2501\\u2501\\u2501\\u2501\\u2501\\u2501\\u2501\\u2501\\u2501\\u2501\\u2501\\u2501\\u2501\\u2501\\u2501`);\n  console.log();\n  console.log(`${chalk__WEBPACK_IMPORTED_MODULE_0__.bold(`Severity: ${severityColor(advisory.severity.toUpperCase())}`)}`);\n  console.log();\n  console.log(`${chalk__WEBPACK_IMPORTED_MODULE_0__.bold(advisory.message)}`);\n  console.log();\n  console.log(`\\u2501\\u2501\\u2501\\u2501\\u2501\\u2501\\u2501\\u2501\\u2501\\u2501\\u2501\\u2501\\u2501\\u2501\\u2501\\u2501\\u2501\\u2501\\u2501\\u2501\\u2501\\u2501\\u2501\\u2501\\u2501\\u2501\\u2501\\u2501\\u2501\\u2501\\u2501\\u2501\\u2501\\u2501\\u2501\\u2501\\u2501\\u2501\\u2501\\u2501\\u2501\\u2501\\u2501\\u2501\\u2501\\u2501\\u2501\\u2501`);\n}\n\n\n//# sourceMappingURL=chunk-6QGXWNS5.mjs.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvQGNvcGlsb3RraXQvc2hhcmVkL2Rpc3QvY2h1bmstNlFHWFdOUzUubWpzIiwibWFwcGluZ3MiOiI7Ozs7OztBQUFBO0FBQzBCO0FBQzFCLG9EQUFvRDtBQUNwRDtBQUNBLG9DQUFvQyxVQUFVLEdBQUcsSUFBSTtBQUNyRDtBQUNBO0FBQ0EsTUFBTTtBQUNOO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUyx1Q0FBVTtBQUNuQixZQUFZLHlDQUFZO0FBQ3hCLFVBQVUsc0NBQVM7QUFDbkIsR0FBRyxxQ0FBcUMsd0NBQVc7QUFDbkQ7QUFDQSw4SEFBOEgsdUNBQVUsZ0JBQWdCO0FBQ3hKO0FBQ0EsaUJBQWlCLHVDQUFVLGNBQWMsK0NBQStDLEdBQUc7QUFDM0Y7QUFDQSxpQkFBaUIsdUNBQVUsbUJBQW1CO0FBQzlDO0FBQ0E7QUFDQTs7QUFLRTtBQUNGIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vZXhhbXBsZS10b2Rvcy1hcHAvLi9ub2RlX21vZHVsZXMvQGNvcGlsb3RraXQvc2hhcmVkL2Rpc3QvY2h1bmstNlFHWFdOUzUubWpzPzBjOWIiXSwic291cmNlc0NvbnRlbnQiOlsiLy8gc3JjL3RlbGVtZXRyeS91dGlscy50c1xuaW1wb3J0IGNoYWxrIGZyb20gXCJjaGFsa1wiO1xuZnVuY3Rpb24gZmxhdHRlbk9iamVjdChvYmosIHBhcmVudEtleSA9IFwiXCIsIHJlcyA9IHt9KSB7XG4gIGZvciAobGV0IGtleSBpbiBvYmopIHtcbiAgICBjb25zdCBwcm9wTmFtZSA9IHBhcmVudEtleSA/IGAke3BhcmVudEtleX0uJHtrZXl9YCA6IGtleTtcbiAgICBpZiAodHlwZW9mIG9ialtrZXldID09PSBcIm9iamVjdFwiICYmIG9ialtrZXldICE9PSBudWxsKSB7XG4gICAgICBmbGF0dGVuT2JqZWN0KG9ialtrZXldLCBwcm9wTmFtZSwgcmVzKTtcbiAgICB9IGVsc2Uge1xuICAgICAgcmVzW3Byb3BOYW1lXSA9IG9ialtrZXldO1xuICAgIH1cbiAgfVxuICByZXR1cm4gcmVzO1xufVxuZnVuY3Rpb24gcHJpbnRTZWN1cml0eU5vdGljZShhZHZpc29yeSkge1xuICBjb25zdCBzZXZlcml0eUNvbG9yID0ge1xuICAgIGxvdzogY2hhbGsuYmx1ZSxcbiAgICBtZWRpdW06IGNoYWxrLnllbGxvdyxcbiAgICBoaWdoOiBjaGFsay5yZWRcbiAgfVthZHZpc29yeS5zZXZlcml0eS50b0xvd2VyQ2FzZSgpXSB8fCBjaGFsay53aGl0ZTtcbiAgY29uc29sZS5sb2coKTtcbiAgY29uc29sZS5sb2coYFxcdTI1MDFcXHUyNTAxXFx1MjUwMVxcdTI1MDFcXHUyNTAxXFx1MjUwMVxcdTI1MDFcXHUyNTAxXFx1MjUwMVxcdTI1MDFcXHUyNTAxXFx1MjUwMVxcdTI1MDFcXHUyNTAxXFx1MjUwMVxcdTI1MDFcXHUyNTAxXFx1MjUwMSAke2NoYWxrLmJvbGQoYENvcGlsb3RLaXRgKX0gXFx1MjUwMVxcdTI1MDFcXHUyNTAxXFx1MjUwMVxcdTI1MDFcXHUyNTAxXFx1MjUwMVxcdTI1MDFcXHUyNTAxXFx1MjUwMVxcdTI1MDFcXHUyNTAxXFx1MjUwMVxcdTI1MDFcXHUyNTAxXFx1MjUwMVxcdTI1MDFcXHUyNTAxYCk7XG4gIGNvbnNvbGUubG9nKCk7XG4gIGNvbnNvbGUubG9nKGAke2NoYWxrLmJvbGQoYFNldmVyaXR5OiAke3NldmVyaXR5Q29sb3IoYWR2aXNvcnkuc2V2ZXJpdHkudG9VcHBlckNhc2UoKSl9YCl9YCk7XG4gIGNvbnNvbGUubG9nKCk7XG4gIGNvbnNvbGUubG9nKGAke2NoYWxrLmJvbGQoYWR2aXNvcnkubWVzc2FnZSl9YCk7XG4gIGNvbnNvbGUubG9nKCk7XG4gIGNvbnNvbGUubG9nKGBcXHUyNTAxXFx1MjUwMVxcdTI1MDFcXHUyNTAxXFx1MjUwMVxcdTI1MDFcXHUyNTAxXFx1MjUwMVxcdTI1MDFcXHUyNTAxXFx1MjUwMVxcdTI1MDFcXHUyNTAxXFx1MjUwMVxcdTI1MDFcXHUyNTAxXFx1MjUwMVxcdTI1MDFcXHUyNTAxXFx1MjUwMVxcdTI1MDFcXHUyNTAxXFx1MjUwMVxcdTI1MDFcXHUyNTAxXFx1MjUwMVxcdTI1MDFcXHUyNTAxXFx1MjUwMVxcdTI1MDFcXHUyNTAxXFx1MjUwMVxcdTI1MDFcXHUyNTAxXFx1MjUwMVxcdTI1MDFcXHUyNTAxXFx1MjUwMVxcdTI1MDFcXHUyNTAxXFx1MjUwMVxcdTI1MDFcXHUyNTAxXFx1MjUwMVxcdTI1MDFcXHUyNTAxXFx1MjUwMVxcdTI1MDFgKTtcbn1cblxuZXhwb3J0IHtcbiAgZmxhdHRlbk9iamVjdCxcbiAgcHJpbnRTZWN1cml0eU5vdGljZVxufTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWNodW5rLTZRR1hXTlM1Lm1qcy5tYXAiXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/@copilotkit/shared/dist/chunk-6QGXWNS5.mjs\n");

/***/ }),

/***/ "(ssr)/./node_modules/@copilotkit/shared/dist/chunk-CIPF7PMC.mjs":
/*!*****************************************************************!*\
  !*** ./node_modules/@copilotkit/shared/dist/chunk-CIPF7PMC.mjs ***!
  \*****************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   actionParametersToJsonSchema: () => (/* binding */ actionParametersToJsonSchema)\n/* harmony export */ });\n// src/utils/json-schema.ts\nfunction actionParametersToJsonSchema(actionParameters) {\n  let parameters = {};\n  for (let parameter of actionParameters || []) {\n    parameters[parameter.name] = convertAttribute(parameter);\n  }\n  let requiredParameterNames = [];\n  for (let arg of actionParameters || []) {\n    if (arg.required !== false) {\n      requiredParameterNames.push(arg.name);\n    }\n  }\n  return {\n    type: \"object\",\n    properties: parameters,\n    required: requiredParameterNames\n  };\n}\nfunction convertAttribute(attribute) {\n  var _a, _b, _c;\n  switch (attribute.type) {\n    case \"string\":\n      return {\n        type: \"string\",\n        description: attribute.description,\n        ...attribute.enum && { enum: attribute.enum }\n      };\n    case \"number\":\n    case \"boolean\":\n      return {\n        type: attribute.type,\n        description: attribute.description\n      };\n    case \"object\":\n    case \"object[]\":\n      const properties = (_a = attribute.attributes) == null ? void 0 : _a.reduce(\n        (acc, attr) => {\n          acc[attr.name] = convertAttribute(attr);\n          return acc;\n        },\n        {}\n      );\n      const required = (_b = attribute.attributes) == null ? void 0 : _b.filter((attr) => attr.required !== false).map((attr) => attr.name);\n      if (attribute.type === \"object[]\") {\n        return {\n          type: \"array\",\n          items: {\n            type: \"object\",\n            ...properties && { properties },\n            ...required && required.length > 0 && { required }\n          },\n          description: attribute.description\n        };\n      }\n      return {\n        type: \"object\",\n        description: attribute.description,\n        ...properties && { properties },\n        ...required && required.length > 0 && { required }\n      };\n    default:\n      if ((_c = attribute.type) == null ? void 0 : _c.endsWith(\"[]\")) {\n        const itemType = attribute.type.slice(0, -2);\n        return {\n          type: \"array\",\n          items: { type: itemType },\n          description: attribute.description\n        };\n      }\n      return {\n        type: \"string\",\n        description: attribute.description\n      };\n  }\n}\n\n\n//# sourceMappingURL=chunk-CIPF7PMC.mjs.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvQGNvcGlsb3RraXQvc2hhcmVkL2Rpc3QvY2h1bmstQ0lQRjdQTUMubWpzIiwibWFwcGluZ3MiOiI7Ozs7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLCtCQUErQjtBQUMvQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsK0JBQStCLFlBQVk7QUFDM0Msb0RBQW9EO0FBQ3BELFdBQVc7QUFDWDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSwyQkFBMkIsWUFBWTtBQUN2QyxnREFBZ0Q7QUFDaEQ7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsbUJBQW1CLGdCQUFnQjtBQUNuQztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBSUU7QUFDRiIsInNvdXJjZXMiOlsid2VicGFjazovL2V4YW1wbGUtdG9kb3MtYXBwLy4vbm9kZV9tb2R1bGVzL0Bjb3BpbG90a2l0L3NoYXJlZC9kaXN0L2NodW5rLUNJUEY3UE1DLm1qcz9iNjVkIl0sInNvdXJjZXNDb250ZW50IjpbIi8vIHNyYy91dGlscy9qc29uLXNjaGVtYS50c1xuZnVuY3Rpb24gYWN0aW9uUGFyYW1ldGVyc1RvSnNvblNjaGVtYShhY3Rpb25QYXJhbWV0ZXJzKSB7XG4gIGxldCBwYXJhbWV0ZXJzID0ge307XG4gIGZvciAobGV0IHBhcmFtZXRlciBvZiBhY3Rpb25QYXJhbWV0ZXJzIHx8IFtdKSB7XG4gICAgcGFyYW1ldGVyc1twYXJhbWV0ZXIubmFtZV0gPSBjb252ZXJ0QXR0cmlidXRlKHBhcmFtZXRlcik7XG4gIH1cbiAgbGV0IHJlcXVpcmVkUGFyYW1ldGVyTmFtZXMgPSBbXTtcbiAgZm9yIChsZXQgYXJnIG9mIGFjdGlvblBhcmFtZXRlcnMgfHwgW10pIHtcbiAgICBpZiAoYXJnLnJlcXVpcmVkICE9PSBmYWxzZSkge1xuICAgICAgcmVxdWlyZWRQYXJhbWV0ZXJOYW1lcy5wdXNoKGFyZy5uYW1lKTtcbiAgICB9XG4gIH1cbiAgcmV0dXJuIHtcbiAgICB0eXBlOiBcIm9iamVjdFwiLFxuICAgIHByb3BlcnRpZXM6IHBhcmFtZXRlcnMsXG4gICAgcmVxdWlyZWQ6IHJlcXVpcmVkUGFyYW1ldGVyTmFtZXNcbiAgfTtcbn1cbmZ1bmN0aW9uIGNvbnZlcnRBdHRyaWJ1dGUoYXR0cmlidXRlKSB7XG4gIHZhciBfYSwgX2IsIF9jO1xuICBzd2l0Y2ggKGF0dHJpYnV0ZS50eXBlKSB7XG4gICAgY2FzZSBcInN0cmluZ1wiOlxuICAgICAgcmV0dXJuIHtcbiAgICAgICAgdHlwZTogXCJzdHJpbmdcIixcbiAgICAgICAgZGVzY3JpcHRpb246IGF0dHJpYnV0ZS5kZXNjcmlwdGlvbixcbiAgICAgICAgLi4uYXR0cmlidXRlLmVudW0gJiYgeyBlbnVtOiBhdHRyaWJ1dGUuZW51bSB9XG4gICAgICB9O1xuICAgIGNhc2UgXCJudW1iZXJcIjpcbiAgICBjYXNlIFwiYm9vbGVhblwiOlxuICAgICAgcmV0dXJuIHtcbiAgICAgICAgdHlwZTogYXR0cmlidXRlLnR5cGUsXG4gICAgICAgIGRlc2NyaXB0aW9uOiBhdHRyaWJ1dGUuZGVzY3JpcHRpb25cbiAgICAgIH07XG4gICAgY2FzZSBcIm9iamVjdFwiOlxuICAgIGNhc2UgXCJvYmplY3RbXVwiOlxuICAgICAgY29uc3QgcHJvcGVydGllcyA9IChfYSA9IGF0dHJpYnV0ZS5hdHRyaWJ1dGVzKSA9PSBudWxsID8gdm9pZCAwIDogX2EucmVkdWNlKFxuICAgICAgICAoYWNjLCBhdHRyKSA9PiB7XG4gICAgICAgICAgYWNjW2F0dHIubmFtZV0gPSBjb252ZXJ0QXR0cmlidXRlKGF0dHIpO1xuICAgICAgICAgIHJldHVybiBhY2M7XG4gICAgICAgIH0sXG4gICAgICAgIHt9XG4gICAgICApO1xuICAgICAgY29uc3QgcmVxdWlyZWQgPSAoX2IgPSBhdHRyaWJ1dGUuYXR0cmlidXRlcykgPT0gbnVsbCA/IHZvaWQgMCA6IF9iLmZpbHRlcigoYXR0cikgPT4gYXR0ci5yZXF1aXJlZCAhPT0gZmFsc2UpLm1hcCgoYXR0cikgPT4gYXR0ci5uYW1lKTtcbiAgICAgIGlmIChhdHRyaWJ1dGUudHlwZSA9PT0gXCJvYmplY3RbXVwiKSB7XG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgdHlwZTogXCJhcnJheVwiLFxuICAgICAgICAgIGl0ZW1zOiB7XG4gICAgICAgICAgICB0eXBlOiBcIm9iamVjdFwiLFxuICAgICAgICAgICAgLi4ucHJvcGVydGllcyAmJiB7IHByb3BlcnRpZXMgfSxcbiAgICAgICAgICAgIC4uLnJlcXVpcmVkICYmIHJlcXVpcmVkLmxlbmd0aCA+IDAgJiYgeyByZXF1aXJlZCB9XG4gICAgICAgICAgfSxcbiAgICAgICAgICBkZXNjcmlwdGlvbjogYXR0cmlidXRlLmRlc2NyaXB0aW9uXG4gICAgICAgIH07XG4gICAgICB9XG4gICAgICByZXR1cm4ge1xuICAgICAgICB0eXBlOiBcIm9iamVjdFwiLFxuICAgICAgICBkZXNjcmlwdGlvbjogYXR0cmlidXRlLmRlc2NyaXB0aW9uLFxuICAgICAgICAuLi5wcm9wZXJ0aWVzICYmIHsgcHJvcGVydGllcyB9LFxuICAgICAgICAuLi5yZXF1aXJlZCAmJiByZXF1aXJlZC5sZW5ndGggPiAwICYmIHsgcmVxdWlyZWQgfVxuICAgICAgfTtcbiAgICBkZWZhdWx0OlxuICAgICAgaWYgKChfYyA9IGF0dHJpYnV0ZS50eXBlKSA9PSBudWxsID8gdm9pZCAwIDogX2MuZW5kc1dpdGgoXCJbXVwiKSkge1xuICAgICAgICBjb25zdCBpdGVtVHlwZSA9IGF0dHJpYnV0ZS50eXBlLnNsaWNlKDAsIC0yKTtcbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICB0eXBlOiBcImFycmF5XCIsXG4gICAgICAgICAgaXRlbXM6IHsgdHlwZTogaXRlbVR5cGUgfSxcbiAgICAgICAgICBkZXNjcmlwdGlvbjogYXR0cmlidXRlLmRlc2NyaXB0aW9uXG4gICAgICAgIH07XG4gICAgICB9XG4gICAgICByZXR1cm4ge1xuICAgICAgICB0eXBlOiBcInN0cmluZ1wiLFxuICAgICAgICBkZXNjcmlwdGlvbjogYXR0cmlidXRlLmRlc2NyaXB0aW9uXG4gICAgICB9O1xuICB9XG59XG5cbmV4cG9ydCB7XG4gIGFjdGlvblBhcmFtZXRlcnNUb0pzb25TY2hlbWFcbn07XG4vLyMgc291cmNlTWFwcGluZ1VSTD1jaHVuay1DSVBGN1BNQy5tanMubWFwIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/@copilotkit/shared/dist/chunk-CIPF7PMC.mjs\n");

/***/ }),

/***/ "(ssr)/./node_modules/@copilotkit/shared/dist/chunk-RIPX6APP.mjs":
/*!*****************************************************************!*\
  !*** ./node_modules/@copilotkit/shared/dist/chunk-RIPX6APP.mjs ***!
  \*****************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   randomId: () => (/* binding */ randomId)\n/* harmony export */ });\n/* harmony import */ var uuid__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! uuid */ \"(ssr)/./node_modules/uuid/dist/esm-node/v4.js\");\n// src/utils/random-id.ts\n\nfunction randomId() {\n  return \"ck-\" + (0,uuid__WEBPACK_IMPORTED_MODULE_0__[\"default\"])();\n}\n\n\n//# sourceMappingURL=chunk-RIPX6APP.mjs.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvQGNvcGlsb3RraXQvc2hhcmVkL2Rpc3QvY2h1bmstUklQWDZBUFAubWpzIiwibWFwcGluZ3MiOiI7Ozs7O0FBQUE7QUFDb0M7QUFDcEM7QUFDQSxpQkFBaUIsZ0RBQU07QUFDdkI7O0FBSUU7QUFDRiIsInNvdXJjZXMiOlsid2VicGFjazovL2V4YW1wbGUtdG9kb3MtYXBwLy4vbm9kZV9tb2R1bGVzL0Bjb3BpbG90a2l0L3NoYXJlZC9kaXN0L2NodW5rLVJJUFg2QVBQLm1qcz85NDNlIl0sInNvdXJjZXNDb250ZW50IjpbIi8vIHNyYy91dGlscy9yYW5kb20taWQudHNcbmltcG9ydCB7IHY0IGFzIHV1aWR2NCB9IGZyb20gXCJ1dWlkXCI7XG5mdW5jdGlvbiByYW5kb21JZCgpIHtcbiAgcmV0dXJuIFwiY2stXCIgKyB1dWlkdjQoKTtcbn1cblxuZXhwb3J0IHtcbiAgcmFuZG9tSWRcbn07XG4vLyMgc291cmNlTWFwcGluZ1VSTD1jaHVuay1SSVBYNkFQUC5tanMubWFwIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/@copilotkit/shared/dist/chunk-RIPX6APP.mjs\n");

/***/ }),

/***/ "(ssr)/./node_modules/@copilotkit/shared/dist/chunk-ZUUDJSVP.mjs":
/*!*****************************************************************!*\
  !*** ./node_modules/@copilotkit/shared/dist/chunk-ZUUDJSVP.mjs ***!
  \*****************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   TelemetryClient: () => (/* binding */ TelemetryClient)\n/* harmony export */ });\n/* harmony import */ var _chunk_6QGXWNS5_mjs__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./chunk-6QGXWNS5.mjs */ \"(ssr)/./node_modules/@copilotkit/shared/dist/chunk-6QGXWNS5.mjs\");\n/* harmony import */ var _segment_analytics_node__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @segment/analytics-node */ \"(ssr)/./node_modules/@segment/analytics-node/dist/esm/index.js\");\n/* harmony import */ var crypto__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! crypto */ \"crypto\");\n\n\n// src/telemetry/telemetry-client.ts\n\n\nvar TelemetryClient = class {\n  constructor({\n    packageName,\n    packageVersion,\n    telemetryDisabled,\n    telemetryBaseUrl,\n    sampleRate\n  }) {\n    this.globalProperties = {};\n    this.cloudConfiguration = null;\n    this.telemetryDisabled = false;\n    this.sampleRate = 0.05;\n    this.anonymousId = `anon_${(0,crypto__WEBPACK_IMPORTED_MODULE_1__.randomUUID)()}`;\n    this.packageName = packageName;\n    this.packageVersion = packageVersion;\n    this.telemetryDisabled = telemetryDisabled || process.env.COPILOTKIT_TELEMETRY_DISABLED === \"true\" || process.env.COPILOTKIT_TELEMETRY_DISABLED === \"1\" || process.env.DO_NOT_TRACK === \"true\" || process.env.DO_NOT_TRACK === \"1\";\n    if (this.telemetryDisabled) {\n      return;\n    }\n    this.setSampleRate(sampleRate);\n    const writeKey = process.env.COPILOTKIT_SEGMENT_WRITE_KEY || \"n7XAZtQCGS2v1vvBy3LgBCv2h3Y8whja\";\n    this.segment = new _segment_analytics_node__WEBPACK_IMPORTED_MODULE_0__.Analytics({\n      writeKey\n    });\n    this.setGlobalProperties({\n      \"copilotkit.package.name\": packageName,\n      \"copilotkit.package.version\": packageVersion\n    });\n  }\n  shouldSendEvent() {\n    const randomNumber = Math.random();\n    return randomNumber < this.sampleRate;\n  }\n  async capture(event, properties) {\n    if (!this.shouldSendEvent() || !this.segment) {\n      return;\n    }\n    const flattenedProperties = (0,_chunk_6QGXWNS5_mjs__WEBPACK_IMPORTED_MODULE_2__.flattenObject)(properties);\n    const propertiesWithGlobal = {\n      ...this.globalProperties,\n      ...flattenedProperties\n    };\n    const orderedPropertiesWithGlobal = Object.keys(propertiesWithGlobal).sort().reduce(\n      (obj, key) => {\n        obj[key] = propertiesWithGlobal[key];\n        return obj;\n      },\n      {}\n    );\n    this.segment.track({\n      anonymousId: this.anonymousId,\n      event,\n      properties: { ...orderedPropertiesWithGlobal }\n    });\n  }\n  setGlobalProperties(properties) {\n    const flattenedProperties = (0,_chunk_6QGXWNS5_mjs__WEBPACK_IMPORTED_MODULE_2__.flattenObject)(properties);\n    this.globalProperties = { ...this.globalProperties, ...flattenedProperties };\n  }\n  setCloudConfiguration(properties) {\n    this.cloudConfiguration = properties;\n    this.setGlobalProperties({\n      cloud: {\n        publicApiKey: properties.publicApiKey,\n        baseUrl: properties.baseUrl\n      }\n    });\n  }\n  setSampleRate(sampleRate) {\n    let _sampleRate;\n    _sampleRate = sampleRate ?? 0.05;\n    if (process.env.COPILOTKIT_TELEMETRY_SAMPLE_RATE) {\n      _sampleRate = parseFloat(process.env.COPILOTKIT_TELEMETRY_SAMPLE_RATE);\n    }\n    if (_sampleRate < 0 || _sampleRate > 1) {\n      throw new Error(\"Sample rate must be between 0 and 1\");\n    }\n    this.sampleRate = _sampleRate;\n    this.setGlobalProperties({\n      sampleRate: this.sampleRate,\n      sampleRateAdjustmentFactor: 1 - this.sampleRate\n    });\n  }\n};\n\n\n//# sourceMappingURL=chunk-ZUUDJSVP.mjs.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvQGNvcGlsb3RraXQvc2hhcmVkL2Rpc3QvY2h1bmstWlVVREpTVlAubWpzIiwibWFwcGluZ3MiOiI7Ozs7Ozs7QUFFOEI7O0FBRTlCO0FBQ29EO0FBQ2hCO0FBQ3BDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsK0JBQStCLGtEQUFVLEdBQUc7QUFDNUM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHVCQUF1Qiw4REFBUztBQUNoQztBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsZ0NBQWdDLGtFQUFhO0FBQzdDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxPQUFPO0FBQ1A7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLG9CQUFvQjtBQUNwQixLQUFLO0FBQ0w7QUFDQTtBQUNBLGdDQUFnQyxrRUFBYTtBQUM3Qyw4QkFBOEI7QUFDOUI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7O0FBSUU7QUFDRiIsInNvdXJjZXMiOlsid2VicGFjazovL2V4YW1wbGUtdG9kb3MtYXBwLy4vbm9kZV9tb2R1bGVzL0Bjb3BpbG90a2l0L3NoYXJlZC9kaXN0L2NodW5rLVpVVURKU1ZQLm1qcz9lODFmIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7XG4gIGZsYXR0ZW5PYmplY3Rcbn0gZnJvbSBcIi4vY2h1bmstNlFHWFdOUzUubWpzXCI7XG5cbi8vIHNyYy90ZWxlbWV0cnkvdGVsZW1ldHJ5LWNsaWVudC50c1xuaW1wb3J0IHsgQW5hbHl0aWNzIH0gZnJvbSBcIkBzZWdtZW50L2FuYWx5dGljcy1ub2RlXCI7XG5pbXBvcnQgeyByYW5kb21VVUlEIH0gZnJvbSBcImNyeXB0b1wiO1xudmFyIFRlbGVtZXRyeUNsaWVudCA9IGNsYXNzIHtcbiAgY29uc3RydWN0b3Ioe1xuICAgIHBhY2thZ2VOYW1lLFxuICAgIHBhY2thZ2VWZXJzaW9uLFxuICAgIHRlbGVtZXRyeURpc2FibGVkLFxuICAgIHRlbGVtZXRyeUJhc2VVcmwsXG4gICAgc2FtcGxlUmF0ZVxuICB9KSB7XG4gICAgdGhpcy5nbG9iYWxQcm9wZXJ0aWVzID0ge307XG4gICAgdGhpcy5jbG91ZENvbmZpZ3VyYXRpb24gPSBudWxsO1xuICAgIHRoaXMudGVsZW1ldHJ5RGlzYWJsZWQgPSBmYWxzZTtcbiAgICB0aGlzLnNhbXBsZVJhdGUgPSAwLjA1O1xuICAgIHRoaXMuYW5vbnltb3VzSWQgPSBgYW5vbl8ke3JhbmRvbVVVSUQoKX1gO1xuICAgIHRoaXMucGFja2FnZU5hbWUgPSBwYWNrYWdlTmFtZTtcbiAgICB0aGlzLnBhY2thZ2VWZXJzaW9uID0gcGFja2FnZVZlcnNpb247XG4gICAgdGhpcy50ZWxlbWV0cnlEaXNhYmxlZCA9IHRlbGVtZXRyeURpc2FibGVkIHx8IHByb2Nlc3MuZW52LkNPUElMT1RLSVRfVEVMRU1FVFJZX0RJU0FCTEVEID09PSBcInRydWVcIiB8fCBwcm9jZXNzLmVudi5DT1BJTE9US0lUX1RFTEVNRVRSWV9ESVNBQkxFRCA9PT0gXCIxXCIgfHwgcHJvY2Vzcy5lbnYuRE9fTk9UX1RSQUNLID09PSBcInRydWVcIiB8fCBwcm9jZXNzLmVudi5ET19OT1RfVFJBQ0sgPT09IFwiMVwiO1xuICAgIGlmICh0aGlzLnRlbGVtZXRyeURpc2FibGVkKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIHRoaXMuc2V0U2FtcGxlUmF0ZShzYW1wbGVSYXRlKTtcbiAgICBjb25zdCB3cml0ZUtleSA9IHByb2Nlc3MuZW52LkNPUElMT1RLSVRfU0VHTUVOVF9XUklURV9LRVkgfHwgXCJuN1hBWnRRQ0dTMnYxdnZCeTNMZ0JDdjJoM1k4d2hqYVwiO1xuICAgIHRoaXMuc2VnbWVudCA9IG5ldyBBbmFseXRpY3Moe1xuICAgICAgd3JpdGVLZXlcbiAgICB9KTtcbiAgICB0aGlzLnNldEdsb2JhbFByb3BlcnRpZXMoe1xuICAgICAgXCJjb3BpbG90a2l0LnBhY2thZ2UubmFtZVwiOiBwYWNrYWdlTmFtZSxcbiAgICAgIFwiY29waWxvdGtpdC5wYWNrYWdlLnZlcnNpb25cIjogcGFja2FnZVZlcnNpb25cbiAgICB9KTtcbiAgfVxuICBzaG91bGRTZW5kRXZlbnQoKSB7XG4gICAgY29uc3QgcmFuZG9tTnVtYmVyID0gTWF0aC5yYW5kb20oKTtcbiAgICByZXR1cm4gcmFuZG9tTnVtYmVyIDwgdGhpcy5zYW1wbGVSYXRlO1xuICB9XG4gIGFzeW5jIGNhcHR1cmUoZXZlbnQsIHByb3BlcnRpZXMpIHtcbiAgICBpZiAoIXRoaXMuc2hvdWxkU2VuZEV2ZW50KCkgfHwgIXRoaXMuc2VnbWVudCkge1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICBjb25zdCBmbGF0dGVuZWRQcm9wZXJ0aWVzID0gZmxhdHRlbk9iamVjdChwcm9wZXJ0aWVzKTtcbiAgICBjb25zdCBwcm9wZXJ0aWVzV2l0aEdsb2JhbCA9IHtcbiAgICAgIC4uLnRoaXMuZ2xvYmFsUHJvcGVydGllcyxcbiAgICAgIC4uLmZsYXR0ZW5lZFByb3BlcnRpZXNcbiAgICB9O1xuICAgIGNvbnN0IG9yZGVyZWRQcm9wZXJ0aWVzV2l0aEdsb2JhbCA9IE9iamVjdC5rZXlzKHByb3BlcnRpZXNXaXRoR2xvYmFsKS5zb3J0KCkucmVkdWNlKFxuICAgICAgKG9iaiwga2V5KSA9PiB7XG4gICAgICAgIG9ialtrZXldID0gcHJvcGVydGllc1dpdGhHbG9iYWxba2V5XTtcbiAgICAgICAgcmV0dXJuIG9iajtcbiAgICAgIH0sXG4gICAgICB7fVxuICAgICk7XG4gICAgdGhpcy5zZWdtZW50LnRyYWNrKHtcbiAgICAgIGFub255bW91c0lkOiB0aGlzLmFub255bW91c0lkLFxuICAgICAgZXZlbnQsXG4gICAgICBwcm9wZXJ0aWVzOiB7IC4uLm9yZGVyZWRQcm9wZXJ0aWVzV2l0aEdsb2JhbCB9XG4gICAgfSk7XG4gIH1cbiAgc2V0R2xvYmFsUHJvcGVydGllcyhwcm9wZXJ0aWVzKSB7XG4gICAgY29uc3QgZmxhdHRlbmVkUHJvcGVydGllcyA9IGZsYXR0ZW5PYmplY3QocHJvcGVydGllcyk7XG4gICAgdGhpcy5nbG9iYWxQcm9wZXJ0aWVzID0geyAuLi50aGlzLmdsb2JhbFByb3BlcnRpZXMsIC4uLmZsYXR0ZW5lZFByb3BlcnRpZXMgfTtcbiAgfVxuICBzZXRDbG91ZENvbmZpZ3VyYXRpb24ocHJvcGVydGllcykge1xuICAgIHRoaXMuY2xvdWRDb25maWd1cmF0aW9uID0gcHJvcGVydGllcztcbiAgICB0aGlzLnNldEdsb2JhbFByb3BlcnRpZXMoe1xuICAgICAgY2xvdWQ6IHtcbiAgICAgICAgcHVibGljQXBpS2V5OiBwcm9wZXJ0aWVzLnB1YmxpY0FwaUtleSxcbiAgICAgICAgYmFzZVVybDogcHJvcGVydGllcy5iYXNlVXJsXG4gICAgICB9XG4gICAgfSk7XG4gIH1cbiAgc2V0U2FtcGxlUmF0ZShzYW1wbGVSYXRlKSB7XG4gICAgbGV0IF9zYW1wbGVSYXRlO1xuICAgIF9zYW1wbGVSYXRlID0gc2FtcGxlUmF0ZSA/PyAwLjA1O1xuICAgIGlmIChwcm9jZXNzLmVudi5DT1BJTE9US0lUX1RFTEVNRVRSWV9TQU1QTEVfUkFURSkge1xuICAgICAgX3NhbXBsZVJhdGUgPSBwYXJzZUZsb2F0KHByb2Nlc3MuZW52LkNPUElMT1RLSVRfVEVMRU1FVFJZX1NBTVBMRV9SQVRFKTtcbiAgICB9XG4gICAgaWYgKF9zYW1wbGVSYXRlIDwgMCB8fCBfc2FtcGxlUmF0ZSA+IDEpIHtcbiAgICAgIHRocm93IG5ldyBFcnJvcihcIlNhbXBsZSByYXRlIG11c3QgYmUgYmV0d2VlbiAwIGFuZCAxXCIpO1xuICAgIH1cbiAgICB0aGlzLnNhbXBsZVJhdGUgPSBfc2FtcGxlUmF0ZTtcbiAgICB0aGlzLnNldEdsb2JhbFByb3BlcnRpZXMoe1xuICAgICAgc2FtcGxlUmF0ZTogdGhpcy5zYW1wbGVSYXRlLFxuICAgICAgc2FtcGxlUmF0ZUFkanVzdG1lbnRGYWN0b3I6IDEgLSB0aGlzLnNhbXBsZVJhdGVcbiAgICB9KTtcbiAgfVxufTtcblxuZXhwb3J0IHtcbiAgVGVsZW1ldHJ5Q2xpZW50XG59O1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9Y2h1bmstWlVVREpTVlAubWpzLm1hcCJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/@copilotkit/shared/dist/chunk-ZUUDJSVP.mjs\n");

/***/ }),

/***/ "(ssr)/./node_modules/@copilotkit/shared/dist/index.mjs":
/*!********************************************************!*\
  !*** ./node_modules/@copilotkit/shared/dist/index.mjs ***!
  \********************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   COPILOTKIT_VERSION: () => (/* binding */ COPILOTKIT_VERSION),\n/* harmony export */   COPILOT_CLOUD_API_URL: () => (/* reexport safe */ _chunk_3AJ2GKWG_mjs__WEBPACK_IMPORTED_MODULE_0__.COPILOT_CLOUD_API_URL),\n/* harmony export */   COPILOT_CLOUD_CHAT_URL: () => (/* reexport safe */ _chunk_3AJ2GKWG_mjs__WEBPACK_IMPORTED_MODULE_0__.COPILOT_CLOUD_CHAT_URL),\n/* harmony export */   COPILOT_CLOUD_PUBLIC_API_KEY_HEADER: () => (/* reexport safe */ _chunk_3AJ2GKWG_mjs__WEBPACK_IMPORTED_MODULE_0__.COPILOT_CLOUD_PUBLIC_API_KEY_HEADER),\n/* harmony export */   COPILOT_CLOUD_VERSION: () => (/* reexport safe */ _chunk_3AJ2GKWG_mjs__WEBPACK_IMPORTED_MODULE_0__.COPILOT_CLOUD_VERSION),\n/* harmony export */   TelemetryClient: () => (/* reexport safe */ _chunk_ZUUDJSVP_mjs__WEBPACK_IMPORTED_MODULE_1__.TelemetryClient),\n/* harmony export */   actionParametersToJsonSchema: () => (/* reexport safe */ _chunk_CIPF7PMC_mjs__WEBPACK_IMPORTED_MODULE_2__.actionParametersToJsonSchema),\n/* harmony export */   randomId: () => (/* reexport safe */ _chunk_RIPX6APP_mjs__WEBPACK_IMPORTED_MODULE_3__.randomId)\n/* harmony export */ });\n/* harmony import */ var _chunk_CIPF7PMC_mjs__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./chunk-CIPF7PMC.mjs */ \"(ssr)/./node_modules/@copilotkit/shared/dist/chunk-CIPF7PMC.mjs\");\n/* harmony import */ var _chunk_RIPX6APP_mjs__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./chunk-RIPX6APP.mjs */ \"(ssr)/./node_modules/@copilotkit/shared/dist/chunk-RIPX6APP.mjs\");\n/* harmony import */ var _chunk_3AJ2GKWG_mjs__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./chunk-3AJ2GKWG.mjs */ \"(ssr)/./node_modules/@copilotkit/shared/dist/chunk-3AJ2GKWG.mjs\");\n/* harmony import */ var _chunk_ZUUDJSVP_mjs__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./chunk-ZUUDJSVP.mjs */ \"(ssr)/./node_modules/@copilotkit/shared/dist/chunk-ZUUDJSVP.mjs\");\n\n\n\n\n\n\n\n\n\n\n\n\n// package.json\nvar version = \"1.3.0\";\n\n// src/index.ts\nvar COPILOTKIT_VERSION = version;\n\n//# sourceMappingURL=index.mjs.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvQGNvcGlsb3RraXQvc2hhcmVkL2Rpc3QvaW5kZXgubWpzIiwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7Ozs7OztBQUE4QjtBQUNBO0FBQ0E7QUFDQTtBQUdBO0FBR0E7QUFNQTtBQUNBO0FBR0E7QUFDQTtBQUNBOztBQUU5QjtBQUNBOztBQUVBO0FBQ0E7QUFVRTtBQUNGIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vZXhhbXBsZS10b2Rvcy1hcHAvLi9ub2RlX21vZHVsZXMvQGNvcGlsb3RraXQvc2hhcmVkL2Rpc3QvaW5kZXgubWpzP2UyN2YiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IFwiLi9jaHVuay1ERTVLNzZJMi5tanNcIjtcbmltcG9ydCBcIi4vY2h1bmstTVNVQjZER1IubWpzXCI7XG5pbXBvcnQgXCIuL2NodW5rLUlBRkJWT1JRLm1qc1wiO1xuaW1wb3J0IFwiLi9jaHVuay1DWURXRVBGTC5tanNcIjtcbmltcG9ydCB7XG4gIGFjdGlvblBhcmFtZXRlcnNUb0pzb25TY2hlbWFcbn0gZnJvbSBcIi4vY2h1bmstQ0lQRjdQTUMubWpzXCI7XG5pbXBvcnQge1xuICByYW5kb21JZFxufSBmcm9tIFwiLi9jaHVuay1SSVBYNkFQUC5tanNcIjtcbmltcG9ydCB7XG4gIENPUElMT1RfQ0xPVURfQVBJX1VSTCxcbiAgQ09QSUxPVF9DTE9VRF9DSEFUX1VSTCxcbiAgQ09QSUxPVF9DTE9VRF9QVUJMSUNfQVBJX0tFWV9IRUFERVIsXG4gIENPUElMT1RfQ0xPVURfVkVSU0lPTlxufSBmcm9tIFwiLi9jaHVuay0zQUoyR0tXRy5tanNcIjtcbmltcG9ydCBcIi4vY2h1bmstUDdTVEZNUE8ubWpzXCI7XG5pbXBvcnQge1xuICBUZWxlbWV0cnlDbGllbnRcbn0gZnJvbSBcIi4vY2h1bmstWlVVREpTVlAubWpzXCI7XG5pbXBvcnQgXCIuL2NodW5rLTZRR1hXTlM1Lm1qc1wiO1xuaW1wb3J0IFwiLi9jaHVuay1OQUZFQktTTy5tanNcIjtcblxuLy8gcGFja2FnZS5qc29uXG52YXIgdmVyc2lvbiA9IFwiMS4zLjBcIjtcblxuLy8gc3JjL2luZGV4LnRzXG52YXIgQ09QSUxPVEtJVF9WRVJTSU9OID0gdmVyc2lvbjtcbmV4cG9ydCB7XG4gIENPUElMT1RLSVRfVkVSU0lPTixcbiAgQ09QSUxPVF9DTE9VRF9BUElfVVJMLFxuICBDT1BJTE9UX0NMT1VEX0NIQVRfVVJMLFxuICBDT1BJTE9UX0NMT1VEX1BVQkxJQ19BUElfS0VZX0hFQURFUixcbiAgQ09QSUxPVF9DTE9VRF9WRVJTSU9OLFxuICBUZWxlbWV0cnlDbGllbnQsXG4gIGFjdGlvblBhcmFtZXRlcnNUb0pzb25TY2hlbWEsXG4gIHJhbmRvbUlkXG59O1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9aW5kZXgubWpzLm1hcCJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/@copilotkit/shared/dist/index.mjs\n");

/***/ })

};
;